http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/
HTTP/1.1 200 OK
Server: nginx
Date: Wed, 23 Jul 2014 13:33:59 GMT
Content-Type: text/html;charset=UTF-8
Connection: close
Set-Cookie: session_id=e08ed667c7128524f7b40e4b3afdde78; path=/; domain=.phpfreaks.com; httponly
Set-Cookie: modpids=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/; domain=.phpfreaks.com
Cache-Control: no-cache, must-revalidate, max-age=0
Expires: Tue, 22 Jul 2014 13:33:59 GMT
Pragma: no-cache
Set-Cookie: itemMarking_forums_items=eJyrVjIyNzYwMVGyMjQxMDM0MjIxtqwFXDAyeQSr; expires=Thu, 23-Jul-2015 13:33:59 GMT; path=/; domain=.phpfreaks.com
Content-Encoding: gzip
Vary: Accept-Encoding

<!DOCTYPE html>
	<html lang="en"  xmlns:fb="http://www.facebook.com/2008/fbml">
	<head>
		<meta charset="UTF-8" />
		<title>Improving efficiency on a time-consuming Cron job - Application Design - PHP Freaks</title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<link rel="shortcut icon" href='http://forums.phpfreaks.com/favicon.ico' />
		<link rel="image_src" href='http://forums.phpfreaks.com/public/style_images/phpfreaks/meta_image.png' />
		<script type='text/javascript'>
		//<![CDATA[
			jsDebug			= 0; /* Must come before JS includes */
			DISABLE_AJAX	= parseInt(0); /* Disables ajax requests where text is sent to the DB; helpful for charset issues */
			inACP			= false;
			var isRTL		= false;
			var rtlIe		= '';
			var rtlFull		= '';
		//]]>
		</script>
		
	
				
	

				
	

				
	

				
	

				
	
	
		<link rel="stylesheet" type="text/css" media='screen,print' href="http://forums.phpfreaks.com/public/min/index.php?ipbv=e08d28e6ababab965cd84e26ca7636f8&amp;f=public/style_css/css_5/calendar_select.css,public/style_css/css_5/ipb_common.css,public/style_css/css_5/ipb_styles.css,public/style_css/css_5/phpfreaks.css,public/style_css/prettify.css" />
	

<!--[if lte IE 7]>
	<link rel="stylesheet" type="text/css" title='Main' media="screen" href="http://forums.phpfreaks.com/public/style_css/css_5/ipb_ie.css" />
<![endif]-->
<!--[if lte IE 8]>
	<style type='text/css'>
		.ipb_table { table-layout: fixed; }
		.ipsLayout_content { width: 99.5%; }
	</style>
<![endif]-->

	<style type='text/css'>
		img.bbc_img { max-width: 100% !important; }
	</style>

		<meta property="og:title" content="Improving efficiency on a time-consuming Cron job - Application Design"/>
		<meta property="og:site_name" content="PHP Freaks"/>
		<meta property="og:type" content="article" />
		
	
		
		
			<meta property="og:updated_time" content="1406122439" />
		
		
		
		
	

		
		
			<meta name="keywords" content="Improving,efficiency,time-consuming,Cron,job,run,service,via,shared,host,provided,1and1,which,user,subscribes,stores,login,information" />
		
		
		
		
	

		
		
			<meta name="description" content="Improving efficiency on a time-consuming Cron job - posted in Application Design: I run a service via a shared host provided by 1and1, which, if a user subscribes for it, stores their login information for a website and regularly grabs some information from a page on the site, parses it, and stores the data on my site. The user later downloads the data through a client program running on their computer. This is all for tracking bandwidth usage on Satellite Internet, which has very rigorous..." />
		
		
		
			<meta property="og:description" content="Improving efficiency on a time-consuming Cron job - posted in Application Design: I run a service via a shared host provided by 1and1, which, if a user subscribes for it, stores their login information for a website and regularly grabs some information from a page on the site, parses it, and stores the data on my site. The user later downloads the data through a client program running on their computer. This is all for tracking bandwidth usage on Satellite Internet, which has very rigorous..." />
		
		
	

		
		
			<meta name="identifier-url" content="http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/" />
		
		
			<meta property="og:url" content="http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/" />
		
		
		
	

<meta property="og:image" content="http://forums.phpfreaks.com/public/style_images/phpfreaks/meta_image.png"/>
		
		
		<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/prototype/1.7.1.0/prototype.js'></script>
		<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/scriptaculous/1.9/scriptaculous.js?load=effects,dragdrop,builder'></script>
	<script type='text/javascript' src='http://forums.phpfreaks.com/public/min/index.php?ipbv=e08d28e6ababab965cd84e26ca7636f8&amp;charset=UTF-8&amp;f=public/js/ipb.js,cache/lang_cache/2/ipb.lang.js,public/js/ips.hovercard.js,public/js/ips.quickpm.js,public/js/ips.sharelinks.js,public/js/ips.topic.js,public/js/ips.like.js' charset='UTF-8'></script>


	
		
			
			
			
			
				<link id="ipsCanonical" rel="canonical" href="http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/" />
			
		

			
			
			
			
				<link rel='stylesheet' type='text/css' title='Main' media='print' href='http://forums.phpfreaks.com/public/style_css/css_5/ipb_print.css' />
			
		

			
			
			
			
				<link rel='up' href='http://forums.phpfreaks.com/forum/42-application-design/' />
			
		

			
			
			
			
				<link rel='author' href='http://forums.phpfreaks.com/user/136614-realityripple/' />
			
		
	

		
			
			
				<link rel="alternate" type="application/rss+xml" title="PHP Freaks News & Announcements" href="http://forums.phpfreaks.com/rss/forums/1-php-freaks-news-announcements/" />
			
			
			
		

			
			
				<link rel="alternate" type="application/rss+xml" title="PHP Freaks: PHP Help" href="http://forums.phpfreaks.com/rss/forums/2-php-freaks-php-help/" />
			
			
			
		
	

	


	



		
		<script type='text/javascript'>
	//<![CDATA[
		/* ---- URLs ---- */
		ipb.vars['base_url'] 			= 'http://forums.phpfreaks.com/index.php?s=e08ed667c7128524f7b40e4b3afdde78&';
		ipb.vars['board_url']			= 'http://forums.phpfreaks.com';
		ipb.vars['img_url'] 			= "http://forums.phpfreaks.com/public/style_images/phpfreaks";
		ipb.vars['loading_img'] 		= 'http://forums.phpfreaks.com/public/style_images/phpfreaks/loading.gif';
		ipb.vars['active_app']			= 'forums';
		ipb.vars['upload_url']			= 'http://forums.phpfreaks.com/uploads';
		/* ---- Member ---- */
		ipb.vars['member_id']			= parseInt( 0 );
		ipb.vars['is_supmod']			= parseInt( 0 );
		ipb.vars['is_admin']			= parseInt( 0 );
		ipb.vars['secure_hash'] 		= '880ea6a14ea49e853634fbdc5015a024';
		ipb.vars['session_id']			= 'e08ed667c7128524f7b40e4b3afdde78';
		ipb.vars['twitter_id']			= 0;
		ipb.vars['fb_uid']				= 0;
		ipb.vars['auto_dst']			= parseInt( 0 );
		ipb.vars['dst_in_use']			= parseInt(  );
		ipb.vars['is_touch']			= false;
		ipb.vars['member_group']		= {"g_mem_info":"1"}
		/* ---- cookies ----- */
		ipb.vars['cookie_id'] 			= '';
		ipb.vars['cookie_domain'] 		= '.phpfreaks.com';
		ipb.vars['cookie_path']			= '/';
		/* ---- Rate imgs ---- */
		ipb.vars['rate_img_on']			= 'http://forums.phpfreaks.com/public/style_images/phpfreaks/star.png';
		ipb.vars['rate_img_off']		= 'http://forums.phpfreaks.com/public/style_images/phpfreaks/star_off.png';
		ipb.vars['rate_img_rated']		= 'http://forums.phpfreaks.com/public/style_images/phpfreaks/star_rated.png';
		/* ---- Uploads ---- */
		ipb.vars['swfupload_swf']		= 'http://forums.phpfreaks.com/public/js/3rd_party/swfupload/swfupload.swf';
		ipb.vars['swfupload_enabled']	= true;
		ipb.vars['use_swf_upload']		= ( '' == 'flash' ) ? true : false;
		ipb.vars['swfupload_debug']		= false;
		/* ---- other ---- */
		ipb.vars['highlight_color']     = "#ade57a";
		ipb.vars['charset']				= "UTF-8";
		ipb.vars['time_offset']			= "-5";
		ipb.vars['hour_format']			= "12";
		ipb.vars['seo_enabled']			= 1;
		
		ipb.vars['seo_params']			= {"start":"-","end":"\/","varBlock":"?","varPage":"page-","varSep":"&","varJoin":"="};
		
		/* Templates/Language */
		ipb.templates['inlineMsg']		= "";
		ipb.templates['ajax_loading'] 	= "<div id='ajax_loading'><img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/ajax_loading.gif' alt='" + ipb.lang['loading'] + "' /></div>";
		ipb.templates['close_popup']	= "<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/close_popup.png' alt='x' />";
		ipb.templates['rss_shell']		= new Template("<ul id='rss_menu' class='ipbmenu_content'>#{items}</ul>");
		ipb.templates['rss_item']		= new Template("<li><a href='#{url}' title='#{title}'>#{title}</a></li>");
		
		ipb.templates['autocomplete_wrap'] = new Template("<ul id='#{id}' class='ipb_autocomplete' style='width: 250px;'></ul>");
		ipb.templates['autocomplete_item'] = new Template("<li id='#{id}' data-url='#{url}'><img src='#{img}' alt='' class='ipsUserPhoto ipsUserPhoto_mini' />&nbsp;&nbsp;#{itemvalue}</li>");
		ipb.templates['page_jump']		= new Template("<div id='#{id}_wrap' class='ipbmenu_content'><h3 class='bar'>Jump to page</h3><p class='ipsPad'><input type='text' class='input_text' id='#{id}_input' size='8' /> <input type='submit' value='Go' class='input_submit add_folder' id='#{id}_submit' /></p></div>");
		ipb.templates['global_notify'] 	= new Template("<div class='popupWrapper'><div class='popupInner'><div class='ipsPad'>#{message} #{close}</div></div></div>");
		
		
		ipb.templates['header_menu'] 	= new Template("<div id='#{id}' class='ipsHeaderMenu boxShadow'></div>");
		
		Loader.boot();
	//]]>
	</script>
	<script>
  var _gaq = _gaq || [];
  _gaq.push(
    ["orig._setAccount", "UA-1625146-1"],
    ["orig._setDomainName", "phpfreaks.com"],
    ["orig._trackPageview"]
  );
  (function() {
    var ga = document.createElement("script"); ga.type = "text/javascript"; ga.async = true;
    ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
    var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ga, s);
  })();

  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-33447233-1', 'phpfreaks.com');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');

  ga('create', 'UA-33447233-2', 'phpfreaks.com', {name: 'ua'});
  ga('ua.send', 'pageview');
</script></head>
	<body id='ipboard_body'>
		<p id='content_jump' class='hide'><a id='top'></a><a href='#j_content' title='Jump to content' accesskey='m'>Jump to content</a></p>
		<div id='ipbwrapper'>
			<!-- ::: TOP BAR: Sign in / register or user drop down and notification alerts ::: -->
			<div id='header_bar' class='clearfix'>
				<div class='main_width'>
					
					<div id='user_navigation' class='not_logged_in'>
							
							<ul class='ipsList_inline right'>
								<li>
									<span class='services'>
										
											<a href='http://forums.phpfreaks.com/index.php?app=core&amp;module=global&amp;section=login&amp;serviceClick=facebook'><img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/loginmethods/facebook.png' alt='Log in with Facebook' /></a>
										
										
											<a href='http://forums.phpfreaks.com/index.php?app=core&amp;module=global&amp;section=login&amp;serviceClick=twitter'><img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/loginmethods/twitter.png' alt='Log in with Twitter' /></a>
										
										
									</span>
									&nbsp;&nbsp;&nbsp;&nbsp;
									<a href='http://forums.phpfreaks.com/index.php?app=core&amp;module=global&amp;section=login' title='Sign In' id='sign_in'>Sign In</a>&nbsp;&nbsp;&nbsp;
								</li>
								<li>
									<a href="http://forums.phpfreaks.com/index.php?app=core&amp;module=global&amp;section=register" title='Create Account' id='register_link'>Create Account</a>
								</li>
							</ul>
						</div>
				</div>
			</div>
			<!-- ::: BRANDING STRIP: Logo and search box ::: -->
			<div id='branding'>
				<div class='main_width'>
					<div id='logo'>
						
							<a href='http://forums.phpfreaks.com' title='Go to community index' rel="home" accesskey='1'><img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/logo.png' alt='Logo' /></a>
						
					</div>
					
						<div id='search' class='right'>
	<form action="http://forums.phpfreaks.com/index.php?app=core&amp;module=search&amp;do=search&amp;fromMainBar=1" method="post" id='search-box' >
		<fieldset>
			<label for='main_search' class='hide'>Search</label>
			<a href='http://forums.phpfreaks.com/index.php?app=core&amp;module=search&amp;search_in=forums' title='Advanced Search' accesskey='4' rel="search" id='adv_search' class='right'>Advanced</a>
			<span id='search_wrap' class='right'>
				<input type='text' id='main_search' name='search_term' class='inactive' size='17' tabindex='100' />
				<span class='choice ipbmenu clickable' id='search_options' style='display: none'></span>
				<ul id='search_options_menucontent' class='ipbmenu_content ipsPad' style='display: none'>
					<li class='title'><strong>Search section:</strong></li>
					<li class='special'>
							<label for='s_topic' title='This topic'>
								<input type='radio' name='search_app' value="forums:topic:273044" class='input_radio' id='s_topic' checked="checked" /><strong>This topic</strong>
							</label>
						</li>
					
					
					<li class='app'><label for='s_forums' title='Forums'><input type='radio' name='search_app' class='input_radio' id='s_forums' value="forums"  />Forums</label></li>
					<li class='app'><label for='s_members' title='Members'><input type='radio' name='search_app' class='input_radio' id='s_members' value="members"  />Members</label></li>
					<li class='app'><label for='s_core' title='Help Files'><input type='radio' name='search_app' class='input_radio' id='s_core' value="core"  />Help Files</label></li>
					
						
					

						
					

						
					

						<li class='app'>
								<label for='s_ccs' title='Pages'>
									<input type='radio' name='search_app' class='input_radio' id='s_ccs' value="ccs"  />Pages
								</label>
							</li>
					

						
					
				</ul>
				<input type='submit' class='submit_input clickable' value='Search' />
			</span>
			
		</fieldset>
	</form>
</div>
					
				</div>
			</div>
			<!-- ::: APPLICATION TABS ::: -->
			<div id='primary_nav' class='clearfix'>
				<div class='main_width'>
					<ul class='ipsList_inline' id='community_app_menu'>
						
							<li class='right'>
								<a href="http://forums.phpfreaks.com/index.php?app=core&amp;module=global&amp;section=navigation&amp;inapp=forums" rel="quickNavigation" accesskey='9' id='quickNavLaunch' title='Open Quick Navigation'><span>&nbsp;</span></a>
							</li>
						
						<li id='nav_explore' class='right'>
							<a href='http://forums.phpfreaks.com/index.php?app=core&amp;module=search&amp;do=viewNewContent&amp;search_app=forums' accesskey='2'>View New Content</a>
						</li>
						
						
								
		
			
				
										
				

										
				

										
				

										
				
			
			
		

			
				
										
				

										
				

										
				

										
				
			
			<li id='nav_app_forums' class="left active"><a href='http://forums.phpfreaks.com/' title='Go to Forums' >Forums</a></li>
		

			
				
										
				

										
				

										
				

										
				
			
			<li id='nav_app_members' class="left "><a href='http://forums.phpfreaks.com/members/' title='Go to Members' >Members</a></li>
		

			
				
										
				

										
				

										
				

										
				
			
			
		
	
	
		
						<li id='nav_menu_3' class="left  ">
					<a id='nav_menu_3_trigger' href='http://www.phpfreaks.com/page/irc-live-chat' title='Come chat with us in IRC&#33;' >Chat </a>
					
					
				</li>
		

						
		

						<li id='nav_menu_5' class="left  ">
					<a id='nav_menu_5_trigger' href='http://www.phpfreaks.com/page/rules-and-terms-of-service' title='Site Rules and Terms of Service' >Rules and ToS </a>
					
					
				</li>
		

						
		
	
						
						<li id='nav_other_apps' style='display: none'>
							<a href='#' class='ipbmenu' id='more_apps'>More <img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/useropts_arrow.png' /></a>
						</li>
					</ul>
				</div>
			</div>	
			
			<!-- ::: MAIN CONTENT AREA ::: -->
			<div id='content' class='clearfix'>
				<!-- ::: NAVIGATION BREADCRUMBS ::: -->
				<div id='secondary_navigation' class='clearfix'>
						<ol class='breadcrumb top ipsList_inline left'>
														<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
									<a href='http://forums.phpfreaks.com/' itemprop="url">
										<span itemprop="title">PHP Freaks</span>
									</a>
								</li>
								
							
								<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
									<span class='nav_sep'>&rarr;</span>
									 <a href='http://forums.phpfreaks.com/forum/9-other/' title='Return to Other' itemprop="url"><span itemprop="title">Other</span></a>
								</li>
								
							

								<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
									<span class='nav_sep'>&rarr;</span>
									 <a href='http://forums.phpfreaks.com/forum/42-application-design/' title='Return to Application Design' itemprop="url"><span itemprop="title">Application Design</span></a>
								</li>
								
							
						</ol>
					</div>
					<br />
				<noscript>
					<div class='message error'>
						<strong>Javascript Disabled Detected</strong>
						<p>You currently have javascript disabled. Several functions may not work. Please re-enable javascript to access full functionality.</p>
					</div>
					<br />
				</noscript>
				<!-- ::: CONTENT ::: -->
				
					<div class='ipsAd'><script type="text/javascript"><!--
google_ad_client = "ca-pub-8794381281316343";
/* PHP Freaks forums */
google_ad_slot = "9136654976";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
				
				

<script type="text/javascript">
//<![CDATA[
	ipb.topic.inSection    = 'topicview';
	ipb.topic.topic_id     = 273044;
	ipb.topic.forum_id     = 42;
	ipb.topic.redirectPost = 1;
	ipb.topic.start_id     = 0;
	ipb.topic.page_id      = 0;
	ipb.topic.topPid       = 0;
	ipb.topic.counts       = { postTotal: 16,
							  curStart:  ipb.topic.start_id,
							  perPage:   20 };
	//Search Setup
	ipb.vars['search_type']			= 'forum';
	ipb.vars['search_type_id']		= 42;
	ipb.vars['search_type_2']		= 'topic';
	ipb.vars['search_type_id_2']	= 273044;
	
	
	// Delete stuff set up
	ipb.topic.deleteUrls['hardDelete'] = new Template( ipb.vars['base_url'] + "app=forums&module=moderate&section=moderate&do=04&f=42&t=273044&page=&auth_key=880ea6a14ea49e853634fbdc5015a024&p=#{pid}" );
	ipb.topic.deleteUrls['softDelete'] = new Template( ipb.vars['base_url'] + "app=forums&module=moderate&section=moderate&do=postchoice&tact=sdelete&t=273044&f=42&auth_key=880ea6a14ea49e853634fbdc5015a024&selectedpids[#{pid}]=#{pid}&pid=#{pid}" );
	
	
	ipb.topic.modPerms	  = [];
	
	
	ipb.templates['post_moderation'] = new Template("<div id='comment_moderate_box' class='ipsFloatingAction' style='display: none'><span class='desc'>With <span id='comment_count'>#{count}</span> checked posts: </span><select id='tactInPopup' class='input_select'><option value='approve'>Approve</option><option value='delete'>Hide</option><option value='sundelete'>Unhide</option><option value='deletedo'>Delete</option><option value='merge'>Merge</option><option value='split'>Split</option><option value='move'>Move</option></select>&nbsp;&nbsp;<input type='button' class='input_submit' id='submitModAction' value='Go' /></div>");
	
//]]>
</script>





	<a href='http://forums.phpfreaks.com/user/136614-realityripple/' class='ipsUserPhotoLink left'>

<img src='http://www.gravatar.com/avatar/e584582dd6b0ded1ba1250e0b055efac?s=100&amp;d=http%3A%2F%2Fforums.phpfreaks.com%2Fpublic%2Fstyle_images%2Fphpfreaks%2Fprofile%2Fdefault_large.png' alt='Photo' class='ipsUserPhoto ipsUserPhoto_medium' />

	</a>

<div itemscope itemtype="http://schema.org/Article" class='ipsBox_withphoto'>
	
	<h1 itemprop="name" class='ipsType_pagetitle'>Improving efficiency on a time-consuming Cron job</h1>
	<div class='desc lighter blend_links'>
		 Started by <span itemprop="creator"><a hovercard-ref="member" hovercard-id="136614" data-ipb="noparse" class="_hovertrigger url fn name " href='http://forums.phpfreaks.com/user/136614-realityripple/' title='View Profile'><span itemprop="name">RealityRipple</span></a></span>, <span itemprop="dateCreated" datetime="2013-01-11">Jan 11 2013 07:09 PM</span>
	</div>
	
		<a class='ipsTag' href="http://forums.phpfreaks.com/tags/forums/cron/" data-tooltip="Find more content tagged 'cron'"><span>cron</span></a> <a class='ipsTag' href="http://forums.phpfreaks.com/tags/forums/500%2Berror/" data-tooltip="Find more content tagged '500 error'"><span>500 error</span></a> <a class='ipsTag' href="http://forums.phpfreaks.com/tags/forums/php/" data-tooltip="Find more content tagged 'php'"><span>php</span></a>
		<br />
	
	<meta itemprop="interactionCount" content="UserComments:16" />
</div>



<br />
<div class='topic_controls'>
	
	


	<ul class='topic_buttons'>
			<li class='disabled'><span>Please log in to reply</span></li>
			
			
		</ul>
</div>

<div class='maintitle clear clearfix'>
	<span class='ipsType_small'>
		15 replies to this topic
	</span>
	
</div>

<div class='topic hfeed clear clearfix'>
	
	

	<div class='ipsBox'>
		<div class='ipsBox_container' id='ips_Posts'>
			
				<!--post:1405057-->

<div class='post_block hentry clear clearfix  ' id='post_id_1405057'>
		<a id='entry1405057'></a>
		
	
		
		<div class='post_wrap' >
			
				<h3 class='row2'>
			
				<span class='post_id right ipsType_small desc blend_links'>
					
						<a itemprop="replyToUrl" data-entry-pid='1405057' href='http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/#entry1405057' rel='bookmark' title='Improving efficiency on a time-consuming Cron job: post #1'>
					
					#1
					<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/icon_share.png' class='small' title='Improving efficiency on a time-consuming Cron job: post #1' />
					</a>
				</span>
				
				
					<span itemprop="creator name" class="author vcard"><a hovercard-ref="member" hovercard-id="136614" data-ipb="noparse" class="_hovertrigger url fn name " href='http://forums.phpfreaks.com/user/136614-realityripple/' title='View Profile'><span itemprop="name">RealityRipple</span></a></span>
				
			
				
			</h3>
			<div class='author_info'>
				<div itemscope itemtype="http://schema.org/Person" class='user_details'>
	<span class='hide' itemprop="name">RealityRipple</span>
	<ul class='basic_info'>
		
			<p class='desc member_title'>Member</p>
		
		<li class='avatar'>
				
				<a itemprop="url" href="http://forums.phpfreaks.com/user/136614-realityripple/" title="View Profile: RealityRipple" class='ipsUserPhotoLink'>
				
				
					<img itemprop="image" src='http://www.gravatar.com/avatar/e584582dd6b0ded1ba1250e0b055efac?s=100&amp;d=http%3A%2F%2Fforums.phpfreaks.com%2Fpublic%2Fstyle_images%2Fphpfreaks%2Fprofile%2Fdefault_large.png' class='ipsUserPhoto ipsUserPhoto_large' />
				
				
				</a>
				
			</li>
		<li class='group_title'>
			<span style="color:#555">Members</span>
		</li>
		<li class='group_icon'>
			
				<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' /><img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' />
			
			</li>
		
		<li class='post_count desc lighter'>
			11 posts
		</li>
		
		
	</ul>
	
	
		<ul class='custom_fields'>
			
				
					
				

					
				
			
		</ul>
	
	
</div>
			</div>
			<div class='post_body'>
				<p class='posted_info desc lighter ipsType_small'>
					Posted <abbr class="published" itemprop="commentTime" title="2013-01-12T00:09:03+00:00">11 January 2013 - 07:09 PM</abbr>
					
				</p>
				
				<div itemprop="commentText" class='post entry-content '>
					I run a service via a shared host provided by 1and1, which, if a user subscribes for it, stores their login information for a website and regularly grabs some information from a page on the site, parses it, and stores the data on my site. The user later downloads the data through a client program running on their computer. This is all for tracking bandwidth usage on Satellite Internet, which has very rigorous limits.<br />
<br />
The issue I&#39;m running into is that this cron job running every 15 minutes is slowing down now that I have a handful of clients, and is starting to pop ISE 500&#39;s on my website every fifteen minutes past the hour for two or three minutes. Each client potentially has to load a different address, parse a different style layout of data, and the rest of it, basically as an individual script. However, I tried to simplify matters by making a single script which then exec&#39;s the client script with the required parameters in a loop. (One strange thing I noticed was my webhost doesn&#39;t allow this kind of exec &quot;splitting&quot; on client-requested pages, but it works fine within Cron jobs or when run from SSH. However, since the loop of the main script waits for each exec to complete before the next starts anyway, I don&#39;t see why they label it splitting anyway, but that&#39;s shared hosting for you.)<br />
<br />
Anyway, I would like to know what the best method for doing this sort of loading of pages (there&#39;s HTTPS, POSTs and GETs involved regardless of the address) and saving of data in an efficient method through PHP scripts called by a cron job. Is there a way to actually split these calls into threads so they don&#39;t wait, and hopefully execute simultaneously so as not to interfere with the site&#39;s normal operations? Do I need to talk to 1and1? Should I be using some other looping methodology?
					
					<br />
					
				</div>
				
				
				<div class='ipsLikeBar right clearfix' id='rep_post_1405057'>
				<ul class='ipsList_inline'>
					<li id="like_post_1405057" class='ipsLikeBar_info' style="display:none">
							
						</li>
					
				</ul>
			</div>
<script type='text/javascript'>
	ipb.global.registerReputation( 'rep_post_1405057', { domLikeStripId: 'like_post_1405057', app: 'forums', type: 'pid', typeid: '1405057' }, parseInt('0') );
</script>
				
								
				
				
				
			
				<ul id='postControlsNormal_1405057' class='post_controls clear clearfix' >
					<li class='top hide'><a href='#ipboard_body' class='top' title='Back to top'>Back to top</a></li>
					
					
					
					
					
					
				</ul>
				
			</div>
		</div>
	</div>
		
		
		<hr />
		
		
			<script type="text/javascript"><!--
google_ad_client = "ca-pub-8794381281316343";
/* 468x60, created 10/2/10 - PHP Freaks Update */
google_ad_slot = "1560263540";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
		
<script type="text/javascript">
var pid = parseInt(1405057);
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}

	// Show multiquote for JS browsers
	if ( $('multiq_1405057') )
	{
		$('multiq_1405057').show();
	}
	
	if( $('toggle_post_1405057') )
	{
		$('toggle_post_1405057').show();
	}
	
	// Add perm data
	ipb.topic.deletePerms[1405057] = { 'canDelete' : 0, 'canSoftDelete' : 0 };

</script>
			

				<!--post:1405061-->

<div class='post_block hentry clear clearfix  ' id='post_id_1405061'>
		<a id='entry1405061'></a>
		
	
		
		<div class='post_wrap' >
			
				<h3 class='row2'>
			
				<span class='post_id right ipsType_small desc blend_links'>
					
						<a itemprop="replyToUrl" data-entry-pid='1405061' href='http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/#entry1405061' rel='bookmark' title='Improving efficiency on a time-consuming Cron job: post #2'>
					
					#2
					<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/icon_share.png' class='small' title='Improving efficiency on a time-consuming Cron job: post #2' />
					</a>
				</span>
				
				
					<span itemprop="creator name" class="author vcard"><a hovercard-ref="member" hovercard-id="124404" data-ipb="noparse" class="_hovertrigger url fn name " href='http://forums.phpfreaks.com/user/124404-kicken/' title='View Profile'><span itemprop="name">kicken</span></a></span>
				
			
				
			</h3>
			<div class='author_info'>
				<div itemscope itemtype="http://schema.org/Person" class='user_details'>
	<span class='hide' itemprop="name">kicken</span>
	<ul class='basic_info'>
		
			<p class='desc member_title'>Wiser? Not exactly.</p>
		
		<li class='avatar'>
				
				<a itemprop="url" href="http://forums.phpfreaks.com/user/124404-kicken/" title="View Profile: kicken" class='ipsUserPhotoLink'>
				
				
					<img itemprop="image" src='http://forums.phpfreaks.com/uploads/profile/photo-124404.png?_r=1359272020' class='ipsUserPhoto ipsUserPhoto_large' />
				
				
				</a>
				
			</li>
		<li class='group_title'>
			<span style='color:green'>Gurus</span>
		</li>
		<li class='group_icon'>
			
				<img src='http://forums.phpfreaks.com/public/style_extra/team_icons/phpf_guru.png' alt='' />
			
			</li>
		
		<li class='post_count desc lighter'>
			2,637 posts
		</li>
		
		
	</ul>
	
	
		<ul class='custom_fields'>
			
				
					
						<li>
							<span class='ft'>Location</span><span class='fc'>Bonita, FL</span>
						</li>
					
				

					
				
			
		</ul>
	
	
</div>
			</div>
			<div class='post_body'>
				<p class='posted_info desc lighter ipsType_small'>
					Posted <abbr class="published" itemprop="commentTime" title="2013-01-12T01:19:13+00:00">11 January 2013 - 08:19 PM</abbr>
					
				</p>
				
				<div itemprop="commentText" class='post entry-content '>
					The first thing you should probably do is profile your cron script and try and identify any areas that are running slow.  You may be able to speed it up using alternative algorithms / functions.  If you want, post the script(s) here and someone could look at them for you.<br /><br />As far as trying to do some type of threading, if 1and1 offers <a href='http://php.net/pcntl' class='bbc_url' title='External link' rel='external'>pcntl</a> you can use <a href='http://php.net/pcntl_fork' class='bbc_url' title='External link' rel='external'>pcntl_fork</a> to spawn new processes from the main script.  If it doesn&#39;t offer that extension but allows you to use <a href='http://php.net/exec' class='bbc_url' title='External link' rel='external'>exec</a> you can spawn a new PHP process and put it into the background by adding <strong class='bbc'> &gt;/dev/null 2&gt;&amp;1 &amp;</strong> to the end of the command line.<br /><br />However, I would try the profiling first to make sure you have the script running as efficiently as possible.  Spawning off new processes will not necessarily run any faster as you&#39;re still doing the same amount of work.  You&#39;d only see an improvement through multiple processes if the server is not busy doing other tasks and can spare other CPU cores to run the processes in parallel.  For a shared host, there might not be much for spare cpu cycles between all the other sites/scripts trying to run so you&#39;d see little to no improvement in such a case.<br />
					
					<br />
					
				</div>
				
				
				<div class='ipsLikeBar right clearfix' id='rep_post_1405061'>
				<ul class='ipsList_inline'>
					<li id="like_post_1405061" class='ipsLikeBar_info' style="display:none">
							
						</li>
					
				</ul>
			</div>
<script type='text/javascript'>
	ipb.global.registerReputation( 'rep_post_1405061', { domLikeStripId: 'like_post_1405061', app: 'forums', type: 'pid', typeid: '1405061' }, parseInt('0') );
</script>
				
								
				
					<div class="signature" data-memberid="124404">
	
	<a href='http://cdrecyclingcenter.org/' class='bbc_url' title='External link' rel='external'>Recycle your old CD&#39;s</a>, don&#39;t trash them&#33;<br />Did I help you out?  Feeling generous? I accept tips via <a href='https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=ZLE5XD6TL5F2N' class='bbc_url' title='External link' rel='external'>Paypal</a> or Bitcoin @ <strong class='bbc'>14mDxaob8Jgdg52scDbvf3uaeR61tB2yC7</strong>
</div>
				
				
				
			
				<ul id='postControlsNormal_1405061' class='post_controls clear clearfix' >
					<li class='top hide'><a href='#ipboard_body' class='top' title='Back to top'>Back to top</a></li>
					
					
					
					
					
					
				</ul>
				
			</div>
		</div>
	</div>
		
		
		<hr />
		
		
<script type="text/javascript">
var pid = parseInt(1405061);
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}

	// Show multiquote for JS browsers
	if ( $('multiq_1405061') )
	{
		$('multiq_1405061').show();
	}
	
	if( $('toggle_post_1405061') )
	{
		$('toggle_post_1405061').show();
	}
	
	// Add perm data
	ipb.topic.deletePerms[1405061] = { 'canDelete' : 0, 'canSoftDelete' : 0 };

</script>
			

				<!--post:1405063-->

<div class='post_block hentry clear clearfix  ' id='post_id_1405063'>
		<a id='entry1405063'></a>
		
	
		
		<div class='post_wrap' >
			
				<h3 class='row2'>
			
				<span class='post_id right ipsType_small desc blend_links'>
					
						<a itemprop="replyToUrl" data-entry-pid='1405063' href='http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/#entry1405063' rel='bookmark' title='Improving efficiency on a time-consuming Cron job: post #3'>
					
					#3
					<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/icon_share.png' class='small' title='Improving efficiency on a time-consuming Cron job: post #3' />
					</a>
				</span>
				
				
					<span itemprop="creator name" class="author vcard"><a hovercard-ref="member" hovercard-id="136614" data-ipb="noparse" class="_hovertrigger url fn name " href='http://forums.phpfreaks.com/user/136614-realityripple/' title='View Profile'><span itemprop="name">RealityRipple</span></a></span>
				
			
				
			</h3>
			<div class='author_info'>
				<div itemscope itemtype="http://schema.org/Person" class='user_details'>
	<span class='hide' itemprop="name">RealityRipple</span>
	<ul class='basic_info'>
		
			<p class='desc member_title'>Member</p>
		
		<li class='avatar'>
				
				<a itemprop="url" href="http://forums.phpfreaks.com/user/136614-realityripple/" title="View Profile: RealityRipple" class='ipsUserPhotoLink'>
				
				
					<img itemprop="image" src='http://www.gravatar.com/avatar/e584582dd6b0ded1ba1250e0b055efac?s=100&amp;d=http%3A%2F%2Fforums.phpfreaks.com%2Fpublic%2Fstyle_images%2Fphpfreaks%2Fprofile%2Fdefault_large.png' class='ipsUserPhoto ipsUserPhoto_large' />
				
				
				</a>
				
			</li>
		<li class='group_title'>
			<span style="color:#555">Members</span>
		</li>
		<li class='group_icon'>
			
				<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' /><img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' />
			
			</li>
		
		<li class='post_count desc lighter'>
			11 posts
		</li>
		
		
	</ul>
	
	
		<ul class='custom_fields'>
			
				
					
				

					
				
			
		</ul>
	
	
</div>
			</div>
			<div class='post_body'>
				<p class='posted_info desc lighter ipsType_small'>
					Posted <abbr class="published" itemprop="commentTime" title="2013-01-12T01:35:29+00:00">11 January 2013 - 08:35 PM</abbr>
					
				</p>
				
				<div itemprop="commentText" class='post entry-content '>
					I&#39;m not actually doing a lot of work, the time consuming part is entirely the HTTPS communication for logging into the sites. There was a bit of complex work due to the fact I have to store passwords in a decryptable format on my site and did so via byte-mangling, but I got around that by storing the passwords in temporary memory and flushing it regularly. I also know that 1and1 doesn&#39;t provide any of that threading stuff, or a way to install it T_T<br /><br />I&#39;ll try tossing that little bit to the end of exec, because that&#39;s basically all I&#39;m allowed to do. The whole system is a lot more complex than I could paste anywhere, since I used quite a few forms of encryption (no HTTPS on my server available, I had to basically create my own SRP-based system for sending passwords, then my own storage method because the entire internet says &quot;never store passwords, just hashes&quot;, and that would defeat the purpose of this system). The actual code being run in cron is all just requesting and parsing various HTML page layouts; there&#39;s nothing much to be improved unless I wanted to muck about in DOM.<br /><br /><br /><br /><br />Edit - Wow, I just added <strong class='bbc'>&gt;/dev/null 2&gt;&amp;1 &amp;</strong> to the end of exec and it ran them all simultaneously in less than a minute. That definitely did the trick - even if they still cause an ISE when they&#39;re running, they went so quickly it shouldn&#39;t bother a thing.
					
					<br />
					<p class='edit'>
							<strong>Edited by RealityRipple, 11 January 2013 - 08:46 PM.</strong>
							
						</p>
				</div>
				
				
				<div class='ipsLikeBar right clearfix' id='rep_post_1405063'>
				<ul class='ipsList_inline'>
					<li id="like_post_1405063" class='ipsLikeBar_info' style="display:none">
							
						</li>
					
				</ul>
			</div>
<script type='text/javascript'>
	ipb.global.registerReputation( 'rep_post_1405063', { domLikeStripId: 'like_post_1405063', app: 'forums', type: 'pid', typeid: '1405063' }, parseInt('0') );
</script>
				
								
				
				
				
			
				<ul id='postControlsNormal_1405063' class='post_controls clear clearfix' >
					<li class='top hide'><a href='#ipboard_body' class='top' title='Back to top'>Back to top</a></li>
					
					
					
					
					
					
				</ul>
				
			</div>
		</div>
	</div>
		
		
		<hr />
		
		
<script type="text/javascript">
var pid = parseInt(1405063);
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}

	// Show multiquote for JS browsers
	if ( $('multiq_1405063') )
	{
		$('multiq_1405063').show();
	}
	
	if( $('toggle_post_1405063') )
	{
		$('toggle_post_1405063').show();
	}
	
	// Add perm data
	ipb.topic.deletePerms[1405063] = { 'canDelete' : 0, 'canSoftDelete' : 0 };

</script>
			

				<!--post:1405072-->

<div class='post_block hentry clear clearfix  ' id='post_id_1405072'>
		<a id='entry1405072'></a>
		
	
		
		<div class='post_wrap' >
			
				<h3 class='row2'>
			
				<span class='post_id right ipsType_small desc blend_links'>
					
						<a itemprop="replyToUrl" data-entry-pid='1405072' href='http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/#entry1405072' rel='bookmark' title='Improving efficiency on a time-consuming Cron job: post #4'>
					
					#4
					<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/icon_share.png' class='small' title='Improving efficiency on a time-consuming Cron job: post #4' />
					</a>
				</span>
				
				
					<span itemprop="creator name" class="author vcard"><a hovercard-ref="member" hovercard-id="124404" data-ipb="noparse" class="_hovertrigger url fn name " href='http://forums.phpfreaks.com/user/124404-kicken/' title='View Profile'><span itemprop="name">kicken</span></a></span>
				
			
				
			</h3>
			<div class='author_info'>
				<div itemscope itemtype="http://schema.org/Person" class='user_details'>
	<span class='hide' itemprop="name">kicken</span>
	<ul class='basic_info'>
		
			<p class='desc member_title'>Wiser? Not exactly.</p>
		
		<li class='avatar'>
				
				<a itemprop="url" href="http://forums.phpfreaks.com/user/124404-kicken/" title="View Profile: kicken" class='ipsUserPhotoLink'>
				
				
					<img itemprop="image" src='http://forums.phpfreaks.com/uploads/profile/photo-124404.png?_r=1359272020' class='ipsUserPhoto ipsUserPhoto_large' />
				
				
				</a>
				
			</li>
		<li class='group_title'>
			<span style='color:green'>Gurus</span>
		</li>
		<li class='group_icon'>
			
				<img src='http://forums.phpfreaks.com/public/style_extra/team_icons/phpf_guru.png' alt='' />
			
			</li>
		
		<li class='post_count desc lighter'>
			2,637 posts
		</li>
		
		
	</ul>
	
	
		<ul class='custom_fields'>
			
				
					
						<li>
							<span class='ft'>Location</span><span class='fc'>Bonita, FL</span>
						</li>
					
				

					
				
			
		</ul>
	
	
</div>
			</div>
			<div class='post_body'>
				<p class='posted_info desc lighter ipsType_small'>
					Posted <abbr class="published" itemprop="commentTime" title="2013-01-12T02:55:17+00:00">11 January 2013 - 09:55 PM</abbr>
					
				</p>
				
				<div itemprop="commentText" class='post entry-content '>
					You can run multiple downloads at the same time without having to involve multiple processes.  For example, <a href='http://php.net/manual/en/function.curl-multi-exec.php' class='bbc_url' title='External link' rel='external'>curl_multi_exec</a> to download several things at once using curl.  There are other ways but curl is probably the easiest and is generally supported.<br />
					
					<br />
					
				</div>
				
				
				<div class='ipsLikeBar right clearfix' id='rep_post_1405072'>
				<ul class='ipsList_inline'>
					<li id="like_post_1405072" class='ipsLikeBar_info' style="display:none">
							
						</li>
					
				</ul>
			</div>
<script type='text/javascript'>
	ipb.global.registerReputation( 'rep_post_1405072', { domLikeStripId: 'like_post_1405072', app: 'forums', type: 'pid', typeid: '1405072' }, parseInt('0') );
</script>
				
								
				
					<div class="signature" data-memberid="124404">
	
	<a href='http://cdrecyclingcenter.org/' class='bbc_url' title='External link' rel='external'>Recycle your old CD&#39;s</a>, don&#39;t trash them&#33;<br />Did I help you out?  Feeling generous? I accept tips via <a href='https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=ZLE5XD6TL5F2N' class='bbc_url' title='External link' rel='external'>Paypal</a> or Bitcoin @ <strong class='bbc'>14mDxaob8Jgdg52scDbvf3uaeR61tB2yC7</strong>
</div>
				
				
				
			
				<ul id='postControlsNormal_1405072' class='post_controls clear clearfix' >
					<li class='top hide'><a href='#ipboard_body' class='top' title='Back to top'>Back to top</a></li>
					
					
					
					
					
					
				</ul>
				
			</div>
		</div>
	</div>
		
		
		<hr />
		
		
<script type="text/javascript">
var pid = parseInt(1405072);
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}

	// Show multiquote for JS browsers
	if ( $('multiq_1405072') )
	{
		$('multiq_1405072').show();
	}
	
	if( $('toggle_post_1405072') )
	{
		$('toggle_post_1405072').show();
	}
	
	// Add perm data
	ipb.topic.deletePerms[1405072] = { 'canDelete' : 0, 'canSoftDelete' : 0 };

</script>
			

				<!--post:1405080-->

<div class='post_block hentry clear clearfix  ' id='post_id_1405080'>
		<a id='entry1405080'></a>
		
	
		
		<div class='post_wrap' >
			
				<h3 class='row2'>
			
				<span class='post_id right ipsType_small desc blend_links'>
					
						<a itemprop="replyToUrl" data-entry-pid='1405080' href='http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/#entry1405080' rel='bookmark' title='Improving efficiency on a time-consuming Cron job: post #5'>
					
					#5
					<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/icon_share.png' class='small' title='Improving efficiency on a time-consuming Cron job: post #5' />
					</a>
				</span>
				
				
					<span itemprop="creator name" class="author vcard"><a hovercard-ref="member" hovercard-id="136614" data-ipb="noparse" class="_hovertrigger url fn name " href='http://forums.phpfreaks.com/user/136614-realityripple/' title='View Profile'><span itemprop="name">RealityRipple</span></a></span>
				
			
				
			</h3>
			<div class='author_info'>
				<div itemscope itemtype="http://schema.org/Person" class='user_details'>
	<span class='hide' itemprop="name">RealityRipple</span>
	<ul class='basic_info'>
		
			<p class='desc member_title'>Member</p>
		
		<li class='avatar'>
				
				<a itemprop="url" href="http://forums.phpfreaks.com/user/136614-realityripple/" title="View Profile: RealityRipple" class='ipsUserPhotoLink'>
				
				
					<img itemprop="image" src='http://www.gravatar.com/avatar/e584582dd6b0ded1ba1250e0b055efac?s=100&amp;d=http%3A%2F%2Fforums.phpfreaks.com%2Fpublic%2Fstyle_images%2Fphpfreaks%2Fprofile%2Fdefault_large.png' class='ipsUserPhoto ipsUserPhoto_large' />
				
				
				</a>
				
			</li>
		<li class='group_title'>
			<span style="color:#555">Members</span>
		</li>
		<li class='group_icon'>
			
				<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' /><img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' />
			
			</li>
		
		<li class='post_count desc lighter'>
			11 posts
		</li>
		
		
	</ul>
	
	
		<ul class='custom_fields'>
			
				
					
				

					
				
			
		</ul>
	
	
</div>
			</div>
			<div class='post_body'>
				<p class='posted_info desc lighter ipsType_small'>
					Posted <abbr class="published" itemprop="commentTime" title="2013-01-12T04:14:33+00:00">11 January 2013 - 11:14 PM</abbr>
					
				</p>
				
				<div itemprop="commentText" class='post entry-content '>
					That method seems extremely confusing for returning data. I need to get the &quot;effective url&quot; and the contents of pages that I read via both GET and POST (depending on the host and page I&#39;m grabbing at the time). Due to the nature of each host&#39;s various differences in load times and request styles, running the whole thing linearly through curl_multi_exec for each request seems like it would increase the amount of time taken overall. I will keep looking into it though.
					
					<br />
					
				</div>
				
				
				<div class='ipsLikeBar right clearfix' id='rep_post_1405080'>
				<ul class='ipsList_inline'>
					<li id="like_post_1405080" class='ipsLikeBar_info' style="display:none">
							
						</li>
					
				</ul>
			</div>
<script type='text/javascript'>
	ipb.global.registerReputation( 'rep_post_1405080', { domLikeStripId: 'like_post_1405080', app: 'forums', type: 'pid', typeid: '1405080' }, parseInt('0') );
</script>
				
								
				
				
				
			
				<ul id='postControlsNormal_1405080' class='post_controls clear clearfix' >
					<li class='top hide'><a href='#ipboard_body' class='top' title='Back to top'>Back to top</a></li>
					
					
					
					
					
					
				</ul>
				
			</div>
		</div>
	</div>
		
		
		<hr />
		
		
<script type="text/javascript">
var pid = parseInt(1405080);
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}

	// Show multiquote for JS browsers
	if ( $('multiq_1405080') )
	{
		$('multiq_1405080').show();
	}
	
	if( $('toggle_post_1405080') )
	{
		$('toggle_post_1405080').show();
	}
	
	// Add perm data
	ipb.topic.deletePerms[1405080] = { 'canDelete' : 0, 'canSoftDelete' : 0 };

</script>
			

				<!--post:1405104-->

<div class='post_block hentry clear clearfix  ' id='post_id_1405104'>
		<a id='entry1405104'></a>
		
	
		
		<div class='post_wrap' >
			
				<h3 class='row2'>
			
				<span class='post_id right ipsType_small desc blend_links'>
					
						<a itemprop="replyToUrl" data-entry-pid='1405104' href='http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/#entry1405104' rel='bookmark' title='Improving efficiency on a time-consuming Cron job: post #6'>
					
					#6
					<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/icon_share.png' class='small' title='Improving efficiency on a time-consuming Cron job: post #6' />
					</a>
				</span>
				
				
					<span itemprop="creator name" class="author vcard"><a hovercard-ref="member" hovercard-id="124404" data-ipb="noparse" class="_hovertrigger url fn name " href='http://forums.phpfreaks.com/user/124404-kicken/' title='View Profile'><span itemprop="name">kicken</span></a></span>
				
			
				
			</h3>
			<div class='author_info'>
				<div itemscope itemtype="http://schema.org/Person" class='user_details'>
	<span class='hide' itemprop="name">kicken</span>
	<ul class='basic_info'>
		
			<p class='desc member_title'>Wiser? Not exactly.</p>
		
		<li class='avatar'>
				
				<a itemprop="url" href="http://forums.phpfreaks.com/user/124404-kicken/" title="View Profile: kicken" class='ipsUserPhotoLink'>
				
				
					<img itemprop="image" src='http://forums.phpfreaks.com/uploads/profile/photo-124404.png?_r=1359272020' class='ipsUserPhoto ipsUserPhoto_large' />
				
				
				</a>
				
			</li>
		<li class='group_title'>
			<span style='color:green'>Gurus</span>
		</li>
		<li class='group_icon'>
			
				<img src='http://forums.phpfreaks.com/public/style_extra/team_icons/phpf_guru.png' alt='' />
			
			</li>
		
		<li class='post_count desc lighter'>
			2,637 posts
		</li>
		
		
	</ul>
	
	
		<ul class='custom_fields'>
			
				
					
						<li>
							<span class='ft'>Location</span><span class='fc'>Bonita, FL</span>
						</li>
					
				

					
				
			
		</ul>
	
	
</div>
			</div>
			<div class='post_body'>
				<p class='posted_info desc lighter ipsType_small'>
					Posted <abbr class="published" itemprop="commentTime" title="2013-01-12T07:34:27+00:00">12 January 2013 - 02:34 AM</abbr>
					
				</p>
				
				<div itemprop="commentText" class='post entry-content '>
					There is a library called <a href='https://www.google.com/search?q=rolling+curl&amp;oq=rolling+curl&amp;aqs=chrome.0.57j60j59j60l3.1819&amp;sourceid=chrome&amp;ie=UTF-8' class='bbc_url' title='External link' rel='external'>rolling-curl</a> you could check into that may simplify the process for you. <br /><br />The idea with curl multi exec though is that you&#39;d setup your list of URL&#39;s that you need to download and then enter a loop.  curl will attempt to download them all in parallel and once one of the URL&#39;s has finished downloading you can run it through whatever processing function you need.  This is just pseudo-code, but the process essentially looks something like this:<br /><br /><pre class='prettyprint lang-auto linenums:0'>
addUrlsToList();
while (urlsToDownload() &gt; 0){
   doDownload(); //curl will try and retrieve data from any of the urls in the list
   if (urlIsFinished()){
      processUrlData();
   }
}
</pre><br />Like I said that&#39;s just pseudo-code to illustrate the process, the way you actually go about setting it up is a bit more complex, but the library should help with that.<br />
					
					<br />
					
				</div>
				
				
				<div class='ipsLikeBar right clearfix' id='rep_post_1405104'>
				<ul class='ipsList_inline'>
					<li id="like_post_1405104" class='ipsLikeBar_info' style="display:none">
							
						</li>
					
				</ul>
			</div>
<script type='text/javascript'>
	ipb.global.registerReputation( 'rep_post_1405104', { domLikeStripId: 'like_post_1405104', app: 'forums', type: 'pid', typeid: '1405104' }, parseInt('0') );
</script>
				
								
				
					<div class="signature" data-memberid="124404">
	
	<a href='http://cdrecyclingcenter.org/' class='bbc_url' title='External link' rel='external'>Recycle your old CD&#39;s</a>, don&#39;t trash them&#33;<br />Did I help you out?  Feeling generous? I accept tips via <a href='https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=ZLE5XD6TL5F2N' class='bbc_url' title='External link' rel='external'>Paypal</a> or Bitcoin @ <strong class='bbc'>14mDxaob8Jgdg52scDbvf3uaeR61tB2yC7</strong>
</div>
				
				
				
			
				<ul id='postControlsNormal_1405104' class='post_controls clear clearfix' >
					<li class='top hide'><a href='#ipboard_body' class='top' title='Back to top'>Back to top</a></li>
					
					
					
					
					
					
				</ul>
				
			</div>
		</div>
	</div>
		
		
		<hr />
		
		
<script type="text/javascript">
var pid = parseInt(1405104);
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}

	// Show multiquote for JS browsers
	if ( $('multiq_1405104') )
	{
		$('multiq_1405104').show();
	}
	
	if( $('toggle_post_1405104') )
	{
		$('toggle_post_1405104').show();
	}
	
	// Add perm data
	ipb.topic.deletePerms[1405104] = { 'canDelete' : 0, 'canSoftDelete' : 0 };

</script>
			

				<!--post:1405109-->

<div class='post_block hentry clear clearfix  ' id='post_id_1405109'>
		<a id='entry1405109'></a>
		
	
		
		<div class='post_wrap' >
			
				<h3 class='row2'>
			
				<span class='post_id right ipsType_small desc blend_links'>
					
						<a itemprop="replyToUrl" data-entry-pid='1405109' href='http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/#entry1405109' rel='bookmark' title='Improving efficiency on a time-consuming Cron job: post #7'>
					
					#7
					<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/icon_share.png' class='small' title='Improving efficiency on a time-consuming Cron job: post #7' />
					</a>
				</span>
				
				
					<span itemprop="creator name" class="author vcard"><a hovercard-ref="member" hovercard-id="136614" data-ipb="noparse" class="_hovertrigger url fn name " href='http://forums.phpfreaks.com/user/136614-realityripple/' title='View Profile'><span itemprop="name">RealityRipple</span></a></span>
				
			
				
			</h3>
			<div class='author_info'>
				<div itemscope itemtype="http://schema.org/Person" class='user_details'>
	<span class='hide' itemprop="name">RealityRipple</span>
	<ul class='basic_info'>
		
			<p class='desc member_title'>Member</p>
		
		<li class='avatar'>
				
				<a itemprop="url" href="http://forums.phpfreaks.com/user/136614-realityripple/" title="View Profile: RealityRipple" class='ipsUserPhotoLink'>
				
				
					<img itemprop="image" src='http://www.gravatar.com/avatar/e584582dd6b0ded1ba1250e0b055efac?s=100&amp;d=http%3A%2F%2Fforums.phpfreaks.com%2Fpublic%2Fstyle_images%2Fphpfreaks%2Fprofile%2Fdefault_large.png' class='ipsUserPhoto ipsUserPhoto_large' />
				
				
				</a>
				
			</li>
		<li class='group_title'>
			<span style="color:#555">Members</span>
		</li>
		<li class='group_icon'>
			
				<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' /><img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' />
			
			</li>
		
		<li class='post_count desc lighter'>
			11 posts
		</li>
		
		
	</ul>
	
	
		<ul class='custom_fields'>
			
				
					
				

					
				
			
		</ul>
	
	
</div>
			</div>
			<div class='post_body'>
				<p class='posted_info desc lighter ipsType_small'>
					Posted <abbr class="published" itemprop="commentTime" title="2013-01-12T07:54:20+00:00">12 January 2013 - 02:54 AM</abbr>
					
				</p>
				
				<div itemprop="commentText" class='post entry-content '>
					Hmm... the constancy of rolling-curl is a bit more than I need, but it at least sounds like the best source of an implementation example... The issue I&#39;m seeing with that sort of linear loop layout is that I need to send a POST or GET to a login page, get cookie data from the response and parse it to ensure the login was successful, then request another page using the cookie data to grab its contents accurately. The loop sounds like it would get blocked while either A) I finish getting all the &quot;login&quot; request data, or B) I get the usage page after each login and block them from looping to check for another one to finish until it&#39;s done. It may be better to run it as one thread for the sake of the server not seeming to take kindly to multithreading, but it just seems to go against modern development techniques. If my site starts complaining again in some manner, I&#39;ll switch over to a curl-multi single-threaded system and see how that does, but so far things seem to be running a lot smoother using exec spawns - once I fixed a little problem with multithreaded reuse of the same cookie jar (hadn&#39;t considered it being an issue when it was in a linear loop).
					
					<br />
					<p class='edit'>
							<strong>Edited by RealityRipple, 12 January 2013 - 02:55 AM.</strong>
							
						</p>
				</div>
				
				
				<div class='ipsLikeBar right clearfix' id='rep_post_1405109'>
				<ul class='ipsList_inline'>
					<li id="like_post_1405109" class='ipsLikeBar_info' style="display:none">
							
						</li>
					
				</ul>
			</div>
<script type='text/javascript'>
	ipb.global.registerReputation( 'rep_post_1405109', { domLikeStripId: 'like_post_1405109', app: 'forums', type: 'pid', typeid: '1405109' }, parseInt('0') );
</script>
				
								
				
				
				
			
				<ul id='postControlsNormal_1405109' class='post_controls clear clearfix' >
					<li class='top hide'><a href='#ipboard_body' class='top' title='Back to top'>Back to top</a></li>
					
					
					
					
					
					
				</ul>
				
			</div>
		</div>
	</div>
		
		
		<hr />
		
		
<script type="text/javascript">
var pid = parseInt(1405109);
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}

	// Show multiquote for JS browsers
	if ( $('multiq_1405109') )
	{
		$('multiq_1405109').show();
	}
	
	if( $('toggle_post_1405109') )
	{
		$('toggle_post_1405109').show();
	}
	
	// Add perm data
	ipb.topic.deletePerms[1405109] = { 'canDelete' : 0, 'canSoftDelete' : 0 };

</script>
			

				<!--post:1405718-->

<div class='post_block hentry clear clearfix  ' id='post_id_1405718'>
		<a id='entry1405718'></a>
		
	
		
		<div class='post_wrap' >
			
				<h3 class='row2'>
			
				<span class='post_id right ipsType_small desc blend_links'>
					
						<a itemprop="replyToUrl" data-entry-pid='1405718' href='http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/#entry1405718' rel='bookmark' title='Improving efficiency on a time-consuming Cron job: post #8'>
					
					#8
					<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/icon_share.png' class='small' title='Improving efficiency on a time-consuming Cron job: post #8' />
					</a>
				</span>
				
				
					<span itemprop="creator name" class="author vcard"><a hovercard-ref="member" hovercard-id="136614" data-ipb="noparse" class="_hovertrigger url fn name " href='http://forums.phpfreaks.com/user/136614-realityripple/' title='View Profile'><span itemprop="name">RealityRipple</span></a></span>
				
			
				
			</h3>
			<div class='author_info'>
				<div itemscope itemtype="http://schema.org/Person" class='user_details'>
	<span class='hide' itemprop="name">RealityRipple</span>
	<ul class='basic_info'>
		
			<p class='desc member_title'>Member</p>
		
		<li class='avatar'>
				
				<a itemprop="url" href="http://forums.phpfreaks.com/user/136614-realityripple/" title="View Profile: RealityRipple" class='ipsUserPhotoLink'>
				
				
					<img itemprop="image" src='http://www.gravatar.com/avatar/e584582dd6b0ded1ba1250e0b055efac?s=100&amp;d=http%3A%2F%2Fforums.phpfreaks.com%2Fpublic%2Fstyle_images%2Fphpfreaks%2Fprofile%2Fdefault_large.png' class='ipsUserPhoto ipsUserPhoto_large' />
				
				
				</a>
				
			</li>
		<li class='group_title'>
			<span style="color:#555">Members</span>
		</li>
		<li class='group_icon'>
			
				<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' /><img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' />
			
			</li>
		
		<li class='post_count desc lighter'>
			11 posts
		</li>
		
		
	</ul>
	
	
		<ul class='custom_fields'>
			
				
					
				

					
				
			
		</ul>
	
	
</div>
			</div>
			<div class='post_body'>
				<p class='posted_info desc lighter ipsType_small'>
					Posted <abbr class="published" itemprop="commentTime" title="2013-01-14T22:47:29+00:00">14 January 2013 - 05:47 PM</abbr>
					
				</p>
				
				<div itemprop="commentText" class='post entry-content '>
					Alright, it&#39;s still causing 500 errors for a bit, and some threads are being interrupted it looks like, so I&#39;m looking at rolling-curl as you suggested. I&#39;m having some issues with implementation, though. The way this class works seems to be based on the idea that the script will only be requesting one URL per address, with no rational way to start another request from the callback in a sane manner. If I just send a single request in the &quot;second volley&quot;, it will act like a standard curl request, and every callback will block until that request completes. It may help if I explain the exact steps my program MUST take -<br />
<br />
1) using a supplied E-Mail address, it checks if the domain exists as a subdomain of another server (via gethostbyname). If the subdomain exists, it runs Type2, if not, Type1. It also grabs other required data via that E-Mail address including the password. The E-Mail address is then used as a Username.<br />
2) Type1 requests the domain&#39;s login page, supplying the Username and Password via standard uri variables (GET). Type2 requests a different page on a different domain with a matching subdomain for the supplied domain name, passing it the Username and Password via POST variables instead.<br />
3) The response of Type1 is checked for contents, the URL redirect result of Type2 is checked to see if it&#39;s become a home page, still the login page, or any other pages, each which check for various variables and possibly re-attempt the login if there was a failure (back to Step 2)<br />
4) The second (or more in Type2 provision above) request is made requesting the usage data. Cookie data is passed in both Type1 and Type2 that was received in Step 3.<br />
5) The response of Step 4 is parsed and the information saved.<br />
<br />
I&#39;m not sure that rolling-curl would be efficient at handling more than step 2, and it doesn&#39;t seem that there are any truly efficient methods for handling all of the steps without threading methods my host doesn&#39;t have. How can I bunch these parallel runnings up?
					
					<br />
					
				</div>
				
				
				<div class='ipsLikeBar right clearfix' id='rep_post_1405718'>
				<ul class='ipsList_inline'>
					<li id="like_post_1405718" class='ipsLikeBar_info' style="display:none">
							
						</li>
					
				</ul>
			</div>
<script type='text/javascript'>
	ipb.global.registerReputation( 'rep_post_1405718', { domLikeStripId: 'like_post_1405718', app: 'forums', type: 'pid', typeid: '1405718' }, parseInt('0') );
</script>
				
								
				
				
				
			
				<ul id='postControlsNormal_1405718' class='post_controls clear clearfix' >
					<li class='top hide'><a href='#ipboard_body' class='top' title='Back to top'>Back to top</a></li>
					
					
					
					
					
					
				</ul>
				
			</div>
		</div>
	</div>
		
		
		<hr />
		
		
<script type="text/javascript">
var pid = parseInt(1405718);
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}

	// Show multiquote for JS browsers
	if ( $('multiq_1405718') )
	{
		$('multiq_1405718').show();
	}
	
	if( $('toggle_post_1405718') )
	{
		$('toggle_post_1405718').show();
	}
	
	// Add perm data
	ipb.topic.deletePerms[1405718] = { 'canDelete' : 0, 'canSoftDelete' : 0 };

</script>
			

				<!--post:1405723-->

<div class='post_block hentry clear clearfix  ' id='post_id_1405723'>
		<a id='entry1405723'></a>
		
	
		
		<div class='post_wrap' >
			
				<h3 class='row2'>
			
				<span class='post_id right ipsType_small desc blend_links'>
					
						<a itemprop="replyToUrl" data-entry-pid='1405723' href='http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/#entry1405723' rel='bookmark' title='Improving efficiency on a time-consuming Cron job: post #9'>
					
					#9
					<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/icon_share.png' class='small' title='Improving efficiency on a time-consuming Cron job: post #9' />
					</a>
				</span>
				
				
					<span itemprop="creator name" class="author vcard"><a hovercard-ref="member" hovercard-id="124404" data-ipb="noparse" class="_hovertrigger url fn name " href='http://forums.phpfreaks.com/user/124404-kicken/' title='View Profile'><span itemprop="name">kicken</span></a></span>
				
			
				
			</h3>
			<div class='author_info'>
				<div itemscope itemtype="http://schema.org/Person" class='user_details'>
	<span class='hide' itemprop="name">kicken</span>
	<ul class='basic_info'>
		
			<p class='desc member_title'>Wiser? Not exactly.</p>
		
		<li class='avatar'>
				
				<a itemprop="url" href="http://forums.phpfreaks.com/user/124404-kicken/" title="View Profile: kicken" class='ipsUserPhotoLink'>
				
				
					<img itemprop="image" src='http://forums.phpfreaks.com/uploads/profile/photo-124404.png?_r=1359272020' class='ipsUserPhoto ipsUserPhoto_large' />
				
				
				</a>
				
			</li>
		<li class='group_title'>
			<span style='color:green'>Gurus</span>
		</li>
		<li class='group_icon'>
			
				<img src='http://forums.phpfreaks.com/public/style_extra/team_icons/phpf_guru.png' alt='' />
			
			</li>
		
		<li class='post_count desc lighter'>
			2,637 posts
		</li>
		
		
	</ul>
	
	
		<ul class='custom_fields'>
			
				
					
						<li>
							<span class='ft'>Location</span><span class='fc'>Bonita, FL</span>
						</li>
					
				

					
				
			
		</ul>
	
	
</div>
			</div>
			<div class='post_body'>
				<p class='posted_info desc lighter ipsType_small'>
					Posted <abbr class="published" itemprop="commentTime" title="2013-01-14T23:26:20+00:00">14 January 2013 - 06:26 PM</abbr>
					
				</p>
				
				<div itemprop="commentText" class='post entry-content '>
					I&#39;ve never personally used rolling cURL or cURL multi before.  Last time I did anything in parallel I rolled my own due to now knowing about them, and have not had to do anything like that since learning of them.<br /><br />Based on the readme for rolling curl however, something like the below should be the setup you&#39;re after:<br /><pre class='prettyprint lang-auto linenums:0'>
&lt;?php

class MyRequest extends RollingCurlRequest {
	private &#036;mType;
	private &#036;mRc;

	const TYPE1=1;
	const TYPE2=2;

	public function __construct(&#036;url, &#036;type, &#036;rc){
		&#036;this-&gt;mType = &#036;type;
		&#036;this-&gt;mRc = &#036;rc;
		parent::__construct(&#036;url);
	}

	public function ProcessResponse(&#036;responseBody, &#036;responseInfo){
		switch (&#036;this-&gt;mType){
			case self::TYPE1:
				&#036;this-&gt;ProcessType1(&#036;responseBody, &#036;responseInfo);
				break;
			case self::TYPE2:
				&#036;this-&gt;ProcessType2(&#036;responseBody, &#036;responseInfo);
				break;
		}
	}

	private function ProcessType1(&#036;body, &#036;info){
		//blah blah blah
	}

	private function ProcessType2(&#036;body, &#036;info){
		//blah blah blah
	}
}

&#036;rc = new RollingCurl(function(&#036;response, &#036;info, &#036;request){
	&#036;request-&gt;ProcessResponse(&#036;response, &#036;info);
});

foreach (&#036;Emails as &#036;email){
	&#036;type = //determine type of initial request
	&#036;url = //determine URL of initial request
	&#036;req = new MyRequest(&#036;url, &#036;type, &#036;rc);
	&#036;rc-&gt;add(&#036;req);
}

&#036;rc-&gt;execute();
</pre><br />You setup all your initial type1 or type2 requests by adding them to the rolling curl object.  As each one completes it will call the callback function, which you then have call your processing function.<br /><br />If during the processing function you determine that you need to issue another request, you can just add it to the queue by creating a new request object and adding to the queue by calling the add method again.<br /><br />Eg:<br /><pre class='prettyprint lang-auto linenums:0'>
&#036;req = new MyRequest(&#036;newUrl, &#036;this-&gt;mType, &#036;this-&gt;mRc);
&#036;this-&gt;mRc-&gt;add(&#036;req);
</pre><br />
					
					<br />
					
				</div>
				
				
				<div class='ipsLikeBar right clearfix' id='rep_post_1405723'>
				<ul class='ipsList_inline'>
					<li id="like_post_1405723" class='ipsLikeBar_info' style="display:none">
							
						</li>
					
				</ul>
			</div>
<script type='text/javascript'>
	ipb.global.registerReputation( 'rep_post_1405723', { domLikeStripId: 'like_post_1405723', app: 'forums', type: 'pid', typeid: '1405723' }, parseInt('0') );
</script>
				
								
				
					<div class="signature" data-memberid="124404">
	
	<a href='http://cdrecyclingcenter.org/' class='bbc_url' title='External link' rel='external'>Recycle your old CD&#39;s</a>, don&#39;t trash them&#33;<br />Did I help you out?  Feeling generous? I accept tips via <a href='https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=ZLE5XD6TL5F2N' class='bbc_url' title='External link' rel='external'>Paypal</a> or Bitcoin @ <strong class='bbc'>14mDxaob8Jgdg52scDbvf3uaeR61tB2yC7</strong>
</div>
				
				
				
			
				<ul id='postControlsNormal_1405723' class='post_controls clear clearfix' >
					<li class='top hide'><a href='#ipboard_body' class='top' title='Back to top'>Back to top</a></li>
					
					
					
					
					
					
				</ul>
				
			</div>
		</div>
	</div>
		
		
		<hr />
		
		
<script type="text/javascript">
var pid = parseInt(1405723);
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}

	// Show multiquote for JS browsers
	if ( $('multiq_1405723') )
	{
		$('multiq_1405723').show();
	}
	
	if( $('toggle_post_1405723') )
	{
		$('toggle_post_1405723').show();
	}
	
	// Add perm data
	ipb.topic.deletePerms[1405723] = { 'canDelete' : 0, 'canSoftDelete' : 0 };

</script>
			

				<!--post:1405728-->

<div class='post_block hentry clear clearfix  ' id='post_id_1405728'>
		<a id='entry1405728'></a>
		
	
		
		<div class='post_wrap' >
			
				<h3 class='row2'>
			
				<span class='post_id right ipsType_small desc blend_links'>
					
						<a itemprop="replyToUrl" data-entry-pid='1405728' href='http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/#entry1405728' rel='bookmark' title='Improving efficiency on a time-consuming Cron job: post #10'>
					
					#10
					<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/icon_share.png' class='small' title='Improving efficiency on a time-consuming Cron job: post #10' />
					</a>
				</span>
				
				
					<span itemprop="creator name" class="author vcard"><a hovercard-ref="member" hovercard-id="136614" data-ipb="noparse" class="_hovertrigger url fn name " href='http://forums.phpfreaks.com/user/136614-realityripple/' title='View Profile'><span itemprop="name">RealityRipple</span></a></span>
				
			
				
			</h3>
			<div class='author_info'>
				<div itemscope itemtype="http://schema.org/Person" class='user_details'>
	<span class='hide' itemprop="name">RealityRipple</span>
	<ul class='basic_info'>
		
			<p class='desc member_title'>Member</p>
		
		<li class='avatar'>
				
				<a itemprop="url" href="http://forums.phpfreaks.com/user/136614-realityripple/" title="View Profile: RealityRipple" class='ipsUserPhotoLink'>
				
				
					<img itemprop="image" src='http://www.gravatar.com/avatar/e584582dd6b0ded1ba1250e0b055efac?s=100&amp;d=http%3A%2F%2Fforums.phpfreaks.com%2Fpublic%2Fstyle_images%2Fphpfreaks%2Fprofile%2Fdefault_large.png' class='ipsUserPhoto ipsUserPhoto_large' />
				
				
				</a>
				
			</li>
		<li class='group_title'>
			<span style="color:#555">Members</span>
		</li>
		<li class='group_icon'>
			
				<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' /><img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' />
			
			</li>
		
		<li class='post_count desc lighter'>
			11 posts
		</li>
		
		
	</ul>
	
	
		<ul class='custom_fields'>
			
				
					
				

					
				
			
		</ul>
	
	
</div>
			</div>
			<div class='post_body'>
				<p class='posted_info desc lighter ipsType_small'>
					Posted <abbr class="published" itemprop="commentTime" title="2013-01-14T23:56:53+00:00">14 January 2013 - 06:56 PM</abbr>
					
				</p>
				
				<div itemprop="commentText" class='post entry-content '>
					The problem I&#39;m seeing is that adding a new request will do nothing if the &quot;execute&quot; function is already complete, and just adding one and executing it alone is no different from a standard curl_exec, meaning it&#39;d just block the whole thing until that one finished.<br />
<br />
The method i&#39;m trying right now is a simple use of curl_multi_exec, blocking until all are complete and then moving onto the next requests once the first batch are complete. It will then loop this second run of multi_execs until there&#39;s nothing left to read, in the case of multiple logon try attempts being required. This will have the unfortunate side effect of &quot;blocking&quot; to wait for the slowest page, but it seems like no matter what you do, there will be blocking of some magnitude somewhere.<br />
<br />
(BTW, I&#39;m making these judgements on rolling curl by the php supplied at <a href='http://code.google.com/p/rolling-curl/source/browse/trunk/RollingCurl.php' class='bbc_url' title='External link' rel='external'>http://code.google.c...RollingCurl.php</a> - particularly lines 200-300.)
					
					<br />
					
				</div>
				
				
				<div class='ipsLikeBar right clearfix' id='rep_post_1405728'>
				<ul class='ipsList_inline'>
					<li id="like_post_1405728" class='ipsLikeBar_info' style="display:none">
							
						</li>
					
				</ul>
			</div>
<script type='text/javascript'>
	ipb.global.registerReputation( 'rep_post_1405728', { domLikeStripId: 'like_post_1405728', app: 'forums', type: 'pid', typeid: '1405728' }, parseInt('0') );
</script>
				
								
				
				
				
			
				<ul id='postControlsNormal_1405728' class='post_controls clear clearfix' >
					<li class='top hide'><a href='#ipboard_body' class='top' title='Back to top'>Back to top</a></li>
					
					
					
					
					
					
				</ul>
				
			</div>
		</div>
	</div>
		
		
		<hr />
		
		
<script type="text/javascript">
var pid = parseInt(1405728);
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}

	// Show multiquote for JS browsers
	if ( $('multiq_1405728') )
	{
		$('multiq_1405728').show();
	}
	
	if( $('toggle_post_1405728') )
	{
		$('toggle_post_1405728').show();
	}
	
	// Add perm data
	ipb.topic.deletePerms[1405728] = { 'canDelete' : 0, 'canSoftDelete' : 0 };

</script>
			

				<!--post:1405733-->

<div class='post_block hentry clear clearfix  ' id='post_id_1405733'>
		<a id='entry1405733'></a>
		
	
		
		<div class='post_wrap' >
			
				<h3 class='row2'>
			
				<span class='post_id right ipsType_small desc blend_links'>
					
						<a itemprop="replyToUrl" data-entry-pid='1405733' href='http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/#entry1405733' rel='bookmark' title='Improving efficiency on a time-consuming Cron job: post #11'>
					
					#11
					<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/icon_share.png' class='small' title='Improving efficiency on a time-consuming Cron job: post #11' />
					</a>
				</span>
				
				
					<span itemprop="creator name" class="author vcard"><a hovercard-ref="member" hovercard-id="124404" data-ipb="noparse" class="_hovertrigger url fn name " href='http://forums.phpfreaks.com/user/124404-kicken/' title='View Profile'><span itemprop="name">kicken</span></a></span>
				
			
				
			</h3>
			<div class='author_info'>
				<div itemscope itemtype="http://schema.org/Person" class='user_details'>
	<span class='hide' itemprop="name">kicken</span>
	<ul class='basic_info'>
		
			<p class='desc member_title'>Wiser? Not exactly.</p>
		
		<li class='avatar'>
				
				<a itemprop="url" href="http://forums.phpfreaks.com/user/124404-kicken/" title="View Profile: kicken" class='ipsUserPhotoLink'>
				
				
					<img itemprop="image" src='http://forums.phpfreaks.com/uploads/profile/photo-124404.png?_r=1359272020' class='ipsUserPhoto ipsUserPhoto_large' />
				
				
				</a>
				
			</li>
		<li class='group_title'>
			<span style='color:green'>Gurus</span>
		</li>
		<li class='group_icon'>
			
				<img src='http://forums.phpfreaks.com/public/style_extra/team_icons/phpf_guru.png' alt='' />
			
			</li>
		
		<li class='post_count desc lighter'>
			2,637 posts
		</li>
		
		
	</ul>
	
	
		<ul class='custom_fields'>
			
				
					
						<li>
							<span class='ft'>Location</span><span class='fc'>Bonita, FL</span>
						</li>
					
				

					
				
			
		</ul>
	
	
</div>
			</div>
			<div class='post_body'>
				<p class='posted_info desc lighter ipsType_small'>
					Posted <abbr class="published" itemprop="commentTime" title="2013-01-15T00:17:37+00:00">14 January 2013 - 07:17 PM</abbr>
					
				</p>
				
				<div itemprop="commentText" class='post entry-content '>
					<blockquote class='ipsBlockquote' data-author="&#39;RealityRipple&#39;" data-cid="1405728" data-time="1358207813" data-date="14 January 2013 - 06:56 PM"><p>The problem I&#39;m seeing is that adding a new request will do nothing if the &quot;execute&quot; function is already complete,<br /></p></blockquote><br />That won&#39;t be the case if you add the request during the processing callback function.  After rolling cURL calls your function, it checks if there are any pending requests yet to be processed (which will include the one(s) you just added during the callback).  If there are remaining requests to be processed it will add it to curl multi process and it will begin processing that request immediately.<br /><br />The only potential issue I see is if you start out with just a single request, as in that instance it skips the curl multi stuff and just does a single execution.  In that scenario any requests added after the initial call to execute() would be skipped.<br />
					
					<br />
					
				</div>
				
				
				<div class='ipsLikeBar right clearfix' id='rep_post_1405733'>
				<ul class='ipsList_inline'>
					<li id="like_post_1405733" class='ipsLikeBar_info' style="display:none">
							
						</li>
					
				</ul>
			</div>
<script type='text/javascript'>
	ipb.global.registerReputation( 'rep_post_1405733', { domLikeStripId: 'like_post_1405733', app: 'forums', type: 'pid', typeid: '1405733' }, parseInt('0') );
</script>
				
								
				
					<div class="signature" data-memberid="124404">
	
	<a href='http://cdrecyclingcenter.org/' class='bbc_url' title='External link' rel='external'>Recycle your old CD&#39;s</a>, don&#39;t trash them&#33;<br />Did I help you out?  Feeling generous? I accept tips via <a href='https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=ZLE5XD6TL5F2N' class='bbc_url' title='External link' rel='external'>Paypal</a> or Bitcoin @ <strong class='bbc'>14mDxaob8Jgdg52scDbvf3uaeR61tB2yC7</strong>
</div>
				
				
				
			
				<ul id='postControlsNormal_1405733' class='post_controls clear clearfix' >
					<li class='top hide'><a href='#ipboard_body' class='top' title='Back to top'>Back to top</a></li>
					
					
					
					
					
					
				</ul>
				
			</div>
		</div>
	</div>
		
		
		<hr />
		
		
<script type="text/javascript">
var pid = parseInt(1405733);
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}

	// Show multiquote for JS browsers
	if ( $('multiq_1405733') )
	{
		$('multiq_1405733').show();
	}
	
	if( $('toggle_post_1405733') )
	{
		$('toggle_post_1405733').show();
	}
	
	// Add perm data
	ipb.topic.deletePerms[1405733] = { 'canDelete' : 0, 'canSoftDelete' : 0 };

</script>
			

				<!--post:1405734-->

<div class='post_block hentry clear clearfix  ' id='post_id_1405734'>
		<a id='entry1405734'></a>
		
	
		
		<div class='post_wrap' >
			
				<h3 class='row2'>
			
				<span class='post_id right ipsType_small desc blend_links'>
					
						<a itemprop="replyToUrl" data-entry-pid='1405734' href='http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/#entry1405734' rel='bookmark' title='Improving efficiency on a time-consuming Cron job: post #12'>
					
					#12
					<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/icon_share.png' class='small' title='Improving efficiency on a time-consuming Cron job: post #12' />
					</a>
				</span>
				
				
					<span itemprop="creator name" class="author vcard"><a hovercard-ref="member" hovercard-id="136614" data-ipb="noparse" class="_hovertrigger url fn name " href='http://forums.phpfreaks.com/user/136614-realityripple/' title='View Profile'><span itemprop="name">RealityRipple</span></a></span>
				
			
				
			</h3>
			<div class='author_info'>
				<div itemscope itemtype="http://schema.org/Person" class='user_details'>
	<span class='hide' itemprop="name">RealityRipple</span>
	<ul class='basic_info'>
		
			<p class='desc member_title'>Member</p>
		
		<li class='avatar'>
				
				<a itemprop="url" href="http://forums.phpfreaks.com/user/136614-realityripple/" title="View Profile: RealityRipple" class='ipsUserPhotoLink'>
				
				
					<img itemprop="image" src='http://www.gravatar.com/avatar/e584582dd6b0ded1ba1250e0b055efac?s=100&amp;d=http%3A%2F%2Fforums.phpfreaks.com%2Fpublic%2Fstyle_images%2Fphpfreaks%2Fprofile%2Fdefault_large.png' class='ipsUserPhoto ipsUserPhoto_large' />
				
				
				</a>
				
			</li>
		<li class='group_title'>
			<span style="color:#555">Members</span>
		</li>
		<li class='group_icon'>
			
				<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' /><img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' />
			
			</li>
		
		<li class='post_count desc lighter'>
			11 posts
		</li>
		
		
	</ul>
	
	
		<ul class='custom_fields'>
			
				
					
				

					
				
			
		</ul>
	
	
</div>
			</div>
			<div class='post_body'>
				<p class='posted_info desc lighter ipsType_small'>
					Posted <abbr class="published" itemprop="commentTime" title="2013-01-15T00:20:50+00:00">14 January 2013 - 07:20 PM</abbr>
					
				</p>
				
				<div itemprop="commentText" class='post entry-content '>
					Ah, I see, clever single threading... So it should never block anything because it&#39;s just setting up another request, which will be handled in turn...<br />
<br />
I&#39;ll have to make sure the single request execution never occurs, I guess. Thank you very much - I&#39;ll let you know if there&#39;s any further problems.
					
					<br />
					
				</div>
				
				
				<div class='ipsLikeBar right clearfix' id='rep_post_1405734'>
				<ul class='ipsList_inline'>
					<li id="like_post_1405734" class='ipsLikeBar_info' style="display:none">
							
						</li>
					
				</ul>
			</div>
<script type='text/javascript'>
	ipb.global.registerReputation( 'rep_post_1405734', { domLikeStripId: 'like_post_1405734', app: 'forums', type: 'pid', typeid: '1405734' }, parseInt('0') );
</script>
				
								
				
				
				
			
				<ul id='postControlsNormal_1405734' class='post_controls clear clearfix' >
					<li class='top hide'><a href='#ipboard_body' class='top' title='Back to top'>Back to top</a></li>
					
					
					
					
					
					
				</ul>
				
			</div>
		</div>
	</div>
		
		
		<hr />
		
		
<script type="text/javascript">
var pid = parseInt(1405734);
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}

	// Show multiquote for JS browsers
	if ( $('multiq_1405734') )
	{
		$('multiq_1405734').show();
	}
	
	if( $('toggle_post_1405734') )
	{
		$('toggle_post_1405734').show();
	}
	
	// Add perm data
	ipb.topic.deletePerms[1405734] = { 'canDelete' : 0, 'canSoftDelete' : 0 };

</script>
			

				<!--post:1405806-->

<div class='post_block hentry clear clearfix  ' id='post_id_1405806'>
		<a id='entry1405806'></a>
		
	
		
		<div class='post_wrap' >
			
				<h3 class='row2'>
			
				<span class='post_id right ipsType_small desc blend_links'>
					
						<a itemprop="replyToUrl" data-entry-pid='1405806' href='http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/#entry1405806' rel='bookmark' title='Improving efficiency on a time-consuming Cron job: post #13'>
					
					#13
					<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/icon_share.png' class='small' title='Improving efficiency on a time-consuming Cron job: post #13' />
					</a>
				</span>
				
				
					<span itemprop="creator name" class="author vcard"><a hovercard-ref="member" hovercard-id="136614" data-ipb="noparse" class="_hovertrigger url fn name " href='http://forums.phpfreaks.com/user/136614-realityripple/' title='View Profile'><span itemprop="name">RealityRipple</span></a></span>
				
			
				
			</h3>
			<div class='author_info'>
				<div itemscope itemtype="http://schema.org/Person" class='user_details'>
	<span class='hide' itemprop="name">RealityRipple</span>
	<ul class='basic_info'>
		
			<p class='desc member_title'>Member</p>
		
		<li class='avatar'>
				
				<a itemprop="url" href="http://forums.phpfreaks.com/user/136614-realityripple/" title="View Profile: RealityRipple" class='ipsUserPhotoLink'>
				
				
					<img itemprop="image" src='http://www.gravatar.com/avatar/e584582dd6b0ded1ba1250e0b055efac?s=100&amp;d=http%3A%2F%2Fforums.phpfreaks.com%2Fpublic%2Fstyle_images%2Fphpfreaks%2Fprofile%2Fdefault_large.png' class='ipsUserPhoto ipsUserPhoto_large' />
				
				
				</a>
				
			</li>
		<li class='group_title'>
			<span style="color:#555">Members</span>
		</li>
		<li class='group_icon'>
			
				<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' /><img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' />
			
			</li>
		
		<li class='post_count desc lighter'>
			11 posts
		</li>
		
		
	</ul>
	
	
		<ul class='custom_fields'>
			
				
					
				

					
				
			
		</ul>
	
	
</div>
			</div>
			<div class='post_body'>
				<p class='posted_info desc lighter ipsType_small'>
					Posted <abbr class="published" itemprop="commentTime" title="2013-01-15T10:15:09+00:00">15 January 2013 - 05:15 AM</abbr>
					
				</p>
				
				<div itemprop="commentText" class='post entry-content '>
					It&#39;s almost perfect, but for some reason it won&#39;t unlink the cookies files created after it&#39;s done processing the last function. I surmise this is because the handle is removed after the callback occurs, so it&#39;s probably technically still in use. For now, I&#39;m wiping it at the beginning (if it exists) to ensure a clean set of cookies each time. I assume the execute I called will block until everything is done, though, so it would be safe to clear the files away there instead?
					
					<br />
					
				</div>
				
				
				<div class='ipsLikeBar right clearfix' id='rep_post_1405806'>
				<ul class='ipsList_inline'>
					<li id="like_post_1405806" class='ipsLikeBar_info' style="display:none">
							
						</li>
					
				</ul>
			</div>
<script type='text/javascript'>
	ipb.global.registerReputation( 'rep_post_1405806', { domLikeStripId: 'like_post_1405806', app: 'forums', type: 'pid', typeid: '1405806' }, parseInt('0') );
</script>
				
								
				
				
				
			
				<ul id='postControlsNormal_1405806' class='post_controls clear clearfix' >
					<li class='top hide'><a href='#ipboard_body' class='top' title='Back to top'>Back to top</a></li>
					
					
					
					
					
					
				</ul>
				
			</div>
		</div>
	</div>
		
		
		<hr />
		
		
<script type="text/javascript">
var pid = parseInt(1405806);
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}

	// Show multiquote for JS browsers
	if ( $('multiq_1405806') )
	{
		$('multiq_1405806').show();
	}
	
	if( $('toggle_post_1405806') )
	{
		$('toggle_post_1405806').show();
	}
	
	// Add perm data
	ipb.topic.deletePerms[1405806] = { 'canDelete' : 0, 'canSoftDelete' : 0 };

</script>
			

				<!--post:1405893-->

<div class='post_block hentry clear clearfix  ' id='post_id_1405893'>
		<a id='entry1405893'></a>
		
	
		
		<div class='post_wrap' >
			
				<h3 class='row2'>
			
				<span class='post_id right ipsType_small desc blend_links'>
					
						<a itemprop="replyToUrl" data-entry-pid='1405893' href='http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/#entry1405893' rel='bookmark' title='Improving efficiency on a time-consuming Cron job: post #14'>
					
					#14
					<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/icon_share.png' class='small' title='Improving efficiency on a time-consuming Cron job: post #14' />
					</a>
				</span>
				
				
					<span itemprop="creator name" class="author vcard"><a hovercard-ref="member" hovercard-id="124404" data-ipb="noparse" class="_hovertrigger url fn name " href='http://forums.phpfreaks.com/user/124404-kicken/' title='View Profile'><span itemprop="name">kicken</span></a></span>
				
			
				
			</h3>
			<div class='author_info'>
				<div itemscope itemtype="http://schema.org/Person" class='user_details'>
	<span class='hide' itemprop="name">kicken</span>
	<ul class='basic_info'>
		
			<p class='desc member_title'>Wiser? Not exactly.</p>
		
		<li class='avatar'>
				
				<a itemprop="url" href="http://forums.phpfreaks.com/user/124404-kicken/" title="View Profile: kicken" class='ipsUserPhotoLink'>
				
				
					<img itemprop="image" src='http://forums.phpfreaks.com/uploads/profile/photo-124404.png?_r=1359272020' class='ipsUserPhoto ipsUserPhoto_large' />
				
				
				</a>
				
			</li>
		<li class='group_title'>
			<span style='color:green'>Gurus</span>
		</li>
		<li class='group_icon'>
			
				<img src='http://forums.phpfreaks.com/public/style_extra/team_icons/phpf_guru.png' alt='' />
			
			</li>
		
		<li class='post_count desc lighter'>
			2,637 posts
		</li>
		
		
	</ul>
	
	
		<ul class='custom_fields'>
			
				
					
						<li>
							<span class='ft'>Location</span><span class='fc'>Bonita, FL</span>
						</li>
					
				

					
				
			
		</ul>
	
	
</div>
			</div>
			<div class='post_body'>
				<p class='posted_info desc lighter ipsType_small'>
					Posted <abbr class="published" itemprop="commentTime" title="2013-01-15T16:16:29+00:00">15 January 2013 - 11:16 AM</abbr>
					
				</p>
				
				<div itemprop="commentText" class='post entry-content '>
					Yea, add the unlink after your call to execute().  The script will be looping within that method until all the requests are complete.  Once it finishes it should be ok to remove the file and do any other post-processing you might want to do.
					
					<br />
					
				</div>
				
				
				<div class='ipsLikeBar right clearfix' id='rep_post_1405893'>
				<ul class='ipsList_inline'>
					<li id="like_post_1405893" class='ipsLikeBar_info' style="display:none">
							
						</li>
					
				</ul>
			</div>
<script type='text/javascript'>
	ipb.global.registerReputation( 'rep_post_1405893', { domLikeStripId: 'like_post_1405893', app: 'forums', type: 'pid', typeid: '1405893' }, parseInt('0') );
</script>
				
								
				
					<div class="signature" data-memberid="124404">
	
	<a href='http://cdrecyclingcenter.org/' class='bbc_url' title='External link' rel='external'>Recycle your old CD&#39;s</a>, don&#39;t trash them&#33;<br />Did I help you out?  Feeling generous? I accept tips via <a href='https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=ZLE5XD6TL5F2N' class='bbc_url' title='External link' rel='external'>Paypal</a> or Bitcoin @ <strong class='bbc'>14mDxaob8Jgdg52scDbvf3uaeR61tB2yC7</strong>
</div>
				
				
				
			
				<ul id='postControlsNormal_1405893' class='post_controls clear clearfix' >
					<li class='top hide'><a href='#ipboard_body' class='top' title='Back to top'>Back to top</a></li>
					
					
					
					
					
					
				</ul>
				
			</div>
		</div>
	</div>
		
		
		<hr />
		
		
<script type="text/javascript">
var pid = parseInt(1405893);
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}

	// Show multiquote for JS browsers
	if ( $('multiq_1405893') )
	{
		$('multiq_1405893').show();
	}
	
	if( $('toggle_post_1405893') )
	{
		$('toggle_post_1405893').show();
	}
	
	// Add perm data
	ipb.topic.deletePerms[1405893] = { 'canDelete' : 0, 'canSoftDelete' : 0 };

</script>
			

				<!--post:1405908-->

<div class='post_block hentry clear clearfix  ' id='post_id_1405908'>
		<a id='entry1405908'></a>
		
	
		
		<div class='post_wrap' >
			
				<h3 class='row2'>
			
				<span class='post_id right ipsType_small desc blend_links'>
					
						<a itemprop="replyToUrl" data-entry-pid='1405908' href='http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/#entry1405908' rel='bookmark' title='Improving efficiency on a time-consuming Cron job: post #15'>
					
					#15
					<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/icon_share.png' class='small' title='Improving efficiency on a time-consuming Cron job: post #15' />
					</a>
				</span>
				
				
					<span itemprop="creator name" class="author vcard"><a hovercard-ref="member" hovercard-id="136614" data-ipb="noparse" class="_hovertrigger url fn name " href='http://forums.phpfreaks.com/user/136614-realityripple/' title='View Profile'><span itemprop="name">RealityRipple</span></a></span>
				
			
				
			</h3>
			<div class='author_info'>
				<div itemscope itemtype="http://schema.org/Person" class='user_details'>
	<span class='hide' itemprop="name">RealityRipple</span>
	<ul class='basic_info'>
		
			<p class='desc member_title'>Member</p>
		
		<li class='avatar'>
				
				<a itemprop="url" href="http://forums.phpfreaks.com/user/136614-realityripple/" title="View Profile: RealityRipple" class='ipsUserPhotoLink'>
				
				
					<img itemprop="image" src='http://www.gravatar.com/avatar/e584582dd6b0ded1ba1250e0b055efac?s=100&amp;d=http%3A%2F%2Fforums.phpfreaks.com%2Fpublic%2Fstyle_images%2Fphpfreaks%2Fprofile%2Fdefault_large.png' class='ipsUserPhoto ipsUserPhoto_large' />
				
				
				</a>
				
			</li>
		<li class='group_title'>
			<span style="color:#555">Members</span>
		</li>
		<li class='group_icon'>
			
				<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' /><img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' />
			
			</li>
		
		<li class='post_count desc lighter'>
			11 posts
		</li>
		
		
	</ul>
	
	
		<ul class='custom_fields'>
			
				
					
				

					
				
			
		</ul>
	
	
</div>
			</div>
			<div class='post_body'>
				<p class='posted_info desc lighter ipsType_small'>
					Posted <abbr class="published" itemprop="commentTime" title="2013-01-15T18:24:44+00:00">15 January 2013 - 01:24 PM</abbr>
					
				</p>
				
				<div itemprop="commentText" class='post entry-content '>
					Excellent, thank you very much for your help. I hope adding another dozen customers doesn&#39;t slow this thing down (I&#39;m afraid to turn the window size up higher than 10 because so many users have the same host, I wouldn&#39;t want to get blocked for DDoS&#39;ing&#33;)
					
					<br />
					
				</div>
				
				
				<div class='ipsLikeBar right clearfix' id='rep_post_1405908'>
				<ul class='ipsList_inline'>
					<li id="like_post_1405908" class='ipsLikeBar_info' style="display:none">
							
						</li>
					
				</ul>
			</div>
<script type='text/javascript'>
	ipb.global.registerReputation( 'rep_post_1405908', { domLikeStripId: 'like_post_1405908', app: 'forums', type: 'pid', typeid: '1405908' }, parseInt('0') );
</script>
				
								
				
				
				
			
				<ul id='postControlsNormal_1405908' class='post_controls clear clearfix' >
					<li class='top hide'><a href='#ipboard_body' class='top' title='Back to top'>Back to top</a></li>
					
					
					
					
					
					
				</ul>
				
			</div>
		</div>
	</div>
		
		
		<hr />
		
		
<script type="text/javascript">
var pid = parseInt(1405908);
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}

	// Show multiquote for JS browsers
	if ( $('multiq_1405908') )
	{
		$('multiq_1405908').show();
	}
	
	if( $('toggle_post_1405908') )
	{
		$('toggle_post_1405908').show();
	}
	
	// Add perm data
	ipb.topic.deletePerms[1405908] = { 'canDelete' : 0, 'canSoftDelete' : 0 };

</script>
			

				<!--post:1408095-->

<div class='post_block hentry clear clearfix  ' id='post_id_1408095'>
		<a id='entry1408095'></a>
		
	
		
		<div class='post_wrap' >
			
				<h3 class='row2'>
			
				<span class='post_id right ipsType_small desc blend_links'>
					
						<a itemprop="replyToUrl" data-entry-pid='1408095' href='http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/#entry1408095' rel='bookmark' title='Improving efficiency on a time-consuming Cron job: post #16'>
					
					#16
					<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/icon_share.png' class='small' title='Improving efficiency on a time-consuming Cron job: post #16' />
					</a>
				</span>
				
				
					<span itemprop="creator name" class="author vcard"><a hovercard-ref="member" hovercard-id="136614" data-ipb="noparse" class="_hovertrigger url fn name " href='http://forums.phpfreaks.com/user/136614-realityripple/' title='View Profile'><span itemprop="name">RealityRipple</span></a></span>
				
			
				
			</h3>
			<div class='author_info'>
				<div itemscope itemtype="http://schema.org/Person" class='user_details'>
	<span class='hide' itemprop="name">RealityRipple</span>
	<ul class='basic_info'>
		
			<p class='desc member_title'>Member</p>
		
		<li class='avatar'>
				
				<a itemprop="url" href="http://forums.phpfreaks.com/user/136614-realityripple/" title="View Profile: RealityRipple" class='ipsUserPhotoLink'>
				
				
					<img itemprop="image" src='http://www.gravatar.com/avatar/e584582dd6b0ded1ba1250e0b055efac?s=100&amp;d=http%3A%2F%2Fforums.phpfreaks.com%2Fpublic%2Fstyle_images%2Fphpfreaks%2Fprofile%2Fdefault_large.png' class='ipsUserPhoto ipsUserPhoto_large' />
				
				
				</a>
				
			</li>
		<li class='group_title'>
			<span style="color:#555">Members</span>
		</li>
		<li class='group_icon'>
			
				<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' /><img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/bullet_black.png' alt='Pip' />
			
			</li>
		
		<li class='post_count desc lighter'>
			11 posts
		</li>
		
		
	</ul>
	
	
		<ul class='custom_fields'>
			
				
					
				

					
				
			
		</ul>
	
	
</div>
			</div>
			<div class='post_body'>
				<p class='posted_info desc lighter ipsType_small'>
					Posted <abbr class="published" itemprop="commentTime" title="2013-01-25T04:38:55+00:00">24 January 2013 - 11:38 PM</abbr>
					
				</p>
				
				<div itemprop="commentText" class='post entry-content '>
					Wow, this server just does not want to do this job. It&#39;s still getting intermittent 500 errors, often when loading two or three MantisBT bug pages at once, or when other semi-heavy PHP requests are made on the server. When I first tried to set up the script, I encountered problems due to it trying to run an old version of PHP4 in the cron job, and I had to direct it to my PHP5 folder. There is also an experimental PHP6 folder install, which I could also use. Do you think offloading the work of the cron job to the php4 install was intentional, and if so, should I try reverting the code to PHP4 or running it in PHP6 as a means of solving this problem? I suppose I should ask 1and1, but they take so long to get ahold of and rarely know what they&#39;re talking about, and try to sign me up for trials of things I don&#39;t want afterward. <span rel='lightbox'><img class='bbc_img' src='http://forums.phpfreaks.com/public/style_emoticons/default/uncertain.gif' class='bbc_emoticon' alt=':-&#92;' /></span>
					
					<br />
					
				</div>
				
				
				<div class='ipsLikeBar right clearfix' id='rep_post_1408095'>
				<ul class='ipsList_inline'>
					<li id="like_post_1408095" class='ipsLikeBar_info' style="display:none">
							
						</li>
					
				</ul>
			</div>
<script type='text/javascript'>
	ipb.global.registerReputation( 'rep_post_1408095', { domLikeStripId: 'like_post_1408095', app: 'forums', type: 'pid', typeid: '1408095' }, parseInt('0') );
</script>
				
								
				
				
				
			
				<ul id='postControlsNormal_1408095' class='post_controls clear clearfix' >
					<li class='top hide'><a href='#ipboard_body' class='top' title='Back to top'>Back to top</a></li>
					
					
					
					
					
					
				</ul>
				
			</div>
		</div>
	</div>
		
		
		<hr />
		
		
<script type="text/javascript">
var pid = parseInt(1408095);
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}

	// Show multiquote for JS browsers
	if ( $('multiq_1408095') )
	{
		$('multiq_1408095').show();
	}
	
	if( $('toggle_post_1408095') )
	{
		$('toggle_post_1408095').show();
	}
	
	// Add perm data
	ipb.topic.deletePerms[1408095] = { 'canDelete' : 0, 'canSoftDelete' : 0 };

</script>
			
		</div>
	</div>

<hr />
<div class='topic_controls clear ipsPad_top_bottom_half'>
	
	<div class='ipsPad_top_slimmer right'>
		
		<a href='http://forums.phpfreaks.com/forum/42-application-design/' class="ipsType_small desc">Back to Application Design</a>
		
			&middot; <a href='http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/?view=getnextunread' rel="nofollow" class="ipsType_small desc">Next Unread Topic &rarr;</a>
		
	</div>
</div>

<!-- Close topic -->
</div>
<!-- BOTTOM BUTTONS -->

	<br />
	<div class='clear clearfix left'>
		

	<ul class='topic_share left shareButtons ipsList_inline'>
	
		<li><a href="http://forums.phpfreaks.com/index.php?sharelink=twitter;aHR0cDovL2ZvcnVtcy5waHBmcmVha3MuY29tL3RvcGljLzI3MzA0NC1pbXByb3ZpbmctZWZmaWNpZW5jeS1vbi1hLXRpbWUtY29uc3VtaW5nLWNyb24tam9iLw,,;SW1wcm92aW5nIGVmZmljaWVuY3kgb24gYSB0aW1lLWNvbnN1bWluZyBDcm9uIGpvYg,," rel="nofollow" target="_blank" title="Share this link via Twitter" class='_slink' id='slink_twitter'><img src="http://forums.phpfreaks.com/public/style_extra/sharelinks/twitter.png" /></a></li>
	

		
				<li class='fbLike'><div class="fb-like" data-href="http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/" data-send="false" data-layout="button_count" data-width="150" data-show-faces="false" data-action="like"></div><div id="fb-root"></div></li>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=224092164386333";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
			
	

		
				<script type="text/javascript" src="https://apis.google.com/js/plusone.js">
	
		{lang: 'en-GB'}
	
</script>
<li><div class='googlePlusOne'><g:plusone count="false" size="small"></g:plusone></div></li>
			
	

		<li><a href="http://forums.phpfreaks.com/index.php?sharelink=digg;aHR0cDovL2ZvcnVtcy5waHBmcmVha3MuY29tL3RvcGljLzI3MzA0NC1pbXByb3ZpbmctZWZmaWNpZW5jeS1vbi1hLXRpbWUtY29uc3VtaW5nLWNyb24tam9iLw,,;SW1wcm92aW5nIGVmZmljaWVuY3kgb24gYSB0aW1lLWNvbnN1bWluZyBDcm9uIGpvYg,," rel="nofollow" target="_blank" title="Share this link via Digg" class='_slink' id='slink_digg'><img src="http://forums.phpfreaks.com/public/style_extra/sharelinks/digg.png" /></a></li>
	

		<li><a href="http://forums.phpfreaks.com/index.php?sharelink=delicious;aHR0cDovL2ZvcnVtcy5waHBmcmVha3MuY29tL3RvcGljLzI3MzA0NC1pbXByb3ZpbmctZWZmaWNpZW5jeS1vbi1hLXRpbWUtY29uc3VtaW5nLWNyb24tam9iLw,,;SW1wcm92aW5nIGVmZmljaWVuY3kgb24gYSB0aW1lLWNvbnN1bWluZyBDcm9uIGpvYg,," rel="nofollow" target="_blank" title="Share this link via Del.icio.us" class='_slink' id='slink_delicious'><img src="http://forums.phpfreaks.com/public/style_extra/sharelinks/delicious.png" /></a></li>
	

		<li><a href="http://forums.phpfreaks.com/index.php?sharelink=reddit;aHR0cDovL2ZvcnVtcy5waHBmcmVha3MuY29tL3RvcGljLzI3MzA0NC1pbXByb3ZpbmctZWZmaWNpZW5jeS1vbi1hLXRpbWUtY29uc3VtaW5nLWNyb24tam9iLw,,;SW1wcm92aW5nIGVmZmljaWVuY3kgb24gYSB0aW1lLWNvbnN1bWluZyBDcm9uIGpvYg,," rel="nofollow" target="_blank" title="Share this link via Reddit" class='_slink' id='slink_reddit'><img src="http://forums.phpfreaks.com/public/style_extra/sharelinks/reddit.png" /></a></li>
	

		<li><a href="http://forums.phpfreaks.com/index.php?sharelink=stumble;aHR0cDovL2ZvcnVtcy5waHBmcmVha3MuY29tL3RvcGljLzI3MzA0NC1pbXByb3ZpbmctZWZmaWNpZW5jeS1vbi1hLXRpbWUtY29uc3VtaW5nLWNyb24tam9iLw,,;SW1wcm92aW5nIGVmZmljaWVuY3kgb24gYSB0aW1lLWNvbnN1bWluZyBDcm9uIGpvYg,," rel="nofollow" target="_blank" title="Share this link via StumbleUpon" class='_slink' id='slink_stumble'><img src="http://forums.phpfreaks.com/public/style_extra/sharelinks/stumble.png" /></a></li>
	

		
	

		<li><a href="http://forums.phpfreaks.com/index.php?sharelink=print;aHR0cDovL2ZvcnVtcy5waHBmcmVha3MuY29tL3RvcGljLzI3MzA0NC1pbXByb3ZpbmctZWZmaWNpZW5jeS1vbi1hLXRpbWUtY29uc3VtaW5nLWNyb24tam9iLw,,;SW1wcm92aW5nIGVmZmljaWVuY3kgb24gYSB0aW1lLWNvbnN1bWluZyBDcm9uIGpvYg,," rel="nofollow" target="_blank" title="Print" class='_slink' id='slink_print'><img src="http://forums.phpfreaks.com/public/style_extra/sharelinks/print.png" /></a></li>
	

		<li><a href="http://forums.phpfreaks.com/index.php?sharelink=download;aHR0cDovL2ZvcnVtcy5waHBmcmVha3MuY29tL3RvcGljLzI3MzA0NC1pbXByb3ZpbmctZWZmaWNpZW5jeS1vbi1hLXRpbWUtY29uc3VtaW5nLWNyb24tam9iLw,,;SW1wcm92aW5nIGVmZmljaWVuY3kgb24gYSB0aW1lLWNvbnN1bWluZyBDcm9uIGpvYg,," rel="nofollow" target="_blank" title="Download" class='_slink' id='slink_download'><img src="http://forums.phpfreaks.com/public/style_extra/sharelinks/download.png" /></a></li>
	
	</ul>
	<script type="text/javascript">
		ipb.sharelinks.url   = "http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/";
		ipb.sharelinks.title = "Improving efficiency on a time-consuming Cron job";
		ipb.sharelinks.bname = "PHP Freaks";
	</script>

	</div>
	<br />

<!-- SAME TAGGED -->

<!-- ACTIVE USERS -->
<div id='topic_stats' class='statistics clear clearfix'>
		<div id='topic_active_users' class='active_users'>
			<h4 class='statistics_head'>0 user(s) are reading this topic</h4>
			<p class='statistics_brief desc'>0 members, 0 guests, 0 anonymous users</p>
			
		</div>
	</div>


	<script type="text/javascript" src="http://forums.phpfreaks.com/public/js/3rd_party/prettify/prettify.js"></script>
	<script type='text/javascript' src='http://forums.phpfreaks.com/public/js/3rd_party/prettify/lang-sql.js'></script>
	<!-- By default we load generic code, php, css, sql and xml/html; load others here if desired -->
	<script type="text/javascript">
	//<![CDATA[
		Event.observe( window, 'load', function(e){ prettyPrint() });
	//]]>
	</script>
<div id='multiQuoteInsert' style='display: none;' class='ipsFloatingAction'>
	<span class='ipsButton no_width' id='mqbutton'>Reply to quoted posts</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#' id='multiQuoteClear' class='ipsType_smaller desc' title='Clear the posts you have selected with MultiQuote'>Clear</a> &nbsp;&nbsp;&nbsp;
</div>
<form id="modform" method="post" action="http://forums.phpfreaks.com/index.php?">
	<input type="hidden" name="app" value="forums" />
	<input type="hidden" name="module" value="moderate" />
	<input type="hidden" name="section" value="moderate" />
	<input type="hidden" name="do" value="postchoice" />
	<input type="hidden" name="f" value="42" />
	<input type="hidden" name="t" value="273044" />
	<input type="hidden" name="auth_key" value="880ea6a14ea49e853634fbdc5015a024" />
	<input type="hidden" name="st" value="" />
	<input type="hidden" name="page" value="" />
	<input type="hidden" value="" name="selectedpidsJS" id='selectedpidsJS' />
	<input type="hidden" name="tact" id="tact" value="" />
</form>
				
					<div class='ipsAd'><div style="float:left;clear:both;padding:16px;">

    <a href="http://alphabit.com" title="Cheap Linux VPS from $5">Cheap Linux VPS from $5</a><br />
    <span style="color:black"> SSD Storage, 30 day Guarantee<br />
   1 TB of BW, 100% Network Uptime</span><br />
    <a href="http://alphabit.com"  title="Cheap Linux VPS from $5"><span style="color:green">AlphaBit.com</span></a>

</div>
<br /><br />


<script type="text/javascript"><!--
google_ad_client = "ca-pub-8794381281316343";
/* PHP Freaks forums */
google_ad_slot = "9136654976";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
				
				<ol class='breadcrumb bottom ipsList_inline left clearfix clear'>
											<li><a href='http://forums.phpfreaks.com/'>PHP Freaks</a></li>
							
						
							<li><span class='nav_sep'>&rarr;</span> <a href='http://forums.phpfreaks.com/forum/9-other/' title='Return to Other'><span>Other</span></a></li>
							
						

							<li><span class='nav_sep'>&rarr;</span> <a href='http://forums.phpfreaks.com/forum/42-application-design/' title='Return to Application Design'><span>Application Design</span></a></li>
							
						

					
					<li class='right ipsType_smaller'>
						<a rel="nofollow" href='http://forums.phpfreaks.com/privacypolicy/'>Privacy Policy</a>
					</li>
					
					<li class='right ipsType_smaller'>
							<a href='http://www.phpfreaks.com/page/rules-and-terms-of-service'>Forum Rules &amp; Terms of Service</a> &middot; 
						</li>	
				</ol>
			</div>
			<!-- ::: FOOTER (Change skin, language, mark as read, etc) ::: -->
			<div id='footer_utilities' class='main_width clearfix clear'>
				<a rel="nofollow" href='#top' id='backtotop' title='Go to top'><img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/top.png' alt='' /></a>
				<ul class='ipsList_inline left'>
					<li>
						<img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/feed.png' alt='RSS Feed' id='rss_feed' class='clickable' />
					</li>
					
							
								<li>
									<a rel="nofollow" id='new_skin' href='#'>Change Theme</a>			
									<ul id='new_skin_menucontent' class='ipbmenu_content with_checks' style='display: none'>
										
											<li >
												<a href='#' data-clicklaunch='changeSkin' data-skinid='2'>IP.Board Mobile</a>
											</li>
										

											<li class='selected'>
												<a href='#' data-clicklaunch='changeSkin' data-skinid='5'>PHP Freaks</a>
											</li>
										
									</ul>
								</li>
							
					
						<li>
							<a rel="nofollow" href='#' id='new_language'>PHP Freaks - English (USA)</a>							
							<ul id='new_language_menucontent' class='ipbmenu_content with_checks' style='display: none'>
								
									<li >
										<a href="?k=880ea6a14ea49e853634fbdc5015a024&amp;setlanguage=1&amp;cal_id=&amp;langid=1">English (USA)</a>
									</li>
								

									<li class='selected'>
										<a href="?k=880ea6a14ea49e853634fbdc5015a024&amp;setlanguage=1&amp;cal_id=&amp;langid=2">PHP Freaks - English (USA)</a>
									</li>
								
							</ul>
						</li>
					
					
						<li>
							<a rel="nofollow" id='mark_all_read' href="http://forums.phpfreaks.com/index.php?app=forums&amp;module=forums&amp;section=markasread&amp;marktype=all&amp;k=880ea6a14ea49e853634fbdc5015a024" title='Mark all as read'>Mark Community Read</a>
							<ul id='mark_all_read_menucontent' class='ipbmenu_content' style='display: none'>
								
									<li>
										
									</li>
								

									<li>
										<a href="http://forums.phpfreaks.com/index.php?app=forums&amp;module=forums&amp;section=markasread&amp;marktype=app&amp;markApp=forums&amp;k=880ea6a14ea49e853634fbdc5015a024">Forums</a>
									</li>
								

									<li>
										<a href="http://forums.phpfreaks.com/index.php?app=forums&amp;module=forums&amp;section=markasread&amp;marktype=app&amp;markApp=members&amp;k=880ea6a14ea49e853634fbdc5015a024">Members</a>
									</li>
								

									<li>
										<a href="http://forums.phpfreaks.com/index.php?app=forums&amp;module=forums&amp;section=markasread&amp;marktype=app&amp;markApp=ccs&amp;k=880ea6a14ea49e853634fbdc5015a024">Pages</a>
									</li>
								
								<li>
									<a href="http://forums.phpfreaks.com/index.php?app=forums&amp;module=forums&amp;section=markasread&amp;marktype=all&amp;k=880ea6a14ea49e853634fbdc5015a024"><strong>Mark all as read</strong></a>
								</li>
							</ul>
						</li>
					
					<li>
						<a href="http://forums.phpfreaks.com/index.php?app=core&amp;module=help" title='View help' rel="help" accesskey='6'>Help</a>
					</li>				
				</ul>
				<!-- Copyright Information -->
        				  <p id='copyright'>
        				  	<a href='http://www.invisionpower.com/apps/board/' title='Community Forum Software by Invision Power Services'>Community Forum Software by IP.Board</a><br />Licensed to: Philip Lawrence, PHP Freaks</p>
		<!-- / Copyright -->
			</div>
			
			
			
				<script type='text/javascript' src='http://forums.phpfreaks.com/public/js/3rd_party/lightbox.js'></script>
<script type='text/javascript'>
//<![CDATA[
	// Lightbox Configuration
	LightboxOptions = Object.extend({
	    fileLoadingImage:        'http://forums.phpfreaks.com/public/style_images/phpfreaks/lightbox/loading.gif',
	    fileBottomNavCloseImage: 'http://forums.phpfreaks.com/public/style_images/phpfreaks/lightbox/closelabel.gif',
	    overlayOpacity: 0.8,   // controls transparency of shadow overlay
	    animate: true,         // toggles resizing animations
	    resizeSpeed: 10,        // controls the speed of the image resizing animations (1=slowest and 10=fastest)
	    borderSize: 10,         //if you adjust the padding in the CSS, you will need to update this variable
		// When grouping images this is used to write: Image # of #.
		// Change it for non-english localization
		labelImage: "Image",
		labelOf: "of"
	}, window.LightboxOptions || {});
/* Watch for a lightbox image and set up our downloadbutton watcher */
document.observe('click', (function(event){
    var target = event.findElement('a[rel*="lightbox"]') || event.findElement('area[rel*="lightbox"]') || event.findElement('span[rel*="lightbox"]');
    if (target) {
        event.stop();
        gbl_addDownloadButton();
    }
}).bind(this));
var _to    = '';
var _last  = '';
function gbl_addDownloadButton()
{
	if ( typeof( ipsLightbox.lightboxImage ) != 'undefined' && ipsLightbox.lightboxImage.src )
	{
		if ( _last != ipsLightbox.lightboxImage.src )
		{
			if ( ! $('gbl_d') )
			{
				$('bottomNav').insert( { top: "<div id='gbl_d' style='text-align:right;padding-bottom:4px;'></div>" } );
			}
			
			$('gbl_d').update( "<a href='"+ ipsLightbox.lightboxImage.src + "' target='_blank'><img src='http://forums.phpfreaks.com/public/style_images/phpfreaks/lightbox/download-icon.png' /></a>" );
			
			_last = ipsLightbox.lightboxImage.src;
		}
	}
	
	/* Check for init and then keep checking for new image */
	_to = setTimeout( "gbl_addDownloadButton()", 1000 );
}
//]]>
</script>
			
			<div id='inline_login_form' style="display:none">
		<form action="http://forums.phpfreaks.com/index.php?app=core&amp;module=global&amp;section=login&amp;do=process" method="post" id='login'>
				<input type='hidden' name='auth_key' value='880ea6a14ea49e853634fbdc5015a024' />
				<input type="hidden" name="referer" value="http://forums.phpfreaks.com/topic/273044-improving-efficiency-on-a-time-consuming-cron-job/" />
				<h3>Sign In</h3>
				<div class='ipsBox_notice'>
						<ul class='ipsList_inline'>
							
								<li><a href="http://forums.phpfreaks.com/index.php?app=core&amp;module=global&amp;section=login&amp;serviceClick=facebook" class='ipsButton_secondary'><img src="http://forums.phpfreaks.com/public/style_images/phpfreaks/loginmethods/facebook.png" alt="Facebook" /> &nbsp; Use Facebook</a></li>
							
							
								<li><a href="http://forums.phpfreaks.com/index.php?app=core&amp;module=global&amp;section=login&amp;serviceClick=twitter" class='ipsButton_secondary'><img src="http://forums.phpfreaks.com/public/style_images/phpfreaks/loginmethods/twitter.png" alt="Twitter" /> &nbsp; Use Twitter</a></li>
							
							
							
						</ul>
					</div>
				<br />
				<div class='ipsForm ipsForm_horizontal'>
					<fieldset>
						<ul>
							<li class='ipsField'>
								<div class='ipsField_content'>
									Need an account? <a href="http://forums.phpfreaks.com/index.php?app=core&amp;module=global&amp;section=register" title='Register now!'>Register now!</a>
								</div>
							</li>
							<li class='ipsField ipsField_primary'>
								<label for='ips_username' class='ipsField_title'>Username</label>
								<div class='ipsField_content'>
									<input id='ips_username' type='text' class='input_text' name='ips_username' size='30' tabindex='0' />
								</div>
							</li>
							<li class='ipsField ipsField_primary'>
								<label for='ips_password' class='ipsField_title'>Password</label>
								<div class='ipsField_content'>
									<input id='ips_password' type='password' class='input_text' name='ips_password' size='30' tabindex='0' /><br />
									<a href='http://forums.phpfreaks.com/index.php?app=core&amp;module=global&amp;section=lostpass' title='Retrieve password'>I've forgotten my password</a>
								</div>
							</li>
							<li class='ipsField ipsField_checkbox'>
								<input type='checkbox' id='inline_remember' checked='checked' name='rememberMe' value='1' class='input_check' tabindex='0' />
								<div class='ipsField_content'>
									<label for='inline_remember'>
										<strong>Remember me</strong><br />
										<span class='desc lighter'>This is not recommended for shared computers</span>
									</label>
								</div>
							</li>
							
								<li class='ipsField ipsField_checkbox'>
									<input type='checkbox' id='inline_invisible' name='anonymous' value='1' class='input_check' tabindex='0' />
									<div class='ipsField_content'>
										<label for='inline_invisible'>
											<strong>Sign in anonymously</strong><br />
											<span class='desc lighter'>Don't add me to the active users list</span>
										</label>
									</div>
								</li>
							
							
							<li class='ipsPad_top ipsForm_center desc ipsType_smaller'>
								<a rel="nofollow" href='http://forums.phpfreaks.com/privacypolicy/'>Privacy Policy</a>
							</li>
							
						</ul>
					</fieldset>
					
					<div class='ipsForm_submit ipsForm_center'>
						<input type='submit' class='ipsButton' value='Sign In' tabindex='0' />
					</div>
				</div>
			</form>
	</div>
		</div>
		
		
		<script type='text/javascript'>
			if( $('primary_nav') ){	ipb.global.activateMainMenu(); }
		</script>
			
<script>
$$('#copyright > a')[0].setAttribute('href', 'https://www.invisionpower.com/clients/index.php?app=nexus&module=promotion&section=referral&id=61219&direct=aHR0cHM6Ly93d3cuaW52aXNpb25wb3dlci5jb20vY2xpZW50cy9pbmRleC5waHA%2F');
</script>
</body>
</html>
