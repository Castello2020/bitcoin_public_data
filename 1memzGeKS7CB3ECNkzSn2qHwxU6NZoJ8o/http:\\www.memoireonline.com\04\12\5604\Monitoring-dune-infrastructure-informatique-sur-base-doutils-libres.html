http://www.memoireonline.com/04/12/5604/Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres.html
HTTP/1.1 200 OK
Date: Thu, 24 Jul 2014 08:14:30 GMT
Server: Apache
Last-Modified: Sat, 07 Jun 2014 18:21:30 GMT
ETag: "320911-40808-4fb430c06de80"
Accept-Ranges: bytes
Cache-Control: max-age=3600
Expires: Thu, 24 Jul 2014 09:14:30 GMT
Vary: Accept-Encoding
Content-Encoding: gzip
Connection: close
Content-Type: text/html

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    
<script type="text/javascript" src="https://apis.google.com/js/plusone.js" async>{lang: 'fr'}</script>
<script type='text/javascript' src='http://partner.googleadservices.com/gampad/google_service.js'></script>
<script type='text/javascript'>var _ACM="ca-pub-2070567197244873";GS_googleAddAdSenseService(_ACM);GS_googleEnableAllServices();</script>
<script type='text/javascript' async>
GA_googleAddSlot(_ACM,"mo_s_MPU");GA_googleAddSlot(_ACM,"MemoireOnline");GA_googleAddSlot(_ACM,"MemoireOnlineD");
GA_googleAddSlot(_ACM,"MemoireOnlineI");GA_googleAddSlot(_ACM,"MemoireOnlineS");GA_googleAddSlot(_ACM,"mo-eco-p");
GA_googleAddSlot(_ACM,"mo_art_M");GA_googleAddSlot(_ACM,"mo_art_P");GA_googleAddSlot(_ACM,"mo_droit_P");
GA_googleAddSlot(_ACM,"mo_informatique_techno_P");GA_googleAddSlot(_ACM,"mo_medecine_P");GA_googleAddSlot(_ACM,"mo_art_M2_s");
GA_googleAddSlot(_ACM,"mo_art_M_s");GA_googleAddSlot(_ACM,"mo_art_MPU2_s");GA_googleAddSlot(_ACM,"mo_art_MPU_s");
GA_googleAddSlot(_ACM,"mo_eco_M2_s");GA_googleAddSlot(_ACM,"mo_eco_M_s");GA_googleAddSlot(_ACM,"mo_eco_MPU2_s");
GA_googleAddSlot(_ACM,"mo_eco_MPU_s");GA_googleAddSlot(_ACM,"mo_law_M2_s");GA_googleAddSlot(_ACM,"mo_law_M_s");
GA_googleAddSlot(_ACM,"mo_law_MPU2_s");GA_googleAddSlot(_ACM,"mo_law_MPU_s");GA_googleAddSlot(_ACM,"mo_med_M2_s");
GA_googleAddSlot(_ACM,"mo_med_M_s");GA_googleAddSlot(_ACM,"mo_med_MPU2_s");GA_googleAddSlot(_ACM,"mo_med_MPU_s");
GA_googleAddSlot(_ACM,"mo_sci_M2_s");GA_googleAddSlot(_ACM,"mo_sci_M_s");GA_googleAddSlot(_ACM,"mo_sci_MPU2_s");
GA_googleAddSlot(_ACM,"mo_sci_MPU_s");
</script>
<script type='text/javascript'>GA_googleFetchAds();</script>
<script type="text/javascript">(function() {
    var useSSL = 'https:' == document.location.protocol;
    var src = ( useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
    document.write('<scr' + 'ipt src="' + src + '"></scr' + 'ipt>');
})();</script>
<script type='text/javascript'>
    googletag.cmd.push(function() {
    googletag.defineSlot(
        '/14668010/memoireonline/home',
        [[728, 90], [728, 200]],
        'div-gpt-mega-1')
        .addService(googletag.pubads())
        .setTargeting("pos", "1")
        ;
    googletag.defineSlot(
        '/14668010/memoireonline/home',
        [[728, 90], [728, 200]],
        'div-gpt-mega-2')
        .addService(googletag.pubads())
        .setTargeting("pos", "2")
        ;
    googletag.defineSlot(
        '/14668010/memoireonline/home',
        [[300, 250], [300, 600]],
        'div-gpt-mpu-1')
        .addService(googletag.pubads())
        .setTargeting("pos", "1")
        ;
    googletag.defineSlot(
        '/14668010/memoireonline/home',
        [[300, 250], [300, 600]],
        'div-gpt-mpu-2')
        .addService(googletag.pubads())
        .setTargeting("pos", "2")
        ;
    googletag.defineSlot(
        '/14668010/memoireonline/home',
        [[120, 600], [160, 600]],
        'div-gpt-sky-right')
        .addService(googletag.pubads())
        .setTargeting("pos", "right")
        ;
    googletag.pubads().enableSyncRendering();
    googletag.enableServices();
    });
</script><script type="text/javascript" src="http://c.ad6media.fr/l.js" async></script>
<link rel="stylesheet" media="all" type="text/css" href="http://memoireonline.com/css/p.css" />
<script src="http://memoireonline.com/js/p.js"></script>
<title>Memoire Online - Monitoring d'une infrastructure informatique sur base d'outils libres - Youssouf Nâ€™TCHIRIFOU</title><meta property="og:image" content="http://memoireonline.com/logo_200px.jpg">
            <meta property="og:type" content="article"/>
            <meta property="og:site_name" content="Memoire Online"/>	    
    <link rel=stylesheet href="http://direct01.memoireonline.com/css/stylee.css" type="text/css">
<link rel="shortcut icon" type="image/png" href="/favicon.png">
</head><body>
<div class="bitcoin" id="bitcoin"><span class="bitcoin"><span class="pub">WOW !! MUCH LOVE ! SO WORLD PEACE !<br></span>Fond bitcoin pour l'am&eacute;lioration du site: <a href='https://blockchain.info/address/1memzGeKS7CB3ECNkzSn2qHwxU6NZoJ8o'>1memzGeKS7CB3ECNkzSn2qHwxU6NZoJ8o</a>
<br>&nbsp;&nbsp;Dogecoin (tips/pourboires): <a class='dogecoin' id='dogecoin' href='dogecoin:DCLoo9Dd4qECqpMLurdgGnaoqbftj16Nvp'>DCLoo9Dd4qECqpMLurdgGnaoqbftj16Nvp</a>
 </span></div>



<div id="fb-root"></div>
<script async>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/fr_FR/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div id='doge2'><div><div> <img id="doge2" class="doge2" src="http://www.memoireonline.com/doge.png" /> </div></div></div>

<div class="tmsg">
<div class="fb-like" href="http://facebook.com/memoireonline" data-send="false" data-layout="button_count" data-width="250" data-show-faces="true" data-font="arial"></div>
</div>
<table><tr><td width="270px"><img src="http://memoireonline.com/logo_200px.jpg" width="200"></td><td><br>
<form action="http://www.memoireonline.com/recherche3.html" class="search" id="recherche-memoireonline">
<div class="recherche_b">
<input type="hidden" name="cof" value="FORID:11" /><input type="hidden" name="ie" value="ISO-8859-15" />
Rechercher sur le site:
<input type="text" id="recherche_q" name="q" size="84" maxlength="255" value=""></input>
<input type="hidden" name="cx" value="partner-pub-2070567197244873:mqp2ps9rfo1" />
<input type="submit" class="lsd2" name="sa" value=" Recherche " /></div></form>
<script type="text/javascript" src="//www.google.fr/cse/brand?form=cse-search-box&amp;lang=fr"></script></td></tr></table><br>
<span class="lme"><div align="center">
<a href="http://www.memoireonline.com/">Home</a> | <b><a href="http://www.memoireonline.com/up/publication.html">Publier un m&eacute;moire</a></b> | <a href="http://www.memoireonline.com/chance.php">Une page au hasard</a></td>
</div></span><br><table width="100%" border="0" cellspacing="0" cellpadding="0" bordercolor="#000000" bgcolor="#DDDDCC" class=rgt><tr><td>
<p><h1 class='entete'>Monitoring d'une infrastructure informatique sur base d'outils libres</h1><br><font size="2" face="Arial, Helvetica, sans-serif"><i>par</i> Youssouf N'TCHIRIFOU <br> Institut africain d'administration et d'&eacute;tudes commerciales (IAEC) Togo&nbsp;-&nbsp;Master II&nbsp;2010<br>Dans la categorie: <a href='http://www.memoireonline.com/sommaires/informatique-telecommunications.html'>Informatique et T&eacute;l&eacute;communications</a></font>&nbsp;
<g:plusone size="small"></g:plusone>
&nbsp;
<div class="fb-like" href="http://www.memoireonline.com/04/12/5604/m_Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres0.html" data-send="false" data-layout="button_count" data-width="250" data-show-faces="true" data-font="arial"></div>
<span class='clink'><a href='http://www.memoireonline.com/a/fr/cart/add/5604'> T&eacute;l&eacute;charger le fichier original</a></span><br></td><td> <p align="right"><font size="2" face="Arial, Helvetica, sans-serif"><a href="m_Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres.html">Disponible en mode multipage</a></font></p> 
  
   
	 
  

	 </td></tr></table></td></tr></table><table width="100%" cellspacing="0" cellpadding="0"><tr><td valign="top" id="clickInText" class="core"><div id='sept7'><div class='visible'><div>
<script async type='text/javascript'>
GA_googleFillSlot("mo_eco_M_s");
</script>
</div></div></div><table><tr><td>

<ul>
</ul>
</ul>
</ul>



<h1 class="core"><A NAME="toc0"></A>                                      INTRODUCTION
GENERALE</h1>

<p Align=justify>Les notions de science et de technique se transforment
&agrave; un rythme rapide depuis la grande r&eacute;volution scientifique du
18&egrave;me si&egrave;cle. Ces changements ont apport&eacute; de nouvelles
satisfactions, une autonomie renouvel&eacute;e et une forte dose d'innovation.
Mais de nos jours l'on parle plut&ocirc;t  des nouvelles technologies de
communication et de l'information avec l'informatique qui devient de plus en
plus incontournable. Science du traitement  rationnel de l'information,
l'informatique s'impose  plus que jamais, comme un outil pr&eacute;cieux dont a
besoin toute entreprise qui veut  accro&icirc;tre sa productivit&eacute; et
rester comp&eacute;titive sur le plan international. Ainsi  dans le domaine des
entreprises modernes, l'adoption d'un syst&egrave;me informatique facilite
&eacute;norm&eacute;ment les processus d'administration (personnelle et
mat&eacute;rielle) et de productivit&eacute;. Un tel outil aide &agrave; bien
satisfaire les exigences croissantes non seulement des administrateurs, mais
aussi des utilisateurs, c'est pourquoi les d&eacute;veloppeurs
con&ccedil;oivent ce syst&egrave;me d'une telle fa&ccedil;on que tous les
besoins soient satisfaits &agrave; travers une bonne gestion de toutes les
branches de l'entreprise.</p>
<p Align=justify>En effet, toutes les entreprises, de nos jours, sont
&eacute;quip&eacute;es d'un r&eacute;seau local au minimum, et pour les plus
importantes d'entre elles de r&eacute;seaux longue distance (Wide Area
Network), leurs parcs informatiques englobent des centaines, voire des milliers
de terminaux engendr&eacute;s par des serveurs de bases de donn&eacute;es et
des serveurs de traitements. L'apparition de ces nouveaux environnements
informatis&eacute;s rend la surveillance des &eacute;l&eacute;ments clefs de
r&eacute;seau et de syst&egrave;me une op&eacute;ration indispensable, afin de
minimiser la perte d'exploitation et garantir que les utilisateurs ne
s'aper&ccedil;oivent pas des anomalies de fonctionnement. Ces anomalies
provoquent des cons&eacute;quences variables en degr&eacute; pour le
fonctionnement au niveau de syst&egrave;me d'entreprise. En effet,
l'arr&ecirc;t d'un service de messagerie n'est pas aussi co&ucirc;teux que la
perte de la base de donn&eacute;es de son entreprise due &agrave; un disque
d&eacute;fectueux.</p>
<p Align=justify>Vu que le syst&egrave;me informatique est au coeur des
activit&eacute;s d'entreprise, sa ma&icirc;trise devient primordiale, puisque,
il doit fonctionner pleinement et en permanence pour garantir la
fiabilit&eacute; et l'efficacit&eacute; exig&eacute;es, d'une part. D'autre
part, les probl&egrave;mes li&eacute;s au syst&egrave;me informatique tels que
les d&eacute;faillances, les pannes, les coupures et les diff&eacute;rents
probl&egrave;mes techniques doivent &ecirc;tre r&eacute;duits, du fait qu'une
indisponibilit&eacute; du syst&egrave;me ou du r&eacute;seau peut causer des
pertes consid&eacute;rables.</p>
<p Align=justify>Afin de minimiser le nombre de ces pertes, une sorte de
surveillance et de contr&ocirc;le s'av&egrave;re obligatoire ; c'est ainsi que
la notion de la <strong><em>&#171; supervision informatique &#187;
</em></strong>a vu le jour et est devenue une t&acirc;che vitale pour tout
syst&egrave;me informatique. Cette nouvelle branche d'administration
syst&egrave;me/r&eacute;seau doit assurer trois fonctionnalit&eacute;s :</p>
<p Align=justify>- garantir la disponibilit&eacute; de leurs syst&egrave;me et
r&eacute;seau ;</p>
<p Align=justify>- anticiper sur l'apparition d'&eacute;ventuels
probl&egrave;mes ;</p>
<p Align=justify>- garantir une dur&eacute;e d'intervention et de
r&eacute;solution minimale.</p>
<p Align=justify> Consciente de cet enjeu, la F&eacute;d&eacute;rale
d'Assurances TOGO-SA (FEDAS-TOGO) n'a m&eacute;nag&eacute;e aucun effort en se 
dotant d'un service informatique pour mettre en place un syst&egrave;me
informatique performant. Ainsi le lien &eacute;troit existant  entre la
supervision du syst&egrave;me informatique d'une entreprise et sa
productivit&eacute; suscite notre curiosit&eacute; et justifie certainement le
choix du th&egrave;me de notre m&eacute;moire&nbsp;:&lt;&lt;<strong> MONITORING
D'UNE INFRASTRUCTURE INFORMATIQUE SUR BASE D'OUTILS LIBRES &gt;&gt;. 
</strong>Nous  appelons par outils libres, les logiciels non
propri&eacute;taire (gratuit) et dont les utilisateurs ont les quatre
libert&eacute;s essentielles&nbsp;:</p>
<p Align=justify>- La libert&eacute; d'ex&eacute;cuter le programme, pour tous
les usages.</p>
<p Align=justify>- La libert&eacute; d'&eacute;tudier le fonctionnement du
programme, et de l'adapter &agrave; vos besoins, pour ceci l'acc&egrave;s aux
codes sources est une condition requise.</p>
<p Align=justify>- La libert&eacute; de redistribuer les copies, donc d'aider
voisins.</p>
<p Align=justify>- La libert&eacute; d'am&eacute;liorer le programme et de
publier vos am&eacute;liorations, pour en faire profiter toute la
communaut&eacute; libre.  </p>
<p Align=justify>  La F&eacute;d&eacute;rale d'Assurances Togo S.A (FEDAS-TOGO)
est une soci&eacute;t&eacute;  qui   vend des produits d'assurances.</p>
<p Align=justify>Compte tenu de l'augmentation de ses activit&eacute;s
d'assurances  qui s'&eacute;tendent maintenant  sur  tout le territoire
togolais, les engagements envers ses clients en terme de qualit&eacute; de
service et de haute disponibilit&eacute; deviennent primordiales, il
s'av&egrave;re indispensable  que  la soci&eacute;t&eacute; par le biais de son
service informatique &eacute;tudie  l'impl&eacute;mentation d'une supervision
compl&egrave;te de son infrastructure informatique. Notre travail consiste,
alors, &agrave; impl&eacute;menter une architecture &agrave; base de logiciels
libres  adapt&eacute;e &agrave; la supervision informatique en assurant la
d&eacute;tection des pannes dans un syst&egrave;me informatique donn&eacute;.
Puis, nous allons tenter de r&eacute;soudre, s'il y a possibilit&eacute;, les
probl&egrave;mes qui apparaissent dans l'environnement du r&eacute;seau
informatique pour offrir un meilleur service. Pour r&eacute;aliser ce travail,
nous pensons  particuli&egrave;rement  &agrave; la mise en place de la
supervision du syst&egrave;me d'information de la FEDAS-TOGO,  avec   Nagios
coupl&eacute; &agrave; Centreon deux logiciels libres distribu&eacute;s sous
licence GPL, dans un environnement virtualis&eacute; gr&acirc;ce au logiciel de
virtualisation Vmware. Etant donn&eacute; que nous avons opt&eacute; pour un
environnement centralis&eacute; et virtualis&eacute; nous allons
pr&eacute;alablement cr&eacute;er un ordinateur virtuel qui nous servira de
serveur  ensuite nous allons devoir  proc&eacute;der &agrave; l'installation et
la configuration de nagios et de centreon pour la surveillance de
l'infrastructure de la fedas-togo et en fin pour visualisation de l'utilisation
de la bande passante sur le r&eacute;seau nous feront recourt &agrave;  MRTG
(<em>Multi Router Traffic Grapher)</em> qui est un  logiciel
d&eacute;di&eacute; &agrave; la supervision r&eacute;seau. </p>
<p Align=justify>Notre m&eacute;moire   sera  structur&eacute; sur quatre
parties.</p>
<p Align=justify>Dans la premi&egrave;re partie nous proc&eacute;derons
&agrave; la pr&eacute;sentation g&eacute;n&eacute;rale de la FEDAS-TOGO. Dans
la seconde partie, nous &eacute;tablirons l'&eacute;tude pr&eacute;alable de
l'infrastructure informatique &agrave; superviser. Nous tenterons d'examiner
les difficult&eacute;s rencontr&eacute;es dans la gestion actuelle et en
proposerons quelques solutions. La troisi&egrave;me partie fera l'objet de
l'&eacute;tude exhaustive en se basant sur les deux concepts qui nous
permettrons la cr&eacute;ation de la plate-forme de surveillance&nbsp;: la
virtualisation et la supervision. Et enfin dans la quatri&egrave;me partie nous
proc&eacute;derons l'impl&eacute;mentation des outils de monitoring que nous
avons choisi (nagios, centreon, MRTG) pour mettre en place notre syst&egrave;me
de surveillance en pr&eacute;sentant tout le processus d'installation, de
configuration et d'ex&eacute;cution des logiciels.</p>
<p Align=justify>Finalement, nous terminons par une conclusion
g&eacute;n&eacute;rale qui r&eacute;capitule les principales observations
concernant l'&eacute;volution du travail et nous indiquons &eacute;galement
comment les travaux r&eacute;alis&eacute;s tout au long de ce m&eacute;moire
pourraient &ecirc;tre am&eacute;lior&eacute;s.</p>
<p Align=justify>A la fin de ce document, nous pr&eacute;senterons une annexe
qui introduit des concepts techniques utilis&eacute;s pour la conception de
notre syst&egrave;me de supervision, &agrave; savoir la plateforme.</p>


<h1 class="core"><A NAME="toc1"></A> PREMIERE PARTIE</h1>


<h1 class="core"><A NAME="toc2"></A><A NAME="toc3"></A><A NAME="toc4"></A><A
NAME="toc5"></A>   PRESENTATION  DE LA FEDERALE D'ASSURANCES TOGO </h1>


<h1 class="core"><A NAME="toc6"></A><A NAME="toc7"></A> (FEDAS-TOGO)</h1>


<h1 class="core"><A NAME="toc8"></A><A NAME="toc9"></A>  I. CONTEXTE ORGANISATIONNEL ET
DMINISTRATIF </h1>

<p Align=justify>                            </p>


<h2 class="core"><A NAME="toc10"></A>1. Cr&eacute;ation et objet de la
soci&eacute;t&eacute;</h2>


<h3 class="core">
<A NAME="toc11"></A>1.1 Assurances&nbsp;: notions</h3>


<h4><A NAME="toc12"></A>1.1.1 D&eacute;finitions</h4>

<p Align=justify>D'un point de vue juridique, l'assurance est le contrat par le
quel le souscripteur se voit promettre une prestation en cas de
r&eacute;alisation d'un risque moyennant le payement d'un prix appel&eacute;
prime ou cotisation. En versant la prime, le cocontractant de l'assureur
obtient la garantie. Cette garantie est constitu&eacute;e d'un ensemble
d'obligations pour l'assureur.</p>
<p Align=justify> La F&eacute;d&eacute;rale d'Assurances (FEDAS TOGO) est une
filiale du groupe international FEDAS ayant son si&egrave;ge en
R&eacute;publique du B&eacute;nin. D'un capital de un milliard (1.000.000.000 )
de FCFA enti&egrave;rement lib&eacute;r&eacute;&nbsp;; la FEDAS TOGO est
situ&eacute;e dans le quartier HANOUKOPE notamment au 129, boulevard du 13
janvier. Pour l'exercice 2003, elle a occup&eacute; le 5<sup>e</sup> rang en
termes de chiffre d'affaires.</p>
<p Align=justify> Apr&egrave;s les formalit&eacute;s r&eacute;glementaires
impos&eacute;es par la CRCA (Commission R&eacute;gionale du Contr&ocirc;le des
Assurances), la FEDAS TOGO a re&ccedil;u son agr&eacute;ment du
Minist&egrave;re de l'Economie, des Finances et des Privatisations par
l'arr&ecirc;t&eacute; minist&eacute;riel No 097/MEFP du 12 d&eacute;cembre
2002. Par cet agr&eacute;ment, la FEDAS TOGO, est autoris&eacute;e &agrave;
exercer en<strong> </strong>r&eacute;publique togolaise, des<strong>
</strong>op&eacute;rations d'assurances &eacute;num&eacute;r&eacute;es selon la
nomenclature des branches IARD (Incendie Accidents Risques Divers) et
mentionn&eacute;es &agrave; l'article 328 de code CIMA&nbsp;(Conf&eacute;rence
Interafricaine des March&eacute;s d'Assurances):</p>
<p Align=justify>1. Accidents</p>
<p Align=justify>2. Maladies</p>
<p Align=justify>3. Corps de v&eacute;hicules terrestres</p>
<p Align=justify>7. Marchandises transport&eacute;es</p>
<p Align=justify>8. Incendies et &eacute;l&eacute;ments naturels</p>
<p Align=justify>9. Autres dommages aux biens</p>
<p Align=justify>10. Responsabilit&eacute;s civiles des v&eacute;hicules
terrestres automoteurs</p>
<p Align=justify>11. Responsabilit&eacute;s civiles g&eacute;n&eacute;rales</p>
<p Align=justify>Il faut noter que la num&eacute;rotation adopt&eacute;e pour
cet expos&eacute; est celle retenue par le code CIMA pour
&eacute;num&eacute;rer les &eacute;l&eacute;ments de la nomenclature des
branches d'assurances IARD.</p>


<h4><A NAME="toc13"></A>1.2.1 Structure de la FEDAS TOGO</h4>

<p Align=justify>A sa cr&eacute;ation, les textes de constitution de la FEDAS
TOGO pr&eacute;voyaient trois grandes subdivisions pour &eacute;pauler la
direction g&eacute;n&eacute;rale dans l'accomplissement des objectifs de la
soci&eacute;t&eacute;&nbsp;: une direction technique, une direction
administrative, financi&egrave;re et comptable, une direction
commerciale<strong>.</strong></p>
<p Align=justify>A l'heure actuelle, seule la direction technique est
op&eacute;rationnelle. Pour des raisons de ma&icirc;trise des co&ucirc;ts,
(tr&egrave;s importants pour toute entreprise en phase de croissance, les
autres directions seront pourvues progressivement. En attendant cela&nbsp;; la
structure de la FEDAS TOGO s'articule autour de la direction
g&eacute;n&eacute;rale et de la direction technique.</p>
<p Align=justify>La direction technique est compos&eacute;e de deux
services&nbsp;: le service production et le service sinistre. Le service
production est lui-m&ecirc;me subdivis&eacute; en deux&nbsp;: la division de la
production automobile et la division de la production risques divers.</p>
<p Align=justify>A la direction g&eacute;n&eacute;rale sont rattach&eacute;s en
attendant la mise sur pied de la direction administrative, financi&egrave;re et
comptable, les services suivants&nbsp;: le service financier, le service
comptable, le service informatique, les services g&eacute;n&eacute;raux. La
gestion administrative des contrats est laiss&eacute;e &agrave; la direction
technique et au service informatique.</p>
<p Align=justify>Comme on peut le constater, la structure commerciale semble
&ecirc;tre ignor&eacute; dans la structure actuelle de la FEDAS TOGO. Dans la
pratique, cette fonction est exerc&eacute;e par la direction
g&eacute;n&eacute;rale aid&eacute;e par la direction technique. En effet qu'il
s'agisse de faire des &eacute;tudes afin de recueillir, de traiter, et
d'analyser les informations du march&eacute;, de d&eacute;velopper une certaine
politique de communication ou de distribution, de g&eacute;rer la force de
vente, les d&eacute;cisions majeures sont prises par la direction
g&eacute;n&eacute;rale en collaboration avec la direction technique.<strong>
</strong>Aussi est-on amen&eacute; &agrave; se demander si<strong>
</strong>l'absence des autres directions et surtout celle commerciale n'a pas
quelque influences sur la viabilit&eacute; des actions commerciales
men&eacute;es par l'entreprise et ce d'autant plus que dans la vie quotidienne
de l'entreprise, on ne sent pas une nette d&eacute;finition des postes et que
la soci&eacute;t&eacute; ne dispose pas jusqu'ici d'un organigramme clairement
et nettement d&eacute;fini.</p>
<p Align=justify>Cet &eacute;tat des choses rend actuellement une &eacute;tude
du syst&egrave;me fonctionnel et du syst&egrave;me de commande de la FEDAS TOGO
tr&egrave;s d&eacute;licate.</p>


<h1 class="core"><A NAME="toc14"></A> II. CONTEXTE  INFORMATIQUE DE LA FEDAS-TOGO </h1>

<p Align=justify>La FEDAS-TOGO dispose d'un r&eacute;seau local compos&eacute;
de plus de quelques mat&eacute;riels informatiques. C'est un petit
r&eacute;seau de type Ethernet 100 Base T se pr&eacute;sentant sous la forme
d'un bus. Cette section sera consacr&eacute;e &agrave; la description de ce
r&eacute;seau et &agrave; celle de ses constituants physiques et logiciels</p>
<p Align=justify><strong>1. Architecture du r&eacute;seau local de la
FEDAS-TOGO</strong></p>
<p Align=justify>Le r&eacute;seau local de la FEDAS-TOGO s'&eacute;tend  sur 2
niveaux (&eacute;tage) gr&acirc;ce &agrave; des c&acirc;bles assimilables
&agrave; des colonnes montantes. Les deux niveaux disposent d'un switch 
&agrave; 24 ports qui interconnecte tous les postes de travail de chaque niveau
via les prises RJ45 dont chaque bureau dispose.  Ce r&eacute;seau local ainsi 
constitu&eacute; est connect&eacute; &agrave; l'Internet par une antenne qui
pointe sur celle de IDS technologie situ&eacute;e au dessus de l'immeuble de la
BTCI. Un  routeur  est connect&eacute; d'une part &agrave; l'antenne  et
d'autre part au serveur Proxy. Le serveur Proxy quant &agrave; lui
poss&egrave;de deux cartes r&eacute;seaux dont l'une est reli&eacute;e au
r&eacute;seau local et l'autre &agrave; l'Internet. </p>
<p Align=justify><strong>1.1 MATERIELS</strong></p>
<p Align=justify>Quelques &eacute;l&eacute;ments mat&eacute;riels rentrent dans
la constitution physique du r&eacute;seau de la FEDAS-TOGO. Nous avons en autre
:</p>
<p Align=justify>s UN<strong> </strong>commutateur<strong>&nbsp;</strong>:
switch D-LINK Des-1024D&nbsp;&agrave; 24 ports RJ45 10/100&nbsp;;</p>
<p Align=justify>s 1 routeur CISCO SOHO 91 &agrave; 4 ports Ethernet 10/100
BASET, un port RJ45 console et un port Ethernet 10 BASET Internet </p>
<p Align=justify>Pour une simplification, nous pr&eacute;senterons le reste du
mat&eacute;riel dans les tableaux&nbsp;1.1 et 1.2.</p>
<p Align=justify>s Serveurs &nbsp;  </p>
<p Align=justify>La  FEDAS- Togo  s'est dot&eacute; d' un serveur HP
dimensionn&eacute; de la fa&ccedil;on suivante&nbsp;:</p>
<p Align=left><strong> Model</strong>&nbsp;: DL380 G&eacute;n&eacute;ration 5
</p>
<p Align=left><strong> Type de Processeur</strong>&nbsp;: Processeur
Intel&#174; Xeon&#174; quadricoeur </p>
<p Align=left><strong> Vitesse du Processeur</strong>&nbsp;: Quadricoeur 2 Ghz
au moins</p>
<p Align=left><strong> Nombre de processeurs</strong>&nbsp;: 2 processeurs
install&eacute;s ayant au moins 2Ghz </p>
<p Align=left><strong> Noyau processeur disponible</strong>&nbsp;:
Quadricoeur</p>
<p Align=left><strong> Bus Syst&egrave;me</strong>&nbsp;: Bus frontal &agrave;
1333 Mhz</p>
<p Align=left><strong> M&eacute;moire cache interne</strong>: 8 Mo (2 x 4 Mo)
de m&eacute;moire cache de niveau 2</p>
<p Align=left><strong> M&eacute;moire Ram<u>&nbsp;</u></strong>: 8 Go (8 x 1Go)
de m&eacute;moire standard extensible &agrave; 32Go</p>
<p Align=left><strong> Type de m&eacute;moire</strong>&nbsp;: Emplacement
m&eacute;moire DIMM P-5300 (DDR2-667)</p>
<p Align=left><strong> Capacit&eacute; de disque dur</strong>&nbsp;: 4 disque
Dur SAS HP de 146,8Go  hot plug universel mont&eacute; en RAID 5</p>
<p Align=left><strong> Contr&ocirc;leur RAID</strong>&nbsp;: Contr&ocirc;leur
HP  Smart  Array pouvant supporter le RAID 5 et plus</p>
<p Align=left><strong> Lecteur optique CD</strong>&nbsp;: Combo DVD/CD-RW</p>
<p Align=left><strong> Interface r&eacute;seau</strong>&nbsp;: Deux cartes
r&eacute;seau Gigabit multifonctions NC373i int&eacute;gr&eacute; avec un
moteur de d&eacute;chargement TCP/IP</p>
<p Align=left><strong> Ports d'E-S externes</strong>&nbsp;: S&eacute;rie&nbsp;:
1&nbsp;; P&eacute;riph&eacute;rique de pointage (souris)&nbsp;: 1&nbsp;; 
Graphique&nbsp;; Clavier&nbsp;: 1&nbsp;; VGA&nbsp;: 2 (1 en fa&ccedil;ade, 1
&agrave; l'arri&egrave;re)&nbsp;; R&eacute;seau&nbsp;de  gestion &agrave;
distance iLO 2&nbsp;: 1&nbsp;; Ports USB 2.0&nbsp;: 5 (2 en fa&ccedil;ade, 2 en
arri&egrave;re, 1 en interne)</p>
<p Align=left><strong> Type d'alimentation &eacute;lectrique</strong>&nbsp;:
Double alimentation redondante enfichable &agrave; chaud </p>
<p Align=justify><strong> Ventilateur</strong>&nbsp;: ventilateur redondant</p>
<p Align=justify>s Postes de travail&nbsp;</p>
<p Align=justify>La soci&eacute;t&eacute; dispose actuellement d'environ 40
postes de travail dont les caract&eacute;ristiques et fonctions sont
r&eacute;sum&eacute;es dans le tableau ci-apr&egrave;s.</p>
<p Align=justify><strong>Tableau 1.1&nbsp;: Description des postes de
travail</strong></p>

<p Align=justify></p>

<DIV Align=justify><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<p Align=justify><strong>Quantit&eacute;</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=justify><strong>Equipements</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=justify><strong>Caract&eacute;ristiques</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=justify><strong>Fonction ou destination </strong></p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=justify><A NAME="_Hlk34623372"></A>15</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>PC HP COMPAQ dx 7500 MT</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>PIV-866, Ram 512Mo, HD 120Go, P 2GHz</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>Dans les services de la direction g&eacute;n&eacute;rale </p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=justify>18</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>PC HP COMPAQ dx 6120</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>PIV-CPU, Ram 1Go, HD 120Go, 3 GHz</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>Dans les bureaux</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=justify>02</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>PC HP COMPAQ dx 5800</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>PII-400, Ram 512Mo, HD 160Go, NIC 10/100</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>Les bureaux money gram</p>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=justify>05</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=justify>Ordinateurs portables HP COMPAQ EVO </p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=justify>P4-1500, Ram 1Go, HD 80Go, 2 GHz</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=justify>Directeur g&eacute;n&eacute;ral, Directeur Technique et
commercial, et missions</p>
</TD>
</TR>
</TABLE></DIV>

<p Align=justify>s Imprimantes</p>
<p Align=justify>La FEDAS dispose au total de 28 imprimantes d&eacute;crites
comme suit&nbsp;: (voir tableau 1.3)</p>


<h4><A NAME="toc15"></A>Tableau 1.2&nbsp;: Description des imprimantes</h4>

<p Align=justify><strong></strong></p>

<DIV Align=left><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<p Align=justify><strong>Quantit&eacute;</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=justify><strong>Equipements</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=justify><strong>Caract&eacute;ristiques</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=justify><strong>Fonction ou destination</strong></p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=justify>05</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>Imprimante HP P2015</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>Hors r&eacute;seau</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>Bureaux int&eacute;rieurs du pays</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=justify>10</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>Imprimante HP P2014</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>Partag&eacute; en r&eacute;seau</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>Bureaux de lom&eacute;</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=justify>02</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>Imprimante HP 1300</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>Hors r&eacute;seau</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>Bureaux money Gram</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=justify>08</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>Imprimante HP 1200</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>Partag&eacute;s en r&eacute;seau</p>
</TD>
<TD Align=left Valign=top>
<p Align=justify>Service de la direction</p>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=justify>03</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=justify>Imprimante HP 1020</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=justify>Hors en  r&eacute;seau</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=justify>Directeur G&eacute;n&eacute;ral, Directeur technique et
commercial, Missions</p>
</TD>
</TR>
</TABLE></DIV>

<p Align=justify><strong>1.2 LOGICIELS </strong></p>

<blockquote>
<p Align=justify>&#167;  Applications </p>
</blockquote>

<p Align=justify>La FEDAS-TOGO dispose de trois applications&nbsp;</p>
<p Align=justify>L'application &lt;&lt;auto&gt;&gt; qui permet la gestion des
&eacute;missions de contrats d'assurances automobiles.</p>
<p Align=justify>L'application &lt;&lt;Compta&gt;&gt;  permettant  la gestion
de toutes les op&eacute;rations comptables.</p>
<p Align=justify>L'application &lt;&lt;Tras/78&gt;&gt;  permettant  la gestion
de toutes les op&eacute;rations de r&eacute;assurance.</p>
<p Align=justify>Le logiciel &lt;&lt;GESATES&gt;&gt; est un logiciel
con&ccedil;u pour la gestion des attestations provisoires. </p>
<p Align=justify>Toutes les autres activit&eacute;s de la soci&eacute;t&eacute;
sont assur&eacute;es par  Word et Excel.</p>


<h1 class="core"><A NAME="toc16"></A> III.  SERVICE INFORMATIQUE DE LA FEDAS-TOGO</h1>

<p Align=left>Nous consacrerons cette section &agrave; la pr&eacute;sentation
du service Informatique et de l'Organisation, lieu effectif de notre stage
&agrave; la FEDAS-TOGO.</p>


<h2 class="core"><A NAME="toc17"></A>1. Le service Informatique et de l'Organisation   </h2>

<p Align=left>Le service Informatique et de l'organisation qui d&eacute;pend
directement de la direction technique a pour r&ocirc;le de r&eacute;pondre aux
besoins de la soci&eacute;t&eacute;  en ce qui concerne l'aspect informatique
de son syst&egrave;me de traitement de l'information. Il  s'occupe de tout ce
qui a trait  au Syst&egrave;me  d'Information Automatis&eacute; (S.I.A) de la
FEDAS-TOGO, notamment des aspects de d&eacute;veloppement, d'exploitation, de
maintenance, de bureautique et r&eacute;seau.</p>
<p Align=justify>Le service informatique et de l'organisation, pour &ecirc;tre
&agrave; la hauteur des t&acirc;ches qui lui sont assign&eacute;es, s'est
subdivis&eacute; en deux sections. Ce sont&nbsp;</p>

<blockquote>
<p Align=justify>s  Section <strong>Applications Sp&eacute;cifiques</strong>
qui s'occupe du d&eacute;veloppement des applications, de leur gestion et de
leur maintenance.</p>
<p Align=justify>s  Section <strong>R&eacute;seau et  Maintenance</strong>
assurant la maintenance de tout le parc informatique. Cette section est
confi&eacute;e la soci&eacute;t&eacute; &lt;&lt;G&eacute;nie
informatique&gt;&gt; qui s'occupe de la maintenance. </p>
</blockquote>


<h1 class="core"><A NAME="toc18"></A> DEUXIEME PARTIE&nbsp;:</h1>


<h1 class="core"><A NAME="toc19"></A><A NAME="toc20"></A> ETUDE PREALABLE</h1>

<p Align=justify>Cette &eacute;tape constitue une r&eacute;flexion globale sur
le domaine concern&eacute; par notre projet. Elle permettra de faire ressortir
la probl&eacute;matique, et de d&eacute;finir les objectifs, d'&eacute;tudier
l'existant et de proposer des solutions.</p>


<h2 class="core"><A NAME="toc21"></A>I. Probl&eacute;matique et objectifs du projet</h2>


<h3 class="core">
<A NAME="toc22"></A>   A. Probl&eacute;matique</h3>

<p Align=justify>Dans le cadre de son programme de restructuration et
d'am&eacute;lioration de ses prestations, la FEDAS-TOGO a effectu&eacute; un
certain nombre d'audits pour d&eacute;celer les domaines o&ugrave; il est
n&eacute;cessaire de faire des reformes<strong>.</strong></p>
<p Align=justify>Il a &eacute;t&eacute; remarqu&eacute; entre autres beaucoup
insuffisances dans l'organisation et la gestion de son infrastructure
informatique. En effet, le nombre sans cesse croissant des ordinateurs dans le
cadre de ses activit&eacute;s de plus en plus ascendantes entra&icirc;ne une
quantit&eacute; plus importante d'informations &agrave; g&eacute;rer &agrave;
l'administrateur r&eacute;seau. Or la gestion d'un parc informatique est un
travail de chaque instant. Un bon administrateur syst&egrave;me doit savoir
&agrave; tout moment l'&eacute;tat des diff&eacute;rentes machines et des
diff&eacute;rents services. Un autre aspect cl&eacute; est que l'administrateur
ne peut pas se permettre de passer son temps devant un tableau avec des voyants
verts en attendant qu'un voyant passe au rouge pour agir. Son temps est
occup&eacute; &agrave; d'autres t&acirc;ches et il ne peut donc pas surveiller
le tableau de statut en permanence.</p>
<p Align=justify>L'examen journalier des logs syst&egrave;mes est un bon
d&eacute;but. Cependant, si un probl&egrave;me survient, on s'en rend compte
seulement le lendemain. Ce qui peut &ecirc;tre trop tard. Tout probl&egrave;me
ou panne peut avoir de lourdes cons&eacute;quences aussi bien
financi&egrave;res qu'organisationnelles. La supervision des r&eacute;seaux est
alors n&eacute;cessaire et indispensable. </p>
<p Align=justify>Un r&eacute;seau informatique peut &ecirc;tre l'objet de
nombreux probl&egrave;mes tels que l'indisponibilit&eacute; d'un ordinateur ou
la d&eacute;faillance physique du r&eacute;seau. Les risques sont multiples. De
plus, la FEDAS-TOGO, qui est une institution financi&egrave;re g&egrave;re
&eacute;galement les transactions mon&eacute;tiques avec sa filiale Afrique
Finance (Money Gram). Toute indisponibilit&eacute;, m&ecirc;me d'une seconde,
pourrait co&ucirc;ter des millions de FCFA, la n&eacute;cessit&eacute;
d'emp&ecirc;cher ou d'att&eacute;nuer les indisponibilit&eacute;s est
vitale.</p>
<p Align=justify>En plus la non utilisation d'outils de supervision pose
plusieurs probl&egrave;mes &agrave; l'&eacute;quipe d'exploitation
informatique.</p>
<p Align=justify>La supervision est donc un volet prioritaire dans la
disponibilit&eacute; des services offerts aux clients de la FEDAS-TOGO. Il faut
noter aussi que la FEDAS-TOGO ne dispose d'aucun outil de supervision pour la
surveillance des ressources mat&eacute;rielles et logiciels du parc
informatique ce qui pose plusieurs probl&egrave;mes au service informatique.</p>
<p Align=justify>- Pas d'alerte en cas de probl&egrave;me d'une unit&eacute; de
production</p>
<p Align=justify>- Difficult&eacute; d'appr&eacute;cier une panne car il n'y a
pas d'outil le permettant</p>
<p Align=justify>- En cas de probl&egrave;me  aucune identification de la panne
n'est possible avant l'arriv&eacute;e de l'&eacute;quipe de la
soci&eacute;t&eacute; de maintenance.</p>
<p Align=justify>Ces diff&eacute;rentes limites font ressortir alors plusieurs
questions fondamentales que nous nous tentons de r&eacute;soudre tout au long
de ce document :</p>
<p Align=justify>- Comment convaincre les dirigeants pour l'achat d'un logiciel
de supervision ?</p>
<p Align=justify>- Comment  int&eacute;grer les outils de supervision libres
dans la plate forme d&eacute;j&agrave;  mis en place au sein de la FEDAS-TOGO
?</p>
<p Align=justify>Devant ce constat et dans le cadre de ce m&eacute;moire, nous
avons fix&eacute; l'objectif de concevoir et de r&eacute;aliser un
syst&egrave;me de monitoring informatique, qui pour le mettre en oeuvre, nous
nous dirigeons naturellement vers une solution libre.</p>
<p Align=justify>Pourquoi les outils libres (gratuits), pour minimiser
consid&eacute;rablement le co&ucirc;t de l'impl&eacute;mentation du
syst&egrave;me de monitoring. En plus la demande &agrave; la direction
g&eacute;n&eacute;rale de l'achat d'un logiciel de supervision a eu pour
r&eacute;ponse &#171;&nbsp;cette d&eacute;pense n'est pas pr&eacute;vu dans le
budget en cours&nbsp;&#187;. Donc pour pallier imm&eacute;diatement &agrave; ce
grave manquement la seule solution rapide est l'utilisation de logiciels qui
co&ucirc;tent z&eacute;ro francs. Mais force est de constater aussi que
malgr&eacute; l'existence des logiciels de supervision &agrave; prix
&eacute;lev&eacute; propos&eacute;s par des soci&eacute;t&eacute;s (logiciels
propri&eacute;taires) HP Rams 41&nbsp;224,00 Euro, IMB Tivoli Storage Manager 2
192.14 Euro, les outils propos&eacute;s par le monde du libre s'av&egrave;res
plus efficaces en terme de s&eacute;curit&eacute; et de fiabilit&eacute;. Nous
rappelons que avec les outils libres seule prestation du service
d'impl&eacute;mentation qui est factur&eacute;e elle est  
g&eacute;n&eacute;ralement d'environ 700 000 Fcfa (1 068,7 Euro).</p>
<p Align=justify>Pour pouvoir int&eacute;grer un tel syst&egrave;me dans la
plate forme d&eacute;j&agrave; en place sans rien modifier nous avons
pens&eacute; &agrave; la virtualisation, ce qui nous permettra de cr&eacute;er
une machine virtuelle qui sera le serveur sur lequel sera install&eacute; tous
les logiciels (plus pr&eacute;cis&eacute;ment nagios centreon et MRTG)  pour
l'impl&eacute;mentation du syst&egrave;me de monitoring.<strong> </strong>Elle
nous permet d'avoir une ind&eacute;pendance vis-&agrave;-vis du mat&eacute;riel
(la machine virtuelle ne g&egrave;re pas le mat&eacute;riel)&nbsp;; elle assure
une disponibilit&eacute; car en cas de panne physique non critique, il est
simple et rapide de copier &agrave; chaud un serveur virtuel vers un serveur
h&ocirc;te diff&eacute;rent. De plus &eacute;tant donn&eacute; que nous
&eacute;voluons dans le domaine du libre nous aurons besoin
d'exp&eacute;rimentations et tests et seule la virtualisation facilite la
gestion et test de plusieurs versions d'applicatifs de mani&egrave;re
ind&eacute;pendante et sans  risque sans oublier aussi le fait qu'elle permet
de r&eacute;pondre rapidement aux besoins de nouveaux serveurs.<strong>
</strong></p>


<h3 class="core">
<A NAME="toc23"></A>B. Objectifs</h3>

<p Align=left>L'objectif g&eacute;n&eacute;ral de la supervision est de
r&eacute;pondre aux pr&eacute;occupations suivantes :</p>
<p Align=left>- Technique : surveillance du r&eacute;seau et des
syst&egrave;mes,</p>
<p Align=left>- Applicative : surveillance des applications et des processus
m&eacute;tiers.</p>
<p Align=left>A ces pr&eacute;occupations majeures s'ajoutent les actions
indispensables &agrave; la surveillance du syst&egrave;me. Ce sont les actions
automatis&eacute;es ou manuelles en fonction d'alertes d&eacute;finies.</p>
<p Align=left>La supervision s'applique &agrave; plusieurs domaines :</p>
<p Align=left>- les r&eacute;seaux informatiques,</p>
<p Align=left>- les syst&egrave;mes informatiques</p>
<p Align=left>- les ressources techniques,</p>
<p Align=left>- les bases de donn&eacute;es,</p>
<p Align=left>- les applications,</p>
<p Align=left>- les syst&egrave;mes d'information</p>
<p Align=justify> L'objectif sp&eacute;cifique de notre travail est de
centraliser  et monitorer  sur une machine virtuelle toutes les informations
concernant une infrastructure informatique &agrave; plusieurs niveaux&nbsp;:</p>
<p Align=justify>- Services (v&eacute;rifier que les services sont bien
fonctionnels) ;</p>
<p Align=justify>- Machine (&eacute;tat du syst&egrave;me de fichiers,
chargement m&eacute;moire et CPU, ...) ;</p>
<p Align=justify>- R&eacute;seau (engorgement du r&eacute;seau, bande passante,
table de routage, ...) ;</p>
<p Align=justify>La plate-forme de travail sera compos&eacute;e des
distributions linux Red Hat Entreprise, fedora et Microsoft Windows.</p>
<p Align=justify> Pour r&eacute;aliser ce travail, nous comptons passer par les
&eacute;tapes suivantes :</p>
<p Align=justify><strong>- </strong>Etudier les syst&egrave;mes de supervision
et leurs principes.</p>
<p Align=justify><strong>- </strong>Etudier les syst&egrave;mes de
virtualisation et leurs fonctionnalit&eacute;s.</p>
<p Align=justify><strong>- </strong>Impl&eacute;menter  nagios centreon et MRTG
en montrant tout le processus d'installation et de configuration.</p>
<p Align=justify><strong>- </strong>Tester et estimer cette architecture.</p>


<h1 class="core"><A NAME="toc24"></A> TROISIEME PARTIE&nbsp;:</h1>


<h1 class="core"><A NAME="toc25"></A><A NAME="toc26"></A> ETUDE DETAILLEE</h1>

<p Align=justify>L'&eacute;tude pr&eacute;alable nous a permis d'avoir une vue
sur la gestion actuelle du r&eacute;seau de la fedas-togo. Cette
troisi&egrave;me partie  nous permettra de faire une &eacute;tude
d&eacute;taill&eacute;e  des deux grands concepts qui permettrons la mise en
place d'un syst&egrave;me de monitoring centralis&eacute; de haute
disponibilit&eacute; de l'infrastructure informatique de la
soci&eacute;t&eacute; : la virtualisation et la supervision.</p>


<h1 class="core"><A NAME="toc27"></A> CHAPITRE 1&nbsp;: La virtualisation</h1>


<h2 class="core"><A NAME="toc28"></A>1. historique </h2>

<p Align=justify>La virtualisation est au centre de plusieurs d&eacute;bats
informatiques de nos jours. </p>
<p Align=justify>Mais beaucoup de personnes ne r&eacute;alisent pas que la
virtualisation n'est pas un nouveau concept. La virtualisation a
&eacute;t&eacute; d&eacute;velopp&eacute;e dans les ann&eacute;es 1960 sur les
mainframes IBM. IBM System/370 a &eacute;t&eacute; la premi&egrave;re
plateforme commercialis&eacute;e con&ccedil;ue pour la virtualisation. Avec
l'introduction du syst&egrave;me d'exploitation CP/CMS, plusieurs instances de
syst&egrave;mes d'exploitation peuvent &ecirc;tre ex&eacute;cut&eacute;s
simultan&eacute;ment sur les mainframes IBM system/370. </p>
<p Align=justify>La combinaison mat&eacute;rielle et logicielle pour supporter
la virtualisation fut au centre des travaux de recherches et est devenue une
base dans la lign&eacute;e des mainframes IBM. Par cons&eacute;quent tous les
mainframes IBM r&eacute;cents dans la lign&eacute;e des syst&egrave;mes Z
continuent de fournir un support mat&eacute;riel pour la virtualisation. Le
logiciel originel CP/CMS a &eacute;t&eacute; remplac&eacute; par le z/VM
(Virtual Machine) qui exploite plus efficacement le mat&eacute;riel de
virtualisation. </p>
<p Align=justify>De nombreuses approches de virtualisation moderne doivent
beaucoup &agrave; l'impl&eacute;mentation originale des mainframes d'IBM.</p>
<p Align=justify>Dans la deuxi&egrave;me moiti&eacute; des ann&eacute;es 80 et
dans les d&eacute;buts des ann&eacute;es 90, on a cr&eacute;&eacute; des
embryons de virtualisation pour les ordinateurs personnels. </p>
<p Align=justify>En effet l'ordinateur Amiga pouvait lancer des pc x386,
Macintosh 68xxx, voire des solutions X11, et bien s&ucirc;r le tout en
multit&acirc;che. Ces solutions pouvaient &ecirc;tre soit purement logicielles,
soit coupl&eacute;es &agrave; du mat&eacute;riel additionnel (ajout de
processeur, carte r&eacute;seau...). Cette machine, tr&egrave;s en avance sur
son temps, a popularis&eacute; cette technologie. Pour les PC il y avait le
"SideCar" et "PC Task", pour le Macintosh Emplant et ShapeShifter. </p>
<p Align=justify>Les grands Unix ont suivi avec les architectures NUMA des
Superdome d'HP </p>
<p Align=justify>(PARISC et IA64) et des E10000/E15000 de Sun (UltraSparc).
Dans la seconde moiti&eacute; des ann&eacute;es 1990, les &eacute;mulateurs sur
x86 des vieilles machines des ann&eacute;es 1980 ont connu un &eacute;norme
succ&egrave;s, notamment les ordinateurs Atari, Amiga, Amstrad et les consoles
NES, SNES, NeoGeo AES. </p>
<p Align=justify>La soci&eacute;t&eacute; VMware d&eacute;veloppa et popularisa
&agrave; la fin des ann&eacute;es 1990 et au d&eacute;but des ann&eacute;es
2000 un syst&egrave;me propri&eacute;taire de virtualisation logicielle des
architectures de type x86 pour les architectures de type x86. Les logiciels
libres Xen, QEMU, Bochs, LinuxVServer , Virtual Box et les logiciels
propri&eacute;taires mais gratuits VirtualPC, VirtualServer et VMware Server
ont achev&eacute; la popularisation de la virtualisation dans le monde x86.
VMware a derni&egrave;rement rendu gratuit une version alleg&eacute;e de son
hyperviseur phare ESX3i. </p>
<p Align=justify>Les fabricants de processeurs x86 AMD et Intel ont mis en
oeuvre la  virtualisation mat&eacute;rielle dans leurs gammes dans la seconde
moiti&eacute; de l'an 2000.</p>


<h2 class="core"><A NAME="toc29"></A>2. pourquoi virtualiser ? </h2>

<p Align=justify>Qu'attendent les entreprises de la virtualisation ? </p>
<p Align=justify><strong>-</strong> La r&eacute;duction du nombre de serveurs
</p>
<p Align=justify><strong>-</strong> La r&eacute;duction de l'espace
occup&eacute; dans les datacenters </p>
<p Align=justify><strong>-</strong> La r&eacute;duction de la consommation
&eacute;nerg&eacute;tique des datacenters </p>
<p Align=justify><strong>-</strong> R&eacute;duction des co&ucirc;ts
d'administration </p>
<p Align=justify><strong>-</strong> Am&eacute;lioration de la
flexibilit&eacute; et de la rapidit&eacute; des services </p>
<p Align=justify><strong>-</strong> Am&eacute;lioration de la qualit&eacute; de
services</p>
<p Align=justify>Les deux grandes mouvances du monde de la virtualisation</p>
<p Align=justify>Les solutions libres&nbsp;: <strong>Tableau 1.3 exemple de
quelques solutions libres</strong>  </p>

<p Align=justify></p>

<DIV Align=justify><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<p Align=center><strong>Produits</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Virtualisation</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Installation</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Licence</strong></p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>Bochs</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Emulation</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>H&eacute;berg&eacute;</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>LGPL</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>QEMU</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Emulation</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>H&eacute;berg&eacute;</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>LGPL/GPL</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>User Mode Linux (UML)</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Para</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>H&eacute;berg&eacute;</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>GPL</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>LGuest</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Para</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Bare Metal</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>GPL</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>OpenVZ</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Cloisonnement</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Bare Metal</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>GPL</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>Linux VServer</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Cloisonnement</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Bare Metal</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>GPL</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>Xen</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Compl&egrave;te / Para</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Bare Metal</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>GPL</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>KVM</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Compl&egrave;te</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Bare Metal</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>GPL</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>Solaris</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Containers Cloisonnement</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>H&eacute;berg&eacute;</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>CDDL</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>BSD Jails</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Cloisonnement</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>H&eacute;berg&eacute;</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>BSD</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>Wine</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Biblioth&egrave;que</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Couche applicative</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>GPL</p>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>Java Virtual Machine</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>Niveau applicatif</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>Couche applicative</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>GPL</p>
</TD>
</TR>
</TABLE></DIV>

<p Align=justify>Les logiciels payants&nbsp;: </p>
<p Align=justify>- VirtualPC et  VirtualServer (Microsoft)</p>
<p Align=justify>- VirtualBox (Oracle Corporation)</p>
<p Align=justify>- Vmware</p>
<p Align=justify>- Parallels Desktop et Parallels Server (Parallels) </p>


<h2 class="core"><A NAME="toc30"></A>3. D&eacute;finitions et&nbsp;Concepts </h2>


<h3 class="core">
<A NAME="toc31"></A>3.1 D&eacute;finitions </h3>

<p Align=justify>La virtualisation est dans sa d&eacute;finition la plus simple
une abstraction du mat&eacute;riel (un ordinateur) &agrave; partir du logiciel.
</p>
<p Align=justify>L'encyclop&eacute;die francophone en ligne Wikip&eacute;dia
d&eacute;finit la virtualisation comme &#171; l'ensemble des techniques
mat&eacute;rielles et/ou logicielles qui permettent de faire fonctionner sur
une seule machine plusieurs syst&egrave;mes d'exploitation et/ou plusieurs
applications, s&eacute;par&eacute;ment les uns des autres, comme s'ils
fonctionnaient sur des machines physiques distinctes &#187;. </p>
<p Align=justify>Il s'agit donc d'utiliser une seule machine physique en
remplacement de plusieurs et d'utiliser les possibilit&eacute;s offertes par la
virtualisation pour d&eacute;multiplier le nombre de machines virtuelles. Il
existe plusieurs cat&eacute;gories de virtualisation, utilisant chacune des
technologies diff&eacute;rentes. Les technologies les plus r&eacute;pandues
sont : </p>
<p Align=justify><strong>- </strong>L'&eacute;mulation (Emulation) </p>
<p Align=justify><strong>-</strong> La virtualisation compl&egrave;te (Full
Virtualization) </p>
<p Align=justify><strong>-</strong> La paravirtualisation (Paravirtualization)
</p>
<p Align=justify><strong>-</strong> Isolateur ou Cloisonnement (Operating
System level virtualization) </p>
<p Align=justify><strong>-</strong> La virtualisation mat&eacute;rielle </p>
<p Align=justify>Pour &ecirc;tre complet, nous allons aussi bri&egrave;vement
&eacute;num&eacute;rer deux autres types de virtualisation m&ecirc;me s'ils ne
sont pas capables d'ex&eacute;cuter un syst&egrave;me d'exploitation complet:
</p>
<p Align=justify><strong>-</strong> Virtualisation des biblioth&egrave;ques
(Library virtualization) </p>
<p Align=justify><strong>-</strong> Virtualisation au niveau applicatif
(Application Level virtualization) </p>


<h3 class="core">
<A NAME="toc32"></A>3.2 Concepts</h3>


<h4><A NAME="toc33"></A>3.2.1 Emulation </h4>

<p Align=justify>Dans l'&eacute;mulation, la machine virtuelle simule le
mat&eacute;riel et l'ensemble des instructions n&eacute;cessaires pour
ex&eacute;cuter sans modification des clients d'une architecture
mat&eacute;rielle compl&egrave;tement diff&eacute;rente. </p>
<p Align=justify>En r&egrave;gle g&eacute;n&eacute;rale, l'&eacute;mulation est
utilis&eacute;e pour cr&eacute;er des syst&egrave;mes d'exploitation nouveaux
ou microcodes pour de nouveaux mat&eacute;riels, avant que le mat&eacute;riel
ne soit disponible physiquement. </p>

<p Align=justify></p>

<DIV Align=justify><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<p Align=center>Applications</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Applications</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Applications</p>
</TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>OS invit&eacute;</p>
<p Align=center>non modifi&eacute;</p>
<p Align=center>pour A</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>OS invit&eacute;</p>
<p Align=center>non modifi&eacute;</p>
<p Align=center>pour A</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>OS invit&eacute;</p>
<p Align=center>non modifi&eacute;</p>
<p Align=center>pour B</p>
</TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=top>
<p Align=center>... Mat&eacute;riel virtuel - Machine A</p>
<p Align=center>Architecture Y</p>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<p Align=center>Mat&eacute;riel virtuel - Machine B</p>
<p Align=center>Architecture Z</p>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 COLSPAN=4 Align=left Valign=top>
<p Align=center>Mat&eacute;riel physique - Architecture X</p>
</TD>
</TR>
</TABLE></DIV>

<p Align=justify>                        <strong>Figure 3.1&nbsp;:
EMULATION</strong></p>
<p Align=justify>L'&eacute;mulateur de machines virtuel fournit une
architecture virtuelle qui peut &ecirc;tre diff&eacute;rente de l'architecture
du syst&egrave;me h&ocirc;te. </p>
<p Align=justify>Les OS invit&eacute;s s'ex&eacute;cutent sans modification sur
le mat&eacute;riel virtuel. </p>


<h4><A NAME="toc34"></A>3.2.2 Virtualisation compl&egrave;te </h4>

<p Align=justify>La virtualisation compl&egrave;te (full virtualization) est
similaire &agrave; l'&eacute;mulation. </p>
<p Align=justify>Comme dans l'&eacute;mulation, les syst&egrave;mes
d'exploitation et applications non modifi&eacute;s s'ex&eacute;cutent dans la
machine virtuelle. La virtualisation compl&egrave;te diff&egrave;re de
l'emulation dans le fait que les syst&egrave;mes d'exploitation et applications
sont con&ccedil;us pour fonctionner sur la m&ecirc;me architecture que celle de
la machine physique h&ocirc;te. </p>
<p Align=justify>Ce qui permet &agrave; un syst&egrave;me de virtualisation
compl&egrave;te d'ex&eacute;cuter plusieurs instructions directement sur le
mat&eacute;riel physique sousjacent. </p>
<p Align=justify>L'hyperviseur dans ce cas, donne l'acc&egrave;s au
mat&eacute;riel physique et donne &agrave; chaque syst&egrave;me d'exploitation
invit&eacute; l'illusion d'avoir sa propre copie. Il ne doit plus utiliser un
logiciel pour simuler une architecture de base diff&eacute;rente.</p>

<p Align=justify></p>

<DIV Align=justify><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<p Align=left>Applications </p>
</TD>
<TD Align=left Valign=top>
<p Align=left>Applications</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>... OS invit&eacute;</p>
<p Align=center>non modifi&eacute;</p>
<p Align=center>pour X</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>OS invit&eacute;</p>
<p Align=center>non modifi&eacute;</p>
<p Align=center>pour X</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Interface </p>
<p Align=center>de gestion </p>
<p Align=center>de l'hyper viseur</p>
</TD>
</TR>
<TR>
<TD COLSPAN=4 Align=left Valign=top>
<p Align=center>Hyperviseur (Moniteur des machines virtuelles)</p>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 COLSPAN=4 Align=left Valign=top>
<p Align=center>Mat&eacute;riel physique - Architecture X</p>
</TD>
</TR>
</TABLE></DIV>

<p Align=justify>                          <strong>Figure 3.2&nbsp;:
VIRTUALISATION COMPLETE</strong></p>
<p Align=justify>L'hyperviseur pr&eacute;sente le mat&eacute;riel physique du
syst&egrave;me h&ocirc;te &agrave; tous les syst&egrave;mes invit&eacute;s. Les
syst&egrave;mes d'exploitation invit&eacute;s ont un acc&egrave;s au
mat&eacute;riel sousjacent  et s'ex&eacute;cutent sans modification et n'ont
pas conscience qu'ils sont virtualis&eacute;s.</p>


<h4><A NAME="toc35"></A>3.2.3 Paravirtualisation </h4>

<p Align=justify>Dans la paravirutalisation, l'hyperviseur exporte une version
modifi&eacute;e de la machine physique h&ocirc;te. La machine virtuelle
export&eacute;e a la m&ecirc;me architecture que le syst&egrave;me h&ocirc;te;
ce qui n'est pas forc&eacute;ment le cas dans l'&eacute;mulation. </p>
<p Align=justify>Le syst&egrave;me d'exploitation invit&eacute; requi&egrave;re
quelques l&eacute;g&egrave;res modifications pour fonctionner sur
l'architecture &eacute;mul&eacute;e par l'hyperviseur. </p>
<p Align=justify>Les modifications effectu&eacute;es visent &agrave; rendre le
syst&egrave;me &eacute;mul&eacute; &#171; au courant &#187; du fait qu'il
s'ex&eacute;cute dans une machine virtuelle. De ce fait, il pourra collaborer
plus &eacute;troitement avec le syst&egrave;me h&ocirc;te, en utilisant une
interface sp&eacute;cifique et acc&eacute;der au mat&eacute;riel virtuel via
des couches d'abstraction.</p>

<p Align=justify></p>

<DIV Align=justify><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<p Align=left>Applications </p>
</TD>
<TD Align=left Valign=top>
<p Align=left>Applications</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=left>... OS invit&eacute; modifi&eacute;</p>
<p Align=center>Syst&egrave;me 1</p>
</TD>
<TD Align=left Valign=top>
<p Align=left>OS invit&eacute; modifi&eacute; </p>
<p Align=center>Syst&egrave;me 2</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>Interface </p>
<p Align=center>de gestion </p>
<p Align=center>de l'hyper viseur</p>
</TD>
</TR>
<TR>
<TD COLSPAN=4 Align=left Valign=top>
<p Align=center>Hyperviseur (Moniteur des machines virtuelles)</p>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 COLSPAN=4 Align=left Valign=top>
<p Align=center>Mat&eacute;riel physique - Architecture X</p>
</TD>
</TR>
</TABLE></DIV>

<p Align=justify>                              <strong>Figure 3.3
PARAVIRTUALISATION </strong></p>
<p Align=justify>La paravirtualisation est similaire &agrave; la virtualisation
compl&egrave;te &agrave; la seule  diff&eacute;rence que les syst&egrave;mes
invit&eacute;s sont modifi&eacute;s et ont conscience qu'ils s'ex&eacute;cutent
dans un environnement virtuel.</p>


<h4><A NAME="toc36"></A>3.2.4 Cloisonnement </h4>

<p Align=justify>Une autre pratique r&eacute;pandue dans le domaine de la
virtualisation est le  cloisonnement. </p>
<p Align=justify>Derri&egrave;re ce nom se cachent plusieurs technologies
visant &agrave; s&eacute;parer fortement les processus s'ex&eacute;cutant sur
un m&ecirc;me syst&egrave;me d'exploitation. Le cloisonnement vise &agrave;
isoler chaque processus dans un conteneur dont il est th&eacute;oriquement
impossible de sortir. Un processus isol&eacute; de la sorte ne saura pas quels
autres processus s'ex&eacute;cutent sur le m&ecirc;me syst&egrave;me, et n'aura
qu'une vision limit&eacute;e de son environnement. Le but principal de cette
technologie est d'am&eacute;liorer la s&eacute;curit&eacute; du syst&egrave;me
d'exploitation et des applications.</p>
<p Align=justify>Avec le cloisonnement tous les serveurs virtuels priv&eacute;s
sont ex&eacute;cut&eacute;s dans le contexte d'un seul syst&egrave;me
d'exploitation partag&eacute; install&eacute; sur le mat&eacute;riel physique.
</p>

<p Align=justify></p>

<DIV Align=justify><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<p Align=left>Serveur priv&eacute; 1</p>
</TD>
<TD Align=left Valign=top>
<p Align=left>Serveur priv&eacute; 2</p>
</TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top>
<p Align=left>... Serveur priv&eacute; N</p>
</TD>
</TR>
<TR>
<TD COLSPAN=4 Align=left Valign=top>
<p Align=center>Unique syst&egrave;me d'exploitation partag&eacute;</p>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 COLSPAN=4 Align=left Valign=top>
<p Align=center>Mat&eacute;riel physique - Architecture X</p>
</TD>
</TR>
</TABLE></DIV>

<p Align=justify>                                <strong> Figure 3.4 
CLOISONNEMENT</strong></p>


<h2 class="core"><A NAME="toc37"></A>4. La virtualisation materielle </h2>

<p Align=justify>Le support de la virtualisation peut &ecirc;tre
int&eacute;gr&eacute; au processeur ou assist&eacute; par celui-ci, le
mat&eacute;riel se chargeant, par exemple, de virtualiser les acc&egrave;s
m&eacute;moire ou de prot&eacute;ger le processeur physique des acc&egrave;s de
bas niveau. </p>
<p Align=justify>Cela permet de simplifier la virtualisation logicielle et de
r&eacute;duire la  d&eacute;gradation de performances.</p>


<h2 class="core"><A NAME="toc38"></A>5. Virtualisation des biblioth&egrave;ques </h2>

<p Align=justify>La virtualisation biblioth&egrave;que &eacute;mule les
syst&egrave;mes d'exploitation ou de soussyst&egrave;mes  via une
biblioth&egrave;que de logiciels sp&eacute;ciaux. </p>
<p Align=justify>Un exemple de ce type de virtualisation est la
biblioth&egrave;que de Wine  disponible sur les syst&egrave;mes Linux. Wine
fournit un sousensemble  de l'API Win32  comme une biblioth&egrave;que pour
permettre aux applications de bureau  Windows d'&ecirc;tre
ex&eacute;cut&eacute;es dans un environnement Linux.</p>


<h2 class="core"><A NAME="toc39"></A>6. Virtualisation au niveau applicatif </h2>

<p Align=justify>La virtualisation au niveau applicatif est l'approche de
l'ex&eacute;cution d'applications dans un environnement d'ex&eacute;cution
virtuel. Ce qui est diff&eacute;rent de l'ex&eacute;cution normale d'une
application sur un mat&eacute;riel. </p>
<p Align=justify>L'environnement d'ex&eacute;cution virtuel fournit une API
standard (Americain Petroleum Institute) pour l'ex&eacute;cution
multiplateforme  et g&egrave;re l'utilisation des ressources locales par
l'application. Il peut &eacute;galement fournir des ressources telles que le
mod&egrave;le de thread, les variables d'environnement, les
biblioth&egrave;ques d'interface utilisateur et les objets  qui aide &agrave;
la programmation d'applications. </p>
<p Align=justify>L'exemple le plus r&eacute;pandu d'un tel environnement
d'ex&eacute;cution virtuel est le </p>
<p Align=justify>Sun Java Virtual Machine.</p>


<h2 class="core"><A NAME="toc40"></A>7. Virtualisation&nbsp;:&nbsp;Avantages et
Inconv&eacute;nients </h2>


<h3 class="core">
<A NAME="toc41"></A>7.1 Avantages de la virtualisation </h3>

<p Align=justify>La virtualisation pr&eacute;sente beaucoup d'avantages dans
l'environnement de plus en plus dynamique des syst&egrave;mes d'information:
</p>
<p Align=justify><strong>.</strong> Plusieurs syst&egrave;mes diff&eacute;rents
sur un m&ecirc;me mat&eacute;riel physique </p>
<p Align=justify><strong>.</strong> Dimensionnement des machines virtuelles
selon la demande </p>
<p Align=justify><strong>.</strong> Consolidation des serveurs et des services
</p>
<p Align=justify><strong>.</strong> Un service = un serveur </p>
<p Align=justify><strong>.</strong> Economies substantielles sur le
mat&eacute;riel et consommation &eacute;nerg&eacute;tique </p>
<p Align=justify><strong>.</strong> Suppression des contraintes li&eacute;es
aux mat&eacute;riels ou aux versions de logiciels </p>
<p Align=justify><strong>.</strong> Haute disponibilit&eacute; gr&acirc;ce
&agrave; la Live Migration et aux clich&eacute;s instantan&eacute;s </p>
<p Align=justify><strong>.</strong> Fourni un environnement de tests aux
d&eacute;veloppeurs et professionnels </p>
<p Align=justify><strong>.</strong> Tirer un meilleur avantage des processeurs
r&eacute;cents multicore </p>
<p Align=justify><strong>.</strong> Reduction du TCO (Total Cost Ownership) </p>
<p Align=justify><strong>.</strong> R&eacute;duction des espaces occup&eacute;s
par les serveurs </p>
<p Align=justify><strong>.</strong> Protection de l'environnement</p>


<h3 class="core">
<A NAME="toc42"></A>7.2 Inconv&eacute;nients de la virtualisation </h3>

<p Align=justify>Comme toutes solutions informatiques, la virtualisation
pr&eacute;sente des contraintes </p>
<p Align=justify><strong>.</strong> Le mat&eacute;riel doit &ecirc;tre
dimensionn&eacute; au besoin (Processeurs, Disques, M&eacute;moires.) </p>
<p Align=justify><strong>.</strong> Certaines solutions de virtualisation
requi&egrave;rent des mat&eacute;riels compatibles </p>
<p Align=justify><strong>.</strong> Toute la s&eacute;curit&eacute; de
l'infrastructure virtuelle d&eacute;pend de l'hyperviseur </p>
<p Align=justify><strong>.</strong> Co&ucirc;t de la formation sur la solution
de virtualisation &agrave; impl&eacute;menter </p>
<p Align=justify><strong>.</strong> L'administration d'un serveur physique est
diff&eacute;rente d'un serveur virtuel </p>
<p Align=justify><strong>.</strong> Faibles performances </p>
<p Align=justify><strong>.</strong> Toutes les machines virtuelles
invit&eacute;es d&eacute;pendent de la machine physique h&ocirc;te</p>


<h3 class="core">
<A NAME="toc43"></A>7.3 La s&eacute;curit&eacute; en virtualisation </h3>

<p Align=justify><strong>.</strong> L'hyperviseur se charge de l'isolement des
machines virtuelles </p>
<p Align=justify><strong>.</strong> Une meilleure s&eacute;curit&eacute; peut
&ecirc;tre garantie lorsque les machines h&ocirc;tes sont mises en cluster;
&eacute;vitant les points d'&eacute;chec unique (single point of failure) </p>
<p Align=justify><strong>.</strong> La redondance est ais&eacute;e diminuant
ainsi les risques </p>
<p Align=justify><strong>.</strong> La sp&eacute;cialisation de chaque machine
virtuelle dans un service pr&eacute;cis permet d'avoir des politiques de
s&eacute;curit&eacute; propres &agrave; chaque serveur virtuel</p>


<h2 class="core"><A NAME="toc44"></A>8. VMware&nbsp;</h2>


<h3 class="core">
<A NAME="toc45"></A>8.1  Pr&eacute;sentation </h3>

<p Align=justify><strong>VMware </strong>est un outil gratuit et
propri&eacute;taire simulant des <em>machines virtuelles</em> et permettant de
faire fonctionner des syst&egrave;mes d'exploitation au-dessus d'un
syst&egrave;me d'exploitation h&ocirc;te. Donc VMware  est un produit
distribu&eacute; gratuitement, mais soumis &agrave; une licence
propri&eacute;taire.</p>
<p Align=justify>Ce logiciel permet de cr&eacute;er vos propres machines
virtuelles, afin d'y installer vos propres syst&egrave;mes d'exploitation, et
de les faire fonctionner. De plus, vous pouvez importer facilement toute
machine virtuelle cr&eacute;&eacute;e par VMware Workstation, VMware Server ou
VMware ESX, de m&ecirc;me que les machines virtuelles pour Microsoft Virtual PC
et les disques Symantec LiveState Recovery. Le site web de VMware propose aussi
de tr&egrave;s nombreuses machines virtuelles gratuitement cr&eacute;&eacute;es
par une tr&egrave;s forte communaut&eacute; d'utilisateurs des logiciels
VMware.</p>
<p Align=justify> </p>


<h3 class="core">
<A NAME="toc46"></A>8.2 La virtualisation dans le cadre du projet</h3>

<p Align=justify>Dans notre contexte nous avons cr&eacute;e une machine
virtuelle avec le logiciel de virtualisation Vmware les caract&eacute;ristiques
suivantes&nbsp;:</p>
<p Align=justify>  M&eacute;moire RAM 512 MB </p>
<p Align=justify> Processeur 1 Ghz </p>
<p Align=justify> Disque Dur 8 GB</p>
<p Align=justify> Lecteur CD/DVD (IDE)</p>
<p Align=justify>Carte R&eacute;seau Network Adapter NAT</p>
<p Align=justify>Un pore USB USB controller</p>
<p Align=justify>Carte son Sound card</p>
<p Align=justify>Syst&egrave;me d'exploitation Fedora 12</p>
<p Align=justify>Nous pouvons remarquer ais&eacute;ment que notre machine
virtuelle ne dispose pas de carte graphique cela est du au fait que nous avons
choisi de d'&eacute;conomiser les ressources. Donc nous avons install&eacute;
le syst&egrave;me d'exploitation Fedora 12 sans interface graphique (en mode
text) avec un noyau linux 2.4X (Linux 2.4X Kernel). Mais alors pour avoir une
interface graphique dont nous en aurons besoin pour la configuration des
logiciels nagios, centreon et MRTG de la plate-forme de monitoring nous
acc&eacute;dons &agrave; la machine virtuelle par ssh (Secure Shell) depuis la
machine h&ocirc;te. Donc l'utilisation d'un syst&egrave;me d'exploitation sans
interface graphique offre les avantages de pouvoir d&eacute;placer rapidement
et simplement les fichiers vers un autre serveur d'h&eacute;bergement et en
plus cela permet d'optimiser le fonctionnement des deux machines puisqu'elles
n'auront pas &agrave; allouer des    ressources pour le fonctionnement de
l'interface graphique ni de la carte graphique.</p>
<p Align=justify> </p>


<h2 class="core"><A NAME="toc47"></A>9. Conclusion </h2>

<p Align=justify>La virtualisation, Cette technique permettant d'exploiter le
mat&eacute;riel de fa&ccedil;on optimale en mutualisant l'utilisation des
ressources est un merveilleux concept, ce qui explique actuellement l'aspect
virtualisation de syst&egrave;me qui est en plein essor. </p>
<p Align=justify>Les logiciels VMware constituent la premi&egrave;re
plate-forme de virtualisation du march&eacute;. Vmware est un  programme assez
complet et poss&egrave;de une interface graphique tr&egrave;s r&eacute;ussie.
Tout se configure en quelques clics de souris et surtout il est
r&eacute;guli&egrave;rement mis &agrave; jour.</p>


<h1 class="core"><A NAME="toc48"></A> CHAPITRE 2&nbsp;: La Supervision Informatique</h1>


<h2 class="core"><A NAME="toc49"></A>1. Introduction</h2>

<p Align=justify>La gestion d'un parc de serveurs est un travail &agrave; temps
r&eacute;el. Un bon administrateur r&eacute;seau doit savoir &agrave; tout
moment l'&eacute;tat des diff&eacute;rentes machines et des diff&eacute;rents
services.</p>
<p Align=justify>Cependant, l'administrateur ne peut pas se permettre de passer
son temps devant un tableau avec des voyants verts en attendant qu'un voyant
passe au rouge pour agir, son temps est occup&eacute; &agrave; d'autres
t&acirc;ches, donc il ne peut pas surveiller les statuts des machines en
permanence. L'examen quotidien des logs syst&egrave;mes est un bon
d&eacute;but, mais, si un probl&egrave;me survient, on s'en rend compte
seulement le lendemain, ce qui peut &ecirc;tre trop tard.</p>
<p Align=justify>Pour simplifier leur travail, les administrateurs utilisent
g&eacute;n&eacute;ralement ce qu'on appelle un `'<em>moniteur de supervision
informatique''</em>, un tel moniteur permet d'avoir une vue globale du
fonctionnement de r&eacute;seau ainsi que du niveau de performances des
syst&egrave;mes, et d'alerter par diff&eacute;rents moyens l'apparition d'une
anomalie.</p>
<p Align=justify>Dans ce chapitre, nous allons pr&eacute;senter les notions de
base concernant la supervision informatique.</p>


<h2 class="core"><A NAME="toc50"></A>2. D&eacute;finition de la supervision informatique</h2>

<p Align=justify>En informatique, la supervision est une technique de suivi,
qui permet de surveiller, analyser, rapporter et d'alerter les fonctionnements
anormaux des syst&egrave;mes informatiques.</p>
<p Align=justify>D'un point de vue th&eacute;orique, <strong>Eric D'HEM<sup>1<a
name="fnref1"></a>(<A HREF="#fn1">*</A>)</sup> </strong>explique : &#171;
<em>le Monitoring1 s'agit de r&eacute;p&eacute;ter de mani&egrave;re
r&eacute;guli&egrave;re un processus de test ou de surveillance d'une personne
ou d'un bien. Le but &eacute;tant d'obtenir tr&egrave;s rapidement et
simplement une vision pr&eacute;cise des &eacute;v&eacute;nements ou anomalies
sur la p&eacute;riode analys&eacute;e </em>&#187; .</p>
<p Align=justify>Entre outre, La supervision informatique consiste &agrave;
indiquer et/ou commander l'&eacute;tat d'un serveur, d'un &eacute;quipement
r&eacute;seau ou d'un service software pour anticiper les plantages ou
diagnostiquer rapidement une panne.</p>


<h2 class="core"><A NAME="toc51"></A>3. Fonctionnalit&eacute;s et niveaux d'information</h2>

<p Align=justify>G&eacute;n&eacute;ralement, les moniteurs de supervision
regroupent les fonctionnalit&eacute;s illustr&eacute;es dans la figure
suivante&nbsp;<strong>:</strong></p>
<p Align=justify><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres1.png"
alt=""></p>
<p Align=justify><strong>Figure 3.5: Fonctionnalit&eacute;s de la
supervision.</strong></p>
<p Align=justify><strong>Supervision r&eacute;seau </strong>: elle porte sur la
surveillance de mani&egrave;re continue de la disponibilit&eacute; des services
en ligne, du fonctionnement du r&eacute;seau, des d&eacute;bits et bande
passante, de la s&eacute;curit&eacute;, etc.</p>
<p Align=justify><strong>Supervision syst&egrave;me </strong>: c'est la
v&eacute;rification de la sant&eacute; d'un serveur cot&eacute; ressources
mat&eacute;rielles (la m&eacute;moire, le CPU, le disque dur, etc.).</p>
<p Align=justify><strong>Ex&eacute;cution de commandes </strong>: qui sont des
actions ou programmes lanc&eacute;s automatiquement.</p>
<p Align=justify><strong>Envoi d'alertes </strong>: c'est une &eacute;mission
de message d'alerte sous forme sonore, visuelle ou encore par e-mail.</p>
<p Align=justify><strong>Cartographie </strong>: pr&eacute;sente la vue
d'ensemble de l'architecture informatique surveill&eacute;.</p>
<p Align=justify><strong>Rapports d'activit&eacute; (reporting)</strong>: comme
les tableaux de bord et les histogrammes.</p>
<p Align=justify>Il est &agrave; noter qu'&agrave; partir de ces
fonctionnalit&eacute;s qui sont r&eacute;alis&eacute;es par des modules
sp&eacute;cifiques constituant le syst&egrave;me de monitoring, trois niveaux
d'informations se d&eacute;gagent.</p>


<h3 class="core">
<A NAME="toc52"></A>3.1 Informations sur les syst&egrave;mes</h3>

<p Align=justify>Cette supervision fournira des informations sur le
fonctionnement du syst&egrave;me</p>
<p Align=justify>comme l'utilisation du CPU, l'occupation de la m&eacute;moire
physique, l'espace libre des disques durs, l'&eacute;tat de la table de
partitionnement du disque, la chaleur d&eacute;gag&eacute;e, etc.</p>


<h3 class="core">
<A NAME="toc53"></A>3.2 Informations sur les r&eacute;seaux</h3>

<p Align=justify>Ce type de surveillance va permettre de diagnostiquer la
disponibilit&eacute; d'un</p>
<p Align=justify>&eacute;quipement physique connect&eacute; &agrave; un
r&eacute;seau. Les technologies employ&eacute;es pour ce type de supervision
sont assez simples et le niveau des informations retourn&eacute;es est assez
limit&eacute;. Les mat&eacute;riels vis&eacute;s sont : les commutateurs, les
routeurs et les serveurs (disponibilit&eacute;, interrogation des sondes,
alertes), ainsi que les onduleurs (disponibilit&eacute;, charge, &eacute;tat)
et les imprimantes (disponibilit&eacute;, &eacute;tat de l'imprimante et des
consommables).</p>


<h3 class="core">
<A NAME="toc54"></A>3.3 Informations sur les applications et services</h3>

<p Align=justify>On va disposer non seulement d'une visibilit&eacute; sur
l'&eacute;quipement physique mais</p>
<p Align=justify>&eacute;galement sur les applications qui y sont
ex&eacute;cut&eacute;es et les informations qu'elles</p>
<p Align=justify>retournent. Ses principaux axes sont : la
disponibilit&eacute;, le nombre d'utilisateurs, la coh&eacute;rence des
r&eacute;ponses aux interrogations et les performances.</p>
<p Align=justify>Pour les deux derniers cas, les tests devront &ecirc;tre
effectu&eacute;s par des &eacute;quipements qui ne sont pas sur la machine, car
le serveur est destin&eacute; &agrave; des utilisateurs externes (par exemple
serveur Web connect&eacute; &agrave; Internet). Le monitoring informatique
fournira dans ce contexte, une vision utilisateur depuis les endroits o&ugrave;
il est effectu&eacute;.</p>
<p Align=justify>Par exemple, le monitoring r&eacute;seau permet la
v&eacute;rification de la connectivit&eacute; d'un</p>
<p Align=justify>serveur Web, qui rend les sites Web accessible par les
internautes. Ou encore le monitoring applicatif qui permet la
v&eacute;rification de l'op&eacute;rationnalit&eacute; d'un serveur (Apache ou
IIS par exemple) et celle du contenu des pages Web.</p>


<h2 class="core"><A NAME="toc55"></A>4. R&ocirc;le de la supervision</h2>

<p Align=justify>Deux phases sont importantes pour que les administrateurs
soient capables d'atteindre l'objectif voulu par la supervision, &agrave;
savoir, surveiller le syst&egrave;me et garantir sa disponibilit&eacute;
m&ecirc;me en cas d'anomalie.</p>
<p Align=justify>- Tenter de pr&eacute;venir en cas de probl&egrave;me
(d&eacute;faillances mat&eacute;rielles ou interruption des services) et
garantir une remont&eacute;e d'information rapide ;</p>
<p Align=justify>- Automatiser les t&acirc;ches de r&eacute;cup&eacute;ration
des applications et des services en assurant des m&eacute;canismes de
redondance en une dur&eacute;e d'intervention minimale (par exemple : le
red&eacute;marrage des services interrompus, l'arr&ecirc;t de la machine en cas
du surcharge du CPU, la sauvegarde des donn&eacute;es en cas du risque de perte
d'un disque dur en miroir, etc.).</p>


<h2 class="core"><A NAME="toc56"></A>5. Aspects de la supervision</h2>

<p Align=justify>La supervision peut porter sur plusieurs aspects de
l'informatique. Pour simplifier on peut les classer dans trois
cat&eacute;gories principales qui sont les suivantes :</p>
<p Align=justify><strong>5.1. La Fiabilit&eacute; : </strong>Il s'agit de
l'utilisation la plus courante du monitoring informatique. Une surveillance
permanente de la disponibilit&eacute; de l'&eacute;quipement est
effectu&eacute;e, et ce pour d&eacute;tecter la moindre anomalie et de la
signaler &agrave; l'administrateur.</p>
<p Align=justify><strong>5.2. La Performance : </strong>Le monitoring de
performance a pour but de retourner des informations sur le rendement d'un
&eacute;quipement ou d'un service comme par exemple le temps de
r&eacute;solution DNS, le temps de connexion, le temps de
r&eacute;cup&eacute;ration du premier octet et dans le cas d'une page Web le
temps de r&eacute;cup&eacute;ration de la page et de l'ensemble des
&eacute;l&eacute;ments de celle-ci (image, scripts...).</p>
<p Align=justify>Gr&acirc;ce &agrave; cette analyse, on va pouvoir
diagnostiquer une mont&eacute;e en charge difficile ou m&ecirc;me un
surdimensionnement de votre bande passante.</p>
<p Align=justify><strong>5.3. Le Contenu : </strong>Dans ce dernier cas, on
analyse les informations retourn&eacute;es par les &eacute;l&eacute;ments
surveill&eacute;s pour d&eacute;tecter, par exemple, la suppression d'un
fichier sur un serveur FTP, la modification d'une page Web ou encore la
disparition d'un mot clef.</p>
<p Align=justify>Toutes ces approches sont compl&eacute;mentaires et peuvent
bien entendu se retrouver</p>
<p Align=justify>regroup&eacute;e dans une seule analyse. L'analyse
Fiabilit&eacute; &eacute;tant implicitement pr&eacute;sent&eacute;e dans le cas
d'une analyse Performance et Contenu.</p>


<h2 class="core"><A NAME="toc57"></A>6. Protocole SNMP</h2>

<p Align=justify>Le principe de base de la supervision est d'avertir d'un
probl&egrave;me le responsable d'une ressource avant m&ecirc;me que les
utilisateurs ne s'en aper&ccedil;oivent, ce responsable pourra ainsi intervenir
dans les plus brefs d&eacute;lais sur l'ordinateur ou le service en question.
Ceci permet d'&ecirc;tre <em>proactif </em>pour un service informatique qui
g&egrave;re de nombreux serveurs sur lesquels r&eacute;sident beaucoup de
services.</p>
<p Align=justify>Il existe plusieurs m&eacute;thodes pour superviser un
syst&egrave;me informatique :</p>
<p Align=justify>Analyser les fichiers <em>`'log'' ou `'journaux'' </em>: qui
sont des fichiers regroupant l'ensemble des &eacute;v&eacute;nements survenus
sur un service, une application, un serveur ou tout autre syst&egrave;me
informatique.</p>
<p Align=justify>R&eacute;cup&eacute;rer des r&eacute;sultats de commandes et
de scripts locaux ou distants ;</p>
<p Align=justify>Utiliser le protocole SNMP <em>(Simple Network Management
Protocol) </em>: qui va &ecirc;tre expliqu&eacute; ainsi dessous<em>.</em></p>


<h3 class="core">
<A NAME="toc58"></A>6.1 D&eacute;finition du protocole SNMP</h3>

<p Align=justify>SNMP est l'abr&eacute;viation du <em>`'protocole simple de
gestion de r&eacute;seau''</em>. Comme son nom voudrait le faire croire, Il
s'agit d'un protocole <em>simple </em>qui permet aux administrateurs
r&eacute;seau de g&eacute;rer les &eacute;quipements du r&eacute;seau et de
diagnostiquer les probl&egrave;mes de r&eacute;seau.</p>


<h3 class="core">
<A NAME="toc59"></A>6.2 Principe de fonctionnement du protocole SNMP</h3>

<p Align=justify>Avec le protocole SNMP, le syst&egrave;me de gestion de
r&eacute;seau est bas&eacute; sur trois &eacute;l&eacute;ments principaux : un
superviseur, des agents et les noeuds g&eacute;r&eacute;s.</p>
<p Align=justify>Le superviseur est la console qui permet &agrave;
l'administrateur r&eacute;seau d'ex&eacute;cuter des</p>
<p Align=justify>requ&ecirc;tes de management. Les agents sont des
entit&eacute;s qui se trouvent au niveau de chaque interface qui connecte
l'&eacute;quipement manag&eacute; au r&eacute;seau et qui permette de
r&eacute;cup&eacute;rer des informations sur diff&eacute;rents
&eacute;quipements tels que les switchs, les hubs, les routeurs et les serveurs
contenant des objets g&eacute;rables via SNMP. Ces derniers peuvent &ecirc;tre
des informations mat&eacute;rielles, des param&egrave;tres de configuration,
des statistiques sur les performances ou encore tout autre objets directement
li&eacute;s au comportement en cours de l'&eacute;quipement concern&eacute;.</p>
<p Align=justify>Ces objets sont class&eacute;s dans une sorte de base de
donn&eacute;es nomm&eacute;e <strong>MIB</strong></p>
<p Align=justify>("<em>Management Information Base</em>") qui est un ensemble
d'informations structur&eacute;</p>
<p Align=justify>hi&eacute;rarchiquement sur une entit&eacute; r&eacute;seau.
Les informations sont regroup&eacute;es en arbre.</p>
<p Align=justify>SNMP permet le dialogue entre le superviseur et les agents
afin de recueillir les objets souhait&eacute;s dans la MIB<strong>.</strong></p>
<p Align=justify>L'architecture de gestion de r&eacute;seau propos&eacute;e par
le protocole SNMP est donc bas&eacute;e sur trois principaux
&eacute;l&eacute;ments :</p>
<p Align=justify><strong>6.3. Les &eacute;quipements manag&eacute;s :
</strong>ce sont des &eacute;l&eacute;ments du r&eacute;seau (ponts, hubs,</p>
<p Align=justify>routeurs ou serveurs), contenant des "objets de gestion"
pouvant &ecirc;tre des informations sur le mat&eacute;riel, des
&eacute;l&eacute;ments de configuration ou des informations</p>
<p Align=justify>statistiques ;</p>
<p Align=justify><strong>6.4. Les agents </strong>: c'est-&agrave;-dire une
application de gestion de r&eacute;seau r&eacute;sidant dans un
p&eacute;riph&eacute;rique et charg&eacute; de transmettre les donn&eacute;es
locales de gestion du p&eacute;riph&eacute;rique au format SNMP ;</p>
<p Align=justify><strong>6.5. Les syst&egrave;mes de management de
r&eacute;seau </strong>(<em>network management systems </em>not&eacute;s
<strong>NMS</strong>), c'est-&agrave;-dire une console &agrave; travers
laquelle les administrateurs peuvent  r&eacute;aliser des t&acirc;ches
d'administration.</p>
<p Align=justify>Voici ci-dessous un sch&eacute;ma qui pr&eacute;sente les
&eacute;l&eacute;ments de base du protocole SNMP<strong>:</strong></p>
<p Align=justify><strong><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres2.png"
alt=""></strong></p>
<p Align=justify><strong>Figure 3.6: El&eacute;ments de base du protocole
SNMP.</strong></p>


<h3 class="core">
<A NAME="toc60"></A>6.6 SNMP en pratique</h3>

<p Align=justify>Concr&egrave;tement, dans le cadre d'un r&eacute;seau, SNMP
est utilis&eacute;: pour administrer les</p>
<p Align=justify>&eacute;quipements et pour surveiller le comportement des
&eacute;quipements.</p>
<p Align=justify>Une requ&ecirc;te SNMP est un datagramme UDP<sup>2<a
name="fnref2"></a>(<A HREF="#fn2">*</A>)</sup> habituellement &agrave;
destination du port 161. Les sch&eacute;mas de s&eacute;curit&eacute;
d&eacute;pendent des versions de SNMP (v1, v2 ou v3). Dans les versions 1 et 2,
une requ&ecirc;te SNMP contient un nom appel&eacute; communaut&eacute;,
utilis&eacute; comme un mot de passe. Il y a un nom de communaut&eacute;
diff&eacute;rent pour obtenir les droits en lecture et pour obtenir les droits
en &eacute;criture.</p>
<p Align=justify>Dans bien des cas, les colossales lacunes de
s&eacute;curit&eacute; que comportent les versions 1 et 2 de SNMP limitent
l'utilisation de SNMP &agrave; la lecture des informations car la
communaut&eacute; circule sans chiffrement avec ces deux protocoles. Un grand
nombre de logiciels libres et propri&eacute;taires utilisent SNMP pour
interroger r&eacute;guli&egrave;rement les &eacute;quipements et produire des
graphes rendant compte de l'&eacute;volution des r&eacute;seaux ou des
syst&egrave;mes informatiques (MRTG, Cacti, Nagios, Zabbix...).</p>


<h2 class="core"><A NAME="toc61"></A>7. Conclusion</h2>

<p Align=justify>La supervision informatique est indispensable pour une
entreprise qui se respecte et dont la d&eacute;faillance d'un quelconque de ses
services informatiques et l'indispensabilit&eacute; de son syst&egrave;me
d'information influent sur le rendement global de sa productivit&eacute;.</p>
<p Align=justify>Les syst&egrave;mes de supervision feront l'objet de notre
&eacute;tude, Le chapitre suivant donnera une vue d&eacute;taill&eacute;e des
diff&eacute;rentes infrastructures de monitoring existantes.</p>
<p Align=justify>Pour pouvoir &ecirc;tre efficace, la surveillance doit donc
imp&eacute;rativement &ecirc;tre effectu&eacute;e depuis diff&eacute;rents
points de contr&ocirc;le sur une architecture distribu&eacute;e, avec des
techniques permettant d'analyser et g&eacute;rer en permanence les flux.</p>


<h1 class="core"><A NAME="toc62"></A> CHAPITRE 3 : Les Syst&egrave;mes de Monitoring
Existants</h1>


<h2 class="core"><A NAME="toc63"></A>1. Introduction</h2>

<p Align=justify>Le march&eacute; de la supervision informatique d&eacute;borde
des logiciels de monitoring ; il en existe une diversit&eacute;, d'autres sont
payants et d'autres font parti du monde libre o&ugrave; on peut m&ecirc;me
trouver des Open Sources, Nous allons dans ce qui suit citer quelque uns et
nous d&eacute;taillerons les plus connus et r&eacute;pandus dans le milieu des
entreprises.</p>


<h2 class="core"><A NAME="toc64"></A>2. Le march&eacute; de la supervision</h2>

<p Align=justify>Le march&eacute; de la supervision peut &ecirc;tre
d&eacute;coup&eacute; en deux grandes sous-parties :</p>
<p Align=justify>Les offres &eacute;diteurs : qui permettent de fournir des
moniteurs de supervision</p>
<p Align=justify>payants. Les offres du monde libre : qui permettent d'avoir
des moniteurs gratuits (Open-source).</p>


<h3 class="core">
<A NAME="toc65"></A>2.1 Les offres &eacute;diteurs</h3>

<p Align=justify>Les gros &eacute;diteurs logiciels ont rapidement compris que
la supervision &eacute;tait une</p>
<p Align=justify>ressource cl&eacute; pour les entreprises qui, de plus en
plus, utilisent leur syst&egrave;me d'information et ont donc besoin d'une
disponibilit&eacute; toujours plus grande de leur infrastructure informatique.
Par cons&eacute;quent, la supervision est un domaine dans lequel les
soci&eacute;t&eacute;s n'h&eacute;sitent pas &agrave; investir depuis quelques
ann&eacute;es. Ayant rapidement compris cela, les gros &eacute;diteurs
logiciels sont donc tr&egrave;s vite entr&eacute;s dans la course aux logiciels
de supervision.</p>
<p Align=justify>Aujourd'hui, la majorit&eacute; des gros &eacute;diteurs
logiciels propose des outils complets de supervision. On retrouve, parmi les
plus connus :</p>
<p Align=justify>- ?HP : la gamme Openview (NNM, OVO, ...); IBM : Tivoli ; BMC
: Patrol ; Computer&nbsp;; Associates : Unicenter TNG.</p>
<p Align=justify>Ces outils, v&eacute;ritables <em>frameworks </em>de la
supervision, poss&egrave;dent tous leurs avantages et inconv&eacute;nients face
&agrave; la concurrence. Et bien entendu, tous ont &eacute;galement le
m&ecirc;me d&eacute;faut, &agrave; savoir: <em>leurs prix
co&ucirc;teux.</em></p>
<p Align=justify>Cette constatation faite, il est alors logique de voir de plus
en plus de soci&eacute;t&eacute;s</p>
<p Align=justify>aujourd'hui regarder du c&ocirc;t&eacute; du logiciel libre,
o&ugrave; les projets commencent depuis quelques ann&eacute;es &agrave; devenir
de plus en plus professionnels et suivis.</p>
<p Align=justify>Dans ce qui va suivre, nous pr&eacute;senterons deux leaders
des logiciels payants de supervision: HP OpenView et IBM Tivoli.</p>


<h4><A NAME="toc66"></A>2.1.1 HP OpenView</h4>

<p Align=justify>HP OPEN VIEW est un outil de supervision reconnu sur le
march&eacute;. Son principal avantage est la centralisation des informations
sur un seul poste. Il a pour r&ocirc;le de g&eacute;rer et de surveiller entre
autre les infrastructures et services r&eacute;seaux. Ce logiciel est donc
destin&eacute; aux moyennes et grandes entreprises qui souhaitent avoir une vue
globale de leur r&eacute;seau et de son &eacute;tat (voir <strong>ANNEXE
1</strong>).</p>
<p Align=justify><strong>a. Principe de fonctionnement</strong></p>
<p Align=justify>HPOV est un produit qui propose, aux personnes charg&eacute;es
de l'exploitation des</p>
<p Align=justify>syst&egrave;mes d'information, un outil favorisant :</p>
<p Align=justify>i. une vue globale du syst&egrave;me d'information ;</p>
<p Align=justify>ii. un contr&ocirc;le homog&egrave;ne des diff&eacute;rents
composants du syst&egrave;me informatique ;</p>
<p Align=justify>iii. une vision des incidents et leur impact.</p>
<p Align=justify>La plate-forme HP OpenView est compos&eacute;e principalement
de :</p>
<p Align=justify>OVOW (OpenView Op&eacute;ration for Windows): compos&eacute;
d'une base SQL SERVER;</p>
<p Align=justify>Le logiciel est assorti d'un serveur HTTP Apache pour
l'acc&egrave;s aux interfaces Web des outils.</p>
<p Align=justify><strong>b. La console OVOW</strong></p>
<p Align=justify>La console OVOW permet &agrave; l'op&eacute;rateur d'avoir une
vision globale de son r&eacute;seau</p>
<p Align=justify>informatique. L'op&eacute;rateur peut visualiser d'un seul
coup d'oeil la disponibilit&eacute; globale d'un service, la gravit&eacute;
d'une erreur, la raison principale de cette erreur.</p>
<p Align=justify><strong>&#167; Les noeuds</strong></p>
<p Align=justify>Pour OVOW, chaque client est un &#171; noeud &#187;. Un noeud
correspond donc &agrave; un &eacute;l&eacute;ment surveill&eacute; (un noeud
peut &ecirc;tre un serveur, un photocopieur ...).</p>
<p Align=justify><strong>&#167; Les agents OVOW</strong></p>
<p Align=justify>OVOW a besoin d'un agent pour pouvoir surveiller un
&eacute;l&eacute;ment. Un agent OVOW est un programme que l'on d&eacute;ploie
&agrave; partir du serveur HPOV sur un noeud. On doit sp&eacute;cifier &agrave;
cet agent un domaine cible (Que doit-on surveiller ?).</p>
<p Align=justify>L'agent OVOW est compos&eacute; d'une mini base de
donn&eacute;es tr&egrave;s s&eacute;curis&eacute;e nomm&eacute;e base Coda.
L'agent stocke ses les informations li&eacute;es aux m&eacute;triques de
performances du mat&eacute;riel surveill&eacute; dans la base Coda ensuite le
serveur se connecte &agrave; cette base toutes les 4 minutes (variable
param&eacute;trable), et r&eacute;cup&egrave;re les informations et les
stockent dans sa base SQL SERVER.</p>


<h4><A NAME="toc67"></A>2.1.2 IBM Tivoli Monitoring</h4>

<p Align=justify>Les solutions IBM Tivoli Monitoring sont con&ccedil;ues pour
une meilleure gestion des applications en ligne essentielles &agrave;
l'entreprise en :</p>
<p Align=justify>- surveillant de mani&egrave;re proactive les ressources
syst&egrave;me vitales&nbsp;;</p>
<p Align=justify>- en d&eacute;tectant efficacement les goulets
d'&eacute;tranglement et les probl&egrave;mes potentiels ;</p>
<p Align=justify>- en r&eacute;pondant automatiquement aux
&eacute;v&eacute;nements.</p>
<p Align=justify>En s'appuyant sur les meilleures pratiques pour identifier et
r&eacute;soudre les probl&egrave;mes d'infrastructure, il a &eacute;t&eacute;
con&ccedil;u pour aider les op&eacute;rateurs &agrave; surveiller et
g&eacute;rer les mat&eacute;riels et logiciels essentiels, comprenant les
syst&egrave;mes d'exploitation, les bases de donn&eacute;es et les applications
sur des environnements r&eacute;partis.</p>
<p Align=justify>Ce moniteur de supervision se classe parmi les leaders du
domaine, puisque il offre de nombreux avantages. En effet, il :</p>
<p Align=justify>- Surveille de mani&egrave;re proactive les composants vitaux
de votre infrastructure &agrave; la demande, en vous aidant &agrave; isoler et
pr&eacute;venir rapidement les probl&egrave;mes de</p>
<p Align=justify>performance ;</p>
<p Align=justify>- Visualise les mesures de performances historiques et en
temps r&eacute;el sous forme de tableaux et graphiques, avec en plus des
conseils sp&eacute;cialis&eacute;s et des actions</p>
<p Align=justify>automatiques au sein d'IBM Tivoli Enterprise Portal ;
Consolide la surveillance et la gestion de syst&egrave;mes r&eacute;partis et
de syst&egrave;mes h&ocirc;te &agrave; l'aide d'une seule console de travail
personnalisable ; Fournit des outils de surveillance puissants et
personnalisables &agrave; davantage d'op&eacute;rateurs n&eacute;cessitant
beaucoup moins de comp&eacute;tences et formation en programmation pour
d&eacute;ployer le produit ;</p>
<p Align=justify>- Aide &agrave; r&eacute;duire les co&ucirc;ts
op&eacute;rationnels informatiques globaux en simplifiant l'installation et la
configuration, et en d&eacute;ployant des r&egrave;gles all&eacute;g&eacute;es
avec des fonctionnalit&eacute;s de surveillance automatique ;</p>
<p Align=justify>- Effectue automatiquement le suivi de l'&eacute;tat des
principaux composants de votre environnement informatique complexe et
re&ccedil;oit des alertes uniquement en cas d'incident ; Aide &agrave;
optimiser l'offre de services informatiques en int&eacute;grant des produits de
gestion et des processus informatiques pour stimuler les performances et
respecter les accords de niveau de service ;</p>
<p Align=justify>- Aide &agrave; optimiser le temps de r&eacute;alisation en
simplifiant l'installation et la surveillance, avec &eacute;galement des
fonctionnalit&eacute;s de gestion s'appuyant sur des technologies
pointer-cliquer.</p>


<h3 class="core">
<A NAME="toc68"></A> 2.2 Les offres du monde libre</h3>

<p Align=justify>Depuis une dizaine d'ann&eacute;es d&eacute;j&agrave;,
plusieurs projets de supervision ont vu le jour au sein de la communaut&eacute;
du logiciel libre. Il suffit pour cela d'aller faire une simple recherche sur
le Net pour se rendre compte de la multitude de projets &eacute;mergeants
autour de la supervision syst&egrave;me et r&eacute;seau.</p>
<p Align=justify>Nous pr&eacute;senterons ainsi, les syst&egrave;mes de
monitoring plus populaires.</p>
<p Align=justify><strong>NAGIOS </strong>ou Net saint<sup>3<a
name="fnref3"></a>(<A HREF="#fn3">*</A>)</sup> (qui sera d&eacute;taill&eacute;
par la suite) est le principal logiciel Open Source de supervision de
r&eacute;seaux et de syst&egrave;mes; c'est le plus rependu et le plus suivi
par la communaut&eacute; de d&eacute;veloppeurs. Par cons&eacute;quent, il est
adapt&eacute; aux syst&egrave;mes d'information de taille moyenne ou importante
;</p>
<p Align=justify><strong>MRTG </strong>est un outil de supervision du trafic de
liens r&eacute;seaux. Il peut s'int&eacute;grer</p>
<p Align=justify>&eacute;troitement &agrave; des solutions comme Nagios.</p>
<p Align=justify>MRTG (Multi Router Traffic Grapher) g&eacute;n&egrave;re des
pages HTML de repr&eacute;sentation en temps r&eacute;el du trafic
r&eacute;seau. Le logiciel prend toute sa dimension comme produit fini, mais
&eacute;galement comme brique sp&eacute;cialis&eacute;e d'une solution
int&eacute;gr&eacute;e plus large. Il s'int&egrave;gre notamment parfaitement
dans la solution de supervision de Nagios. Son architecture logicielle permet
l'int&eacute;gration sur des plates-formes et composants
h&eacute;t&eacute;rog&egrave;nes.</p>
<p Align=justify><strong>CACTI </strong>est un logiciel de supervision
r&eacute;seau bas&eacute; sur RRDTool (Voir ANNEXE 2). Il peut-&ecirc;tre
consid&eacute;r&eacute; comme un successeur &agrave; MRTG et &eacute;galement
comme une interface &agrave; RRDTool. Cacti permet de repr&eacute;senter
graphiquement divers statuts de p&eacute;riph&eacute;riques r&eacute;seau
utilisant SNMP ou encore gr&acirc;ce &agrave; des scripts (Bash, PHP, Perl,
VBs...) pour avoir par exemple l'espace disque restant ou bien la
m&eacute;moire utilis&eacute;e, la charge processeur ou le ping d'un
&eacute;l&eacute;ment actif. Les donn&eacute;es sont r&eacute;colt&eacute;es
aupr&egrave;s des diff&eacute;rents agents SNMP (ou aupr&egrave;s des scripts
locaux) gr&acirc;ce &agrave; un script php. Pour de meilleures performances un
ex&eacute;cutable, nomm&eacute; cactid, peut &eacute;galement effectuer les
interrogations.</p>
<p Align=justify><strong>ZENOOS </strong>repr&eacute;sente une alternative
&agrave; des plates-formes de supervisions comme Tivoli ou OpenView, notamment
pour les entreprises de taille moyenne (Voir ANNEXE 3). Il assure des fonctions
de d&eacute;couverte, d'inventaire, de supervision de la disponibilit&eacute;,
de gestion de la performance, de gestion des &eacute;v&egrave;nements et des
alertes qui peuvent &ecirc;tre envoy&eacute;es par email (Voir ANNEXE 4). Le
produit f&eacute;d&egrave;re et s'interface avec de nombreux utilitaires de
supervision et d'administration open source. Zenoss est disponible en version
GPL ou commerciale (avec support).</p>
<p Align=justify>Le moniteur <strong>Nagios </strong>qu'utilise actuellement le
client d'INEODEV Limited et que nous allons le d&eacute;crire, ainsi dessous,
est consid&eacute;r&eacute; comme la solution la plus aboutie dans son genre et
la plus utilis&eacute;e dans le monde du logiciel libre de supervision.</p>
<p Align=justify><strong>A- NAGIOS :</strong></p>
<p Align=justify>Nagios, le successeur de Netsaint, est un logiciel de
monitoring et de supervision libre sous licence GPL.</p>
<p Align=justify>Il offre une solution de surveillance efficace dans un
syst&egrave;me informatique complexe. Il permet de surveiller le bon
fonctionnement des services d'une ou plusieurs machines dans un r&eacute;seau
h&eacute;t&eacute;rog&egrave;ne. Il est &eacute;crit en C et fonctionne
gr&acirc;ce &agrave; un ensemble de plugins (qui eux peuvent &ecirc;tre
&eacute;crits dans n'importe quel langage).</p>
<p Align=justify>Pr&eacute;vu &agrave; l'origine pour fonctionner sous Linux,
Nagios devrait fonctionner &eacute;galement sous les autres syst&egrave;mes
Unix.</p>
<p Align=justify>Plusieurs am&eacute;liorations ont &eacute;t&eacute;
apport&eacute;es &agrave; Nagios pour qu'il devienne un partenaire simple
&agrave; utiliser et remarquablement fiable et efficace.</p>
<p Align=justify><strong>1. Fonctionnalit&eacute;s de Nagios</strong></p>
<p Align=justify>Nagios offre &agrave; l'utilisateur plusieurs
fonctionnalit&eacute;s, &agrave; savoir&nbsp;<strong>:</strong></p>
<p Align=justify>- Surveillance des services r&eacute;seaux (SMTP, POP3, HTTP,
NNTP, PING, etc.) ;</p>
<p Align=justify>- Surveillance des ressources des h&ocirc;tes (charge
processeur, utilisation des disques, etc.) ;</p>
<p Align=justify>- Permettre aux utilisateurs de d&eacute;velopper facilement
leurs propres v&eacute;rifications de services gr&acirc;ce &agrave; son
syst&egrave;me de plugins ;</p>
<p Align=justify>- Parall&eacute;liser la v&eacute;rification des services ;</p>
<p Align=justify>- Possibilit&eacute; de d&eacute;finir la hi&eacute;rarchie du
r&eacute;seau en utilisant des h&ocirc;tes "parents", ce qui permet la
d&eacute;tection et la distinction entre les h&ocirc;tes qui sont &agrave;
l'arr&ecirc;t et ceux qui sont injoignables ; Notifications des contacts quand
un h&ocirc;te ou un service a un probl&egrave;me et quand celui-ci est
r&eacute;solu ;</p>
<p Align=justify>- Possibilit&eacute; de d&eacute;finir des gestionnaires
d'&eacute;v&egrave;nements qui s'ex&eacute;cutent pour des</p>
<p Align=justify>&eacute;v&egrave;nements sur des h&ocirc;tes ou des services,
pour une r&eacute;solution proactive des</p>
<p Align=justify>probl&egrave;mes ; </p>
<p Align=justify>- Rotation automatique des fichiers log ; Support pour
l'impl&eacute;mentation de la surveillance redondante des h&ocirc;tes ; </p>
<p Align=justify>- Interface web optionnelle, pour voir l'&eacute;tat actuel du
r&eacute;seau, notification et historique des probl&egrave;mes, fichiers log,
etc. ; </p>
<p Align=justify>- Une interface permettant l'int&eacute;gration simple de
plugins ; </p>
<p Align=justify>- De pr&eacute;venir par email ou par toute autre
m&eacute;thode personnalis&eacute;e en cas de probl&egrave;me ; </p>
<p Align=justify>- D&eacute;clencher des proc&eacute;dures
personnalis&eacute;es pour r&eacute;soudre les probl&egrave;mes ; </p>
<p Align=justify>- La consultation des diff&eacute;rents
&eacute;v&eacute;nements et donn&eacute;es collect&eacute;s via une interface
web ;</p>
<p Align=justify>- Archivage automatique des donn&eacute;es collect&eacute;es
;</p>
<p Align=justify>Dans la figure suivante, les fonctionnalit&eacute;s de Nagios
se r&eacute;sument&nbsp;<strong>:</strong></p>
<p Align=justify><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres3.png"
alt=""></p>
<p Align=justify><strong>Figure 3.7 : Fonctionalit&eacute;s de
Nagios.</strong></p>
<p Align=justify>Cependant, pour pallier aux &eacute;ventuelles lacunes du
Nagios, des plugins peuvent &ecirc;tre ajout&eacute;s qui sont
personnalis&eacute;s selon les besoins d'utilisation, pour accomplir ou
am&eacute;liorer d'autres services et t&acirc;ches.</p>


<h2 class="core"><A NAME="toc69"></A>2. Architecture de Nagios</h2>

<p Align=justify>Nagios est un programme modulaire de telle sorte que son
&eacute;volution puisse &ecirc;tre facile, il se compose principalement de
trois parties&nbsp;:</p>
<p Align=justify><strong>2.1. L'ordonnanceur : </strong>c'est le moteur de
l'application qui s'occupe de l'ordonnancement des t&acirc;ches de
supervision.</p>
<p Align=justify><strong>2.2. L'interface Web : </strong>qui permet d'avoir une
vue d'ensemble du syst&egrave;me</p>
<p Align=justify>d'information et des possibles anomalies, Nagios s'appuie sur
simple serveur</p>
<p Align=justify>Web tel apache bas&eacute; sur des CGI.</p>
<p Align=justify><strong>2.3. Les sondes : </strong>Les sondes de Nagios
(Plugins ou Greffons) sont de petits scripts ou programmes qui sont &agrave; la
base des v&eacute;rifications. Ces minis programmes que l'on peut
compl&eacute;ter selon nos besoins pour superviser chaque tache Nagios peut
aussi g&eacute;rer ses donn&eacute;es dans des bases de donn&eacute;es (MySQL
ou PostgreSQL) ou bien dans des fichiers textes.</p>
<p Align=justify>La figure <strong>4 </strong>montre cette architecture:</p>
<p Align=justify><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres4.png"
alt=""></p>
<p Align=justify><strong>Figure 3.8 : Architecture de Nagios.</strong></p>


<h2 class="core"><A NAME="toc70"></A>3. Principes de bases de Nagios</h2>

<p Align=justify><strong>Les Common Gate Interface (CGI) </strong>: C'est une
technologie standard impl&eacute;ment&eacute;e &agrave; tous serveurs Web. Elle
permet l'&eacute;change de donn&eacute;es entre un programme et le contenu
d'une page Web visualis&eacute;e par un internaute distant. Un tel programme
peut &ecirc;tre &eacute;crit &agrave; l'aide de n'importe quel langage de
programmation : les plus utilis&eacute;e sont le langage C, Perl ou encore
Python.</p>
<p Align=justify><strong>Les Plugins </strong>: A la diff&eacute;rence de
beaucoup d'autres outils de supervision. Nagios ne dispose pas de
m&eacute;canisme interne pour v&eacute;rifier l'&eacute;tat d'un service, d'un
h&ocirc;te,etc.</p>
<p Align=justify>Il utilise des programmes externes appel&eacute;s Plugins, Les
Plugins sont des</p>
<p Align=justify>programmes ex&eacute;cutables ou scripts (Perl, Shell, Etc.)
qui peuvent &ecirc;tre lanc&eacute;s depuis une ligne de commande pour tester
un h&ocirc;te ou un service. Nagios utilise le r&eacute;sultat  de cette action
pour d&eacute;terminer le statut des h&ocirc;tes ou services sur le
r&eacute;seau. Pour Nagios peu importe ce que fait un Plugin, seul le
r&eacute;sultat compte. Les Plugins permettent aux utilisateurs de
d&eacute;velopper facilement leurs propres v&eacute;rifications de services.
Ces plugins fonctionnent soit en local sur la machine supervis&eacute;e, soit
ex&eacute;cutent des tests &agrave; distance (tels sur des protocoles
r&eacute;seaux tels Http, Smtp ou ex&eacute;cution distante via Ssh ou
autres).</p>
<p Align=justify>Ce concept est illustr&eacute; dans la figure suivante :</p>
<p Align=justify><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres5.png"
alt=""></p>
<p Align=justify><strong>Figure 3.9 : Fonctionnement d'un Plugin de
NAGIOS.</strong></p>


<h2 class="core"><A NAME="toc71"></A>4. Mise en r&eacute;seau de la supervision avec
Nagios</h2>

<p Align=justify>Les plugins locaux au serveur de supervision sont
ex&eacute;cut&eacute;s directement par Nagios. La v&eacute;rification d'un
service &agrave; distance (par l'ex&eacute;cution d'un Plugin situ&eacute; sur
une autre machine ou par SNMP) se fait elle aussi par le biais de
l'ex&eacute;cution d'un Plugin local au serveur Nagios qui n'est en fait qu'un
ordonnanceur de t&acirc;ches d&eacute;di&eacute;es &agrave; la supervision.
Nagios n'a pas pour vocation d'int&eacute;grer des fonctionnalit&eacute;s de
v&eacute;rification de bon fonctionnement quelconques autres que ses fonctions
internes.</p>
<p Align=justify>Pour l'ex&eacute;cution de plugins &agrave; distance,
plusieurs possibilit&eacute;s existent:? </p>
<p Align=justify>- Par le biais d'autres serveurs de supervision Nagios
distants : dans le cas de la</p>
<p Align=justify>supervision distribu&eacute;e qui concentre la
v&eacute;rification sur un site distant, et ne</p>
<p Align=justify>remonte que les probl&egrave;mes.</p>
<p Align=justify>- Les agents de transport ou d'ex&eacute;cution des tests,
tels :</p>
<p Align=justify><strong>4.1. NRPE </strong>(Nagios Remote Plugin Executor) qui
permet l'ex&eacute;cution &agrave; la demande de Plugins &agrave; distance,
&agrave; choisir parmi un certain nombre de services disponibles. C'est ce
qu'on appelle la <strong><em>supervision active.</em></strong></p>
<p Align=justify><strong>4.2. NSCA </strong>(Nagios Service Chek Acceptor) qui
permet de son cot&eacute; la remont&eacute;e</p>
<p Align=justify>d'information de fa&ccedil;on passive vu du point de vue de
Nagios, c'est ce qu'on appelle la <strong><em>supervision
passive</em></strong>.</p>
<p Align=justify>L'ordonnancement des v&eacute;rifications est assur&eacute; de
fa&ccedil;on locale &agrave; chaque machine et surtout permet d'inverser le
sens des connexions entre serveur supervis&eacute; et serveur superviseur qui
peut avoir un int&eacute;r&ecirc;t dans un r&eacute;seau
s&eacute;curis&eacute;.</p>
<p Align=justify><strong>4.3. NSClient++ </strong>: qui est un greffon (plugin)
lourd pour la supervision des serveurs Windows NT/2K/XP.</p>
<p Align=justify><strong>4.4. Check_Snmp </strong>: pour la supervision
bas&eacute;e sur SNMP &agrave; travers le r&eacute;seau.</p>


<h2 class="core"><A NAME="toc72"></A>5. Conclusion</h2>

<p Align=justify>Tous ces logiciels que nous avons d&eacute;cris ci-dessus sont
consid&eacute;r&eacute;s comme un</p>
<p Align=justify>aboutissement et une r&eacute;ussite dans leur branche,
cependant, on voit qu'ils ont tous leurs propres inconv&eacute;nients qui
doivent &ecirc;tre r&eacute;solus.</p>
<p Align=justify>Un bon moniteur de supervision doit englober tous les
avantages de ces derniers et aussi rem&eacute;dier &agrave; leurs lacunes et
inconv&eacute;nients afin de converger vers la perfection et atteindre un
niveau de supervision et de fiabilit&eacute; optimum.</p>
<p Align=justify>Pour cela, la mise en place d'un tel moniteur exige le bon
choix de plate-forme de d&eacute;veloppement qui conduit &agrave; la
r&eacute;alisation d'une architecture distribu&eacute;e fiable et robuste.</p>
<p Align=justify><strong>B- CENTREON</strong></p>
<p Align=justify><strong>1. Pr&eacute;sentation de centreon</strong></p>
<p Align=justify><br>&#183; Surcouche applicative au-dessus de Nagios.</p>
<p Align=justify><br>&#183; Int&eacute;gration d'une interface
multi-utilisateurs compl&egrave;te et intuitive.</p>
<p Align=justify><br>&#183; Ajout de nouvelles possibilit&eacute;s de
supervision.</p>
<p Align=justify><br>&#183; Utilisation du langage PHP pour r&eacute;aliser le
client Web.</p>
<p Align=justify><br>&#183; Projet fran&ccedil;ais bas&eacute; sur la licence
GPL v2 :</p>
<p Align=justify><br>&#183; Large communaut&eacute; d'utilisateurs.</p>
<p Align=justify><br>&#183; Cr&eacute;ation d'une activit&eacute; de services
par les fondateurs du projet.</p>
<p Align=justify><strong>2. Les fonctionnalit&eacute;s de centreon </strong></p>
<p Align=justify><br>&#183; Interface de configuration des diff&eacute;rents
&eacute;l&eacute;ments de Nagios :</p>
<p Align=justify><br>&#183; H&ocirc;tes, services, contacts, alertes, etc.</p>
<p Align=justify><br>&#183; Formulaires complets et intuitifs.</p>
<p Align=justify><br>&#183; Gestion graphique des fichiers de configuration et
des plugins. nagios.cfg et resource.cfg</p>
<p Align=justify><br>&#183; Politique de gestions des profils utilisateurs
(droits, langues, acc&egrave;s aux ressources).</p>
<p Align=justify><br>&#183; Stockage des informations de configuration dans des
fichiers textes et une base de donn&eacute;es.</p>
<p Align=justify>L'ensemble des fichiers de configuration de Nagios est
accessible via l'interface</p>
<p Align=justify>graphique. Les &eacute;l&eacute;ments sont li&eacute;s entre
eux via des formulaires complets et intuitifs.</p>
<p Align=justify><br>&#183; Module d'auto-d&eacute;tection des ressources
pr&eacute;sentes sur le r&eacute;seau (via NMAP).</p>
<p Align=justify><br>&#183; Cr&eacute;ation de graphes au sein des modules :</p>
<p Align=justify><br>&#183; m&eacute;canismes de patrons/mod&egrave;les.</p>
<p Align=justify><br>&#183; un module unique, donc moins de ressources
syst&egrave;mes consomm&eacute;es.</p>
<p Align=justify><br>&#183; pas d'outil externe.</p>
<p Align=justify><br>&#183; Test de validit&eacute; des configuration de Nagios
avant mise en production.</p>
<p Align=justify><strong>3. G&eacute;n&eacute;ration des graphes &agrave;
partir de RRD.</strong></p>
<p Align=justify> Supervision graphique des donn&eacute;es, ce qui permet
d'avoir un historique.</p>
<p Align=justify>Possibilit&eacute; de comparer des graphes.</p>
<p Align=justify>Centreon g&eacute;n&egrave;re les fichiers de configuration de
Nagios (/etc/nagios) &agrave; partir des</p>
<p Align=justify>informations saisies dans l'interface Web.</p>
<p Align=justify>A cela, nous avons ajout&eacute; un &#171; toolkit &#187;
offrant des fonctionnalit&eacute;s avanc&eacute;es :</p>
<p Align=justify>Traceroute, Nmap, WOL, reboot, ping, etc.</p>
<p Align=justify><strong>C- NAGIOS et CENTREON</strong></p>
<p Align=justify><strong>1. Pr&eacute;sentation</strong></p>
<p Align=justify>Centr&eacute;on, bas&eacute; sur Nagios, se pr&eacute;sente
comme une &eacute;volution de celui-ci pour tout d'abord son interface mais
aussi ses fonctionnalit&eacute;s. Cr&eacute;&eacute; en 2003 par des
fran&ccedil;ais souhaitant am&eacute;liorer Nagios et son interface tr&egrave;s
aust&egrave;re, Centr&eacute;on (anciennement Or&eacute;on) a &eacute;t&eacute;
repris par une nouvelle entreprise nomm&eacute;e Merethis.<br>Centr&eacute;on
reprend donc les avantages du moteur de Nagios et permet ainsi d'&ecirc;tre
enti&egrave;rement compatible avec des solutions existantes. Son interface
reprend un d&eacute;coupage classique : </p>
<p Align=justify>Home : Page d'accueil avec Le "Tactical Overview" de Nagios
permettant un coup d'oeil rapide aux probl&egrave;mes survenus et acc&egrave;s
aux statistiques des performances du moteur et de ses composants. </p>
<p Align=justify>Monitoring : Poss&egrave;de plusieurs vues, mais reprend la
grande id&eacute;e de l'arbre des groupes d'&eacute;quipements. Reprend
&eacute;galement la vue Nagios. </p>
<p Align=justify>Views : Permet d'acc&eacute;der &agrave; tous les graphiques
avec un menu arborescent. Acc&egrave;s &agrave; une cartographie du
r&eacute;seau en applet Java. </p>
<p Align=justify>Reporting : Un dashboard ressemblant &agrave; celui de Zabbix
en ajoutant une frise chronologique de la disponibilit&eacute; de
l'&eacute;quipement. </p>
<p Align=justify>Configuration : Pour tout configurer de A &agrave; Z. </p>
<p Align=justify>Administration : Configuration des acc&egrave;s utilisateurs.
</p>
<p Align=justify>Toujours visibles en haut &agrave; gauche, un tableau
r&eacute;capitulatif du nombre de machines actives et des &eacute;ventuelles
machines ne r&eacute;pondant plus pour toujours garder un oeil sur l'ensemble
du r&eacute;seau. </p>
<p Align=justify><strong>2. Avantages</strong></p>
<p Align=justify>La robustesse et la renomm&eacute;e de Nagios&nbsp;;</p>
<p Align=justify>Une interface beaucoup plus sympathique, permettant de tout
configurer, de garder un oeil sur tout le r&eacute;seau en permanence&nbsp;;</p>
<p Align=justify>Les utilisateurs de Nagios ne seront pas perdus pour autant,
l'interface reprenant avantageusement certaines vues Nagios&nbsp;;</p>
<p Align=justify>Une solution compl&egrave;te permettant le reporting, la
gestion de panne et d'alarmes, gestion utilisateurs, ainsi que la cartographie
du r&eacute;seau&nbsp;;</p>
<p Align=justify>Une entreprise qui pousse le d&eacute;veloppement&nbsp;;</p>
<p Align=justify>Peut &ecirc;tre d&eacute;corel&eacute; du serveur Nagios et
tourner tout seul sur un autre serveur. </p>
<p Align=justify><strong>3. Inconv&eacute;nients</strong></p>
<p Align=justify>L'interface peut para&icirc;tre complexe car il existe
beaucoup d'options, de vues, cela n&eacute;cessite une petite formation&nbsp;;
</p>
<p Align=justify>Un d&eacute;veloppement qui n'est pas encore en phase avec
celui de Nagios : Parfois des probl&egrave;mes de compatibilit&eacute;&nbsp;;
</p>
<p Align=justify>Un peu plus lourd que du Nagios pur. </p>
<p Align=justify><strong>D- MRTG (</strong><em>Multi Router Traffic
Grapher)</em></p>
<p Align=justify><strong>1. Pr&eacute;sentation</strong></p>
<p Align=justify>MRTG est un logiciel d&eacute;di&eacute; &agrave; la
supervision r&eacute;seau. Il permet d'obtenir toute une s&eacute;rie de
statistiques <em>(visualisation de charge sur un r&eacute;seau, utilisation de
bande passante...) </em>concernant un appareil informatique <em>(tels que
routeurs, serveurs, ou PC) </em>sous forme de repr&eacute;sentations
graphiques. Il va pour cela chercher des informations directement sur les
interfaces des machines du r&eacute;seau via le protocole SN M P <em>(Simple
Network Management Protocol, protocole facilitant l'administration de
syst&egrave;mes &agrave; distance).</em></p>
<p Align=justify>Outil connu des grandes entreprises, enti&egrave;rement
configurable et gratuit, MRTG <em>(Multi Router Traffic Grapher) </em>est un
Freeware constitu&eacute; de scripts en langage Perl, distribu&eacute;
librement sur le Web. Il pr&eacute;sente les r&eacute;sultats de ses recherches
sur des pages Web classiques, ce qui facilite nettement l'acc&egrave;s &agrave;
un utilisateur quelconque, quelle que soit la machine utilis&eacute;e.</p>
<p Align=justify>MRTG est un outil r&eacute;alis&eacute; en Perl et en C dans
le but de surveiller la charge des liens r&eacute;seaux. Il
g&eacute;n&egrave;re des pages html contenant des images au format PNG qui
repr&eacute;sentent graphiquement l'&eacute;tat en temps r&eacute;el de la
ressource surveill&eacute;e. Le principe est simple : un script Perl recherche
les donn&eacute;es via le protocole SNMP et envoi celles-ci &agrave; un
programme C qui va les stocker et g&eacute;n&eacute;rer les graphiques.<br>A la
base l'auteur avait dans le but de surveiller le trafic passant par des
routeurs, mais MRTG se basant sur SNMP, les possibilit&eacute;s se sont
&eacute;tendues &agrave; toute variable. Encore mieux, on peut aussi
cr&eacute;er un script qui surveillera n'importe quelle type de donn&eacute;e
non disponible dans SNMP. On poss&egrave;de ainsi un syst&egrave;me de
surveillance d&eacute;j&agrave; cons&eacute;quent qui permet sur une m&ecirc;me
page de surveiller un r&eacute;seau et de garder les traces des anciennes
donn&eacute;es.</p>
<p Align=justify><strong>2. Les avantages du MRTG</strong></p>
<p Align=justify>MRTG poss&egrave;de de nombreux avantages&nbsp;: </p>
<p Align=justify>- MRTG est un logiciel gratuit, d&eacute;velopp&eacute; par
une communaut&eacute; de d&eacute;veloppeurs passionn&eacute;s.</p>
<p Align=justify>- MRTG est un outil multi plateforme (Linux,Unix,Windows), car
il utilise un script perl.</p>
<p Align=justify>- &nbsp;MRTG &eacute;tant bas&eacute; sur le protocole SNMP,
il n'est pas limit&eacute; au simple contr&ocirc;le du trafic mais on peut
contr&ocirc;ler n'importe quelle &nbsp;variable SNMP que l'on a choisie car
MRTG r&eacute;alise une commande SNMPGET. De plus on peut m&ecirc;me employer
un programme &nbsp;externe pour recueillir les donn&eacute;es qui doivent
&ecirc;tre contr&ocirc;l&eacute;es via MRTG. Enfin on peut contr&ocirc;ler plus
de 50 liens r&eacute;seaux &agrave; partir &nbsp;d'une machine UNIX ou
LINUX.</p>
<p Align=justify>-  Sa configuration se fait par l'interm&eacute;diare d'un
fichier de configuration, ce qui permet un contr&ocirc;l total de ses
fonctionalit&eacute;s.</p>
<p Align=left><strong>&nbsp;</strong></p>
<p Align=justify><strong>3. Les inconv&eacute;nients du MRTG</strong></p>
<p Align=justify>- Passe trop de temps &agrave; cr&eacute;er des pages HTML
(mal adapt&eacute; &agrave; des grands sites)&nbsp;;</p>
<p Align=justify>- Trop orient&eacute; SNMP&nbsp;;</p>
<p Align=justify>- Graphiques &agrave; deux courbes&nbsp;;</p>
<p Align=justify>- Pas de gestion des donn&eacute;es non fournies.</p>


<h1 class="core"><A NAME="toc73"></A><A NAME="toc74"></A><A NAME="toc75"></A><A
NAME="toc76"></A>    QUATRIEME PARTIE</h1>


<h1 class="core"><A NAME="toc77"></A><A NAME="toc78"></A> R&eacute;alisation</h1>


<p Align=justify><A NAME="toc79"></A> Cette derni&egrave;re partie nous
permettra de  concr&eacute;tiser  l'objectif de notre &eacute;tude c'est
&agrave; dire la mise en place du syst&egrave;me de monitoring  propos&eacute;
dont nous ferons ici une br&egrave;ve pr&eacute;sentation.</p>


<h2 class="core"><A NAME="toc80"></A>1. L'environnement technique et les outils</h2>

<p Align=justify>La plate-forme de travail sera compos&eacute;e des
distributions Linux Red Hat Entreprise, Fedora, et Microsoft Windows.</p>
<p Align=justify>Les outils : Apache, SNMP, Iptables, SSH ainsi que tous les
outils standards du monde Linux et Vmware.</p>


<h2 class="core"><A NAME="toc81"></A>2. Au niveau des logiciels</h2>

<p Align=justify>Au d&eacute;part, nous avons d&ucirc; effectuer une recherche
sur les divers outils de monitoring et de s&eacute;curit&eacute; disponibles
sur les plateformes Fedora. Les r&eacute;sultats de ma recherche sont&nbsp;:</p>
<p Align=justify><strong>&#183; pour le monitoring<em> </em>:</strong></p>
<p Align=justify>Nagios,  centreon, Zenoss Utilisation du protocole SNMP (via
Net-SNMP),</p>
<p Align=justify><strong>&#183; pour la g&eacute;n&eacute;ration de
graphiques<em> </em>:</strong></p>
<p Align=justify> RRDTool/MRTG, cacti (pour la g&eacute;n&eacute;ration de
graphiques).</p>


<h2 class="core"><A NAME="toc82"></A>3. Au niveau du mat&eacute;riel</h2>

<p Align=justify>Pour l'&eacute;laboration de notre recherche, nous avons eu
&agrave; notre disposition un serveur tournant sous Windows Server 2003, une
imprimante HP LaserJet P2015 series et notre ordinateur portable sous RHEL (Red
Hat Entreprise Linux 4 update 5).</p>


<h2 class="core"><A NAME="toc83"></A>4. Choix des logiciels et de l'environnement </h2>

<p Align=justify>Pour r&eacute;aliser notre projet, nous avons choisi
d'utiliser comme logiciel de virtualisation Vmware, pour la supervision les
logiciels nagios3 coupl&eacute; &agrave; centreon  et pour les flux
r&eacute;seaux nous avons opt&eacute; pour MRTG comme environnement de
monitoring F&eacute;dora 12.</p>
<p Align=justify>Le choix de Vmware 6.5 pour la virtualisation s'explique par
le fait que c'est l'un des meilleurs logiciels  sur le march&eacute; de la
virtualisation et en plus c'est un logiciel qui existe en version Windows comme
en version linux. L'installation de centreon coupl&eacute; &agrave; nagios
assembl&eacute; avec MRTG offre une plate-forme pratiquement compl&egrave;te 
d'o&ugrave; la  s&eacute;lection de ces trois logiciels en ce qui concerne
l'environnement le choix de F&eacute;dora 12 est ais&eacute;ment
compr&eacute;hensible car actuellement c'est la version la plus stable de
surcro&icirc;t il faut noter aussi que nous avons envisag&eacute; tout ce lot
de logiciels car ils sont des logiciels gratuits donc diminution de co&ucirc;t
d'impl&eacute;mentation.</p>


<h3 class="core">
<A NAME="toc84"></A>4.1 Cr&eacute;ation de la machine virtuelle</h3>


<h4><A NAME="toc85"></A>4.1.1 Pr&eacute;sentation de l'interface de Vmware</h4>

<p Align=justify>L'architecture de l'application Vmware 6.5 est la
suivante&nbsp;:</p>
<p Align=left><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres6.png"
alt=""></p>
<p Align=left><strong>Figure 4.1 Interface principale Vmware</strong></p>
<p Align=justify>L'interface d'accueil nous permet par le premier onglet de
cr&eacute;er une nouvelle machine virtuelle, le second onglet permet de
cr&eacute;er un groupe de machines virtuelles en fin le dernier onglet avec une
ic&ocirc;ne de dossier permet l'int&eacute;gration d'une quelconque machine
cr&eacute;&eacute; dans un autre environnement. </p>


<h4><A NAME="toc86"></A>4.1.2 Installation de syst&egrave;me d'exploitation
(F&eacute;dora 12)</h4>

<p Align=justify>L'installation de f&eacute;dora 12 est identique &agrave;
celle d'un syst&egrave;me d'exploitation classique. Celle-ci est plut&ocirc;t
rapide, intuitive et ne n&eacute;cessite pas de commentaire. Une fois
termin&eacute;e elle p&egrave;se environ 1Go car dans le contexte de notre
m&eacute;moire nous avons opt&eacute; pour une installation sans interface
graphique.</p>
<p Align=justify>Voici les quelques &eacute;tapes de l'installation</p>
<p Align=left><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres7.png"
alt=""></p>
<p Align=center><strong>Figure 4.2&nbsp;: Choix de la langue du syst&egrave;me
d'exploitation</strong></p>
<p Align=left><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres8.png"
alt=""></p>
<p Align=center><strong>Figure 4.3&nbsp;: Choix du type de clavier</strong></p>
<p Align=left><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres9.png"
alt=""></p>
<p Align=center><strong>Figure 4.4&nbsp;: Processus d'installation</strong></p>


<h1 class="core"><A NAME="toc87"></A> CHAPITRE 4&nbsp;: Processus d'installation et de
configuration (Nagios/centreon)</h1>

<p Align=left> </p>


<h2 class="core"><A NAME="toc88"></A>1. <img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres10.png"
alt=""><A NAME="Installation_des_pr_C3_A9_requis"></A>Installation des
pr&eacute;-requis</h2>

<p Align=justify>Pour une installation en mode distribu&eacute; (1 serveur
central Nagios/Centreon avec 1 ou plusieurs pollers Nagios), il est
recommand&eacute; de v&eacute;rifier que certains flux sont autoris&eacute;s
entre le serveur central et ses collecteurs&nbsp;:&nbsp; </p>
<p Align=justify>- flux SSH (port 22) du serveur central vers chaque
collecteur&nbsp;;&nbsp; </p>
<p Align=justify>- flux NDO (port 5668) de chaque collecteur vers le serveur
central&nbsp;;&nbsp; </p>
<p Align=justify>- flux MySQL (port 3306) de chaque collecteur vers le serveur
central (mise en place des traps SNMP sur les collecteurs). </p>
<p Align=justify><strong><A
NAME="Installation_du_d_C3_A9p_C3_B4t__22RPM_f"></A>Installation du
d&eacute;p&ocirc;t "RPM forge"</strong></p>
<p Align=justify><strong>Cette op&eacute;ration est &agrave; effectuer
seulement sur les distributions CentOS et RHEL5. Si vous utilisez Fedora,
passez &agrave; l'&eacute;tape suivante.</strong> </p>
<p Align=justify>Dans un terminal, ex&eacute;cutez les commandes
suivantes&nbsp;:&nbsp; </p>
<p Align=left># wget 
<A
HREF="http://apt.sw.be/redhat/el5/en/i386/RPMS.dag/rpmforge-release-0.3.6-1.el5.rf.i386.rpm" rel="nofollow">http://apt.sw.be/redhat/el5/en/i386/RPMS.dag/rpmforge-release-0.3.6-1.el5.rf.i386.rpm</A></p>
<p Align=left># rpm --import 
<A
HREF="http://dag.wieers.com/rpm/packages/RPM-GPG-KEY.dag.txt" rel="nofollow">http://dag.wieers.com/rpm/packages/RPM-GPG-KEY.dag.txt</A></p>
<p Align=left># rpm -Uvh rpmforge-release-0.3.6-1.el5.rf.i386.rpm</p>


<h3 class="core">
<A NAME="Pr_C3_A9_requis_pour_le_serveur_central"></A><A NAME="toc89"></A>1.1
Pr&eacute;-requis pour le serveur central</h3>

<p Align=justify>Les pr&eacute;s requis suivants doivent imp&eacute;rativement
&ecirc;tre install&eacute;s avant de poursuivre l'installation de
Centreon&nbsp;:&nbsp; </p>
<p Align=justify>Apache2 </p>
<p Align=left># yum install httpd</p>
<p Align=justify>Modules GD </p>
<p Align=left># yum install gd fontconfig-devel libjpeg-devel libpng-devel
gd-devel perl-GD</p>
<p Align=justify>Modules Perl </p>
<p Align=left># yum install perl-Config-IniFiles</p>
<p Align=justify>Modules Perl::DB </p>
<p Align=left># yum install perl-DBI perl-DBD-MySQL</p>
<p Align=left>MySQL </p>
<p Align=left># yum install openssl-devel mysql-server mysql-devel</p>
<p Align=justify>PHP </p>
<p Align=left># yum install php php-mysql php-gd php-ldap php-xml</p>
<p Align=justify>RRDTools </p>
<p Align=left># yum install rrdtool perl-rrdtool perl-RRD-Simple</p>
<p Align=justify>SNMP </p>
<p Align=left># yum install perl-Crypt-DES perl-Digest-SHA1 perl-Digest-HMAC
net-snmp-utils</p>
<p Align=left># yum install perl-Socket6 perl-IO-Socket-INET6 net-snmp
net-snmp-libs</p>
<p Align=left># yum install php-snmp dmidecode lm_sensors perl-Net-SNMP
net-snmp-perl</p>
<p Align=justify>Transport </p>
<p Align=left># yum install mailx postfix</p>
<p Align=justify>Divers </p>
<p Align=left># yum install fping graphviz cpp gcc gcc-c++ libstdc++</p>
<p Align=left># yum install glib2-devel libtool-ltdl-devel</p>


<h3 class="core">
<A NAME="Pr_C3_A9_requis_pour_les_collecteurs"></A><A NAME="toc90"></A>1.2
Pr&eacute;-requis pour les collecteurs</h3>

<p Align=justify>Si vous souhaitez installer l'interface Web de Nagios sur vos
collecteurs&nbsp;:&nbsp; </p>
<p Align=justify>Apache2 </p>
<p Align=left># yum install httpd</p>
<p Align=left>Dans tous les cas, vous devez installer les paquets
suivants&nbsp;:&nbsp; </p>
<p Align=left>&#167; Modules GD </p>
<p Align=left># yum install gd fontconfig-devel libjpeg-devel libpng-devel
gd-devel perl-GD</p>
<p Align=left>&#167; Modules Perl </p>
<p Align=left># yum install perl-Config-IniFiles perl-XML-Writer</p>
<p Align=left>&#167; Modules Perl::DB </p>
<p Align=left># yum install perl-DBI perl-DBD-MySQL</p>
<p Align=left>&#167; MySQL </p>
<p Align=left># yum install openssl-devel mysql-devel</p>
<p Align=left>&#167; PHP </p>
<p Align=left># yum install php php-mysql php-gd php-ldap php-xml</p>
<p Align=left>&#167; RRDTools </p>
<p Align=left># yum install rrdtool perl-rrdtool perl-RRD-Simple</p>
<p Align=left>&#167; &#167; &#167; SNMP </p>
<p Align=left># yum install perl-Crypt-DES perl-Digest-SHA1 perl-Digest-HMAC
net-snmp-utils</p>
<p Align=left># yum install perl-Socket6 perl-IO-Socket-INET6 net-snmp
net-snmp-libs</p>
<p Align=left># yum install php-snmp dmidecode lm_sensors perl-Net-SNMP
net-snmp-perl</p>
<p Align=left>&#167; Transport </p>
<p Align=left># yum install mailx postfix</p>
<p Align=left>&#167; Divers </p>
<p Align=left># yum install fping graphviz cpp gcc gcc-c++ libstdc++</p>
<p Align=left># yum install glib2-devel libtool-ltdl-devel</p>


<h2 class="core"><A NAME="Installation_des_paquets_PEAR"></A><A NAME="toc91"></A>2.
Installation des paquets PEAR</h2>

<p Align=justify>Les paquets PEAR ne doivent &ecirc;tre install&eacute;s que
sur le serveur Central. </p>
<p Align=left># yum install php-pear</p>
<p Align=justify>Dans le cas d'utilisation d'un proxy&nbsp;:&nbsp; </p>
<p Align=left># pear config-set http_proxy 
<A HREF="http://my_proxy:port_my_proxy" rel="nofollow">http://my_proxy:port_my_proxy</A></p>
<p Align=justify>Puis, installer les paquets&nbsp;:&nbsp; </p>
<p Align=left># pear channel-update pear.php.net</p>
<p Align=left># pear upgrade pear</p>
<p Align=left># pear upgrade-all</p>
<p Align=left># pear install SOAP Validate XML_RPC</p>
<p Align=left># pear install DB DB_DataObject DB_DataObject_FormBuilder</p>
<p Align=left># pear install Archive_Tar Auth_SASL Console_Getopt Date</p>
<p Align=left># pear install HTML_Common HTML_QuickForm </p>
<p Align=left># pear install HTML_QuickForm_advmultiselect HTML_Table</p>
<p Align=left># pear install HTTP_Request Image_GraphViz Log MDB2</p>
<p Align=left># pear install Net_Ping Net_SMTP Net_Socket Net_Traceroute
Net_URL</p>
<p Align=left># pear install Structures_Graph</p>
<p Align=justify>Il est possible de rencontrer des probl&egrave;mes lors de
l'installation de certains paquets. En cas de probl&egrave;mes, utilisez
l'option '-f' permettant de forcer l'installation d'un paquet&nbsp;:&nbsp; </p>
<p Align=left># pear install -f SOAP</p>


<h2 class="core"><A NAME="Emplacement_de_la_base_MySQL"></A><A NAME="toc92"></A>3.
Emplacement de la base MySQL</h2>

<p Align=justify>Si vous souhaitez d&eacute;placer vos bases de donn&eacute;es
vers un autre emplacement que &#171;&nbsp;/var/lib/mysql&nbsp;&#187;,
&eacute;diter le fichier &#171;&nbsp;/etc/my.cnf&nbsp;&#187; afin de
d&eacute;placer la base MySQL vers un autre r&eacute;pertoire tel que
&#171;&nbsp;/data/mysql&nbsp;&#187;. Le fichier doit contenir les lignes
suivantes&nbsp;:&nbsp; </p>
<p Align=left>[mysqld]</p>
<p Align=left>datadir=<strong>/data/mysql</strong></p>
<p Align=left>socket=/var/lib/mysql/mysql.sock</p>
<p Align=left>user=mysql</p>
<p Align=left># Default to using old password format for compatibility with
mysql 3.x</p>
<p Align=left># clients (those using the mysqlclient10 compatibility
package).</p>
<p Align=left>old_passwords=<strong>0</strong></p>
<p Align=left>[mysqld_safe]</p>
<p Align=left>log-error=/var/log/mysqld.log</p>
<p Align=left>pid-file=/var/run/mysqld/mysqld.pid</p>
<p Align=justify>Ajout des droits, d&eacute;marrage du service et
cr&eacute;ation du mot de passe pour le compte root&nbsp;:&nbsp; </p>
<p Align=left># chown mysql.mysql /data/mysql/</p>
<p Align=left># /etc/init.d/mysqld start</p>
<p Align=left># /usr/bin/mysqladmin -u root password 'mot_de_passe'</p>


<h2 class="core"><A NAME="toc93"></A>4. <img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres11.png"
alt=""><A NAME="Installation_de_Nagios"></A>Installation de Nagios</h2>

<p Align=justify>L'installation de Nagios consiste &agrave; cr&eacute;er
l'utilisateur "nagios", &agrave; lui attribuer un password et installer Nagios
par compilation pour disposer de la derni&egrave;re version et des
derni&egrave;res corrections. </p>


<h3 class="core">
<A NAME="Cr_C3_A9ation_d_27un_user_Nagios"></A><A NAME="toc94"></A>4.1
Cr&eacute;ation d'un user  Nagios</h3>

<p Align=justify>Cr&eacute;ation d'un compte utilisateur pour le fonctionnement
de Nagios&nbsp;: </p>
<p Align=left># /usr/sbin/useradd -m -r -d /home/nagios -s /bin/bash -c
"nagios" nagios</p>
<p Align=left># passwd nagios</p>


<h3 class="core">
<A NAME="Cr_C3_A9ation_d_27un_groupe_Nagios"></A><A NAME="toc95"></A>4.2
Cr&eacute;ation d'un groupe Nagios</h3>

<p Align=justify>Cr&eacute;ation d'un groupe utilisateurs pour le
fonctionnement de Nagios&nbsp;: </p>
<p Align=left># /usr/sbin/groupadd nagcmd</p>
<p Align=left># /usr/sbin/usermod -a -G nagios,nagcmd nagios</p>
<p Align=justify><A NAME="Ajout_d_27Apache_dans_le_groupe_Nagios"></A>Ajout
d'Apache dans le groupe Nagios</p>
<p Align=justify>Ajout d'Apache dans le groupe Nagios&nbsp;: </p>
<p Align=left># /usr/sbin/usermod -a -G nagios,nagcmd apache</p>
<p Align=justify><A NAME="Installation_de_Nagios_2"></A>Installation de
Nagios</p>
<p Align=justify>L'installation de Nagios sur le serveur central et sur les
collecteurs est identique. Nagios est r&eacute;guli&egrave;rement mis &agrave;
jour. Pour vous procurer la derni&egrave;re version de Nagios, rendez-vous sur
le site officiel de nagios: 
<A HREF="http://www.nagios.org/" rel="nofollow">http://www.nagios.org/</A> </p>
<p Align=left># cd /usr/local/src/</p>
<p Align=left># wget 
<A
HREF="http://prdownloads.sourceforge.net/sourceforge/nagios/nagios-3.2.0.tar.gz" rel="nofollow">http://prdownloads.sourceforge.net/sourceforge/nagios/nagios-3.2.0.tar.gz</A></p>
<p Align=left># tar xzf nagios-3.2.0.tar.gz</p>
<p Align=left># cd nagios-3.2.0</p>


<h3 class="core">
<A NAME="toc96"></A>4.3 Configuration des options de compilation&nbsp;: </h3>

<p Align=left># ./configure \</p>
<p Align=left>--prefix=/usr/local/nagios \</p>
<p Align=left>--enable-nanosleep \</p>
<p Align=left>--enable-event-broker \</p>
<p Align=left>--with-nagios-user=nagios \</p>
<p Align=left>--with-nagios-group=nagios \</p>
<p Align=left>--with-command-user=nagios \</p>
<p Align=left>--with-command-group=nagcmd</p>


<h3 class="core">
<A NAME="toc97"></A>4.4 Compilation et installation. </h3>

<p Align=left># make all</p>
<p Align=left># make install</p>
<p Align=left># make install-init</p>
<p Align=left># make install-commandmode</p>
<p Align=left># make install-config</p>
<p Align=justify>Si vous souhaitez installer l'interface Web de Nagios,
ex&eacute;cutez &eacute;galement les commandes suivantes&nbsp;: </p>
<p Align=left># make install-webconf</p>
<p Align=left># make install-html</p>


<h3 class="core">
<A NAME="Installation_des_plugins_Nagios"></A><A NAME="toc98"></A>4.5
Installation des plugins Nagios</h3>

<p Align=justify>Il n'est pas n&eacute;cessaire d'installer les plugins de
Nagios sur vos collecteurs. En effet, lors de l'installation de Centreon, de
nouveaux plugins seront install&eacute;s et tous seront copi&eacute;s en
m&ecirc;me temps. </p>
<p Align=left># cd /usr/local/src/</p>
<p Align=left># wget 
<A
HREF="http://ovh.dl.sourceforge.net/sourceforge/nagiosplug/nagios-plugins-1.4.13.tar.gz" rel="nofollow">http://ovh.dl.sourceforge.net/sourceforge/nagiosplug/nagios-plugins-1.4.13.tar.gz</A></p>
<p Align=left># tar xzf nagios-plugins-1.4.13.tar.gz </p>
<p Align=left># cd nagios-plugins-1.4.13</p>


<h3 class="core">
<A NAME="toc99"></A>4.6 Configuration des options de compilation&nbsp;: </h3>

<p Align=left># ./configure \</p>
<p Align=left>--with-nagios-user=nagios \</p>
<p Align=left>--with-nagios-group=nagios \</p>
<p Align=left>--with-command-user=nagios \</p>
<p Align=left>--with-command-group=nagcmd</p>


<h3 class="core">
<A NAME="toc100"></A>4.7  Installation: </h3>

<p Align=left># make</p>
<p Align=left># make install</p>
<p Align=justify>Les plugins sont maintenant install&eacute;s dans le
r&eacute;pertoire &#171;&nbsp;/usr/local/nagios/lib/plugins/&nbsp;&#187; </p>
<p Align=justify>La derni&egrave;re version des plugins est disponible sur le
site officiel de Nagios 
<A HREF="http://www.nagios.org" rel="nofollow">http://www.nagios.org</A> </p>
<p Align=left># cd /usr/local/src</p>
<p Align=left># wget 
<A
HREF="http://puzzle.dl.sourceforge.net/sourceforge/nagiosplug/nagios-plugins-1.4.14.tar.gz" rel="nofollow">http://puzzle.dl.sourceforge.net/sourceforge/nagiosplug/nagios-plugins-1.4.14.tar.gz</A></p>
<p Align=justify>Nous allons maintenant d&eacute;compresser le paquet des
plugins et aller dans le r&eacute;pertoire des sources: </p>
<p Align=left># tar -xzf nagios-plugins-1.4.14.tar.gz</p>
<p Align=left># cd nagios-plugins-1.4.14</p>
<p Align=left>Compilation et installation: </p>
<p Align=left># ./configure --with-nagios-user=nagios
--with-nagios-group=nagios  --prefix=/usr/local/nagios
--with-openssl=/usr/bin/openssl</p>
<p Align=left># make </p>
<p Align=left># make install</p>
<p Align=justify>Voila les plugins sont maintenant install&eacute;s. </p>


<h3 class="core">
<A NAME="toc101"></A>4.8 <img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres12.png"
alt=""><A NAME="Installation_de_NDOutils"></A>Installation de NDOutils</h3>

<p Align=justify>Il existe deux versions du broker ndoutils, la version
officielle (a) et une version optimis&eacute;e (en particulier pour les grands
p&eacute;rim&egrave;tres &agrave; superviser). La version optimis&eacute;
existe en 2 versions&nbsp;: pr&eacute;-patch&eacute;e (b), sous la forme d'un
patch (c). Attention, cette version optimis&eacute;e n'est pas
syst&eacute;matiquement compatible avec les modules tiers que vous seriez
amen&eacute;s &agrave; installer. Vous pouvez &agrave; tout moment remplacer le
broker modifi&eacute; par le broker officiel (remplacez simplement les fichiers
ndomod.o et ndo2db par les officiels). </p>


<h4><A NAME="Pr_C3_A9_requis"></A><A NAME="toc102"></A>4.8.1
Pr&eacute;-requis</h4>

<p Align=justify>Installer les librairies de d&eacute;veloppement mysql </p>
<p Align=left># sudo apt-get install libmysqlclient-dev</p>
<p Align=left><strong><A NAME="a_29_T_C3_A9l_C3_A9chargement_de_la_dern"></A>a)
T&eacute;l&eacute;chargement de la derni&egrave;re version
Officielle</strong></p>
<p Align=left># cd /usr/local/src/</p>
<p Align=left># wget 
<A
HREF="http://sourceforge.net/projects/nagios/files/ndoutils-1.x/ndoutils-1.4b9/ndoutils-1.4b9.tar.gz" rel="nofollow">http://sourceforge.net/projects/nagios/files/ndoutils-1.x/ndoutils-1.4b9/ndoutils-1.4b9.tar.gz</A></p>
<p Align=left># tar xzf ndoutils-1.4b9</p>
<p Align=left># cd ndoutils-1.4b9</p>
<p Align=left><strong><A NAME="b_29_T_C3_A9l_C3_A9chargement_de_la_vers"></A>b)
T&eacute;l&eacute;chargement de la version modifi&eacute;e</strong></p>
<p Align=justify>Vous trouverez ce module sur le serveur svn du projet
Centreon, il s'agit d'une version 1.4b7&nbsp;: </p>
<p Align=left># wget -r -np 
<A
HREF="http://svn.centreon.com/trunk/Patch-NDOutils/" rel="nofollow">http://svn.centreon.com/trunk/Patch-NDOutils/</A></p>
<p Align=left># cd svn.centreon.com/trunk/Patch-NDOutils</p>
<p Align=left><strong><A NAME="c_29_T_C3_A9l_C3_A9chargement_du_patch_p"></A>c)
T&eacute;l&eacute;chargement du patch pour la version officielle</strong></p>
<p Align=left># cd /usr/local/src/</p>
<p Align=left># wget 
<A
HREF="http://sourceforge.net/projects/nagios/files/ndoutils-1.x/ndoutils-1.4b9.tar.gz/download" rel="nofollow">http://sourceforge.net/projects/nagios/files/ndoutils-1.x/ndoutils-1.4b9.tar.gz/download</A></p>
<p Align=left># tar xzf ndoutils-1.4b9</p>
<p Align=left># cd ndoutils-1.4b9</p>
<p Align=justify><br>Vous trouverez ce patch sur le serveur svn du projet
Centreon&nbsp;: </p>
<p Align=left># wget 
<A
HREF="http://svn.centreon.com/trunk/ndoutils-patch/ndoutils1.4b9_light.patch" rel="nofollow">http://svn.centreon.com/trunk/ndoutils-patch/ndoutils1.4b9_light.patch</A></p>
<p Align=left># patch -p1 -N &lt; ndoutils1.4b9_light.patch</p>


<h4><A NAME="Installation"></A><A NAME="toc103"></A>4.8.2 Installation</h4>

<p Align=justify>Configuration des options de compilation&nbsp;: </p>
<p Align=left># ./configure \</p>
<p Align=left>--prefix=/usr/local/nagios \</p>
<p Align=left>--enable-mysql \</p>
<p Align=left>--disable-pgsql \</p>
<p Align=left>--with-ndo2db-user=nagios \</p>
<p Align=left>--with-ndo2db-group=nagios</p>
<p Align=justify><strong>Remarque&nbsp;:</strong> pour les distributions
64bits, vous devez compiler NDOutils avec les librairies 64bits de MySQL </p>
<p Align=left>--with-mysql-lib=<strong>/usr/lib64/mysql/</strong></p>


<h4><A NAME="toc104"></A>4.8.3 Compilation et copie des fichiers dans le
r&eacute;pertoire de Nagios&nbsp;: </h4>

<p Align=left># make</p>
<p Align=left># cp ./src/ndomod-3x.o /usr/local/nagios/bin/ndomod.o</p>
<p Align=left># cp ./src/ndo2db-3x /usr/local/nagios/bin/ndo2db</p>
<p Align=left># cp ./config/ndo2db.cfg /usr/local/nagios/etc/</p>
<p Align=left># cp ./config/ndomod.cfg /usr/local/nagios/etc/</p>


<h4><A NAME="toc105"></A>4.8.4 Affectation des droits d'ex&eacute;cution pour
Nagios&nbsp;: </h4>

<p Align=left># chmod 774 /usr/local/nagios/bin/ndo*</p>
<p Align=left># chown nagios:nagios /usr/local/nagios/bin/ndo*</p>


<h3 class="core">
<A NAME="Cr_C3_A9ation_du_fichier_de_d_C3_A9marra"></A><A NAME="toc106"></A>4.9
Cr&eacute;ation du fichier de d&eacute;marrage ndo2db</h3>

<p Align=justify>Cette &eacute;tape n'est &agrave; r&eacute;aliser que sur le
serveur central. En effet, il s'agit de configurer l'agent ndo2db qui va
recevoir les informations des modules ndomod afin de les enregistrer en base
MySQL&nbsp;: </p>
<p Align=justify>cr&eacute;er le fichier
&#171;&nbsp;/etc/init.d/ndo2db&nbsp;&#187;&nbsp;; </p>
<p Align=justify>ins&eacute;rer le script dans #3.Annexes&nbsp;: Script
d'initialisation de NDO2DB&nbsp;; </p>
<p Align=justify>ajouter le script dans les programmes de d&eacute;marrage
automatiques&nbsp;: </p>
<p Align=left># /sbin/chkconfig --add ndo2db </p>
<p Align=left># chmod +x /etc/init.d/ndo2db</p>
<p Align=justify>Maintenant Ndo est install&eacute;. Il faudra maintenant bien
le configurer au niveau de Centreon. Centreon 2.0 g&egrave;re
compl&egrave;tement la configuration du module ndo. </p>


<h2 class="core"><A NAME="toc107"></A>5. <img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres13.png"
alt=""><A NAME="Installation_de_Centreon"></A>Installation de Centreon</h2>

<p Align=justify>Avant d'aller plus loin, voici une petite astuce pour
&eacute;viter de saisir les diff&eacute;rents chemins vers les binaires
utilis&eacute;s, par exemple&nbsp;: nagios, ndomod, ... </p>
<p Align=left>export PATH="$PATH:/usr/local/nagios/bin/"</p>
<p Align=justify>L'installation de Centreon contient une partie textuelle en
ligne de commande et une partie graphique. </p>


<h3 class="core">
<A NAME="T_C3_A9l_C3_A9chargement_de_Centreon"></A><A NAME="toc108"></A>5.1
T&eacute;l&eacute;chargement de Centreon</h3>

<p Align=justify>Pour t&eacute;l&eacute;charger Centreon, deux m&eacute;thodes
existent. La plus courante est de se procurer l'archive sur le site de
centreon. </p>
<p Align=left><strong>&#167; a) T&eacute;l&eacute;chargement via le
site</strong> </p>
<p Align=left># cd /usr/local/src/</p>
<p Align=left># wget 
<A
HREF="http://download.centreon.com/index.php?id=4242" rel="nofollow">http://download.centreon.com/index.php?id=4242</A></p>
<p Align=left><strong>&#167; b) T&eacute;l&eacute;chargement via le serveur
SVN</strong> </p>
<p Align=left>$&gt; svn co 
<A
HREF="http://svn.centreon.com/trunk/tools" rel="nofollow">http://svn.centreon.com/trunk/tools</A></p>
<p Align=left>$&gt; cd tools</p>
<p Align=left>$&gt; dos2unix makePackage.sh</p>
<p Align=left>$&gt; chmod +x makePackage.sh</p>
<p Align=left>$&gt; ./makePackage.sh</p>
<p Align=left><strong>Attention</strong>, il est possible de
t&eacute;l&eacute;charger la derni&egrave;re version de Centreon
pr&eacute;sente sur le serveur SVN. Cette version b&eacute;n&eacute;ficie des
derni&egrave;res corrections importantes mais peut pr&eacute;senter des bugs.
</p>
<p Align=left>D&eacute;sarchivez le paquet et placez vous dans le
r&eacute;pertoire obtenu: </p>
<p Align=left># tar -xzf centreon-2.0.2.tar.gz</p>
<p Align=left># cd centreon-2.0.2</p>


<h3 class="core">
<A NAME="Installation_en_ligne_de_commande"></A><A NAME="toc109"></A>5.2
Installation en ligne de commande</h3>

<p Align=justify>Ajouter les droits d'&eacute;criture sur le fichier
sudoers&nbsp;: </p>
<p Align=left># chmod +w /etc/sudoers</p>
<p Align=justify>Nous allons maintenant lancer le script d'installation. Ce
script vous posera tout une liste de questions concernant les
r&eacute;pertoires d'installation, les d&eacute;pendances, etc. Nous essayerons
de commenter le plus possibles les divers questions au fur et &agrave; mesure
de l'avancement. </p>
<p Align=left># ./install.sh -i</p>
<p Align=justify>Au lancement du script, le programme confirme si toutes les
d&eacute;pendances sont satisfaites. </p>
<p
Align=left>###############################################################################</p>
<p Align=left>#                                                                
            #</p>
<p Align=left>#                         Centreon (www.centreon.com)            
            #</p>
<p Align=left>#                          Thanks for using Centreon             
            #</p>
<p Align=left>#                                                                
            #</p>
<p Align=left>#                                    v 2.0                       
            #</p>
<p Align=left>#                                                                
            #</p>
<p Align=left>#                             infos@oreon-project.org            
            #</p>
<p Align=left>#                                                                
            #</p>
<p Align=left>#                   Make sure you have installed and configured  
            #</p>
<p Align=left>#                   sudo - sed - php - apache - rrdtool - mysql  
            #</p>
<p Align=left>#                                                                
            #</p>
<p
Align=left>###############################################################################</p>
<p
Align=left>------------------------------------------------------------------------</p>
<p Align=left>        Checking all needed binaries</p>
<p
Align=left>------------------------------------------------------------------------</p>
<p Align=left>rm                                                         OK</p>
<p Align=left>cp                                                         OK</p>
<p Align=left>mv                                                         OK</p>
<p Align=left>chmod                                                      OK</p>
<p Align=left>chown                                                      OK</p>
<p Align=left>echo                                                       OK</p>
<p Align=left>cat                                                        OK</p>
<p Align=left>more                                                       OK</p>
<p Align=left>mkdir                                                      OK</p>
<p Align=left>find                                                       OK</p>
<p Align=left>sed                                                        OK</p>
<p Align=justify><br>Ensuite, vous devez accepter la licence d'utilisateur de
Centreon (licence GPL Version 2) pour continuer. Si vous refusez cette licence,
vous abandonnez l'installation. </p>
<p Align=left>This General Public License does not permit incorporating your
program into</p>
<p Align=left>proprietary programs.  If your program is a subroutine library,
you may</p>
<p Align=left>consider it more useful to permit linking proprietary
applications with the</p>
<p Align=left>library.  If this is what you want to do, use the GNU Library
General</p>
<p Align=left>Public License instead of this License.</p>
<p Align=left>Do you accept GPL license&nbsp;?</p>
<p Align=left>[y/n], default to [n]:</p>
<p Align=left>&gt; y</p>
<p Align=justify>Le module d'installation va alors vous demander si vous
souhaitez installer les modules&nbsp;: l'interface Web Centreon, Centcore, les
plugins Centreon et les Traps handler Centreon. </p>
<p
Align=left>------------------------------------------------------------------------</p>
<p Align=left>        Please choose what do you want to install</p>
<p
Align=left>------------------------------------------------------------------------</p>
<p Align=left>Do you want to install Centreon Web Front</p>
<p Align=left>[y/n], default to [n]:</p>
<p Align=left>&gt; y</p>
<p Align=left>Do you want to install Centreon CentCore</p>
<p Align=left>[y/n], default to [n]:</p>
<p Align=left>&gt; n</p>
<p Align=left>Do you want to install Centreon Nagios Plugins</p>
<p Align=left>[y/n], default to [n]:</p>
<p Align=left>&gt; y</p>
<p Align=left>Do you want to install Centreon Snmp Traps process</p>
<p Align=left>[y/n], default to [n]:</p>
<p Align=left>&gt; n</p>
<p Align=justify><br>&nbsp;&#171;&nbsp;L'installer&nbsp;&#187; ou l'installeur
va maintenant proc&eacute;der &agrave; l'installation des diff&eacute;rents
modules. </p>
<p Align=justify>Commen&ccedil;ons par Centreon Web, l'interface de centreon.
</p>
<p
Align=left>------------------------------------------------------------------------
</p>
<p Align=left>        Start CentWeb Installation</p>
<p
Align=left>------------------------------------------------------------------------</p>
<p Align=left>Where is your Centreon directory?</p>
<p Align=left>default to [/usr/local/centreon]</p>
<p Align=left>&gt;</p>
<p Align=justify>Ici on nous demande o&ugrave; installer Centreon. Tapez
"Entr&eacute;e" pour prendre le chemin par d&eacute;faut sinon saisir un autre
chemin. Si le r&eacute;pertoire que vous avez saisi n'existe pas, il vous sera
demand&eacute; de valider votre choix pour cr&eacute;er le r&eacute;pertoire.
</p>
<p Align=left>Do you want me to create this directory&nbsp;?
[/usr/local/centreon]</p>
<p Align=left>[y/n], default to [n]:</p>
<p Align=left>&gt; y</p>
<p Align=left>Path /usr/local/centreon                                   OK</p>
<p Align=justify>Ici on nous demande le r&eacute;pertoire de stockage des
journaux/logs de centreon. </p>
<p Align=left>Where is your Centreon log directory</p>
<p Align=left>default to [/usr/local/centreon/log/]</p>
<p Align=left>&gt;</p>
<p Align=left>Do you want me to create this directory&nbsp;?
[/usr/local/centreon/log/]</p>
<p Align=left>[y/n], default to [n]:</p>
<p Align=left>&gt; y</p>
<p Align=left>Path /usr/local/centreon/log/                              OK</p>
<p Align=justify>Tr&egrave;s important&nbsp;: l'emplacement des fichiers de
configuration de Centreon. Attention si cet endroit venait &agrave; changer par
la suite, vous seriez obliger de relancer l'installation de Centreon, certains
fichiers devant &ecirc;tre r&eacute;g&eacute;n&eacute;r&eacute;s. </p>
<p Align=left>Where is your Centreon etc directory</p>
<p Align=left>default to [/etc/centreon]</p>
<p Align=left>&gt;</p>
<p Align=left>Do you want me to create this directory&nbsp;? [/etc/centreon]</p>
<p Align=left>[y/n], default to [n]:</p>
<p Align=left>&gt; y</p>
<p Align=left>Path /etc/centreon                                         OK</p>
<p Align=left>Where is your Centreon generation_files directory?</p>
<p Align=left>default to [/usr/local/centreon/]</p>
<p Align=left>&gt;</p>
<p Align=left>Path /usr/local/centreon/                                  OK</p>
<p Align=justify>Ici le path de RRDs.pm pour centstorage et les plugins ce
centreon. </p>
<p Align=justify>Note: Le chemin du fichier "RRDs.pm" peut changer d'une
distribution &agrave; l'autre. Sur <strong>Fedora</strong> il sera de la forme
"/usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/RRDs.pm", sur
<strong>Debian</strong> "/usr/lib/perl5/RRDs.pm" et sur <strong>CentOS 5
64Bits</strong>"/usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-threadmulti/RRDs.pm".
</p>
<p Align=left>Where is installed RRD perl modules [RRDs.pm]</p>
<p Align=left>default to [/usr/lib/perl5/RRDs.pm]</p>
<p
Align=left>&gt;/usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/RRDs.pm</p>
<p Align=left>Path /usr/lib/perl5                                        OK</p>
<p Align=left>/usr/bin/rrdtool                                           OK</p>
<p Align=left>/usr/bin/mail                                              OK</p>


<h3 class="core">
<A NAME="toc110"></A>5.3 Localisation de PEAR.php. </h3>

<p Align=justify>Note: Comme pour le fichier suivant, la localit&eacute; du
fichier "PEAR.php" peut changer d'une distribution &agrave; l'autre. Sur
<strong>Fedora</strong>, il sera de la forme "/usr/share/pear/PEAR.php", sur
<strong>Debian</strong> "/usr/share/php/PEAR.php" et sur <strong>CentOS
64Bits</strong> "/usr/share/pear/PEAR.php". </p>
<p Align=left>Where is PEAR [PEAR.php]</p>
<p Align=left>default to [/usr/share/php/PEAR.php]</p>
<p Align=left>&gt;/usr/share/pear/PEAR.php</p>
<p Align=left>Path /usr/share/php                                        OK</p>
<p Align=justify>Maintenant on nous pose tout une s&eacute;rie de questions
&agrave; propos de Nagios. Cela va nous permettre de charger des informations
concernant Nagios &agrave; partir de l'existant. Cela nous permettra de bien
localiser chacune des parties de Nagios. </p>
<p Align=left>Where is installed Nagios&nbsp;?</p>
<p Align=left>default to [/usr/local/nagios/]</p>
<p Align=left>&gt;</p>
<p Align=left>Path /usr/local/nagios/                                    OK</p>
<p Align=left>Where is your nagios config file</p>
<p Align=left>default to [/usr/local/nagios/etc//nagios.cfg]</p>
<p Align=left>&gt;</p>
<p Align=left>Path /usr/local/nagios/etc                                 OK</p>
<p Align=left>Where is your Nagios var directory&nbsp;?</p>
<p Align=left>default to [/usr/local/nagios/var/]</p>
<p Align=left>&gt;</p>
<p Align=left>Path /usr/local/nagios/var/                                OK</p>
<p Align=left>Where is your Nagios plugins (libexec) directory&nbsp;?</p>
<p Align=left>default to [/usr/local/nagios/libexec/]</p>
<p Align=left>&gt;</p>
<p Align=left>Path /usr/local/nagios/libexec/                            OK</p>
<p Align=left>Where is your nagios binary&nbsp;?</p>
<p Align=left>default to [/usr/local/nagios/bin/nagios]</p>
<p Align=left>&gt;</p>
<p Align=left>/usr/local/nagios/bin/nagios                               OK</p>
<p Align=left>Where is your Nagios image directory&nbsp;?</p>
<p Align=left>default to [/usr/local/nagios/share/images/logos/]</p>
<p Align=left>&gt;</p>
<p Align=left>Path /usr/local/nagios/share/images/logos/                 OK</p>
<p Align=left>Where is your nagiostats binany&nbsp;?</p>
<p Align=left>default to [/usr/local/nagios/bin/nagiostats]</p>
<p Align=left>&gt;</p>
<p Align=left>/usr/local/nagios/bin/nagiostats                           OK</p>
<p Align=left>p1_file&nbsp;: /usr/local/nagios/bin/p1.pl                     
OK</p>
<p Align=left>/usr/bin/php                                               OK</p>
<p Align=left>Finding Apache group&nbsp;:                                    
apache</p>
<p Align=left>Finding Apache user&nbsp;:                                     
apache</p>
<p Align=left>Finding Nagios user&nbsp;:                                     
nagios</p>
<p Align=left>Finding nagios user nagios in /etc/passwd                  OK</p>
<p Align=left>Finding Nagios group&nbsp;:                                    
nagios</p>
<p Align=left>Finding nagios group 'nagios' in /etc/group                OK</p>
<p Align=justify>Le script nous pose maintenant une question concernant NDO. Il
vaut mieux ici r&eacute;pondre positivement &agrave; la question. Si nous
d&eacute;sirons utiliser Centreon sans NDO, nous ne pourrons pas
b&eacute;n&eacute;ficier des derni&egrave;res avanc&eacute;es&nbsp;: AJAX,
monitoring performant, etc. </p>
<p Align=left>Do you want use NDO&nbsp;?</p>
<p Align=left>[y/n], default to [n]:</p>
<p Align=left>&gt; y</p>
<p Align=justify>Le script nous demande ici l'emplacement de la librairie
dynamique de NDO. Ce chemin sera ensuite repris pour configurer correctement
Nagios pour fonctionner avec NDO. </p>
<p Align=left>Where is your NDO ndomod binary&nbsp;?</p>
<p Align=left>default to [/usr/sbin/ndomod.o]</p>
<p Align=left>&gt; /usr/local/nagios/bin/ndomod-3x.o</p>
<p Align=left>/usr/local/nagios/bin/ndomod-3x.o                          OK</p>
<p Align=justify>Ici nous configurons le sudo pour donner les droits &agrave;
Centreon de faire certaines manipulations (red&eacute;marrage de nagios
essentiellement). </p>
<p
Align=left>------------------------------------------------------------------------</p>
<p Align=left>        Configure Sudo</p>
<p
Align=left>------------------------------------------------------------------------</p>
<p Align=left>Where is sudo configuration file</p>
<p Align=left>default to [/etc/sudoers]</p>
<p Align=left>&gt;</p>
<p Align=left>/etc/sudoers                                               OK</p>
<p Align=left>Nagios init script                                         OK</p>
<p Align=left>Your sudo is not configure</p>
<p Align=left>Do you want I configure your sudo&nbsp;? (WARNING)</p>
<p Align=left>[y/n], default to [n]:</p>
<p Align=left>&gt; y</p>
<p Align=left>Configuring Sudo                                           OK</p>
<p Align=justify>Ici il nous est demand&eacute; si nous d&eacute;sirons
appliquer la configuration de Apache. Cette version beta ne prend pas en charge
les scripts de d&eacute;marrage httpd sur Fedora, pr&eacute;cisez donc non
lorsque le script demande s'il faut recharger la configuration. Vous
rechargerez le serveur manuellement &agrave; la suite de cette installation!
</p>
<p
Align=left>------------------------------------------------------------------------</p>
<p Align=left>        Configure Apache server</p>
<p
Align=left>------------------------------------------------------------------------</p>
<p Align=left>Do you want write Apache configuration file&nbsp;?</p>
<p Align=left>[y/n], default to [n]:</p>
<p Align=left>&gt; y</p>
<p Align=left>Create '/etc/apache2/conf.d/centreon.conf'                 OK</p>
<p Align=left>Configuring Apache                                         OK</p>
<p Align=left>Do you want reload your Apache&nbsp;?</p>
<p Align=left>[y/n], default to [n]:</p>
<p Align=left>&gt; n</p>
<p Align=left>Preparing Centreon temporary files</p>
<p Align=justify>Maintenant commence la pr&eacute;paration et la mise en place
des fichiers PHP de centreon. </p>
<p
Align=left>------------------------------------------------------------------------</p>
<p Align=left>        Start Centreon Web Front Installation</p>
<p
Align=left>------------------------------------------------------------------------</p>
<p Align=left> </p>
<p Align=left>In process</p>
<p Align=left>Change macros for php file</p>
<p Align=left>Change macros for php file                                 OK</p>
<p Align=left>Copy CentWeb in system directory</p>
<p Align=left>CentWeb file installation                                  OK</p>
<p Align=left>Install Centreon cron                                      OK</p>
<p Align=justify>Les Librairies PEAR&nbsp;: nous avons int&eacute;gr&eacute;
l'installation des librairies PEAR depuis &#171;&nbsp;l'installer&nbsp;&#187;.
Normalement &#171;&nbsp;l'installer&nbsp;&#187; est capable d'installer toutes
les librairies de mani&egrave;re automatique. Bien s&ucirc;r pour que cela
fonctionne il faut absolument que le serveur ait acc&egrave;s &agrave;
internet. Sinon il vous faudra proc&eacute;der &agrave; une installation
manuelle en t&eacute;l&eacute;chargeant chaque paquet PEAR. </p>
<p Align=left>Pear Modules</p>
<p Align=left>Check PEAR modules</p>
<p Align=left>PEAR                            1.5.0       1.4.11         NOK</p>
<p Align=left>DB                              1.7.6                      NOK</p>
<p Align=left>DB_DataObject                   1.8.4                      NOK</p>
<p Align=left>DB_DataObject_FormBuilder       1.0.0RC4                   NOK</p>
<p Align=left>MDB2                            2.0.0                      NOK</p>
<p Align=left>Date                            1.4.6                      NOK</p>
<p Align=left>HTML_Common                     1.2.2                      NOK</p>
<p Align=left>HTML_QuickForm                  3.2.5                      NOK</p>
<p Align=left>HTML_QuickForm_advmultiselect   1.1.0                      NOK</p>
<p Align=left>HTML_Table                      1.6.1                      NOK</p>
<p Align=left>Archive_Tar                     1.1         1.3.1          OK</p>
<p Align=left>Auth_SASL                       1.0.1                      NOK</p>
<p Align=left>Console_Getopt                  1.2         1.2            OK</p>
<p Align=left>HTTP                            1.2.2                      NOK</p>
<p Align=left>Image_GraphViz                  1.1.0                      NOK</p>
<p Align=left>Net_SMTP                        1.2.8                      NOK</p>
<p Align=left>Net_Socket                      1.0.1                      NOK</p>
<p Align=left>Net_Traceroute                  0.21                       NOK</p>
<p Align=left>Net_Ping                        2.4.1                      NOK</p>
<p Align=left>Validate                        0.6.2                      NOK</p>
<p Align=left>XML_RPC                         1.4.5                      NOK</p>
<p Align=left>SOAP                            0.10.1                     NOK</p>
<p Align=left>Log                             1.9.11                     NOK</p>
<p Align=justify>Apr&egrave;s avoir affich&eacute; l'&eacute;tat dans lequel se
trouvent les diff&eacute;rentes lib, il vous est propos&eacute; de lancer
l'installation des librairies de mani&egrave;re automatique. </p>
<p Align=left>Do you want I install/upgrade your PEAR modules</p>
<p Align=left>[y/n], default to [y]:</p>
<p Align=left>&gt; y</p>
<p Align=left>Upgrading PEAR modules</p>
<p Align=left>PEAR                            1.5.0       1.4.11      1.7OK</p>
<p Align=left>Installing PEAR modules</p>
<p Align=left>DB                              1.7.6       1.7.13         OK</p>
<p Align=left>DB_DataObject                   1.8.4       1.8.8          OK</p>
<p Align=left>DB_DataObject_FormBuilder       1.0.0RC4    1.0.0RC7       OK</p>
<p Align=left>MDB2                            2.0.0       2.4.1          OK</p>
<p Align=left>HTML_QuickForm_advmultiselect   1.1.0       1.4.1          OK</p>
<p Align=left>HTML_Table                      1.6.1       1.8.2          OK</p>
<p Align=left>Auth_SASL                       1.0.1       1.0.2          OK</p>
<p Align=left>HTTP                            1.2.2       1.4.0          OK</p>
<p Align=left>Image_GraphViz                  1.1.0       1.2.1          OK</p>
<p Align=left>Net_SMTP                        1.2.8       1.3.0          OK</p>
<p Align=left>Net_Traceroute                  0.21        0.21.1         OK</p>
<p Align=left>Net_Ping                        2.4.1       2.4.3          OK</p>
<p Align=left>Validate                        0.6.2       0.8.1          OK</p>
<p Align=left>XML_RPC                         1.4.5       1.5.1          OK</p>
<p Align=left>SOAP                            0.10.1      0.11.0         OK</p>
<p Align=left>Log                             1.9.11      1.10.1         OK</p>
<p Align=justify>Normalement l'installer a fini d'installer les modules PEAR.
Il nous affiche une derni&egrave;re fois l'&eacute;tat de l'installation des
modules PEAR. </p>
<p Align=left>Check PEAR modules</p>
<p Align=left>PEAR                            1.5.0       1.7.1          OK</p>
<p Align=left>DB                              1.7.6       1.7.13         OK</p>
<p Align=left>DB_DataObject                   1.8.4       1.8.8          OK</p>
<p Align=left>DB_DataObject_FormBuilder       1.0.0RC4    1.0.0RC7       OK</p>
<p Align=left>MDB2                            2.0.0       2.4.1          OK</p>
<p Align=left>Date                            1.4.6       1.4.7          OK</p>
<p Align=left>HTML_Common                     1.2.2       1.2.4          OK</p>
<p Align=left>HTML_QuickForm                  3.2.5       3.2.10         OK</p>
<p Align=left>HTML_QuickForm_advmultiselect   1.1.0       1.4.1          OK</p>
<p Align=left>HTML_Table                      1.6.1       1.8.2          OK</p>
<p Align=left>Archive_Tar                     1.1         1.3.2          OK</p>
<p Align=left>Auth_SASL                       1.0.1       1.0.2          OK</p>
<p Align=left>Console_Getopt                  1.2         1.2.3          OK</p>
<p Align=left>HTTP                            1.2.2       1.4.0          OK</p>
<p Align=left>Image_GraphViz                  1.1.0       1.2.1          OK</p>
<p Align=left>Net_SMTP                        1.2.8       1.3.0          OK</p>
<p Align=left>Net_Socket                      1.0.1       1.0.8          OK</p>
<p Align=left>Net_Traceroute                  0.21        0.21.1         OK</p>
<p Align=left>Net_Ping                        2.4.1       2.4.3          OK</p>
<p Align=left>Validate                        0.6.2       0.8.1          OK</p>
<p Align=left>XML_RPC                         1.4.5       1.5.1          OK</p>
<p Align=left>SOAP                            0.10.1      0.11.0         OK</p>
<p Align=left>Log                             1.9.11      1.10.1         OK</p>
<p Align=left>All PEAR module                                            OK</p>
<p Align=left>L'installer peut ainsi continuer. </p>
<p
Align=left>------------------------------------------------------------------------</p>
<p Align=left>               Centreon Post Install</p>
<p
Align=left>------------------------------------------------------------------------</p>
<p Align=left> </p>
<p Align=left>Create /usr/local/centreon/www/install/install.conf.php    OK</p>
<p Align=left>Create /etc/centreon/instCentWeb.conf                      OK</p>
<p Align=justify>Nous passons maintenant &agrave; l'installation de
CentStorage, autrefois appel&eacute; ODS (Oreon Data Storage). Ce Module de
centreon permet d'historiser en base de donn&eacute;es RRD et MySQL pour le
moment. Centstorage permettra aussi de peupler des graphs pour un meilleur
suivi de vos diverses metrics de supervision. </p>
<p
Align=left>------------------------------------------------------------------------</p>
<p Align=left>        Start CentStorage Installation</p>
<p
Align=left>------------------------------------------------------------------------</p>
<p Align=left>Where is your Centreon Run Dir directory?</p>
<p Align=left>default to [/var/run/centreon]</p>
<p Align=left>&gt;</p>
<p Align=left>Do you want me to create this directory&nbsp;?
[/var/run/centreon]</p>
<p Align=left>[y/n], default to [n]:</p>
<p Align=left>&gt; y</p>
<p Align=left>Path /var/run/centreon                                     OK</p>
<p Align=left>Where is your CentStorage binary directory</p>
<p Align=left>default to [/usr/local/centreon/bin]</p>
<p Align=left>&gt;</p>
<p Align=left>Do you want me to create this directory&nbsp;?
[/usr/local/centreon/bin]</p>
<p Align=left>[y/n], default to [n]:</p>
<p Align=left>&gt; y</p>
<p Align=left>Path /usr/local/centreon/bin                               OK</p>
<p Align=left>Where is your CentStorage RRD directory</p>
<p Align=left>default to [/var/lib/centreon]</p>
<p Align=left>&gt;</p>
<p Align=justify>Attention le r&eacute;pertoire lib de centreon doit se trouver
sur une partition assez cons&eacute;quente pour ne pas risquer un encombrement
rapide de la partition. Dans ce r&eacute;pertoire se trouveront toutes les
bases RRDTool. </p>
<p Align=justify>Pensez aussi &agrave; placer les bases MySQL dans un endroit
assez bien taill&eacute;. Les bases de logs et de donn&eacute;es de
performances n&eacute;cessitent beaucoup d'espace disque. </p>
<p Align=left>Do you want me to create this directory&nbsp;?
[/var/lib/centreon]</p>
<p Align=left>[y/n], default to [n]:</p>
<p Align=left>&gt; y</p>
<p Align=left>Path /var/lib/centreon                                     OK</p>
<p Align=left>Finding Nagios group&nbsp;:                                    
nagios</p>
<p Align=left>Finding nagios group 'nagios' in /etc/group                OK</p>
<p Align=left>Finding Nagios user&nbsp;:                                     
nagios</p>
<p Align=left>Finding nagios user nagios in /etc/passwd                  OK</p>
<p Align=left>Preparing Centreon temporary files</p>
<p Align=left>/tmp/centreon-setup exists, it will move...</p>
<p Align=left>Creating Centreon Directory '/var/lib/centreon/status'     OK</p>
<p Align=left>Creating Centreon Directory '/var/lib/centreon/metrics'    OK</p>
<p Align=left>Replace Centstorage Macro                                  OK</p>
<p Align=left>Set CentStorage properties                                 OK</p>
<p Align=left>Replace Centstorage init script Macro                      OK</p>
<p Align=left>Do you want I install CentStorage init script&nbsp;?</p>
<p Align=left>[y/n], default to [n]:</p>
<p Align=left>&gt; y</p>
<p Align=left>Do you want I install CentStorage run level&nbsp;?</p>
<p Align=left>[y/n], default to [n]:</p>
<p Align=left>&gt; y</p>
<p Align=left>Adding system startup for /etc/init.d/centstorage ...</p>
<p Align=left>  /etc/rc0.d/K30centstorage -&gt; ../init.d/centstorage</p>
<p Align=left>  /etc/rc1.d/K30centstorage -&gt; ../init.d/centstorage</p>
<p Align=left>  /etc/rc6.d/K30centstorage -&gt; ../init.d/centstorage</p>
<p Align=left>  /etc/rc2.d/S40centstorage -&gt; ../init.d/centstorage</p>
<p Align=left>  /etc/rc3.d/S40centstorage -&gt; ../init.d/centstorage</p>
<p Align=left>  /etc/rc4.d/S40centstorage -&gt; ../init.d/centstorage</p>
<p Align=left>  /etc/rc5.d/S40centstorage -&gt; ../init.d/centstorage</p>
<p Align=left>Set logAnalyser properties                                 OK</p>
<p Align=left>Set nagiosPerfTrace properties                             OK</p>
<p Align=left>Install CentStorage cron                                   OK</p>
<p Align=left>Create /etc/centreon/instCentStorage                       OK</p>
<p Align=justify>CentStorage est install&eacute;, il reste &agrave; installer
SNMPTT <strong>(Uniquement pour les version &gt; Beta 3)</strong>! </p>
<p Align=left>Where is your SNMP configuration directory</p>
<p Align=left>default to [/etc/snmp]</p>
<p Align=left>&gt; </p>
<p Align=left>/etc/snmp                                                  OK</p>
<p Align=left>Where is your SNMPTT binaries directory</p>
<p Align=left>default to [/opt/snmptt]</p>
<p Align=left>&gt; /usr/local/src/centreon-2.0-b3/snmptt</p>
<p Align=left>/usr/local/src/centreon-2.0-b3/snmptt    </p>
<p Align=justify>Il ne reste plus qu'&agrave; r&eacute;pondre &agrave; quelques
questions pour installer les plugins de centreon. </p>
<p
Align=left>------------------------------------------------------------------------</p>
<p Align=left>        Start CentPlugins Installation</p>
<p
Align=left>------------------------------------------------------------------------</p>
<p Align=left>Where is your CentPlugins lib directory</p>
<p Align=left>default to [/var/lib/centreon]</p>
<p Align=left>&gt;</p>
<p Align=left>Path /var/lib/centreon                                     OK</p>
<p Align=left>Finding Nagios user&nbsp;:                                     
nagios</p>
<p Align=left>Finding nagios user nagios in /etc/passwd                  OK</p>
<p Align=left>Finding Nagios group&nbsp;:                                    
nagios</p>
<p Align=left>Finding nagios group 'nagios' in /etc/group                OK</p>
<p Align=left>Preparing Centreon temporary files</p>
<p Align=left>/tmp/centreon-setup exists, it will move...</p>
<p Align=left>CentPlugins is installed</p>
<p Align=justify>L'installation automatique est maintenant termin&eacute;e...
Quelques &eacute;tapes manuelles sont encore n&eacute;cessaires. </p>


<h3 class="core">
<A NAME="toc111"></A>5.4 Recharge de  la configuration d'Apache </h3>

<p Align=left>&#167; sur Fedora&nbsp;: </p>
<p Align=left># service httpd reload</p>
<p Align=left>&#167; sur Debian&nbsp;: </p>
<p Align=left># /etc/init.d/apache reload</p>
<p Align=justify>sur OpenSuse&nbsp;: </p>
<p Align=left># /etc/init.d/apache2 reload</p>
<p Align=justify>&Eacute;ditez le fichier &#171;&nbsp;/etc/sudoers&nbsp;&#187;
et ajoutez la ligne ci-dessous avant la ligne "## END: CENTREON SUDO": </p>
<p Align=left>Defaults:CENTREON&nbsp;!requiretty</p>
<p Align=justify>Puis supprimer les droits d'&eacute;criture sur le fichier
sudoers&nbsp;: </p>
<p Align=left># chmod -w /etc/sudoers</p>
<p Align=justify>Si l'interface Web de Nagios a &eacute;t&eacute;
install&eacute;e, cr&eacute;er un compte pour acc&eacute;der &agrave;
l'interface web de Nagios&nbsp;: </p>
<p Align=left># htpasswd -c /usr/local/nagios/etc/htpasswd.users votre_login</p>
<p Align=justify>D&eacute;sactivation de Selinux, &eacute;diter le fichier de
configuration de SELINUX&nbsp;: </p>
<p Align=left># vi /etc/selinux/config</p>
<p Align=justify>Et remplacer par le texte en gras&nbsp;: </p>
<p Align=left># This file controls the state of SELinux on the system.</p>
<p Align=left># SELINUX= can take one of these three values:</p>
<p Align=left># enforcing - SELinux security policy is enforced.</p>
<p Align=left># permissive - SELinux prints warnings instead of enforcing.</p>
<p Align=left># disabled - No SELinux policy is loaded.</p>
<p Align=left>SELINUX=disabled</p>
<p Align=left># SELINUXTYPE= can take one of these two values:</p>
<p Align=left># targeted - Only targeted network daemons are protected.</p>
<p Align=left># strict - Full SELinux protection.SELINUXTYPE=targeted</p>
<p Align=justify>Vous devez red&eacute;marrer votre machine pour que cela soit
pris en compte. </p>


<h2 class="core"><A NAME="toc112"></A>6. Installation Web</h2>

<p Align=justify>Nous pouvons maintenant aller sur l'URL suivante&nbsp;: 
<A HREF="http://SERVER_ADDRESS/centreon/" rel="nofollow">http://SERVER_ADDRESS/centreon/</A>
Nous sommes automatiquement redirig&eacute; vers 
<A
HREF="http://SERVER_ADDRESS/centreon/install/setup.php" rel="nofollow">http://SERVER_ADDRESS/centreon/install/setup.php</A>
Nous allons maintenant devoir valider les derni&egrave;res &eacute;tapes de
l'installation. </p>


<h3 class="core">
<A NAME="toc113"></A>6.1 D&eacute;marrage de l'installation Web </h3>

<p Align=center>
<A HREF="http://en.doc.centreon.com/Image:Screenshot1.jpg" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres14.png"
alt=""></A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot1.jpg" rel="nofollow">Cliquez sur "Next"
</A></p>


<h3 class="core">

<A HREF="http://en.doc.centreon.com/Image:Screenshot1.jpg" rel="nofollow"><A
NAME="toc114"></A>6.2 Validation de la licence </A></h3>

<p Align=center>
<A HREF="http://en.doc.centreon.com/Image:Screenshot1.jpg" rel="nofollow">
<A HREF="http://en.doc.centreon.com/Image:Screenshot2.jpg" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres15.png"
alt=""></A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot2.jpg" rel="nofollow">Pour valider,
cliquez "I Accept" suivi de "next". </A></p>


<h3 class="core">

<A HREF="http://en.doc.centreon.com/Image:Screenshot2.jpg" rel="nofollow"><A
NAME="toc115"></A>6.3 Validation des variables d'environnement de
l'installation. </A></h3>

<p Align=center>
<A HREF="http://en.doc.centreon.com/Image:Screenshot2.jpg" rel="nofollow">
<A HREF="http://en.doc.centreon.com/Image:Screenshot3.jpg" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres16.png"
alt=""></A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot3.jpg" rel="nofollow">Attention, sur les
distributions Fedora, remplacez "www-data" par "apache". Si vous utilisez une
distribution OpenSuse, remplacez "www-data" par "wwwrun". Puis cliquez sur
"Next". </A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot3.jpg" rel="nofollow">&#167; Validation
des Modules PHP et des droits d'acc&egrave;s pour le r&eacute;pertoire de
configuration de centreon. </A></p>
<p Align=center>
<A HREF="http://en.doc.centreon.com/Image:Screenshot3.jpg" rel="nofollow">
<A HREF="http://en.doc.centreon.com/Image:Screenshot4.jpg" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres17.png"
alt=""></A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot4.jpg" rel="nofollow">Tant que tout n'est
pas vert, effectuez les changements pour que cela le devienne, puis cliquez sur
"Next". </A></p>


<h3 class="core">

<A HREF="http://en.doc.centreon.com/Image:Screenshot4.jpg" rel="nofollow"><A
NAME="toc116"></A>6.4 Validation des Modules PEAR </A></h3>

<p Align=center>
<A HREF="http://en.doc.centreon.com/Image:Screenshot4.jpg" rel="nofollow">
<A HREF="http://en.doc.centreon.com/Image:Screenshot5.jpg" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres18.png"
alt=""></A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot5.jpg" rel="nofollow">Normalement les
modules ont &eacute;t&eacute; install&eacute;s lors de l'installation en mode
shell. Tout devrait &ecirc;tre vert. Cliquez sur "Next". </A></p>


<h3 class="core">

<A HREF="http://en.doc.centreon.com/Image:Screenshot5.jpg" rel="nofollow"><A
NAME="toc117"></A>6.5 D&eacute;finir les acc&egrave;s MySQL </A></h3>

<p Align=center>
<A HREF="http://en.doc.centreon.com/Image:Screenshot5.jpg" rel="nofollow">
<A HREF="http://en.doc.centreon.com/Image:Screenshot6.jpg" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres19.png"
alt=""></A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot6.jpg" rel="nofollow">Compl&eacute;tez les
champs vides suivants&nbsp;: root password, centreon database name, centstorage
database name, et les password. La localisation de la base de donn&eacute;es
est optionnelle. De m&ecirc;me pour la localisation de Nagios. Cette option est
utilis&eacute;e uniquement si vous d&eacute;cidez de d&eacute;porter votre base
de donn&eacute;es sur un serveur d&eacute;di&eacute;. En version 2.1, 3 bases
de donn&eacute;es seront alors cr&eacute;&eacute;s (Centreon -&gt; relatif au
fonctionnement de Centreon, Censtorage -&gt; utilis&eacute; pour
l'historisation, et Centstatus -&gt; la base de donn&eacute;es commune &agrave;
NDO et Centreon). </A></p>


<h3 class="core">

<A HREF="http://en.doc.centreon.com/Image:Screenshot6.jpg" rel="nofollow"><A
NAME="toc118"></A>6.6 Test de connexion MySQL </A></h3>

<p Align=center>
<A HREF="http://en.doc.centreon.com/Image:Screenshot6.jpg" rel="nofollow">
<A HREF="http://en.doc.centreon.com/Image:Screenshot7.jpg" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres20.png"
alt=""></A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot7.jpg" rel="nofollow">Si tout est "OK",
cliquez "Next" sinon "Back" pour ajuster vos acc&egrave;s &agrave; MySQL.
</A></p>


<h3 class="core">

<A HREF="http://en.doc.centreon.com/Image:Screenshot7.jpg" rel="nofollow"><A
NAME="toc119"></A>6.7 Cr&eacute;ation du user "Administrateur" </A></h3>

<p Align=center>
<A HREF="http://en.doc.centreon.com/Image:Screenshot7.jpg" rel="nofollow">
<A HREF="http://en.doc.centreon.com/Image:Screenshot8.jpg" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres21.png"
alt=""></A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot8.jpg" rel="nofollow">Veuillez saisir les
informations concernant le "Super" Administrateur. </A></p>


<h3 class="core">

<A HREF="http://en.doc.centreon.com/Image:Screenshot8.jpg" rel="nofollow"><A
NAME="toc120"></A>6.8 Activation de LDAP </A></h3>

<p Align=center>
<A HREF="http://en.doc.centreon.com/Image:Screenshot8.jpg" rel="nofollow">
<A HREF="http://en.doc.centreon.com/Image:Screenshot9.jpg" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres22.png"
alt=""></A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot9.jpg" rel="nofollow">Si vous
d&eacute;sirez activer l'authentification LDAP, cliquez "Yes". Sinon, laissez
"No". Ensuite cliquez "Next". </A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot9.jpg" rel="nofollow">&Eacute;criture des
fichiers de configuration de Centreon et de Centstorage </A></p>
<p Align=center>
<A HREF="http://en.doc.centreon.com/Image:Screenshot9.jpg" rel="nofollow">
<A HREF="http://en.doc.centreon.com/Image:Screenshot10.jpg" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres23.png"
alt=""></A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot10.jpg" rel="nofollow">Si tout est "vert",
Cliquez sur "Next". Sinon veillez &agrave; ce que les droits du
r&eacute;pertoire "etc" de Centreon soit en &eacute;criture pour Apache.
Selinux peut bloquer cette &eacute;tape, pensez &agrave; le d&eacute;sactiver,
red&eacute;marrer la machine et relancer l'installation web pour passer cette
&eacute;tape. Cliquez ensuite sur "Next". </A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot10.jpg" rel="nofollow">Cr&eacute;ation des
bases de donn&eacute;es et mise en place d'une configuration standard. </A></p>
<p Align=center>
<A HREF="http://en.doc.centreon.com/Image:Screenshot10.jpg" rel="nofollow">
<A HREF="http://en.doc.centreon.com/Image:Screenshot11.jpg" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres24.png"
alt=""></A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot11.jpg" rel="nofollow">Cliquez "Next".
</A></p>


<h3 class="core">

<A HREF="http://en.doc.centreon.com/Image:Screenshot11.jpg" rel="nofollow"><A
NAME="toc121"></A>6.9 Fin de l'installation. </A></h3>

<p Align=center>
<A HREF="http://en.doc.centreon.com/Image:Screenshot11.jpg" rel="nofollow">
<A HREF="http://en.doc.centreon.com/Image:Screenshot12.jpg" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres25.png"
alt=""></A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot12.jpg" rel="nofollow">Pour du support
communautaire, consultez les liens pr&eacute;sents sur la page (WebSite, forum,
Doc). Du support professionnel vous est aussi propos&eacute;. </A></p>


<h3 class="core">

<A HREF="http://en.doc.centreon.com/Image:Screenshot12.jpg" rel="nofollow"><A
NAME="toc122"></A>6.10 Premi&egrave;re connexion! </A></h3>

<p Align=center>
<A HREF="http://en.doc.centreon.com/Image:Screenshot12.jpg" rel="nofollow">
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres26.png"
alt=""></A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Vous pouvez
maintenant vous authentifier sur le portail de Centreon. Il ne vous reste plus
qu'&agrave; configurer vos v&eacute;rifications. </A></p>


<h2 class="core">
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"><A
NAME="Installation_de_la_base_NDO"></A><A NAME="toc123"></A>7. Installation de
la base NDO</A></h2>

<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Dans un terminal,
taper les commandes suivantes&nbsp;: </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># mysql -u root
-p</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">mysql&gt; CREATE
DATABASE `ndo` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">mysql&gt;
exit;</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">mysql -u root -p
ndo &lt; /usr/local/src/centreon-2.0.1/www/install/createNDODB.sql</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># mysql -u root
-p</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">mysql&gt; GRANT
SELECT, INSERT, UPDATE, DELETE ON `ndo` . * TO 'centreon'@'localhost';</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">mysql&gt;
exit;</A></p>


<h3 class="core">

<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"><A
NAME="Configuration_de_SNMP"></A><A NAME="toc124"></A>7.1 Configuration de
SNMP</A></h3>

<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">&Eacute;ditez le
fichier de configuration de snmpd pour ajouter la communaut&eacute;
&#171;&nbsp;votre_communaut&eacute;&nbsp;&#187;&nbsp;: </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># cp
/etc/snmp/snmpd.conf /etc/snmp/snmpd.conf.origin</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># rm
/etc/snmp/snmpd.conf </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># vi
/etc/snmp/snmpd.conf</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">et ajoutez la ligne
suivante &agrave; la fin du fichier&nbsp;: </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">rocommunity
votre_communaut&eacute;</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Pour que les
check_snmp fonctionnent, il faut modifier le fichier /etc/snmp/snmpd.conf pour
avoir&nbsp;: </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">#       sec.name 
source          community</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">#com2sec paranoid 
default         public</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">com2sec readonly 
default         public</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">#com2sec readwrite
default         private</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Enfin, il faut
ouvrir le port udp 161 sur chaque collecteur que l'on veut surveiller. Avant la
ligne </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">-A
RH-Firewall-1-INPUT -j REJECT --reject-with icmp-host-prohibited</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">ajouter&nbsp;:
</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">-A
RH-Firewall-1-INPUT -p udp -m udp --dport 161 -j ACCEPT</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Red&eacute;marrer
le service iptables pour prendre en compte la modification, ainsi que le
service snmpd&nbsp;: </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">#
/etc/init.d/iptables restart</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># /etc/init.d/snmpd
restart</A></p>


<h3 class="core">

<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"><A
NAME="Ajout_de_services_au_d_C3_A9marrage"></A><A NAME="toc125"></A>7.2 Ajout
de services au d&eacute;marrage</A></h3>

<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Sur les
collecteurs&nbsp;: </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># /sbin/chkconfig
--level 35 snmpd on</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># /sbin/chkconfig
--level 35 snmptrapd on</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># /sbin/chkconfig
--level 35 nagios on</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># /sbin/chkconfig
--level 01246 nagios off</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Sur le serveur
central&nbsp;: </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># /sbin/chkconfig
--level 35 snmpd on</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># /sbin/chkconfig
--level 35 ndo2db on </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># /sbin/chkconfig
--level 01246 ndo2db off </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># /sbin/chkconfig
--level 35 nagios on</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># /sbin/chkconfig
--level 01246 nagios off</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># /sbin/chkconfig
--level 35 httpd on</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># /sbin/chkconfig
--level 35 mysqld on</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Nous allons ici
installer la base MySQL de NDO. Cette base est la base de NDO 1.4-b7 avec une
table en plus&nbsp;: "centreon_acl". Cette table permet de
g&eacute;n&eacute;rer une ACL directement dans la base NDO pour optimiser les
requ&ecirc;tes SQL (jointure) lors de l'affichage des r&eacute;sultats dans le
monitoring. </A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">lancer les
commandes selon l'exemple suivant&nbsp;: </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># mysql -u root
</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">mysql&gt; CREATE
DATABASE `ndo` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">mysql&gt;
exit</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># mysql -u root ndo
&lt; /usr/local/src/centreon-2.0/www/install/createNDODB.sql</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># mysql -u root
</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">mysql&gt; GRANT
SELECT , INSERT , UPDATE , DELETE ON `ndo` . * TO
'centreon'@'localhost';</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">mysql&gt;
exit</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Note 1: si vous
avez d&eacute;fini un mot de passe pour mysql, il faut ajouter un "-p"
apr&egrave;s "root", le syst&egrave;me vous demandera de saisir un mot de
passe. </A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Note 2: il est
aussi possible que vous obteniez une erreur de syntaxe, dans ce cas il faut
remplacer 'ndo' par ndo (sans quote). </A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"><strong>Depuis la
version 2.1.RC6,</strong> l'utilisateur ndo de la base MySQL doit avoir le
<strong>droit de modification sur la table centreon</strong> comme ci-dessous.
Si ses droits ne sont pas modifi&eacute;s, vous vous exposez &agrave; un
message d'erreur dans les logs de MySQL et durant l'installation/migration Web
de Centreon. </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># mysql -u root
</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"> mysql&gt; GRANT
SELECT , INSERT , UPDATE , ALTER, DELETE ON `ndo` . * TO
'centreon'@'localhost';</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"> mysql&gt;
exit</A></p>


<h3 class="core">

<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"><A
NAME="Information"></A><A NAME="toc126"></A>7.3 Information</A></h3>

<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Aller &agrave;
l'interface de Centreon&nbsp;: "-&gt; Configuration -&gt; Nagios -&gt;
Nagios.cfg -&gt; Onglet Data -&gt; Broker Module" et changer comme ceci&nbsp;:
/usr/local/nagios/bin/ndomod-3x.o config_file=/usr/local/nagios/etc/ndomod.cfg
</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Exporter les
fichiers et red&eacute;marrer Nagios. </A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Lancez NDOutils en
pr&eacute;cisant le fichier de configuration &agrave; utiliser. Pensez &agrave;
consulter le fichier de configuration "/usr/local/nagios/var/nagios.log" pour
v&eacute;rifier son bon lancement&nbsp;: </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">#
/usr/local/nagios/bin/ndo2db-3x -c /usr/local/nagios/etc/ndo2db.cfg</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"># tail -f
/usr/local/nagios/var/nagios.log | grep ndomod</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">(Une ligne de la
forme "ndomod: Successfully connected to data sink." doit appara&icirc;tre.)
</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Modifier le fichier
/etc/init.d/nagios pour inclure le lancement de ndo2db au d&eacute;marrage de
nagios&nbsp;: </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">...</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">su - $NagiosUser -c
"touch $NagiosVarDir/nagios.log $NagiosRetentionFile"</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">su - $NagiosUser -c
"/usr/local/nagios/bin/ndo2db-3x -c /usr/local/nagios/etc/ndo2db.cfg"
&lt;&lt;&lt;</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">rm -f
$NagiosCommandFile</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">...</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">pid_nagios</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">killproc_nagios
nagios</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">skill ndo2db-3x    
       &lt;&lt;&lt;&lt;</A></p>


<h2 class="core">
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow"><A
NAME="toc127"></A>8. Setup:NagiosWeb</A></h2>

<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Lors de
l'installation de Centreon, l'installeur propose de mettre &agrave; jour la
configuration du serveur apache pour l'adapter &agrave; l'interface web
Centreon. L'avantage est que Centreon est d'entr&eacute;e de jeu fonctionnel,
en revanche, la configuration pour l'interface Nagios se trouve &eacute;craser.
Pour r&eacute;cup&eacute;rer la configuration et profiter de l'interface
Nagios, il faut cr&eacute;er un mot de passe pour l'utilisateur Nagios et
modifier la configuration du serveur Apache. </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">htpasswd -c
/usr/local/nagios/etc/htpasswd.users nagios</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Ins&eacute;rer les
lignes suivantes dans le fichier de configuration httpd. </A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Pour Debian:
/etc/apache2/httpd.conf Pour Fedora: /etc/httpd/conf/httpd.conf </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">ScriptAlias
/nagios/cgi-bin /usr/local/nagios/sbin</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">&lt;Directory
"/usr/local/nagios/sbin"&gt;</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Options
ExecCGI</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">AllowOverride
None</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Order
allow,deny</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Allow from
all</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">AuthName "Nagios
Access"</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">AuthType
Basic</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">AuthUserFile
/usr/local/nagios/etc/htpasswd.users</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Require
valid-user</A></p>
<p Align=left>
<A
HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">&lt;/Directory&gt;</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Alias /nagios
/usr/local/nagios/share</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">&lt;Directory
"/usr/local/nagios/share"&gt;</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Options None</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">AllowOverride
None</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Order
allow,deny</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Allow from
all</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">AuthName "Nagios
Access"</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">AuthType
Basic</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">AuthUserFile
/usr/local/nagios/etc/htpasswd.users</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Require
valid-user</A></p>
<p Align=left>
<A
HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">&lt;/Directory&gt;</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Red&eacute;marrer
apache2 (sur Debian) ou httpd (sur Fedora) pour prendre en compte la nouvelle
configuration: </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">/etc/init.d/apache2
restart</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">/etc/init.d/httpd
restart</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Rendez-vous dans
Centreon, pour configurer l'utilisateur qui d&eacute;tient les droits sur les
cgis. </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Configuration &gt;
Nagios &gt; cgi</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Et remplacez les
champs suivants en pr&eacute;cisant l'utilisateur nagios cr&eacute;&eacute;
pr&eacute;c&eacute;demment: </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">*Default User
Name</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">*System/Process
Information Access</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">*System/Process
Command Access</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">*Configuration
Information Access</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">*Global Host
Information Access</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">*Global Host
Command Access</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">*Global Service
Information Access</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">*Global Service
Command Access</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:Screenshot13.jpg" rel="nofollow">Sauvegardez et
exportez la configuration. Vous pouvez d&eacute;sormais acc&eacute;der &agrave;
l'interface Nagios via l'adresse 
<A HREF="http://localhost/nagios/" rel="nofollow">http://localhost/nagios/</A> </p>


<h2 class="core"><A NAME="toc128"></A>9. Architecture distribu&eacute;e</h2>

<p Align=left>
<A HREF="http://en.doc.centreon.com/DistributedArchitecture/fr" rel="nofollow"></A>
<A HREF="http://en.doc.centreon.com/DistributedArchitecture/fr" rel="nofollow"></A></p>
<p Align=justify>Une architecture distribu&eacute;e est compos&eacute;e d'un
serveur central et de plusieurs serveurs fils. Le serveur central se charge de
consolider les donn&eacute;es de supervision et fait office d'interface
utilisateur, tandis que les serveurs satellites r&eacute;alisent les
v&eacute;rifications de supervision (checks) et transmettent ces donn&eacute;es
au serveur central. Ce type d'installation permet de r&eacute;partir les
v&eacute;rifications &agrave; travers plusieurs serveurs de supervision. </p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres27.png"
alt=""></A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow">Dans la
pratique, c'est centcore qui se charge s'assurer la transmission (ssh) des
donn&eacute;es entre les diff&eacute;rents serveurs. Sur le serveur central
doit &ecirc;tre install&eacute;e une machine de supervision compl&egrave;te
(nagios, centreon, ndoutils, mysql etc.), tandis que sur les diff&eacute;rentes
machines satellites, l'installation de Nagios et de NDOutils suffit. </A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow"><strong>10.
<img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres28.png"
alt=""><A NAME="Echange_des_cl_C3_A9s_SSH"></A>Echange des cl&eacute;s
SSH</strong></A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow">Sur le serveur
central, g&eacute;n&eacute;rez une cl&eacute; ssh avec ssh-keygen. Ne saisissez
rien, et appuyez successivement sur entr&eacute;e pour chaque question: </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow"># su -
nagios</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow">#
ssh-keygen</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow">&gt; Enter
file in which to save the key (/usr/local/nagios/.ssh/id_rsa):</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow">&gt; Created
directory '/usr/local/nagios/.ssh'.</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow">&gt; Enter
passphrase (empty for no passphrase):</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow">&gt; Enter
same passphrase again:</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow">&gt; Your
identification has been saved in /usr/local/nagios/.ssh/id_rsa.</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow">Ajoutez la
nouvelle cl&eacute; pour le serveur satellite. Remplacez "IP_ADDRESS" par
l'adresse IP du serveur satellite. Et terminez en entrant le mot de passe de
l'utilisateur Nagios du serveur distant: </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow"># ssh-copy-id
-i ~/.ssh/id_rsa.pub nagios@`IP_ADDRESS`</A></p>
<p Align=left>
<A
HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow">nagios@`IP_ADDRESS`'s
password:</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow">Si
l'op&eacute;ration s'est bien d&eacute;roul&eacute;e, vous devriez pouvoir vous
connecter en ssh sans devoir saisir de mot de passe. </A></p>


<h3 class="core">

<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow"><A
NAME="Duplication_des_plugins"></A><A NAME="toc129"></A>10.1 Duplication des
plugins</A></h3>

<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow">Pour
r&eacute;aliser une telle installation, les <strong>m&ecirc;mes</strong>
plugins doivent &ecirc;tre pr&eacute;sents de part et d'autres. Copiez-les
depuis le serveur central vers la machine satellite: </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow"># scp
/usr/local/nagios/libexec/*
nagios@IP_DU_POLLER:/usr/local/nagios/libexec/</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow">Attention
toutefois, les plugins binaires ne fonctionnent pas d'une architecture &agrave;
une autre&nbsp;: ne copiez pas les plugins binaires d'un Centreon 64bits sur
des pollers distants 32bits. </A></p>


<h2 class="core">
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow"><A
NAME="Configuration_de_Centreon"></A><A NAME="toc130"></A>11. Configuration de
Centreon</A></h2>

<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow">Connectez-vous
sur l'interface Centreon et configurez le serveur satellite (Status: Enabled,
Localhost: no, IP Address etc.) </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow">Configuration
&gt; Centreon &gt; Pollers &gt; Add</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchSchema.png" rel="nofollow">
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfPoller.png" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres29.png"
alt=""></A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfPoller.png" rel="nofollow">Ensuite,
dupliquez la configuration de ndomod pour le nouveau serveur: </A></p>
<p Align=left>
<A
HREF="http://en.doc.centreon.com/Image:DistribArchConfPoller.png" rel="nofollow">Configuration
&gt; Centreon &gt; ndomod.cfg.</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfPoller.png" rel="nofollow">
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNdomod.png" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres30.png"
alt=""></A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNdomod.png" rel="nofollow">Activez la
configuration avec 'Status: Enabled', s&eacute;lectionnez le serveur satellite
en choisissant le nom que vous avez saisi lors de la configuration d'un nouveau
poller (Requester). Remplissez "Instance Name" avec le nom de votre serveur que
vous souhaitez ajouter (<strong>Chaque serveur doit avoir un nom unique
d'instance</strong>). Dans 'IP Address', remplissez l'adresse IP du serveur
principal. </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNdomod.png" rel="nofollow">
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres31.png"
alt=""></A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow">De la
m&ecirc;me mani&egrave;re, dupliquez la configuration de "nagios.cfg": </A></p>
<p Align=left>
<A
HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow">Configuration
&gt; Nagios &gt; nagios.cfg</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow">Attribuez
un nom dans "Configuration Name", activez la configuration en cochant "Enabled"
puis s&eacute;lectionnez le serveur satellite vis&eacute; dans "Serveur Nagios
Configured" </A></p>


<h2 class="core">
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow"><A
NAME="Configuration_de_sudo"></A><A NAME="toc131"></A>12. Configuration de
sudo</A></h2>

<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow">Pour
pouvoir piloter Nagios depuis le serveur principal, il faut configurer sudo sur
les serveurs satellites. &Eacute;ditez le fichier "/etc/sudoers" et
ins&eacute;rez les lignes suivantes: </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow">nagios  
ALL=NOPASSWD: /etc/init.d/nagios restart</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow">nagios  
ALL=NOPASSWD: /etc/init.d/nagios stop</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow">nagios  
ALL=NOPASSWD: /etc/init.d/nagios start</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow">nagios  
ALL=NOPASSWD: /etc/init.d/nagios reload</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow">nagios  
ALL=NOPASSWD: /usr/sbin/nagiostats</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow">nagios  
ALL=NOPASSWD: /usr/sbin/nagios *</A></p>


<h3 class="core">

<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow"><A
NAME="Finalisation"></A><A NAME="toc132"></A>12.1 Finalisation</A></h3>

<p Align=justify>
<A
HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow">D&eacute;marrez
Centcore sur le serveur principal: </A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow">#
/etc/init.d/centcore start</A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow">Pour
terminer l'installation, configurez les hosts/services et exportez la
configuration dans l'interface Centreon. </A></p>


<h2 class="core">
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow"><A
NAME="Configuration_des_h_C3_B4tes"></A><A NAME="toc133"></A>13. Configuration
des h&ocirc;tes</A></h2>

<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow">Pour
chaque poller &agrave; superviser, s&eacute;lectionnez le serveur satellite
</A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfNagios.png" rel="nofollow">
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfHost.png" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres32.png"
alt=""></A></p>


<h2 class="core">
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfHost.png" rel="nofollow"><A
NAME="Quelques_remarques_2Fastuces_2Fconseils"></A><A NAME="toc134"></A>14.
Quelques remarques</A></h2>

<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfHost.png" rel="nofollow">Les pollers
distants (remote pollers) ne sont support&eacute;s qu'&agrave; partir de
Centreon 2 beta 5. </A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfHost.png" rel="nofollow">Les NDOutils
ne sont pas tr&egrave;s bavards quant aux raisons des dysfonctionnements.
Assurez-vous que les NDOutils sont compil&eacute;s avec le support MySQL,
&eacute;tudiez soigneusement le config.log. Si NDO2DB fonctionne, vous devez
voir une session MySQL pour l'utilisateur adhoc dans la base de donn&eacute;es
configur&eacute;e. </A></p>
<p Align=justify>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfHost.png" rel="nofollow">Les
proc&eacute;dures pour red&eacute;marrer (restart), recharger (reload), ...
nagios ainsi que les transferts de configuration aux pollers distants sont
appel&eacute;s &agrave; travers un fichier de commandes
(/var/lib/centreon/centcore.cmd). Assurez-vous que les propri&eacute;taires des
processus Apache et Centreon peuvent <strong>cr&eacute;er et modifier ce
fichier de commandes</strong></A></p>
<p Align=left>
<A HREF="http://en.doc.centreon.com/Image:DistribArchConfHost.png" rel="nofollow">
<A
HREF="http://doc.fedora-fr.org/wiki/Installation_et_configuration_de_MRTG" rel="nofollow">http://doc.fedora-fr.org/wiki/Installation_et_configuration_de_MRTG</A></p>


<h2 class="core"><A NAME="toc135"></A>15. Installation MRTG  sur fedora</h2>


<h3 class="core">
<A NAME="toc136"></A>15.1 Pr&eacute; requis</h3>

<p Align=justify>- Installation net-snmp</p>
<p Align=justify>- Installation interpr&eacute;teur PERL</p>
<p Align=justify>- Librairies n&eacute;cessaires (gd, libpng, zlib...)</p>
<p Align=justify>- Browser de MIB (gtkmib, mbrowse...)</p>


<h3 class="core">
<A NAME="toc137"></A>15.2 Pr&eacute;sentation de MRTG</h3>

<p Align=justify>
<A HREF="http://oss.oetiker.ch/mrtg/" rel="nofollow">MRTG</A> (Multi Router Traffic Grapher) a
pour but de cr&eacute;er des graphiques &agrave; partir de donn&eacute;es
r&eacute;colt&eacute;es par diff&eacute;rentes sources, dont le protocole 
<A
HREF="http://fr.wikipedia.org/wiki/Simple_Network_Management_Protocol" rel="nofollow">SNMP</A>
(Simple Network Management Protocol), qui est utilis&eacute; pour g&eacute;rer
des &eacute;quipements informatiques. La mise en place de 
<A HREF="http://oss.oetiker.ch/mrtg/" rel="nofollow">MRTG</A> permet de mettre en place une
surveillance et un monitoring sur un r&eacute;seau, m&ecirc;me
h&eacute;t&eacute;rog&egrave;ne. </p>


<h3 class="core">
<A NAME="toc138"></A>15.3 Installation de SNMP</h3>

<p Align=justify>Le syst&egrave;me de gestion de r&eacute;seau est bas&eacute;
sur deux &eacute;l&eacute;ments principaux&nbsp;: un superviseur et des agents.
Le superviseur est la console qui permet &agrave; l'administrateur
r&eacute;seau d'ex&eacute;cuter des requ&ecirc;tes de management.</p>
<p Align=justify>Les <strong>agents</strong> sont des entit&eacute;s qui se
trouvent au niveau de chaque interface connectant l'&eacute;quipement
manag&eacute; au r&eacute;seau et permettant de r&eacute;cup&eacute;rer des
informations sur diff&eacute;rents objets. </p>
<p Align=justify>L'installation se fait simplement gr&acirc;ce &agrave;
yum&nbsp;: </p>
<p Align=left>$ su -c 'yum install net-snmp net-snmp-utils'</p>


<h3 class="core">
<A NAME="toc139"></A>15.4 Configuration de SNMP</h3>

<p Align=justify>Le fichier de configuration de SNMP est /etc/snmp/snmpd.conf,
commen&ccedil;ons donc par faire une sauvegarde de ce fichier, en tant que
root&nbsp;: </p>
<p Align=left># cp /etc/snmp/snmpd.conf /etc/snmp/snmpd.conf.save</p>
<p Align=justify>Nous allons pouvoir maintenant appliquer une nouvelle
configuration en rempla&ccedil;ant le fichier par ces lignes ( en les
personnalisant bien entendu en fonction de vos besoins ). </p>
<p Align=left>#fichier de configuration de snmp pour faire fonctionner mrtg en
local ( et interrogeable sur le r&eacute;seau local )</p>
<p Align=left>#nom du contact responsable de la machine</p>
<p Align=left>syscontact titax</p>
<p Align=left>#localisation de la machine</p>
<p Align=left>syslocation chez moi</p>
<p Align=left># Cr&eacute;ation des communaut&eacute;s</p>
<p Align=left># m.secu source communaute</p>
<p Align=left>com2sec Local localhost prive</p>
<p Align=left>com2sec LocalNet 192.168.1.0/24 public</p>
<p Align=left># Cr&eacute;ation des groupes</p>
<p Align=left># nom.groupe version nom.secu</p>
<p Align=left>group RWGroup v1 Local</p>
<p Align=left>group ROGroup v1 LocalNet</p>
<p Align=left># Cr&eacute;ations des diverses vues qui seront autoris&eacute;es
aux groupes</p>
<p Align=left>view tout included .1</p>
<p Align=left>#Configuration des acc&egrave;s</p>
<p Align=left># nom.groupe contexte modele.secu niveau.secu prefixe lecture
ecriture notification</p>
<p Align=left>access ROGroup "" v1 noauth exact tout none none</p>
<p Align=left>access RWGroup "" v1 noauth exact tout tout none</p>


<h3 class="core">
<A NAME="toc140"></A>15.5 Installation de MRTG</h3>

<p Align=justify>Tout comme pour 
<A
HREF="http://fr.wikipedia.org/wiki/Simple_Network_Management_Protocol" rel="nofollow">SNMP</A>,
l'installation de 
<A HREF="http://oss.oetiker.ch/mrtg/" rel="nofollow">MRTG</A> se fait via yum. </p>
<p Align=left>$ su -c 'yum install mrtg'</p>


<h3 class="core">
<A NAME="toc141"></A>15.6 Configuration de MRTG</h3>

<p Align=justify>La configuration d'MRTG est simplifi&eacute;e gr&acirc;ce
&agrave; l'outil cfgmaker qui va nous permettre de cr&eacute;er un fichier de
configuration type pour votre machine. Toutes les commandes qui suivent doivent
&ecirc;tre ex&eacute;cut&eacute;es en root. </p>
<p Align=left># cfgmaker prive@localhost &gt; /var/www/mrtg/mrtg.cfg</p>
<p Align=justify>Il vous faut adapter cette commande en fonction des
modifications que vous avez apport&eacute; &agrave; la configuration de SNMP
plus haut. Une fois le fichier cr&eacute;&eacute;, vous pouvez l'&eacute;diter
pour le peaufiner notamment en configurant convenablement le chemin o&ugrave;
seront stock&eacute;es les images de vos graphiques.  Afin d'avoir une jolie
pr&eacute;sentation, nous allons cr&eacute;er la page html gr&acirc;ce &agrave;
la commande&nbsp;: </p>
<p Align=left># indexmaker /var/www/mrtg/mrtg.cfg &gt;
/var/www/mrtg/index.html</p>
<p Align=justify>Enfin, en dernier lieu, il faut lancer en cron la commande de
mise &agrave; jour des graphiques de MRTG </p>
<p Align=left># crontab -e</p>
<p Align=left># 0-59/5 * * * * root env LANG=C /usr/bin/mrtg
/var/www/mrtg/mrtg.cfg</p>
<p Align=justify>Enregistrez et quittez pour que les graphiques se mettent
&agrave; jour toutes les 5 minutes pour arriver &agrave; ce r&eacute;sultat
(voir figure 4.5)&nbsp;: </p>
<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres33.png"
alt=""></A></p>
<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><strong>Figure 4.5
Exemple des graphes &eacute;labor&eacute;s par MRTG </strong></A></p>


<h1 class="core">
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><A NAME="toc142"></A>
CHAPITRE 5&nbsp;: Pr&eacute;sentation  du syst&egrave;me de monitoring mise en
place &agrave; la FEDAS-TOGO </A></h1>


<h2 class="core">
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><A
NAME="toc143"></A>1. Les interfaces  Nagios/Centreon</A></h2>


<h3 class="core">

<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><A NAME="toc144"></A>
1.1 La fen&ecirc;tre principale</A></h3>

<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">Encore appel&eacute;e
interface d'accueil ou home (en anglais) la fen&ecirc;tre principale
pr&eacute;sente tous les menus disponibles et permettant d'acc&eacute;der aux
autres interfaces du syst&egrave;me de monitoring. Elle permet d'apercevoir
directement le r&eacute;sum&eacute; global du fonctionnement du parc donc le
nombre d'ordinateurs et de services en bon &eacute;tat et en dysfonctionnement
(voir Figure 4.1).</A></p>
<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres34.png"
alt=""></A></p>
<p Align=center>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><u>Figure 4.6</u> 
Page d'accueil</A></p>
<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"> </A></p>


<h3 class="core">

<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><A
NAME="toc145"></A>1.2. La fen&ecirc;tre du centre statistique de nagios
(interface centreon)&nbsp;:</A></h3>

<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"> Le logiciel nagios
&eacute;tant le moteur du syst&egrave;me install&eacute;, les donn&eacute;es
statistiques proviennent de nagios d'o&ugrave; cette interface Nagios
Statistique ainsi  centreon ici n'a pour r&ocirc;le que d'afficher les
donn&eacute;es de nagios.   </A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">Elle permet nous
d'avoir un &eacute;tat statique global chiffr&eacute; de tout le
syst&egrave;me. Ainsi l'interface nous pr&eacute;sent les tableaux&nbsp;: de
v&eacute;rification des ordinateurs et services en activit&eacute;, leur
nombre, de v&eacute;rification du temps de latence, de v&eacute;rification de
temps d'ex&eacute;cution (Voir Figure 4.2). </A></p>
<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres35.png"
alt=""></A></p>
<p Align=center>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><u>Figure 4.7</u> 
Centre statistique Nagios</A></p>


<h3 class="core">

<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><A
NAME="toc146"></A>1.3. La fen&ecirc;tre de l'&eacute;tat graphique
global<br></A></h3>

<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">Cette interface nous
pr&eacute;sente en graphe l'&eacute;tat global de sant&eacute; de la plate
forme de surveillance que nous avons mise en place pour la supervision du parc
informatique de la Fedas-Togo (voir Figure 4.3). </A></p>
<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres36.png"
alt=""></A></p>
<p Align=center>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><u>Figure 4.8</u>  
Etat graphique global</A></p>


<h3 class="core">

<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><A
NAME="toc147"></A>1.4. Interface qui affiche l'&eacute;tat des ordinateurs du
r&eacute;seau (STATUS UP)</A></h3>

<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">Cette fen&ecirc;tre
affich&eacute;e &agrave; la figure 4.4, nous permet de constater que le lundi
22 Octobre 2010, &agrave; 18 heures 03 minutes tous les ordinateurs du parc
informatique de fedas togo &eacute;taient en marche.</A></p>
<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres37.png"
alt=""></A></p>
<p Align=center>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><u>Figure 4.9</u> Etat
des ordinateurs (environnement Nagios)&nbsp;: STATUS UP</A></p>
<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><strong><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres38.png"
alt=""></strong></A></p>
<p Align=center>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><u>Figure 4.10</u>
Etat des ordinateurs (environnement centreon)&nbsp;: STATUS UP</A></p>


<h3 class="core">

<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><A
NAME="toc148"></A>1. 5. Interface qui affiche l'&eacute;tat des ordinateurs du
r&eacute;seau (STATUS DOWN et UP)</A></h3>

<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">Contrairement &agrave;
la  fen&ecirc;tre pr&eacute;c&eacute;dente celle-ci nous permet de constater
que le Samedi 23 Octobre 2010, &agrave; 19 heures 00 minutes il n'y a que deux 
ordinateurs du parc informatique qui &eacute;taient en marche tous les autres
sont &eacute;teins.</A></p>
<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><strong><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres39.png"
alt=""></strong></A></p>
<p Align=center>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><u>Figure 4.11</u>
Etat des ordinateurs (STATUS UP et DOWN)</A></p>


<h3 class="core">

<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><A
NAME="toc149"></A>1.6. Interface qui affiche les services </A></h3>

<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">Cette fen&ecirc;tre
nous affiche l'&eacute;tat des services surveill&eacute;s, la dur&eacute;e
&agrave; laquelle ils sont en activit&eacute;, l'heure de la derni&egrave;re
v&eacute;rification, etc.</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres40.png"
alt=""></A></p>
<p Align=center>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><u>Figure 4.12</u>
Etat des services (STATUS OK)</A></p>


<h3 class="core">

<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><A
NAME="toc150"></A>1.7. Interface qui affiche les probl&egrave;mes li&eacute;s
aux ordinateurs</A></h3>

<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">Cette fen&ecirc;tre
permet de lister les probl&egrave;mes survenus sur les postes du r&eacute;seau
&agrave; une p&eacute;riode donn&eacute;e. Dans notre contexte la figure 4.8
nous &eacute;num&egrave;re tous les ordinateurs inaccessibles au syst&egrave;me
mise en place en affichant&nbsp;: </A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">Le nom des postes,
leur &eacute;tat, leur adresse IP, la derni&egrave;re v&eacute;rification du
syst&egrave;me, la dur&eacute;e du probl&egrave;me etc.....    </A></p>
<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres41.png"
alt=""></A></p>
<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">                      
      </A></p>
<p Align=center>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><u>Figure 4.13</u>
Etat des probl&egrave;mes li&eacute;s aux ordinateurs </A></p>


<h3 class="core">

<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><A
NAME="toc151"></A>1.8. Interface qui affiche les probl&egrave;mes li&eacute;s
aux  services </A></h3>

<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">Cette fen&ecirc;tre
permet de r&eacute;pertorier les probl&egrave;mes survenus sur les postes du
r&eacute;seau &agrave; une p&eacute;riode donn&eacute;e. La figure 4.14
ci-dessous nous inventorie tous les services inaccessibles au syst&egrave;me
mise en place en affichant&nbsp;: </A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">Le nom des postes, le
nom des services, leur &eacute;tat,  la derni&egrave;re v&eacute;rification du
syst&egrave;me, la dur&eacute;e du probl&egrave;me etc. </A></p>
<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres42.png"
alt=""></A></p>
<p Align=center>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><u>Figure 4.14</u>
Etat des probl&egrave;mes li&eacute;s aux services</A></p>


<h2 class="core">
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><A
NAME="toc152"></A>2. Les graphes  MRTG</A></h2>


<h3 class="core">

<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><A
NAME="toc153"></A>2.1 Interface Principale </A></h3>

<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">Cette fen&ecirc;tre
permet de voir la fen&ecirc;tre d'accueil du logiciel MRTG install&eacute;
lorsqu'il n'y a   aucune activit&eacute; dans le r&eacute;seau.</A></p>
<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres43.png"
alt=""></A></p>
<p Align=center>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><u>Figure 4.15</u>
Page d'accueil vide de MRTG (&agrave; l'installation)</A></p>


<h3 class="core">

<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><A
NAME="toc154"></A>2.2 Interface Principale avec MRTG en activit&eacute;</A></h3>

<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">Cette fen&ecirc;tre
permet de voir la fen&ecirc;tre d'accueil du logiciel MRTG install&eacute;
lorsqu'il n'y a activit&eacute; dans le r&eacute;seau, et la figure 4.16 notre
la bande passante qui est occup&eacute;e pendant cette p&eacute;riode
donn&eacute;e.</A></p>
<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres44.png"
alt=""></A></p>
<p Align=center>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><u>Figure 4.16</u>
Graphe de la bande passante</A></p>


<h2 class="core">
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><A
NAME="toc155"></A>3. Co&ucirc;t financier</A></h2>


<h3 class="core">

<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><A
NAME="toc156"></A>3.1 Evaluation des syst&egrave;mes de supervision
propri&eacute;taires.</A></h3>

<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">Le logiciel RAMS 4.0
(Route Analytics Management System) est un logiciel de supervision
r&eacute;seau de HP sont prix d'achat hors taxe est fix&eacute; &agrave;
41&nbsp;224.00 Euro (27&nbsp;001&nbsp;000 Fcfa environ). L'installation et la
configuration sont fix&eacute;es &agrave; 92&nbsp;321,00 Euro
(60&nbsp;470&nbsp;255 Fcfa environ). IBM lui son logiciel de supervision de
donn&eacute;es le Tivoli Storage Manager est propos&eacute; &agrave;  2 192.14
Euro hors taxe donc pratiquement 1&nbsp;500&nbsp;000 Fcfa. </A></p>


<h3 class="core">

<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><A
NAME="toc157"></A>3.2 Evaluation des syst&egrave;mes de supervision non
propri&eacute;taires.</A></h3>

<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">Ici seul la prestation
est factur&eacute;e, dans un projet comme le notre l'impl&eacute;mentation d'un
 logiciel est fix&eacute;e  650 Euro s'il s'agit d'un technicien
sup&eacute;rieur et  1&nbsp;200 Euro si c'est un ing&eacute;nieur. Dans notre
projet nous avons eu &agrave; installer trois logiciel &agrave; savoir nagios,
centreon et le MRTG, du coup le co&ucirc;t total de notre projet est
&eacute;valu&eacute; 1&nbsp;200 Euro multipli&eacute; par le nombre de logiciel
soit 3&nbsp;600 Euro (2 358&nbsp;000 Fcfa). Ceci nous permet de voir
ais&eacute;ment int&eacute;r&ecirc;t et la justification de notre projet ou
l'utilisation d'outils libres sur le plan financier.  </A></p>


<h1 class="core">
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><A NAME="toc158"></A>
CONCLUSION</A></h1>

<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">Le service
informatique de La F&eacute;d&eacute;rale d'Assurances TOGO, comme nous l'avons
vu, dans le souci de permettre &agrave; la soci&eacute;t&eacute;  d'offrir des
services de qualit&eacute; en r&eacute;duisant de mani&egrave;re significative
les probl&egrave;mes au bon fonctionnement de son parc informatique a fait
recours &agrave; la supervision informatique. Ainsi Nous avons tent&eacute;
dans ce modeste travail de relier deux domaines tr&egrave;s vastes de
l'informatique actuelle, d'un cot&eacute; la virtualisation et d'un autre la
supervision informatique. Au regard de l'importance dont rev&ecirc;t la
supervision par rapport &agrave; ses activit&eacute;s d'une part et les
difficult&eacute;s li&eacute;s &agrave; la gestion du parc informatique d'autre
part (perte de temps, risque d'indisponibilit&eacute;, d'obtention des
&eacute;tats, difficult&eacute;s et recherche d'informations entre autres), il
s'av&eacute;rait n&eacute;cessaire de trouver des solutions en vue de pallier
ces insuffisances et de faciliter la gestion du parc informatique. Comme
solution, nous avons envisag&eacute; un syst&egrave;me de  monitoring du parc
informatique, solution qui selon nous conviendrait le mieux pour la 
r&eacute;solution des probl&egrave;mes existants.</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"> Elle permettra entre
autre :</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">- Le maintien des
services offerts aux clients de la Fedas-Togo (optimisation de la
disponibilit&eacute; des services),</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">- d'avoir une vue
globale du syst&egrave;me d'information,</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">- la d&eacute;tection
et la pr&eacute;vention de pannes,</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">- De v&eacute;rifier 
la connexion Internet (routeur, bande passante)</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">- Les remont&eacute;es
des alertes (mails, rapports d'alertes journalier ou log),</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">- d'effectuer des
actions correctives pr&eacute;cises.</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">La r&eacute;alisation
de ce projet nous a permis de nous  familiariser avec le syst&egrave;me
d'exploitation linux dont la ma&icirc;trise est n&eacute;cessaire pour
travailler dans les r&eacute;seaux informatiques et surtout d'acqu&eacute;rir
d'importantes connaissances en virtualisation.</A></p>
<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">Nous nous sommes entre
autres habitu&eacute;s l'utilisation des outils comme :</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">- L'environnement
Vmware pour la virtualisation du syst&egrave;me d'exploitation sur lequel va
fonctionner la plate-forme de surveillance.</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">- Le syst&egrave;me
d'exploitation linux plus pr&eacute;cis&eacute;ment la version 12 de
F&eacute;dora nomm&eacute; &#171;&nbsp;constantine&nbsp;&#187; sur lequel est
install&eacute; nagios centreon et le MRTG, sans oublier la mani&egrave;re dont
nous avons &eacute;t&eacute; &eacute;difi&eacute; par l'installation de
f&eacute;dora sans interface graphique.</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">- L'approche du monde
open source avec l'utilisation des logiciels nagios centreon et MRTG.</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">La mise en place du
monitoring Nagios-centreon MRTG permet actuellement &agrave; l'administrateur,
&atilde; l'ensemble du service informatique, ainsi qu'aux dirigeants
d'&ecirc;tre inform&eacute; de l'&eacute;tat du r&eacute;seau en temps
r&eacute;el. </A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">Et bien sur, il y a
toujours place pour l'am&eacute;lioration de notre architecture, comme
perspectives nous pouvons penser &agrave; :</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">- Rajouter d'autres
services pour enrichir et compl&eacute;ter les modules de supervision afin
d'&ecirc;tre plus fiables et plus complets.</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">- Etendre les modules
de d&eacute;tection et de r&eacute;actions afin de superviser des machines des
r&eacute;seaux h&eacute;t&eacute;rog&egrave;nes.</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">- Orienter  les
remont&eacute;es d'alertes vers une plate-forme d'un op&eacute;rateur de
t&eacute;l&eacute;phonie mobile pour des alertes  par SMS.</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">- Scinder la
supervision mat&eacute;rielle et la supervision r&eacute;seau (cr&eacute;er une
machine virtuelle pour chaque &eacute;l&eacute;ment &agrave; surveiller)</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">-  L'archivage les
donn&eacute;es r&eacute;colt&eacute;es par les agents d'analyse pour des
statistiques et des traitements futures (archivage des rapports
d'alertes).</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">La plate-forme
devenant ainsi l'outil de gestion  qui  permettra au service informatique de
pallier aux diverses difficult&eacute;s de gestion existantes telles que la
perte de temps, la difficult&eacute; d'obtention des &eacute;tats dont il aura
besoin. C'est en cela que nous pouvons affirmer que la supervision informatique
se rendra incontournable dans l'am&eacute;lioration qualitative de la
productivit&eacute; de la soci&eacute;t&eacute; FEDAS-TOGO et surtout
accro&icirc;tre &agrave; coup sur le chiffre d'affaires de la
soci&eacute;t&eacute; qui est la principale raison d'&ecirc;tre de toute
entreprise.</A></p>
<p Align=justify>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">   </A></p>


<h1 class="core">
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><A NAME="toc37"></A><A
NAME="toc159"></A> Web-graphie</A></h1>

<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow"><strong>Nagios
:</strong></A></p>
<p Align=left>
<A HREF="http://doc.fedora-fr.org/wiki/Fichier:Mrtg.png" rel="nofollow">
<A HREF="http://www.nagios.org" rel="nofollow"><u>http://www.nagios.org</u></A></p>
<p Align=left>
<A
HREF="http://nagios.sourceforge.net/docs/2_0" rel="nofollow"><u>http://nagios.sourceforge.net/docs/2_0</u></A> 
<A
HREF="http://forums.bfl-solutions.eu" rel="nofollow"><u>http://forums.bfl-solutions.eu</u></A></p>
<p Align=left><strong>Centreon :</strong></p>
<p Align=left>
<A HREF="http://centreon-project.org" rel="nofollow"><u>http://centreon-project.org</u></A> 
<A
HREF="http://forum.centreon-project.org" rel="nofollow"><u>http://forum.centreon-project.org</u></A></p>
<p Align=left><strong>SNMP / Traps : </strong></p>
<p Align=left>
<A
HREF="http://fr.wikipedia.org/wiki/Simple_Network_Management_Protocol" rel="nofollow"><u>http://fr.wikipedia.org/wiki/Simple_Network_Management_Protocol</u></A> 
<A
HREF="http://christian.caleca.free.fr/snmp" rel="nofollow"><u>http://christian.caleca.free.fr/snmp</u></A></p>
<p Align=left>
<A HREF="http://www.frameip.com/snmp" rel="nofollow"><u>http://www.frameip.com/snmp</u></A></p>
<p Align=left>
<A
HREF="http://www.supinfo-projects.com" rel="nofollow"><u>http://www.supinfo-projects.com</u></A> 
<A
HREF="http://linuxtips.castres-wireless.org/article.php3?id_article=16" rel="nofollow"><u>http://linuxtips.castres-wireless.org/article.php3?id_article=16</u></A> 
<A
HREF="http://xavier.dusart.free.fr" rel="nofollow"><u>http://xavier.dusart.free.fr</u></A></p>
<p Align=left>
<A
HREF="http://www.net-snmp.org/wiki/index.php/TUT:snmptrap" rel="nofollow"><u>http://www.net-snmp.org/wiki/index.php/TUT:snmptrap</u></A></p>
<p Align=left><strong>RRDtool / MRTG: </strong></p>
<p Align=left>
<A HREF="http://www.rrdtool.org" rel="nofollow"><u>http://www.rrdtool.org</u></A> 
<A HREF="http://www.mrtg.org" rel="nofollow"><u>http://www.mrtg.org</u></A></p>
<p Align=left>
<A HREF="http://oss.oetiker.ch/mrtg/" rel="nofollow"><u>http://oss.oetiker.ch/mrtg/</u></A></p>
<p Align=left>
<A
HREF="http://doc.fedora-fr.org/wiki/Installation_et_configuration_de_MRTG" rel="nofollow"><u>http://doc.fedora-fr.org/wiki/Installation_et_configuration_de_MRTG</u></A></p>
<p Align=left><strong>MBSA :</strong></p>
<p Align=left>
<A
HREF="http://www.microsoft.com/technet/security/tools/mbsahome.mspx" rel="nofollow"><u>http://www.microsoft.com/technet/security/tools/mbsahome.mspx</u></A></p>
<p Align=left><strong>UPS :</strong></p>
<p Align=left>
<A
HREF="http://linux.developpez.com/cours/upsusb/" rel="nofollow"><u>http://linux.developpez.com/cours/upsusb/</u></A></p>


<h1 class="core"><A NAME="toc38"></A><A NAME="toc160"></A> Lexique</h1>

<p Align=left><strong><em>.htaccess : </em></strong>Les fichiers .htaccess sont
des fichiers de configuration des serveurs web Apache. Ils peuvent &ecirc;tre
plac&eacute;s dans n'importe quel r&eacute;pertoire du site web (la
configuration s'applique au r&eacute;pertoire et &agrave; tous les
r&eacute;pertoires qu'il contient) et peuvent &ecirc;tre modifi&eacute;s alors
que le serveur est en cours d'ex&eacute;cution.</p>
<p Align=left>On peut les utiliser pour modifier les droits d'acc&egrave;s,
cr&eacute;er des redirections, &eacute;crire des messages d'erreurs
personnalis&eacute;s, associer les extensions de fichier &agrave; des types
MIME, etc.</p>
<p Align=left>LIEN : 
<A
HREF="http://httpd.apache.org/docs/2.0/howto/htaccess.html" rel="nofollow"><u>http://httpd.apache.org/docs/2.0/howto/htaccess.html
</u></A></p>
<p Align=center><img src="" alt=""></p>
<p Align=left><strong><em>DMZ : </em></strong>Une zone
d&eacute;militaris&eacute;e est un sous-r&eacute;seau (DMZ) isol&eacute; par
deux pare-feux (firewall). Ce sousr&eacute;seau contient des machines se
situant entre un r&eacute;seau interne (LAN - postes clients) et un
r&eacute;seau externe (typiquement, Internet).</p>
<p Align=left>La DMZ permet &agrave; ces machines d'acc&eacute;der &agrave;
Internet et/ou de publier des services sur Internet sous le contr&ocirc;le du
pare-feu externe. En cas de compromission d'une machine de la DMZ,
l'acc&egrave;s vers le r&eacute;seau local est encore contr&ocirc;l&eacute; par
le pare-feu interne.</p>
<p Align=left>Le DMZ est aussi (sur certain routeurs) le fait de rediriger tout
les ports vers un pc pr&eacute;cis sur un r&eacute;seau local.</p>
<p Align=center><img src="" alt=""></p>
<p Align=left>LIEN : 
<A
HREF="http://fr.wikipedia.org/wiki/Sï¿½curitï¿½" rel="nofollow"><u>http://fr.wikipedia.org/wiki/S&eacute;curit&eacute;</u></A><u>
informatique</u></p>
<p Align=left><strong><em>GPL : </em></strong>La Licence publique
g&eacute;n&eacute;rale GNU, ou GNU GPL pour GNU General Public License en
anglais, est une licence qui fixe les conditions l&eacute;gales de distribution
des logiciels libres du projet GNU. Richard Stallman et Eben Moglen, deux des
grands acteurs de la Free Software Foundation, en furent les premiers
r&eacute;dacteurs. Sa derni&egrave;re version est la GNU GPL version 2 de 1991
et une troisi&egrave;me version est en cours d'&eacute;criture.</p>
<p Align=left>Elle a depuis &eacute;t&eacute; adopt&eacute;e, en tant que
document d&eacute;finissant le mode d'utilisation, donc d'usage et de
diffusion, par de nombreux auteurs de logiciels libres. La principale
caract&eacute;ristique de la GPL est le copyleft, ou gauche d'auteur, qui
consiste &agrave; &#171; d&eacute;tourner &#187; le principe du copyright (ou
droit d'auteur) pour pr&eacute;server la libert&eacute; d'utiliser,
d'&eacute;tudier, de modifier et de diffuser le logiciel et ses versions
d&eacute;riv&eacute;es.</p>
<p Align=left>LIEN : 
<A
HREF="http://www.gnu.org/licenses/gpl.html" rel="nofollow"><u>http://www.gnu.org/licenses/gpl.html
</u></A></p>
<p Align=left><strong><em>LDAP : </em></strong>Lightweight Directory Access
Protocol (LDAP) est un protocole permettant l'interrogation et la modification
des services d'annuaire. Ce protocole repose sur TCP/IP.</p>
<p Align=left>LIEN : 
<A HREF="http://www.cru.fr/ldap/" rel="nofollow"><u>http://www.cru.fr/ldap/</u></A></p>
<p Align=left><strong>Monitoring d'une infrastructure Linux sur base d'outils
libres</strong></p>
<p Align=left><strong><em>IMAP : </em></strong>Internet Message Access Protocol
(IMAP) est un protocole utilis&eacute; par les serveurs de messagerie
&eacute;lectronique, fonctionnant pour la r&eacute;ception.</p>
<p Align=left>Ce protocole permet de laisser les e-mails sur le serveur dans le
but de pouvoir les consulter de diff&eacute;rents clients e-mails ou webmail.
Il comporte des fonctionnalit&eacute;s avanc&eacute;es, comme les bo&icirc;tes
aux lettres multiples, la possibilit&eacute; de cr&eacute;er des dossiers pour
trier ses e-mails? Le fait que les messages soient archiv&eacute;s sur le
serveur fait que l'utilisateur peut acc&eacute;der &agrave; tous ses messages
depuis n'importe o&ugrave; sur le r&eacute;seau et que l'administrateur peut
facilement faire des copies de sauvegarde.</p>
<p Align=left>IMAP utilise le port TCP 143. Il est particuli&egrave;rement bien
adapt&eacute; &agrave; l'acc&egrave;s &agrave; travers des connexions lentes.
IMAPS (IMAP over SSL) permet l'acc&egrave;s s&eacute;curis&eacute; au serveur
en utilisant SSL. Il utilise le port TCP 993. L'utilisation du protocole IMAP
au dessus de SSL est d&eacute;crite dans la RFC 2595.</p>
<p Align=left><strong><em>MIB : </em></strong>Une MIB (Management Information
Base, base d'information pour la gestion du r&eacute;seau) est un ensemble
d'informations structur&eacute; sur une entit&eacute; r&eacute;seau, par
exemple un routeur ou un commutateur. Ces informations peuvent &ecirc;tre
r&eacute;cup&eacute;r&eacute;es, ou parfois modifi&eacute;es, par un protocole
comme SNMP.</p>
<p Align=center><img src="" alt=""></p>
<p Align=left>LIEN : 
<A
HREF="http://christian.caleca.free.fr/snmp/la" rel="nofollow"><u>http://christian.caleca.free.fr/snmp/la</u></A><u>
mib.htm </u></p>
<p Align=left><strong><em>SMTP : </em></strong>Le Simple Mail Transfer Protocol
(litt&eacute;ralement &#171; Protocole simple de transfert de courrier &#187;),
g&eacute;n&eacute;ralement abr&eacute;g&eacute; SMTP, est un protocole de
communication utilis&eacute; pour transf&eacute;rer le courrier
&eacute;lectronique vers les serveurs de messagerie &eacute;lectronique.</p>
<p Align=left>SMTP est un protocole assez simple (comme son nom l'indique). On
commence par sp&eacute;cifier le ou les destinataires d'un message puis,
l'exp&eacute;diteur du message, puis, en g&eacute;n&eacute;ral apr&egrave;s
avoir v&eacute;rifi&eacute; leur existence, le corps du message est
transf&eacute;r&eacute;. Il est assez facile de tester un serveur SMTP en
utilisant telnet sur le port 25.</p>
<p Align=left>LIEN : 
<A
HREF="http://stielec.ac-aix-marseille.fr/cours/caleca/smtp/index.html" rel="nofollow"><u>http://stielec.ac-aix-marseille.fr/cours/caleca/smtp/index.html
</u></A></p>
<p Align=left><strong><em>SNMP : </em></strong>Le sigle SNMP signifie Simple
Network Management Protocol (protocole simple de gestion de r&eacute;seau en
Fran&ccedil;ais). Il s'agit d'un protocole de communication qui permet aux
administrateurs r&eacute;seau de g&eacute;rer les &eacute;quipements du
r&eacute;seau et de diagnostiquer les probl&egrave;mes de r&eacute;seau
&agrave; distance.</p>
<p Align=left>LIEN : 
<A HREF="http://www.snmp.com" rel="nofollow"><u>http://www.snmp.com</u></A><u> </u></p>
<p Align=left><strong><em>WAN : </em></strong>Un r&eacute;seau &eacute;tendu,
souvent d&eacute;sign&eacute; par l'acronyme anglais WAN de Wide Area Network,
est un r&eacute;seau informatique couvrant une grande zone g&eacute;ographique,
typiquement &agrave; l'&eacute;chelle d'un pays, d'un continent, voire de la
plan&egrave;te enti&egrave;re. Le plus grand WAN est le r&eacute;seau
Internet.</p>
<p Align=center><img src="" alt=""></p>
<p Align=left>LIEN : 
<A HREF="http://fr.wikipedia.org/wiki/Wan" rel="nofollow"><u>http://fr.wikipedia.org/wiki/Wan
</u></A></p>
<p Align=justify><strong>BIBLIOGRAPHIE</strong></p>


<h2 class="core"><A NAME="toc161"></A><A NAME="toc162"></A><A NAME="toc163"></A><A
NAME="toc164"></A>1.   La F&eacute;d&eacute;rale d'Assurances Rapport Annuel
2004</h2>

<blockquote>
<p Align=left> </p>
<p Align=left>2.  Jean Pierre FRAGNIERE,<strong> </strong><em>Comment
r&eacute;ussir un m&eacute;moire,</em><strong> </strong>2&egrave;
&eacute;dition</p>
<p Align=left> DUNOD, 2&egrave; trimestre 1996</p>
<p Align=left> </p>
<p Align=left> <strong><u>Document Word&nbsp;</u></strong></p>
<p Align=left>3.  <em>Situation du parc informatique de la FEDAS  apr&egrave;s 
la migration vers Windows XP</em></p>
<p Align=left> </p>
<p Align=left>4.  <em>La F&eacute;d&eacute;rale d'Assurances  Rapport
d'ex&eacute;cution de l'&eacute;mission  r&eacute;alis&eacute;e du
1<sup>er</sup> au 31  Janvier 2004 et proposition d'un nouveau programme
d'&eacute;mission pour l'ann&eacute;e 2005</em></p>
<p Align=left> </p>
<p Align=left>5.  <em>Note administrative inter structure</em></p>
<p Align=left> <em>          R&eacute;f&eacute;rence DFT/DMR2003N 12607 du 19
F&eacute;vrier 2005</em></p>
<p Align=left>6.  <strong> </strong><em>Note d'information Janvier 2004
F&eacute;d&eacute;rale d'Assurances Togo Assurance Responsabilit&eacute; civile
 2003 - 2009</em></p>
<p Align=left> </p>
<p Align=left>7.  <em>Attributions et missions des structures &agrave; la
F&eacute;d&eacute;rale d'Assurances Togo</em></p>
</blockquote>


<h1 class="core"><A NAME="toc165"></A> ANNEXES</h1>

<p Align=justify><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres49.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres50.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres51.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres52.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres53.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres54.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres55.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres56.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres57.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres58.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres59.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres60.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres61.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres62.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres63.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres64.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres65.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres66.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres67.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres68.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres69.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres70.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres71.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres72.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres73.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres74.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres75.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres76.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres77.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres78.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres79.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres80.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres81.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres82.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres83.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres84.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres85.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres86.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres87.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres88.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres89.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres90.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres91.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres92.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres93.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres94.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres95.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres96.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres97.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres98.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres99.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres100.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres101.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres102.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres103.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres104.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres105.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres106.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres107.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres108.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres109.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres110.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres111.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres112.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres113.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres114.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres115.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres116.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres117.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres118.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres119.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres120.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres121.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres122.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres123.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres124.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres125.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres126.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres127.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres128.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres129.png"
alt=""><img
src="Monitoring-dune-infrastructure-informatique-sur-base-doutils-libres130.png"
alt=""></p>


<A NAME="fn1"></a>
<p Align=left class="notes"><A HREF="#fnref1">*</a> <sup>1</sup> Eric D'HEM Ing&eacute;nieur
r&eacute;seau sp&eacute;cialiste en monitoring et Directeur de NETvigie </p>

<A NAME="fn2"></a>
<p Align=left class="notes"><A HREF="#fnref2">*</a> <sup>2</sup> UDP&nbsp;: en
fran&ccedil;ais protocole de datagramme utilisateur, c'est l'un des principaux
protocoles de t&eacute;l&eacute;communication utilis&eacute;s par Internet </p>

<A NAME="fn3"></a>
<p Align=left class="notes"><A HREF="#fnref3">*</a> <sup>3</sup>  Net saint&nbsp;: c'est
l'ancienne appellation du NAGIOS</p>
</html>
</td><td valign=top><div id='sept7'><div class='visible'><div>
<script async type='text/javascript'>
GA_googleFillSlot("mo_eco_MPU_s");
</script>
</div></div></div><br><br><br></td></tr></table><br><center><br><div id='sept7'><div class='visible'><div>
<script async type='text/javascript'>
GA_googleFillSlot("mo_sci_M_s");
</script>
</div></div></div>
<div class=gs2> <form action="http://www.memoireonline.com/recherche3.html" class="search" id="recherche-memoireonline"><div class="recherche_b">
<input type="hidden" name="cof" value="FORID:11" />
<input type="hidden" name="ie" value="ISO-8859-15" />Rechercher sur le site:<input type="text" id="recherche_q2" name="q" size="84" maxlength="255" value="">
<input type="hidden" name="cx" value="partner-pub-2070567197244873:mqp2ps9rfo1" />
</input><input type="submit" class="lsd2" name="sa" value=" Recherche " />
</div></form><script type="text/javascript" src="//www.google.fr/cse/brand?form=cse-search-box&amp;lang=fr"></script></div>
<br><br><div align="center" class="footer"><b>&copy; Memoire Online 2000-2013</b><br>Pour toute question contactez le <a href=mailto:webmaster@memoireonline.com>webmaster</a><br>
<!-- <img width="24" height="15" border=0 src="http://logv13.xiti.com/hit.xiti?s=56022&p=&"> -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-295564-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</div>
</body>
<script type="text/javascript" src="http://wtpn.twenga.fr/Publisher/invoke?key=4fc62316e9d2f"></script>
<script src='http://direct01.memoireonline.com/js/7.js'></script></html>
