http://memoireonline.com/09/09/2679/Programmation-en-C-du-micro-contrleur-PIC-16F877.html
HTTP/1.1 200 OK
Date: Thu, 24 Jul 2014 14:26:37 GMT
Server: Apache
Last-Modified: Sat, 07 Jun 2014 18:30:26 GMT
ETag: "4523e4-3e72d-4fb432bf99480"
Accept-Ranges: bytes
Cache-Control: max-age=3600
Expires: Thu, 24 Jul 2014 15:26:37 GMT
Vary: Accept-Encoding
Content-Encoding: gzip
Content-Length: 47668
Connection: close
Content-Type: text/html

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    
<script type="text/javascript" src="https://apis.google.com/js/plusone.js" async>{lang: 'fr'}</script>
<script type='text/javascript' src='http://partner.googleadservices.com/gampad/google_service.js'></script>
<script type='text/javascript'>var _ACM="ca-pub-2070567197244873";GS_googleAddAdSenseService(_ACM);GS_googleEnableAllServices();</script>
<script type='text/javascript' async>
GA_googleAddSlot(_ACM,"mo_s_MPU");GA_googleAddSlot(_ACM,"MemoireOnline");GA_googleAddSlot(_ACM,"MemoireOnlineD");
GA_googleAddSlot(_ACM,"MemoireOnlineI");GA_googleAddSlot(_ACM,"MemoireOnlineS");GA_googleAddSlot(_ACM,"mo-eco-p");
GA_googleAddSlot(_ACM,"mo_art_M");GA_googleAddSlot(_ACM,"mo_art_P");GA_googleAddSlot(_ACM,"mo_droit_P");
GA_googleAddSlot(_ACM,"mo_informatique_techno_P");GA_googleAddSlot(_ACM,"mo_medecine_P");GA_googleAddSlot(_ACM,"mo_art_M2_s");
GA_googleAddSlot(_ACM,"mo_art_M_s");GA_googleAddSlot(_ACM,"mo_art_MPU2_s");GA_googleAddSlot(_ACM,"mo_art_MPU_s");
GA_googleAddSlot(_ACM,"mo_eco_M2_s");GA_googleAddSlot(_ACM,"mo_eco_M_s");GA_googleAddSlot(_ACM,"mo_eco_MPU2_s");
GA_googleAddSlot(_ACM,"mo_eco_MPU_s");GA_googleAddSlot(_ACM,"mo_law_M2_s");GA_googleAddSlot(_ACM,"mo_law_M_s");
GA_googleAddSlot(_ACM,"mo_law_MPU2_s");GA_googleAddSlot(_ACM,"mo_law_MPU_s");GA_googleAddSlot(_ACM,"mo_med_M2_s");
GA_googleAddSlot(_ACM,"mo_med_M_s");GA_googleAddSlot(_ACM,"mo_med_MPU2_s");GA_googleAddSlot(_ACM,"mo_med_MPU_s");
GA_googleAddSlot(_ACM,"mo_sci_M2_s");GA_googleAddSlot(_ACM,"mo_sci_M_s");GA_googleAddSlot(_ACM,"mo_sci_MPU2_s");
GA_googleAddSlot(_ACM,"mo_sci_MPU_s");
</script>
<script type='text/javascript'>GA_googleFetchAds();</script>
<script type="text/javascript">(function() {
    var useSSL = 'https:' == document.location.protocol;
    var src = ( useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
    document.write('<scr' + 'ipt src="' + src + '"></scr' + 'ipt>');
})();</script>
<script type='text/javascript'>
    googletag.cmd.push(function() {
    googletag.defineSlot(
        '/14668010/memoireonline/home',
        [[728, 90], [728, 200]],
        'div-gpt-mega-1')
        .addService(googletag.pubads())
        .setTargeting("pos", "1")
        ;
    googletag.defineSlot(
        '/14668010/memoireonline/home',
        [[728, 90], [728, 200]],
        'div-gpt-mega-2')
        .addService(googletag.pubads())
        .setTargeting("pos", "2")
        ;
    googletag.defineSlot(
        '/14668010/memoireonline/home',
        [[300, 250], [300, 600]],
        'div-gpt-mpu-1')
        .addService(googletag.pubads())
        .setTargeting("pos", "1")
        ;
    googletag.defineSlot(
        '/14668010/memoireonline/home',
        [[300, 250], [300, 600]],
        'div-gpt-mpu-2')
        .addService(googletag.pubads())
        .setTargeting("pos", "2")
        ;
    googletag.defineSlot(
        '/14668010/memoireonline/home',
        [[120, 600], [160, 600]],
        'div-gpt-sky-right')
        .addService(googletag.pubads())
        .setTargeting("pos", "right")
        ;
    googletag.pubads().enableSyncRendering();
    googletag.enableServices();
    });
</script><script type="text/javascript" src="http://c.ad6media.fr/l.js" async></script>
<link rel="stylesheet" media="all" type="text/css" href="http://memoireonline.com/css/p.css" />
<script src="http://memoireonline.com/js/p.js"></script>
<title>Memoire Online - Programmation en C du micro contr&ocirc;leur PIC 16F877 - KARIM SAAD</title><meta property="og:image" content="http://memoireonline.com/logo_200px.jpg">
            <meta property="og:type" content="article"/>
            <meta property="og:site_name" content="Memoire Online"/>	    
    <link rel=stylesheet href="http://direct01.memoireonline.com/css/stylee.css" type="text/css">
<link rel="shortcut icon" type="image/png" href="/favicon.png">
</head><body>
<div class="bitcoin" id="bitcoin"><span class="bitcoin"><span class="pub">WOW !! MUCH LOVE ! SO WORLD PEACE !<br></span>Fond bitcoin pour l'am&eacute;lioration du site: <a href='https://blockchain.info/address/1memzGeKS7CB3ECNkzSn2qHwxU6NZoJ8o'>1memzGeKS7CB3ECNkzSn2qHwxU6NZoJ8o</a>
<br>&nbsp;&nbsp;Dogecoin (tips/pourboires): <a class='dogecoin' id='dogecoin' href='dogecoin:DCLoo9Dd4qECqpMLurdgGnaoqbftj16Nvp'>DCLoo9Dd4qECqpMLurdgGnaoqbftj16Nvp</a>
 </span></div>



<div id="fb-root"></div>
<script async>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/fr_FR/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div id='doge2'><div><div> <img id="doge2" class="doge2" src="http://www.memoireonline.com/doge.png" /> </div></div></div>

<!-- r�gie publicitaire ad6m�dia -->
<script type="text/javascript">
/* <![CDATA[ */
var ad6_url = 'http://pxnh9an0r7.s.ad6media.fr/?d='+((new Date()).getTime())+'&r='; try { ad6_url+=escape(top.document.referrer); } catch (e) {ad6_url+=escape(document.referrer);} document.write('<scr'+'ipt typ'+'e="text/javas'+'cript" src="'+ad6_url+'"></scr'+'ipt>');
/* ]]> */
</script>
<!-- r�gie publicitaire ad6m�dia -->

<div class="tmsg">
<div class="fb-like" href="http://facebook.com/memoireonline" data-send="false" data-layout="button_count" data-width="250" data-show-faces="true" data-font="arial"></div>
</div>
<table><tr><td width="270px"><img src="http://memoireonline.com/logo_200px.jpg" width="200"></td><td><br>
<form action="http://www.memoireonline.com/recherche3.html" class="search" id="recherche-memoireonline">
<div class="recherche_b">
<input type="hidden" name="cof" value="FORID:11" /><input type="hidden" name="ie" value="ISO-8859-15" />
Rechercher sur le site:
<input type="text" id="recherche_q" name="q" size="84" maxlength="255" value=""></input>
<input type="hidden" name="cx" value="partner-pub-2070567197244873:mqp2ps9rfo1" />
<input type="submit" class="lsd2" name="sa" value=" Recherche " /></div></form>
<script type="text/javascript" src="//www.google.fr/cse/brand?form=cse-search-box&amp;lang=fr"></script></td></tr></table><br>
<span class="lme"><div align="center">
<a href="http://www.memoireonline.com/">Home</a> | <b><a href="http://www.memoireonline.com/up/publication.html">Publier un m&eacute;moire</a></b> | <a href="http://www.memoireonline.com/chance.php">Une page au hasard</a></td>
</div></span><br><table width="100%" border="0" cellspacing="0" cellpadding="0" bordercolor="#000000" bgcolor="#DDDDCC" class=rgt><tr><td>
<p><h1 class='entete'>Programmation en C du micro contr&ocirc;leur PIC 16F877</h1><br><font size="2" face="Arial, Helvetica, sans-serif"><i>par</i> KARIM SAAD <br> Usto Oran&nbsp;-&nbsp;Licence Electronique&nbsp;2008<br>Dans la categorie: <a href='http://www.memoireonline.com/sommaires/informatique-telecommunications.html'>Informatique et T&eacute;l&eacute;communications</a></font>&nbsp;
<g:plusone size="small"></g:plusone>
&nbsp;
<div class="fb-like" href="http://www.memoireonline.com/09/09/2679/m_Programmation-en-C-du-micro-contrleur-PIC-16F8770.html" data-send="false" data-layout="button_count" data-width="250" data-show-faces="true" data-font="arial"></div>
<span class='clink'><a href='http://www.memoireonline.com/a/fr/cart/add/2679'> T&eacute;l&eacute;charger le fichier original</a></span><br></td><td> <p align="right"><font size="2" face="Arial, Helvetica, sans-serif"><a href="m_Programmation-en-C-du-micro-contrleur-PIC-16F877.html">Disponible en mode multipage</a></font></p> 
  
   
	 
  

	 </td></tr></table></td></tr></table><table width="100%" cellspacing="0" cellpadding="0"><tr><td valign="top" id="clickInText" class="core"><div id='sept7'><div class='visible'><div>
<script async type='text/javascript'>
GA_googleFillSlot("mo_eco_M_s");
</script>
</div></div></div><table><tr><td>

<ul>
</ul>
</ul>
</ul>


<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F8771.png" alt=""></p>
<p Align=center><em>R&eacute;publique Alg&eacute;rienne D&eacute;mocratique et
Populaire<br><strong>Minist&egrave;re de l'Enseignement Sup&eacute;rieur de la
Recherche Scientifique</strong></em></p>
<p Align=center><em>Universit&eacute; des sciences et<br>de la technologie MOHA
MED<br>BOUDIA F Oran</em></p>
<p Align=left><em>M&eacute;moire de fin d'&eacute;tudes pour l'obtention
du</em></p>
<p Align=center><em>dipl&ocirc;me de Licence</em></p>
<p Align=center><em>L-M-D</em></p>
<p Align=left>Option : Technique de Communication </p>
<p Align=left><u>Pr&eacute;sent&eacute; par : </u></p>
<p Align=left>IS<strong>ila .011 017e4 ileae~~ilt~eK</strong></p>
<p Align=left>TH&Egrave;ME</p>
<p Align=center>Programmation En C Sur Carte "EASYPIC 2"</p>
<p Align=center>du Microcontr&ocirc;leurs 16F877</p>
<p Align=left>Encadr&eacute; par : Mr HAMADA</p>
<p Align=left>JURY</p>
<p Align=left>Examinateur : Mr BOUGHANMI</p>
<p Align=left>Encadreur : Mr HAMADA</p>
<p Align=left>2<sup>&egrave;me</sup> Promotion 2007/2008</p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F8772.png"
alt=""></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F8773.png" alt=""></p>
<p Align=left>Introduction G&eacute;n&eacute;rale 1</p>


<h1 class="core"><A NAME="toc0"></A>CHAPITREI :</h1>


<h1 class="core"><A NAME="toc1"></A>PARTIE THEORIQUE : ETUDE THEORIQUE DES INTERFA&Ccedil;E
DU PIC 16F877</h1>

<p Align=left></p>

<DIV Align=left><TABLE BORDER=2 CELLPADDING=2><TR>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=left>I.  Introduction </p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=right> 2</p>
</blockquote>
</TD>
<TD ROWSPAN=30 Align=left Valign=top>
<blockquote>
<p Align=left> II.  Pr&eacute;sentation Microcontr&ocirc;leur PIC 16F877 </p>
</blockquote>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=right> .2</p>
</TD>
<TD Align=left Valign=middle><PRE> </PRE></TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>1.</strong> Principales caract&eacute;ristiques du PIC
16F877 </p>
</TD>
<TD Align=left Valign=middle>
<p Align=left>. 3</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>2. </strong>Architecture Interne  </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right> ...4</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>2.1</strong>Coeur du PIC : le microprocesseur </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>4</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>2.2</strong> Horloge   </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>5</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>2.3</strong> Pile et Compteur Programme </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>6</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>3</strong>. M&eacute;moires du PIC  </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>..6</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>3</strong>.<strong>1 </strong>M&eacute;moire FLASH </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>6</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>3.2</strong> M&eacute;moire RAM </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>6</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>3.3</strong> M&eacute;moire EEPROM </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>6</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>4</strong>. Architecture Externe </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>7</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>5.</strong> Ports d'Entr&eacute;es Sorties  </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>8</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>5.1</strong> PORT A </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>8</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>5.2</strong> PORT B </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>9</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>5.3</strong> PORT C </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>10</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>5.4</strong> PORT D </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>11</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>5.5 </strong>PORT E </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>12</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>6.</strong> Module de conversion . ./N  </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>13</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>6.1 </strong>Caract&eacute;ristiques
g&eacute;n&eacute;rales du module A/D </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>13</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>7. </strong>Interface s&eacute;rie asynchrone </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>16</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>8</strong>. Module MSSP (Master Synchronous Serial Port) 
</p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>18</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>9</strong>. Port Parall&egrave;le Esclave (PSP : Parallel
Slave Port) </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>22</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>10</strong>. Modules CCP1 et CCP2 </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>23</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>11</strong>.Timers </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>26</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>11.1 </strong>Timer 0 </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>26</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>11.2 </strong>Timer 1 </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>27</p>
</TD>
</TR>
<TR>
<TD COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>11.3 </strong>Timer 2 </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>28</p>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 COLSPAN=2 Align=left Valign=middle>
<p Align=left><strong>12</strong>. Les interruptions </p>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<p Align=right>29</p>
</TD>
</TR>
</TABLE></DIV>

<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F8774.png"
alt=""></p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F8775.png"
alt=""></p>

<p Align=left></p>

<DIV Align=left><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=bottom>
<p Align=left><strong>CHAPITRE II : PARTIE PRATIQUE: APPLICATIONS DU PIC
16F877.</strong></p>
</TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left>Pr&eacute;sentation de la Carte EASYPI </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>33</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>I.</strong> Ports Parall&egrave;les  </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>35</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>1.</strong> Utilisation des LEDs   </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>35</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>1.1 </strong>Clignotement d'une led </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>37</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>1.2 </strong>Chenillard    </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>.38</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>1.3 </strong>Compteur 0-9 des leds </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>38</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>2.</strong> Utilisation avec les afficheurs 7 segment </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>39</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>2.1 </strong>Compteur 0 - 9 des afficheurs </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>40</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>2.2 </strong>Compteur 0 - 99 </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>41</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>3.</strong> Utilisation avec le clavier </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>43</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>3.1</strong> Allumage d'une led &agrave; l'aide d'une
touche </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>43</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=left><strong>3.2</strong> Allumage des leds &agrave; l'aide de chaque
touche correspondant   </p>
</TD>
<TD Align=left Valign=top>
<p Align=right>.....44</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>II. </strong>Port S&eacute;rie </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>45</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>1. </strong>Utilisation avec la liaison RS232 </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>45</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=left><strong>1.1 </strong>Transmission des donn&eacute;es entre le PIC
et le PC </p>
</TD>
<TD Align=left Valign=top>
<p Align=right>46</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>III.</strong> Port Analogique Num&eacute;rique   </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>47</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>1.</strong> Utilisation du convertisseur A/D </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>47</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>1.1</strong>Conversion d'un signal analogique    </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>48</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>2. </strong>Utilisation du convertisseur avec un capteur
de temp&eacute;rature   </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>51</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=left><strong>2.1 </strong>Conversion du signal analogique re&ccedil;u
par le capteur </p>
</TD>
<TD Align=left Valign=top>
<p Align=right>51</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>IV. </strong>Autres Applications </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>52</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>1.</strong> Utilisation du pic avec LCD </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>52</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>1.1</strong> Affichage d'un message </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>54</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>1.2 </strong>Utilisation du pic pour la commande d'un
moteur pas &agrave; pas   </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>55</p>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=middle>
<p Align=left><strong>2.</strong> Utilisation du pic pour la commande d'un
moteur pas &agrave; pas  . </p>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<p Align=right>.56</p>
</TD>
</TR>
</TABLE></DIV>

<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F8776.png"
alt=""></p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F8777.png"
alt=""></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F8778.png" alt=""></p>

<p Align=left><strong></strong></p>

<DIV Align=center><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<p Align=left><strong>Figure I.1</strong><u> : </u></p>
</TD>
<TD Align=left Valign=top>
<p Align=right>3</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.2</strong> : Sch&eacute;ma interne du PIC<u>:
</u></p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>4</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.3</strong> : Sch&eacute;ma de L'ALU<u>: </u></p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>5</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.4</strong> : Sch&eacute;ma de l'horloge </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>....6</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.5</strong> : Sch&eacute;ma de la pile </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right> ...6</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.6</strong> : Sch&eacute;ma interne des
m&eacute;moires </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right> 7</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.7</strong> : Brochage du PIC<u>: </u></p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>7</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.8</strong> : Sch&eacute;ma interne d'une ligne
d'entr&eacute;e sortie du PORTA<u>: </u></p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>9</p>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=left><strong>Figure I.9</strong> : Sch&eacute;ma interne d'une ligne
d'entr&eacute;e sortie du PORTB</p>
<p Align=left>Pins (RB3 - RB0) Pins (RB7-RB4)    </p>
</TD>
<TD ROWSPAN=2 Align=left Valign=bottom>
<p Align=right>10</p>
</TD>
</TR>
</TABLE></DIV>

<p Align=left><strong>Figure I.10</strong> : Sch&eacute;ma interne d'une ligne
d'entr&eacute;e sortie du PORTC</p>

<p Align=left></p>

<DIV Align=left><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=middle>
<p Align=left>Pins (RC7-RC5, R-RC0) Pins (RC3-RC4) ) </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>11</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.11</strong> : Sch&eacute;ma interne d'une ligne
d'entr&eacute;e sortie du PORTD) </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>12</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.12</strong> : Sch&eacute;ma interne d'une ligne
d'entr&eacute;e sortie du PORTE </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>.13</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.13</strong> : Sch&eacute;ma Interne du
convertisseur analogique/num&eacute;rique </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>14</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.14</strong> : Sch&eacute;ma de justification de
la donn&eacute;e convertie  </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>15</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>FigureI.15 </strong>: Sch&eacute;ma interne du port en
transmission </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>16</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.16</strong> : Sch&eacute;ma interne du port en
r&eacute;ception </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>..17</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.17</strong> : Sch&eacute;ma interne du module
MSSP en mode SPI </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>19</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.18</strong> : Sch&eacute;ma interne du module
MSSP en mode I2C </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>19</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.19</strong> : Sch&eacute;ma interne du module
PSP </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>22</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.20</strong> : Sch&eacute;ma interne du module
CCP </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>23</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.21</strong> : Sch&eacute;ma interne
simplifi&eacute; du TMR0 sans le WATCHDOG </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>..27</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.22</strong> : Sch&eacute;ma interne du TMR1 </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>..27</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.23</strong> : Sch&eacute;ma du TMR2 </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>..28</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure I.24</strong> : Sch&eacute;ma interne des
interruptions </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>31</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure II.1</strong> : Sch&eacute;ma interne de
l'alimentation </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>33</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure II.2</strong> : Photo de la carte EASY PI </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>34</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure II.3</strong> : Montage des leds avec le PIC </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>36</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure II.4</strong> : Montage des afficheurs 7segments
avec le PIC </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>.40</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure II.5</strong> : Montage du clavier avec le PIC  
</p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>43</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure II.6</strong> : Montage du PIC avec un PC via une
liaison RS232 </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>.45</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure II.7</strong> : Montage du convertisseur A/N avec
le PIC </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>...48</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure II.8</strong> : Montage du capteur LM335 avec le
PIC </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>...51</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=left><strong>Figure II.9</strong> : Montage de l'afficheur LCD 2X16
avec le PIC </p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>52</p>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=middle>
<p Align=left><strong>Figure II.10</strong> : Montage de la carte de commande
du moteur pas a pas avec le PIC </p>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<p Align=right>..56</p>
</TD>
</TR>
</TABLE></DIV>

<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F8779.png"
alt=""></p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F87710.png"
alt=""></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87711.png" alt=""></p>
<p Align=justify>Cette &eacute;tude a &eacute;t&eacute; faite dans le cadre de
constituer un document p&eacute;dagogique destin&eacute; aux &eacute;tudiants
qui veulent s'initier &agrave; la programmation des microcontr&ocirc;leu rs.</p>
<p Align=left>Ce projet a &eacute;t&eacute; r&eacute;alis&eacute; dans le but
d'&eacute;tudier les caract&eacute;ristiques techniques</p>
<p Align=left>d'un microcontr&ocirc;leur par son utilisation dans certaines
applications bien d&eacute;termin&eacute;es, notre choix est port&eacute; vers
le pic 16F877 de la famille MicroChip . La programmation des
microcontr&ocirc;leurs n&eacute;cessite des outils fondamentaux citons :</p>

<blockquote>
<p Align=left>&#183;  Le compilateur.</p>
<p Align=left>&#183;  Le programmateur.</p>
<p Align=justify> Plusieurs langages de programmation sont &agrave; la
disposition des utilisateurs des pics c'est le compilateur qui fait la
diff&eacute;rence entre chaque langage. Le principe reste le m&ecirc;me, c'est
les instructions qui changent.</p>
<p Align=justify> Dans notre projet le logiciel utilis&eacute; est le MPLABv6.4
dont il dispose d'un compilateur C et un assembleur, notre choix s'est
port&eacute; vers le langage C pour sa simplicit&eacute; d'utilisation.</p>
<p Align=justify> Chaque programme compil&eacute; doit &ecirc;tre
t&eacute;l&eacute;charg&eacute; sur le pic &agrave; l'aide d'un programmateur
qui n&eacute;cessite une interface graphique pour la transmission de ce
dernier. Nous avons a utilis&eacute; le PIC FLASH Programmer v5.15.</p>
<p Align=left> Le m&eacute;moire a &eacute;t&eacute; pr&eacute;sent&eacute;
notre en deux parties :</p>
<p Align=justify> <u>Dans la premi&egrave;re partie th&eacute;orique </u> :
nous avons &eacute;tudi&eacute; les diff&eacute;rentes interfaces du pic,
chaque interface a &eacute;t&eacute; d&eacute;taill&eacute;e avec une
explication du principe de fonctionnement, un sch&eacute;ma interne et son
registre associ&eacute;.</p>
<p Align=justify> <u>Dans la deuxi&egrave;me partie pratique :</u> nous avons
d&eacute;velopp&eacute; les programmes d'applications sur les interfaces
suivantes : port s&eacute;rie, parall&egrave;le et le module A/D.</p>
<p Align=justify> Dans chaque application nous avons propos&eacute;e une
explication du principe de fonctionnement, un sch&eacute;ma et un organigramme
qui traduit le programme de l'application.</p>
<p Align=left> Par manque de temps les interfaces PSP, MSSP, CCP ... n'ont pas
&eacute;t&eacute; appliqu&eacute;es.</p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87712.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87713.png" alt=""></p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87714.png" alt=""></p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87715.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87716.png" alt=""></p>
<p Align=left> </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87717.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87718.png" alt=""></p>
</blockquote>


<h3 class="core">
<A NAME="toc2"></A> </h3>

<blockquote>
<p Align=left> </p>
</blockquote>


<h3 class="core">
<A NAME="toc3"></A>I. Introduction :</h3>

<blockquote>
<p Align=left> Un microcontr&ocirc;leur est un composant &eacute;lectronique
autonome compos&eacute; :</p>
<p Align=left>&#183;  D'un microprocesseur.</p>
<p Align=left>&#183;  D'une m&eacute;moire vive type m&eacute;moire RAM.</p>
<p Align=left>&#183;  D'une m&eacute;moire morte type m&eacute;moire Flash.</p>
<p Align=left>&#183;  D'interfaces d'entr&eacute;es/sorties parall&egrave;les,
s&eacute;ries.</p>
<p Align=left>&#183;  D'interfaces d'entr&eacute;es/sorties analogiques.</p>
<p Align=left>&#183;  De Timers (registres compteurs de temps ou
d'&eacute;v&egrave;nements).</p>
<p Align=left>&#183;  D'autres modules plus au moins sophistiqu&eacute;s selon
la taille des uC.</p>
<p Align=justify> Il est g&eacute;n&eacute;ralement moins puissant qu'un
microprocesseur en terme de rapidit&eacute; ou de taille m&eacute;moire et se
contente le plus souvent d'un bus 8 ou 16 bits. Ceci en fait un composant
parfaitement adapt&eacute; pour piloter les applications embarqu&eacute;es dans
de nombreux domaines d'application.</p>
<p Align=justify>Un microcontr&ocirc;leur peut &ecirc;tre programm&eacute; une
fois pour toutes afin qu'il effectue une ou des t&acirc;ches pr&eacute;cises
pour une ou des applications pr&eacute;cises. Mais les u C r&eacute;cents
peuvent &ecirc;tre reprogramm&eacute;s et ceci gr&acirc;ce &agrave; leur
m&eacute;moire reprogrammable de type FLASH (d'o&ugrave; le terme flasher
quelque chose).</p>
<p Align=left> Les microcontr&ocirc;leurs, quelque soit leurs constructeurs,
ont des architectures tr&egrave;s similaires et sont constitu&eacute;s de
modules fondamentaux assurant les m&ecirc;mes fonctions :</p>
<p Align=left>&#183;  UAL.</p>
<p Align=left>&#183;  Ports d'E/S.</p>
<p Align=left>&#183;  Interfaces parall&egrave;les, s&eacute;rie.</p>
<p Align=left>&#183;  Interfaces analogiques.</p>
<p Align=left>&#183;  Timers et horloge temps r&eacute;els ...</p>
<p Align=left> On peut dire que seul le langage de programmation (Assembleurs,
langages &eacute;volu&eacute;s (C, Basic, Pascal...) constitue la
diff&eacute;rence majeure entre deux microcontr&ocirc;leur (similaires).</p>
</blockquote>


<h3 class="core">
<A NAME="toc4"></A> II. Pr&eacute;sentation Microcontr&ocirc; leur PIC 16F877
:</h3>

<blockquote>
<p Align=justify> <strong>D&eacute;finition :</strong> Un PIC est un
microcontr&ocirc;leur, c'est &agrave; dire une unit&eacute; de traitement de
l'information de type microprocesseur &agrave; laquelle on a ajout&eacute; des
circuits internes permettant de r&eacute;aliser des montages sans
n&eacute;cessiter l'ajout de composants externes. Les PICs sont des composants
dits RISC (Reduced Instructions Set Computer), ou encore (composant &agrave;
jeu d'instructions r&eacute;duit).</p>
<p Align=left> <strong>Diff&eacute;rentes familles des PICs : </strong>La
famille des PICs est subdivis&eacute;e &agrave; l'heure actuelle en 3 grandes
familles :</p>
<p Align=left>&#183;  Base-line : c'est une famille qui utilise des mots
d'instructions de 12 bits.</p>
<p Align=left>&#183;  Mid-range : c'est une famille qui utilise des mots de 14
bits (dont font partie les 1 6F84 16F876 et 16F877</p>
<p Align=left>&#183;  High-end : c'est une famille qui utilise des mots de 16
bits.</p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87719.png" alt=""></p>
<p Align=left> </p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87720.png" alt=""></p>
<p Align=left> <strong>Identification d'un PIC :</strong> identifier un PIC, en
suivant l'architecture suivante :</p>
<p Align=left> <strong><em><u>Figure I.1</u></em></strong></p>
<p Align=left> <em>~~F877-4</em></p>
<p Align=left> <em>441Hz</em></p>
<p Align=left> <strong>1.<u> Principales caract&eacute;ristiques du PIC 16F877
: </u></strong></p>
<p Align=left> Le PIC 16F877 est caract&eacute;ris&eacute; par :</p>
<p Align=left>- Une fr&eacute;quence de fonctionnement &eacute;lev&eacute;e,
jusqu'&agrave; 20 MHz.</p>
<p Align=left> - Une m&eacute;moire vive de 368 octets.</p>
<p Align=left> - Une m&eacute;moire morte EEPROM de 256 octets pour la
sauvegarde des donn&eacute;es. - Une m&eacute;moire de type FLASH de 8 Kmots
(1mot = 14 bits) .</p>
<p Align=left> - Chien de garde WDT.</p>
<p Align=left> - 33 lignes d'entr&eacute;es /sorties. Chaque sortie peut sortir
un courant maximum de 25 mA. - 3 Temporisateurs :</p>
<p Align=left>&#183;  TIMER0 (compteur 8 bits avec pr&eacute;diviseur).</p>
<p Align=left>&#183;  TIMER 1 (compteur 16 bits avec pr&eacute;diviseur et
possibilit&eacute; d'utiliser une horloge externe r&eacute;seau RC ou
QUARTZ).</p>
<p Align=left>&#183;  TIMER2 (compteur 8 bits avec pr&eacute;diviseur et
postdiviseur).</p>
<p Align=left> - 2 entr&eacute;es de captures et de comparaison avec PWM
(Modulation de largeur d'impulsions).</p>
<p Align=left> - Un convertisseur Analogique Num&eacute;rique 10 bits avec 8
entr&eacute;es multiplex&eacute;es.</p>
<p Align=left> - Une interface de communication s&eacute;rie asynchrone et
synchrone (USART/SCI). - Une interface de communication s&eacute;rie synchrone
(SSP/SPI et I2C).</p>
<p Align=left> - Une tension d'alimentation entre 2 et 5.5 V.</p>
<p Align=left> 8</p>
<p Align=left>  <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87721.png" alt=""></p>
</blockquote>


<h3 class="core">
<A NAME="toc5"></A> </h3>

<blockquote>
<p Align=left> </p>
<p Align=left> </p>
</blockquote>


<h3 class="core">
<A NAME="toc6"></A>2. Architecture Interne :</h3>

<blockquote>
<p Align=center> <strong><em><u>Figure I.2 : Sch&eacute;ma interne du
PIC</u></em></strong></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87722.png" alt=""></p>
</blockquote>


<h3 class="core">
<A NAME="toc7"></A> 2.1 Coeur du PIC : le microprocesseur :</h3>

<blockquote>
<p Align=justify> Un microcontr&ocirc;leur, c'est avant tout un microprocesseur
: une unit&eacute; de traitement logique qui effectue l'une apr&egrave;s
l'autre les op&eacute;rations contenues dans un programme stock&eacute; en
m&eacute;moire (la m&eacute;moire FLASH). On peut le voir sur le sch&eacute;ma
de la figure I.2, il est essentiellement compos&eacute; de :</p>
<p Align=left>&#183;  L'ALU (Unit&eacute; Arithm&eacute;tique et Logique) :
Ex&eacute;cute les op&eacute;rations sur les donn&eacute;s.</p>
<p Align=left>&#183;  Le registre de travail &#171; W reg. &#187;.</p>
<p Align=left>&#183;  Le multiplexeur &#171; MUX &#187;.</p>
<p Align=left>&#183;  Le registre de statut &#171; status reg &#187;.</p>
<p Align=left>&#183;  Le registre &#171; FSR reg &#187; utilis&eacute; pour
l'adressage direct et indirect.</p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87723.png" alt=""></p>
<p Align=left> </p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87724.png" alt=""></p>
</blockquote>

<p Align=left><br>&#183; Le multiplexeur d'adresse &#171; Addr mux &#187;.</p>

<blockquote>
<p Align=left>&#183;  Le compteur programme &#171; Program Counter &#187; :
Pointage des instructions &agrave; ex&eacute;cuter</p>
<p Align=left>&#183;  La pile &agrave; 8 niveaux &#171; 8 level Stack
&#187;.</p>
<p Align=left>&#183;  Le registre d'instruction &#171; Instruction reg
&#187;</p>
</blockquote>

<p Align=left><strong><em><u>Figure I.3 : Sch&eacute;ma de
L'ALU</u></em></strong></p>
<p Align=left>Bus du programme</p>
<p Align=left>AddrMUXM</p>
<p Align=left>Direct Adrr</p>
<p Align=left>Indirect Adrr</p>
<p Align=left>STATUS</p>
<p Align=left>Wreg</p>
<p Align=left><strong>2.2 Horloge :</strong></p>
<p Align=justify>L'horloge peut &ecirc;tre soit interne soit externe. L'horloge
interne est constitu&eacute;e d'un oscillateur &agrave; quartz ou d'un
oscillateur RC. Avec l'oscillateur &agrave; quartz, on peut avoir des
fr&eacute;quences allant jusqu'&agrave; 20 MHz selon le type de
microcontr&ocirc;leur.</p>
<p Align=justify>Le filtre passe bas (Rs, C1, ) limite les harmoniques dus
&agrave; l'&eacute;cr&ecirc;tage et r&eacute;duit l'amplitude de l'oscillation.
Avec un oscillateur RC, la fr&eacute;quence de l'oscillation est fix&eacute;e
par Vdd, Rext et Cext. Elle peut varier l&eacute;g&egrave;rement d'un circuit
&agrave; l'autre.</p>
<p Align=justify>Dans certains cas, une horloge externe au
microcontr&ocirc;leur peut &ecirc;tre utilis&eacute;e pour synchroniser le PIC
sur un processus particulier. Quelque soit l'oscillateur utilis&eacute;,
l'horloge syst&egrave;me dite aussi cycle d'instruction est obtenue en divisant
la fr&eacute;quence par 4. Le terme Fosc/4 d&eacute;signe l'horloge
syst&egrave;me. Par exemple on obtient un cycle d'instruction de 1 MHz, en
utilisant un quartz de 4 MHz.</p>
<p Align=left>10</p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F87725.png"
alt=""></p>

<p Align=center></p>

<DIV Align=left><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=middle>
<p Align=right>13</p>
</TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=3 COLSPAN=4 Align=left Valign=middle>
<p Align=right>Bus de Donn&eacute;es 8</p>
</TD>
</TR>
<TR>
<TD ROWSPAN=5 Align=left Valign=top>
<p Align=center>M&eacute;moire<br>Flash</p>
</TD>
<TD ROWSPAN=4 Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
</TR>
<TR>
<TD ROWSPAN=3 Align=left Valign=middle>
<p Align=center>P.C</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
</TR>
<TR>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
</TR>
<TR>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=3 Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
</TR>
</TABLE></DIV>

<p Align=center>Pile</p>
<p Align=center><strong><em><u>Figure I.4 : Sch&eacute;ma de
l'horloge</u></em></strong></p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F87728.png"
alt=""></p>
<p Align=left><strong>2.3 Pile et Compteur Programme :</strong></p>
<p Align=justify>Le &#171; Program Counter &#187; ou PC est le compteur qui
pointe, dans la m&eacute;moire de programme, la prochaine instruction &agrave;
ex&eacute;cuter. Il est li&eacute; &agrave; la pile syst&egrave;me (Stack en
anglais) &agrave; 8 niveaux dans le 16F877. C'est-&agrave;-dire qu'on peut
avoir jusqu'&agrave; 8 niveaux d'imbrication d'appels de sous-programmes ou
fonctions.</p>
<p Align=center><strong><em><u>Figure I.5 : Sch&eacute;ma de la
pile</u></em></strong></p>


<h3 class="core">
<A NAME="toc8"></A>3. M&eacute;moires du PIC : </h3>

<p Align=left>Le PIC 16F877 contient trois types de m&eacute;moires :</p>
<p Align=left><strong> 3.1 M&eacute;moire FLASH :</strong></p>
<p Align=justify>C'est dans celle-ci qu'est stock&eacute; le programme du PIC.
Apr&egrave;s compilation du fichier source, le compilateur g&eacute;n&egrave;re
un fichier &#171; .hex &#187;, Celui-ci est transf&eacute;r&eacute; ensuite
dans la m&eacute;moire programme du PIC &agrave; l'aide du programmateur. La
capacit&eacute; de cette m&eacute;moire est de 8Kmots.</p>
<p Align=justify>Cette m&eacute;moire n'est pas reli&eacute;e au bus de
donn&eacute;es (DATA Bus), elle sert &agrave; stocker le programme du PIC, mais
pas les variables du programme. L'avantage de cette m&eacute;moire c'est qu'on
peut l'effacer et la r&eacute;&eacute;crire facilement.</p>
<p Align=left><strong> 3.2 M&eacute;moire RAM :</strong></p>
<p Align=justify>Fait partie de la zone d'adressage des donn&eacute;es. Elle
comprend tous les registres sp&eacute;ciaux permettant de contr&ocirc;ler le
coeur du PIC ainsi que ses p&eacute;riph&eacute;riques. Les variables des
programmes pourront &ecirc;tre stock&eacute;es dans des cases m&eacute;moires
&agrave; usage commun.</p>
<p Align=left><strong> 3.3 M&eacute;moire EEPROM :</strong></p>
<p Align=justify>L'EEPROM est une m&eacute;moire de stockage de donn&eacute;es.
Sur le PIC 16F877, il y a 256 octets d'EEPROM disponibles. Le nombre de cycles
d'effacement / &eacute;criture sur la m&eacute;moire EEPROM est limit&eacute;
d'ordre du million pour le PIC, mais cette limite pourrais &ecirc;tre atteinte
plus vite pour le stockage des variables modifi&eacute;es plusieurs milliers de
fois par seconde.</p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F87729.png"
alt=""></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87730.png" alt=""></p>
<p Align=left><strong><em><u>Figure I.6 : Sch&eacute;ma interne des
m&eacute;moires</u></em></strong></p>
<p Align=left><strong>4. Architecture Externe :</strong></p>
<p Align=justify>Le bo&icirc;tier du PIC 16F877 d&eacute;crit par la figure I.7
comprend 40 pins : 33 pins d'entr&eacute;es/sorties, 4 pins pour
l'alimentation, 2 pins pour l'oscillateur et 1 pin pour le reset (MCLR).</p>
<p Align=left><strong><em><u>Figure I.7 : Brochage du PIC</u></em></strong></p>
<p Align=left>12</p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F87731.png"
alt=""></p>
<p Align=left>- La broche <strong>MCLR</strong> sert &agrave; initialiser le
pic qui dispose de plusieurs sources de RESET</p>
<p Align=left>(POR: la mise sous tension, <u>EXTERNAL RESET:</u> remise
&agrave; z&eacute;ro externe, <u>WDT:</u> chien de garde, <u>BOR :</u> baisse
de tension d'alimentation).</p>
<p Align=left>- Les broches <strong>VDD</strong> (Broche 11 et 32) et
<strong>VSS</strong> (Broche 12 et 31) servent &agrave; alimenter le PIC.</p>
<p Align=justify>On remarque qu'on a 2 connections &#171;VDD&#187; et 2
connections &#171; VSS &#187;. La pr&eacute;sence de ces 2 pins s'explique pour
une raison de dissipation thermique. Le courant port&eacute; dans le PIC n'est
pas n&eacute;gligeable parce qu'il existe de nombreuses lignes
d'entr&eacute;es/sorties disponibles.</p>
<p Align=left>- Les broches <strong>OSC1</strong> (Broche 13) et
<strong>OS</strong> (Broche 14) permettent de faire fonctionner</p>
<p Align=left>l'oscillateur interne du PIC qui peut &ecirc;tre (un quartz, un
r&eacute;sonateur c&eacute;ramique, un oscillateur externe ou un r&eacute;seau
RC).</p>
<p Align=left><strong>5.<u> Ports d'Entr&eacute;es Sorties : </u></strong></p>
<p Align=left>Le microcontr&ocirc;leur dispose de 5 PORTS (A, B, C, D et E).
Tous les ports d'entr&eacute;es sorties sont bidirectionnels. La plupart des
lignes ont une double fonction.</p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87732.png" alt=""></p>
<p Align=left><strong><u>Remarque :</u></strong> L'indicateur
<strong>x</strong> signifie un bit non impl&eacute;ment&eacute;. L'indicateur
<strong>Gras</strong> signifie un bit utilis&eacute;.</p>


<h3 class="core">
<A NAME="toc9"></A>5.1 PORT A :</h3>

<p Align=justify>Le PORTA est un port de six bits donc six
entr&eacute;es/sorties num&eacute;rot&eacute;es de RA0 &agrave; RA5 qui peuvent
&ecirc;tre utilis&eacute;es comme des entr&eacute;es pour le : (Convertisseur
Analogique Num&eacute;rique, le TIMER0, dans ce cas la pin RA4 sera
utilis&eacute; comme entr&eacute;e pour configurer TOCKI est de type drain
ouvert). Les registres associ&eacute;s avec le port A sont :</p>

<p Align=left></p>

<DIV Align=justify><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<p Align=center><strong>Nom</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit7</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit6</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit5</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit4</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit3</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit2</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit1</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit0</strong></p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>PORTA</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>x</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>X</p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RA5</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RA4</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RA3</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RA2</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RA1</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RA0</strong></p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>TRISA</p>
</TD>
<TD COLSPAN=8 Align=left Valign=top>
<p Align=center>Registre de Direction du PORTA</p>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>ADCON1</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>ADFM</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>X</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>x</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>x</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center><strong>PCFG3</strong></p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center><strong>PCFG2</strong></p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center><strong>PCFG1</strong></p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center><strong>PCFG0</strong></p>
</TD>
</TR>
</TABLE></DIV>

<p Align=left>y'<strong> Registre TRISA :</strong></p>
<p Align=left>TRISA=1 : les lignes du PORTA sont configur&eacute;es en ENTREES,
et le driver de sortie est plac&eacute; en haute imp&eacute;dance.</p>
<p Align=left>TRISA=0 : les lignes du port sont configur&eacute;es en
SORTIES.</p>
<p Align=left>y'<strong> Registre ADCON1 :</strong></p>
<p Align=justify>Ce registre sera &eacute;tudi&eacute; dans le chapitre
concernant le CAN. On retiendra seulement que pour configurer les 5 bits du
Port A en entr&eacute;es sorties digitales, il faut positionner les 4 bits PCFG
&agrave; 0110.</p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F87733.png"
alt=""></p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F87734.png"
alt=""></p>
<p Align=center><strong><em><u>Figure I.8 : Sch&eacute;ma interne d'une ligne
d'entr&eacute;e sortie du PORTA </u></em></strong></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87735.png" alt=""></p>


<h3 class="core">
<A NAME="toc10"></A>5.2 PORT B :</h3>

<p Align=center>C'est un port bidirectionnel de 8 bits (RB0 &agrave; RB7). Ses
registres associ&eacute;s sont :</p>

<p Align=left></p>

<DIV Align=center><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=middle>
<p Align=center><strong>Nom</strong></p>
</TD>
<TD Align=left Valign=middle>
<p Align=right><strong>Bit7</strong></p>
</TD>
<TD Align=left Valign=middle>
<p Align=right><strong>Bit6</strong></p>
</TD>
<TD Align=left Valign=middle>
<p Align=right><strong>Bit5</strong></p>
</TD>
<TD Align=left Valign=middle>
<p Align=right><strong>Bit4</strong></p>
</TD>
<TD Align=left Valign=middle>
<p Align=right><strong>Bit3</strong></p>
</TD>
<TD Align=left Valign=middle>
<p Align=left><strong>Bit2</strong></p>
</TD>
<TD Align=left Valign=middle>
<p Align=left><strong>Bit1</strong></p>
</TD>
<TD Align=left Valign=middle>
<p Align=left><strong>Bit0</strong></p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>PORTB</p>
</TD>
<TD Align=left Valign=middle>
<p Align=right><strong>RB7</strong></p>
</TD>
<TD Align=left Valign=middle>
<p Align=right><strong>RB6</strong></p>
</TD>
<TD Align=left Valign=middle>
<p Align=right><strong>RB5</strong></p>
</TD>
<TD Align=left Valign=middle>
<p Align=right><strong>RB4</strong></p>
</TD>
<TD Align=left Valign=middle>
<p Align=right><strong>RB3</strong></p>
</TD>
<TD Align=left Valign=middle>
<p Align=left><strong>RB2</strong></p>
</TD>
<TD Align=left Valign=middle>
<p Align=left><strong>RB1</strong></p>
</TD>
<TD Align=left Valign=middle>
<p Align=left><strong>RB0</strong></p>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<p Align=center>TRISB</p>
</TD>
<TD COLSPAN=8 Align=left Valign=middle>
<p Align=right>Registre de Direction Du PORTB</p>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=bottom>
<p Align=center>OPTION_REG</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=bottom>
<p Align=right>RBPU</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=bottom>
<p Align=right>TOCS</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=bottom>
<p Align=right>INTEDG</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=bottom>
<p Align=right>TOSE</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=bottom>
<p Align=right>PSA</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=bottom>
<p Align=left>PS2</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=bottom>
<p Align=left>PS1</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=bottom>
<p Align=left>PS0</p>
</TD>
</TR>
</TABLE></DIV>

<p Align=left>y'<strong> Registre TRISB :</strong></p>
<p Align=left>Le PORTB est configur&eacute; en entr&eacute; si TRISB est mis
&agrave; 1 et lorsque ce dernier est mis 0 le PORTB est en sortie.</p>
<p Align=left>En mode entr&eacute;e chaque broche du PORTB doit &ecirc;tre
maintenue &agrave; un niveau haut par</p>
<p Align=left>l'interm&eacute;diaire de r&eacute;sistances de 10 k pour ne pas
d&eacute;clencher d'interruptions impr&eacute;vues qui peut &ecirc;tre
activ&eacute; ou d&eacute;sactiv&eacute; par la mise &agrave; 1 ou a 0 du
7&egrave;m&egrave; bit du registre OPTION.</p>
<p Align=left>Au reset, le tirage est d&eacute;sactiv&eacute;. Il est inactif
quand le port est configur&eacute; en sortie.</p>
<p Align=left>En entr&eacute;e, les broches RB4 &agrave; RB7 peuvent
d&eacute;clencher l'interruption. On parlera l&agrave;- dessus dans le
paragraphe r&eacute;serv&eacute; aux interruptions.</p>
<p Align=left>y'<strong> Registre OPTION :</strong></p>
<p Align=left>Ce registre en lecture &eacute;criture permet de configurer les
pr&eacute;diviseurs du Timer et du Watchdog, la source du Timer, le front des
interruptions et le choix du Pull up sur le Port B.</p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F87736.png"
alt=""></p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F87737.png"
alt=""></p>
<p Align=left><strong><em><u>Figure I.9 : Sch&eacute;ma interne d'une ligne
d'entr&eacute;e sortie du PORTB</u></em></strong><em><u><br><strong>Pins (RB3 -
RB0) Pins (RB7-RB4) </strong></u></em></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87738.png" alt=""></p>


<h3 class="core">
<A NAME="toc11"></A>5.3 PORT C :</h3>

<p Align=justify>Il s'agit d'un PORT de 8 bits bidirectionnels. Il est
partag&eacute; avec le module de transmission synchrone I2C et l'USART. La
configuration de direction se fait &agrave; l'aide du registre TRISC.</p>
<p Align=left>Les registres associ&eacute;s sont :</p>

<p Align=left></p>

<DIV Align=left><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<p Align=center><strong>Nom</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit7</strong></p>
</TD>
<TD Align=left Valign=middle>
<p Align=right>Bit6</p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit5</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit4</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit3</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit2</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit1</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit0</strong></p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>PORTC</p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RC7</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=right><strong>RC6</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RC5</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RC4</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RC3</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>R</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RC1</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RC0</strong></p>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>TRISC</p>
</TD>
<TD ROWSPAN=2 COLSPAN=8 Align=left Valign=top>
<p Align=center><strong>Registre de Direction du PORTC</strong></p>
</TD>
</TR>
</TABLE></DIV>

<p Align=left>V'<strong> Registre TRISC:</strong></p>
<p Align=left>La mise &agrave; 1 de ce registre configure la broche
correspondante en entr&eacute;e, et inversement.</p>
<p Align=justify>Au reset toutes les broches sont configur&eacute;es en
entr&eacute;e. Toutes les broches du port C peuvent &ecirc;tre utilis&eacute;es
soit comme E/S normales soit comme broches d'acc&egrave;s &agrave;
diff&eacute;rents modules comme le timer1, les modules de comparaison et de
capture CCP1/2, le timer 2, le port I2C ou le port s&eacute;rie, ceci sera
pr&eacute;cis&eacute; au moment de l'&eacute;tude de chacun de ces
p&eacute;riph&eacute;riques.</p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F87739.png"
alt=""></p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F87740.png"
alt=""></p>
<p Align=left><strong><em><u>Figure I.10 : Sch&eacute;ma interne d'une ligne
d'entr&eacute;e sortie du PORTC<br>Pins (RC7-RC5, R-RC0) Pins
(RC3-RC4)</u></em></strong></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87741.png" alt=""></p>


<h3 class="core">
<A NAME="toc12"></A>5.4 PORT D :</h3>

<p Align=left>C'est un port 8 bits bidirectionnel, la configuration de ce port
se fait &agrave; l'aide du registre TRISD. Les registres associ&eacute;s sont
:</p>

<p Align=left></p>

<DIV Align=left><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<p Align=center><strong>Nom</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit7</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit6</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit5</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit4</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit3</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit2</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit1</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit0</strong></p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>PORTD</p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RD7</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RD6</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RD5</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RD4</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RD3</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RD2</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RD1</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RD0</strong></p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>TRISD</p>
</TD>
<TD COLSPAN=8 Align=left Valign=top>
<p Align=center>Registre de Direction du PORTD</p>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>TRISE</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>IBF</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>OBF</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>IBOV</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>PSPMODE</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>x</p>
</TD>
<TD ROWSPAN=2 COLSPAN=3 Align=left Valign=top>
<p Align=center><strong>Registre de direction</strong></p>
</TD>
</TR>
</TABLE></DIV>

<p Align=left>V'<strong> Registre TRISD :</strong></p>
<p Align=left>Chaque broche est configurable en entr&eacute;e ou en sortie.
Pour la configurer en entr&eacute;e le TRISD doit &ecirc;tre mis &agrave; 1,
sinon 0 en sortie.</p>
<p Align=justify>Le PORTD peut &ecirc;tre utilis&eacute; dans un mode
particulier appel&eacute; " <strong><em><u>parallel slave port
</u></em></strong> " pour cela il faut placer le bit 4 (<em>PSPMODE</em>) de
TRISE &agrave; 1. Dans ce cas les 3 bits de PORTE deviennent les entr&eacute;es
de control de ce port (RE, WE et CS).</p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F87742.png"
alt=""></p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F87743.png"
alt=""></p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F87744.png"
alt=""></p>


<h3 class="core">
<A NAME="toc13"></A>5.5 PORT E :</h3>

<p Align=left>Le PORTE contient seulement 3 bits RE0, RE1 et RE2. Les 3 bits
sont configurables en entr&eacute;e ou en sortie &agrave; l'aide du registre
TRISE.</p>
<p Align=justify>Les 3 bits de PORTE peuvent &ecirc;tre utilis&eacute;s soit
comme E/S num&eacute;riques soit comme entr&eacute;es analogiques du CAN. La
configuration se fait &agrave; l'aide du registre ADCON1. Les registres
associ&eacute;s sont :</p>

<p Align=left></p>

<DIV Align=justify><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<p Align=center><strong>Nom</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit7</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit6</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit5</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit4</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit3</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit2</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit1</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>Bit0</strong></p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>PORTE</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>X</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>X</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>x</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>x</p>
</TD>
<TD Align=left Valign=top>
<p Align=center>x</p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RE2</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RE1</strong></p>
</TD>
<TD Align=left Valign=top>
<p Align=center><strong>RE0</strong></p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>TRISE</p>
</TD>
<TD COLSPAN=8 Align=left Valign=top>
<p Align=center><strong>Registre de Direction du PORTE</strong></p>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>ADCON1</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>ADFM</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>X</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>x</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>x</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>PCFG3</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>PCFG2</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>PCFG1</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>PCFG0</p>
</TD>
</TR>
</TABLE></DIV>

<p Align=left>V'<strong> Registre TRISE :</strong></p>
<p Align=justify>Si TRISE est plac&eacute; &agrave; 1, Les trois bits de ce
port deviennent les entr&eacute;es de control du PORTD qui fonctionne en mode "
<strong><em><u>parallel slave port </u></em></strong> ".A la mise sous tension
(RESET), les 3 broches du PORTE sont configur&eacute;s en entr&eacute;es
analogiques.</p>
<p Align=left>V'<strong> Registre ADCON1 :</strong></p>
<p Align=left>Ce registre sera &eacute;tudi&eacute; dans le chapitre concernant
le CAN.</p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F87745.png"
alt=""></p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F87746.png"
alt=""></p>
<p Align=left><img src="Programmation-en-C-du-micro-contrleur-PIC-16F87747.png"
alt=""></p>
<p Align=left><strong>6.<u> Module de conversion A/N : </u></strong></p>
<p Align=left><strong>6.1 Caract&eacute;ristiques g&eacute;n&eacute;rales du
module A/D :</strong></p>
<p Align=left>Le convertisseur A/D convertit le signal analogique
pr&eacute;sent sur une de ses 8 entr&eacute;es en son &eacute;quivalent
num&eacute;rique, cod&eacute; sur 10 bits.</p>
<p Align=left>Les pattes AN2 et AN3 peuvent &ecirc;tre utilis&eacute;es comme
r&eacute;f&eacute;rences de tension ou comme entr&eacute;es analogiques
standard. Les tensions de r&eacute;f&eacute;rence haute et basse peuvent
&ecirc;tre choisies par programmation parmi: VDD (broche PA3) pour VREF+ et VSS
(broche PA2) pour VREF- .On peut donc num&eacute;riser jusqu'&agrave; 8 signaux
analogiques.</p>
<p Align=left>Pas tous en m&ecirc;me temps, &eacute;tant donn&eacute; qu'il n'y
a qu'un seul module de conversion</p>
<p Align=left>pour 8 signaux d'entr&eacute;es multiplex&eacute;es. Mais si les
signaux n'&eacute;voluent pas trop vite (fr&eacute;quence basse), la
num&eacute;risation du signal se fait sur la patte AN0, puis sur AN1...</p>
<p Align=left>Les param&egrave;tres importants dont il faudra tenir compte sont
:</p>

<blockquote>
<p Align=left>&#183;  La r&eacute;solution du convertisseur. Ici 10 bits, donc
meilleur qu'un convertisseur 8 bits, mais moins pr&eacute;cis qu'un 12 bits.</p>
<p Align=left>&#183;  Le temps de conversion.</p>
<p Align=left>&#183;  La rapidit&eacute; d'&eacute;volution des signaux
pr&eacute;sents sur les entr&eacute;es (leur fr&eacute;quence pour des signaux
p&eacute;riodiques).</p>
<p Align=left>&#183;  Le nombre de signaux &agrave; num&eacute;riser.</p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87748.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87749.png" alt=""></p>
<p Align=center> </p>
<p Align=left> </p>
<p Align=center><strong><em><u>Figure I.13 : Sch&eacute;ma Interne du
convertisseur analogique/num&eacute;rique</u></em></strong></p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87750.png" alt=""></p>
<p Align=center> <strong><u>Registres associ&eacute;s avec le module
A/D</u></strong></p>
</blockquote>

<blockquote>
<p Align=left></p>
</blockquote>

<DIV Align=center><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center> <strong>Nom</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit7</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=right> <strong>Bit6</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center> <strong>Bit5</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit4</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit3</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit2</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit0</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=13 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> INTCON</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>GIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>PEIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TOIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>INTE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RBIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TOIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>INTF</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>RBIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PIR1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>PSPIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>ADIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RCIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TXIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>SSPIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>CCP 1IF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TMR2IF</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>TMR1IF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PIE1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>PSPIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>ADIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RCIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TXIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>SSPIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>CCP 1IE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TMR2IE</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>TMR1IE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> ADRESH</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>MSB du r&eacute;sultat du module A/D</p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> ADRESL</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>LSB du r&eacute;sultat du module A/D</p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> ADCON0</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>ADSC1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>ADSC0</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>CHS2</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>CHS1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>CHS0</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>GO/DONE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>ADON</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> ADCON1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>ADFM</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=right> x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center> x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>PCFG3</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>PCFG2</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>PCFG1</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>PCFG0</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PORTA</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=right> x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center> Pins D'Entr&eacute;es Sorties du PORTA</p>
</blockquote>
</TD>
<TD COLSPAN=7 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> TRISA</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>Registre de Direction du PORTA</p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PORTE</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=right> x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center> x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>Pins D'Entr&eacute;es Sorties du PORTE</p>
</blockquote>
</TD>
<TD COLSPAN=4 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> TRISE</p>
</blockquote>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>Registre de Direction du PORTE</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 COLSPAN=9 Align=left Valign=top><PRE> </PRE></TD>
</TR>
</TABLE></DIV>

<blockquote>
<p Align=left> </p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87751.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87752.png" alt=""></p>
<p Align=left>  </p>
<p Align=left> </p>
<p Align=left>y'<strong> Registre ADCON0 :</strong></p>
<p Align=left> Au reset : ADCON0 = 00000000</p>
<p Align=left> <strong>ADSC1 ADSC0: </strong>Clock Select bits.</p>
<p Align=left> Ces 2 bits permettent de choisir la vitesse de conversion :</p>
<p Align=left> 00= Fosc/2 - 01= Fosc/8 - 10= Fosc/32 - 11= Oscillateur RC
interne.<strong><em> </em>CHS2 CHS1 CHS0: </strong>Channel Select bits.</p>
<p Align=left> Ces 3 bits permettent de choisir l'entr&eacute;e qui va
&ecirc;tre convertie.</p>
</blockquote>

<blockquote>
<p Align=left></p>
</blockquote>

<DIV Align=left><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center> Canal</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>CHS2</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>CHS1</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>CHS0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>PORT</p>
</blockquote>
</TD>
<TD ROWSPAN=10 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> 0</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>RA0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> 1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>RA1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> 2</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>RA2</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> 3</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>RA3</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> 4</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>RA5</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> 5</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>RE0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> 6</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>RE1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> 7</p>
</blockquote>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD ROWSPAN=2 COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>RE2</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle><PRE> </PRE></TD>
</TR>
</TABLE></DIV>

<blockquote>
<p Align=left> </p>
<p Align=left> <strong>GO/DONE: </strong>1 = D&eacute;marre la conversion A/D -
<strong>0 </strong>= La conversion A/D est termin&eacute;e. <strong>ADON
:</strong> 1 = Convertisseur A/D en service - <strong>0</strong> =
Convertisseur A/D &agrave; l'arr&ecirc;t.</p>
<p Align=left> y'<strong> Registre ADCON1:</strong></p>
<p Align=left> Au reset : ADCON1 = 00000000</p>
<p Align=left> <strong>ADFM: </strong>A/D Result format.</p>
<p Align=left> <strong>1</strong>= Justifi&eacute; &agrave; droite. ADRESH ne
contient que les 2 MSB du r&eacute;sultat. Les 6 MSB de ce registre sont lus
comme des "0".</p>
<p Align=left> <strong>0</strong>= Justifi&eacute; &agrave; gauche. ADRESL ne
contient que les 2 LSB du r&eacute;sultat. Les 6 LSB de ce registre sont lus
comme des "0".</p>
<p Align=left> <strong><em><u>Figure I.14 : Sch&eacute;ma de justification de
la donn&eacute;e convertie</u></em></strong></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87753.png" alt=""></p>
<p Align=left> <strong>PCFG3 PCFG2 PCFG1 et PCFG0 : </strong>Bits de
contr&ocirc;le de la configuration des Ports. Ces bits permettent de choisir le
partage entre entr&eacute;es analogiques et digitales sur les PORTS A et E.</p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87754.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87755.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87756.png" alt=""></p>
<p Align=left>  </p>
<p Align=left> </p>
<p Align=left><strong>7.<u> Interface s&eacute;rie asynchrone :
</u></strong></p>
<p Align=left> L'USART: <strong>"Universal Synchronous Asynchronous Receiver
Transmitter"</strong> ou <strong>"SCI"</strong> en anglais (Serial
Communication Interface) est l'un des deux modules de</p>
<p Align=left> communication s&eacute;rie du PIC. Comme son nom l'indique, il
peut &eacute;tablir une liaison synchrone ou asynchrone, recevoir et
transmettre des donn&eacute;es, selon la mani&egrave;re dont il est
configur&eacute;.</p>
<p Align=left> L'USART permet de communiquer avec le reste du monde : un
ordinateur ou tout autre mat&eacute;riel &eacute;quip&eacute; d'une interface
s&eacute;rie RS232, des circuits int&eacute;gr&eacute;s convertisseurs
Num&eacute;rique/Analogique ou Analogique/Num&eacute;rique, des EEPROMs
s&eacute;rie...</p>
<p Align=left> La communication se fait sur les deux broches RC6/TX et RC7/RX
qui doivent &ecirc;tre configur&eacute;s toutes les deux en entr&eacute;e par
TRISC.</p>
<p Align=left> L'USART peut &ecirc;tre configur&eacute;e selon 3 modes :</p>
<p Align=left>&#183;  Asynchrone (Full Duplex).</p>
<p Align=left>&#183;  Synchrone Ma&icirc;tre (Half Duplex).</p>
<p Align=left>&#183;  Synchrone Esclave (Half Duplex).<strong><em> <u>Figure
I.15 : Sch&eacute;ma interne du port en transmission</u></em></strong></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87757.png" alt=""></p>
<p Align=left> </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87758.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87759.png" alt=""></p>
<p Align=center> </p>
<p Align=left> </p>
<p Align=center><strong><em><u>Figure I.16 : Sch&eacute;ma interne du port en
r&eacute;ception</u></em></strong></p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87760.png" alt=""></p>
<p Align=center> <strong><u>Registres associ&eacute;s avec
L'USART</u></strong></p>
</blockquote>

<blockquote>
<p Align=left></p>
</blockquote>

<DIV Align=center><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center> <strong>Nom</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit7</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit6</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit5</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit4</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit3</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit2</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit0</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=9 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> INTCON</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>GIE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>PEIE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TOIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>INTE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RBIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TOIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>INTF</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>RBIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PIR1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>PSPIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>ADIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RCIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>TXIF</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>SSPIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>CCP1IF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TMR2IF</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>TMR1IF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PIE1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>PSPIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>ADIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RCIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TXIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>SSPIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>CCP1IE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TMR2IE</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>TMR1IE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> RCSTA</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SPEN</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>RX9</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SREN</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>CREN</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>x</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>FERR</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>OERR</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>RX9D</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> TXREG</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>USART Transmettent Le Registre</strong></p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> TXSTA</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>CSRC</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>TX9</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>TXEN</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SYNC</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>x</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>BRGH</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>TRMT</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>TX9D</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> SPBRG</p>
</blockquote>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>Registre De G&eacute;n&eacute;rateur De Vitesse
baud</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 COLSPAN=9 Align=left Valign=top><PRE> </PRE></TD>
</TR>
</TABLE></DIV>

<blockquote>
<p Align=left> </p>
<p Align=left> V'<strong> Registre TXSTA : </strong>Registre d'&eacute;tat
Emission</p>
<p Align=left> Au reset : TXSTA = 00000010</p>
<p Align=left> <strong>CSRC : </strong>Clock Source en synchrone. (Sans
importance en asynchrone) <strong>TX9 : </strong>Autorisation d'&eacute;mission
sur 9 bits. <strong>1</strong>= Autoris&eacute; - <strong>0</strong> = Non
autoris&eacute;. <strong>TXEN :</strong>Autorisation d'&eacute;mission.
<strong>1</strong>= Autoris&eacute; - <strong>0</strong> = Non
autoris&eacute;.</p>
<p Align=left> <strong>SYNC : </strong>S&eacute;lection mode Synchrone /
Asynchrone.</p>
<p Align=left> <strong>1</strong>= Mode synchrone - <strong>0</strong> = Mode
asynchrone.</p>
<p Align=left> <strong>BRGH : </strong>S&eacute;lection vitesse rapide en mode
asynchrone.</p>
<p Align=left> <strong>1</strong> = Vitesse haute s&eacute;lectionn&eacute;e -
<strong>0</strong> = Vitesse basse s&eacute;lectionn&eacute;e.</p>
<p Align=left> <strong>TRMT :</strong> bit d'&eacute;tat du registre &agrave;
d&eacute;calage Emission.</p>
<p Align=left> <strong>1</strong> = Registre vide, &eacute;mission
termin&eacute;e - <strong>0</strong> = Registre plein, &eacute;mission en
cours. <strong>TX9D : </strong>9eme bit de Donn&eacute;es transmise. Ce bit
peut &ecirc;tre le bit de la parit&eacute;.</p>
<p Align=left> V'<strong> Le Registre RCSTA</strong> : Registre d'&eacute;tat
R&eacute;ception</p>
<p Align=left> Au reset : RCSTA = 0000000x</p>
<p Align=left> <strong>SPEN : </strong>Serial Port Enable. PC7 et PC6
configur&eacute;s pour le port s&eacute;rie. <strong>1</strong> = Port
s&eacute;rie en service - <strong>0</strong> = Port s&eacute;rie
d&eacute;sactiv&eacute;.</p>
<p Align=left> <strong>RX9 : </strong>Autorisation de r&eacute;ception sur 9
bits. <strong>1</strong> = Autoris&eacute; - <strong>0</strong> = Non
autoris&eacute;.</p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87761.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87762.png" alt=""></p>
<p Align=left>  </p>
<p Align=left><strong>SREN :</strong> Single Receive Enable.
R&eacute;serv&eacute; pour mode Synchrone. (Non utilis&eacute; en mode
Asynchrone)</p>
<p Align=left> <strong>CREN :</strong>Continous Receive Enable.
<strong>1</strong> = Autorise la r&eacute;ception - <strong>0</strong> =
D&eacute;sactive la r&eacute;ception. <strong>ADDEN:</strong> Adress Detect
Enable. En mode Asynchrone 9 bits:</p>
<p Align=left> <strong>1</strong> = Autorise la d&eacute;tection d'adresse, et
charge la donn&eacute;e dans le registre de r&eacute;ception RCREG quand le
9eme bit du registre de d&eacute; s&eacute;rialisation vaut "1".</p>
<p Align=left> <strong>0</strong> = D&eacute; s&eacute;lecte la
d&eacute;tection d'adresse. Tous les octets sont re&ccedil;us et le 9eme bit
peut servir de bit de parit&eacute;.</p>
<p Align=left> <strong>FERR :</strong>Framing Error.</p>
<p Align=left> <strong>1</strong> = Une erreur de Framing est survenue -
<strong>0</strong> = Pas d'erreur de Framing.</p>
<p Align=left> <strong>OERR :</strong>Overrun Error.Un octet est re&ccedil;u
alors que le registre de r&eacute;ception n'a pas &eacute;t&eacute; vid&eacute;
par lecture. <strong>1</strong> = Erreur Overrun - <strong>0</strong> = Pas
d'erreur Overrun.</p>
<p Align=left> <strong>RX9D :</strong> 9eme bit de Data re&ccedil;ue, ce bit
peut &ecirc;tre le bit de la parit&eacute;.</p>
<p Align=left> y'<strong> Registre SPRBGH :</strong></p>
<p Align=left> Le Baud Rate Generator est un registre 8 bits qui contient le
facteur de division (N) de l'horloge interne qui permet d'obtenir la vitesse
commune d'&eacute;mission et de r&eacute;ception. BRGH=1 Vitesses haute -
BRGH=0 Vitesses basse.</p>
<p Align=left> I<strong> Registre TXREG</strong> : Registre
d'&eacute;mission.</p>
<p Align=justify> L'&eacute;mission est autoris&eacute;e par la mise &agrave;
"1" du bit <strong>TXEN</strong>. La donn&eacute;e &agrave; transmettre est
mise dans le registre <strong>TXREG, TXIF </strong>= 1 le registre
pr&eacute;vient qu'il est vide, ce flag passe &agrave; "0" d&eacute;s que l'on
charge un octet dans le registre <strong>TXREG</strong>. Il repasse &agrave;
"1" par Hard. Ce flag passe &agrave; "0" d&eacute;s que l'on charge un octet
dans le registre <strong>TXREG</strong>. Il repasse &agrave; "1" par Hard quand
le registre est vid&eacute; par transfert dans le registre de
s&eacute;rialisation : <strong>TSR</strong>. Ce registre n'est pas accessible
par l'utilisateur, il n'a pas d'adresse.</p>
<p Align=left> Le flag TXIF permet aussi de g&eacute;n&eacute;rer une
interruption, &agrave; condition qu'elle soit</p>
<p Align=left> autoris&eacute;e par mettre TXIE = 1. Il faut dans ce cas
autoriser les interruptions des p&eacute;riph&eacute;riques par mise &agrave;
PEIE = 1, et par poser GIE = 1. (Pout l'&eacute;mission et la
r&eacute;ception)</p>
<p Align=left> I<strong> Registre RCREG</strong>: Registre R&eacute;ception</p>
<p Align=left> L'&eacute;mission est autoris&eacute;e par <strong>TXEN
</strong>= 1.La donn&eacute;e &agrave; transmettre est mise dans le registre
<strong>TXREG. </strong>Ce registre pr&eacute;vient qu'il est vide en mettant
le flag <strong>TXIF </strong>&agrave; "1". Ce flag passe &agrave; "0"
d&eacute;s que l'on charge un octet dans le registre <strong>TXREG</strong>. Il
repasse &agrave; "1" par Hard quand le registre est vid&eacute; par transfert
dans le registre de s&eacute;rialisation <strong>TSR</strong>.</p>
<p Align=justify> Le bit TRMT informe sur l'&eacute;tat du registre TSR. Quand
le registre TSR n'a pas fini de s&eacute;rialis&eacute;, TRMT=0. Ce flag
repasse &agrave; "1" quand le registre est vide, c'est &agrave; dire quand le
stop a &eacute;t&eacute; &eacute;mis.</p>
<p Align=left> <strong>8.<u> Module MSSP (Master Synchronous Serial Port) :
</u></strong></p>
<p Align=left> Le module SSP est la deuxi&egrave;me interface de communication
s&eacute;rie du PIC.</p>
<p Align=left> En fait, il s'agit d'un port Ma&icirc;tre, donc l'appellation
exacte est <u>MSSP </u> : &#171; Master Synchronous Serial Port &#187;. Il est
utile pour communiquer avec d'autres modules ou microcontr&ocirc;leurs, des
EEPROMs s&eacute;ries, des registres &agrave; d&eacute;calage, des afficheurs,
des convertisseurs A/N.</p>
<p Align=left> Il peut fonctionner dans deux modes de communication :</p>
<p Align=left>&#183;  Le mode SPI (Serial Peripheral Interface).</p>
<p Align=left>&#183;  Le mode I<sup>2</sup>C (Inter-Integrated Circuit).</p>
<p Align=left> L'utilisation de l'un de ces deux modules de communication,
USART ou MSSP d&eacute;pend donc essentiellement du protocole de communication
n&eacute;cessaire.</p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87763.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87764.png" alt=""></p>
<p Align=left>  </p>
<p Align=left>Sch&eacute;matiquement, l'USART est bien adapt&eacute;e pour
communiquer avec le reste de l'univers via la c&eacute;l&egrave;bre interface
RS232 alors que le MSSP permet de communiquer ais&eacute;ment avec d'autres
composants &eacute;lectroniques &agrave; interface s&eacute;rie.</p>
<p Align=center> <strong><em><u>Figure I.17 : Sch&eacute;ma interne du module
MSSP en mode SPI</u></em></strong></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87765.png" alt=""></p>
<p Align=center> <strong><u>Registres associ&eacute;s avec Le MSSP en mode
SPI</u></strong></p>
</blockquote>

<blockquote>
<p Align=left></p>
</blockquote>

<DIV Align=center><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center> <strong>Nom</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit7</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit6</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit5</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit4</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit3</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit2</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit0</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=8 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> INTCON</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>GIE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>PEIE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TOIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>INTE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RBIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TOIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>INTF</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>RBIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PIR1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>PSPIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>ADIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RCIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TXIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPIF</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>CCP1IF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TMR2IF</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>TMR1IF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PIE1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>PSPIE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>ADIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RCIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TXIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPIE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>CCP1IE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TMR2IE</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>TMR1IE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> SSPBUF</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Le Port s&eacute;rie Synchrone Re&ccedil;oivent buffer
/ Transmettre Le Registre</strong></p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> SSPCON</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>WCOL</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPOV</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPEN</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>CKP</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPM3</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPM2</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPM1</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPM0</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> SSPSTAT</p>
</blockquote>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>SMP</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>CKE</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>D/A</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>P</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>S</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>R/W</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>UA</p>
</blockquote>
</TD>
<TD ROWSPAN=2 COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>BF</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
</TR>
</TABLE></DIV>

<blockquote>
<p Align=left> </p>
<p Align=center> <strong><em><u>Figure I.18 : Sch&eacute;ma interne du module
MSSP en mode I2C</u></em></strong></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87766.png" alt=""></p>
<p Align=left> </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87767.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87768.png" alt=""></p>
<p Align=center> </p>
<p Align=left> </p>
<p Align=center><strong><u>Registres associ&eacute;s avec Le MSSP en mode I2C
</u></strong></p>
</blockquote>

<blockquote>
<p Align=left></p>
</blockquote>

<DIV Align=center><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center> <strong>Nom</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit7</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit6</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit5</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit4</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit3</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit2</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit0</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=12 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> INTCON</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>GIE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>PEIE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TOIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>INTE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RBIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TOIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>INTF</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>RBIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PIR1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>PSPIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>ADIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RCIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TXIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPIF</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>CCP 1IF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TMR2IF</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>TMR1IF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PIE1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>PSPIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>ADIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RCIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TXIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPIE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>CCP1IE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TMR2IE</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>TMR1IE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PIR2</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>X</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>(2)</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>EEIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>BCLIF</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>CCP2IF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PIE2</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>X</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>(2)</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>EEIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>BCLIE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>CCP2IE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> SSPBUF</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Le Port s&eacute;rie Synchrone Re&ccedil;oivent buffer
/ Transmettre Le Registre</strong></p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> SSPCON</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>WCOL</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPOV</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPEN</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>CKP</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPM3</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPM2</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPM1</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPM0</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> SSPCON2</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>GCEN</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>ACKSTAT</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>ACKDT</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>ACKEN</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>RCEN</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>PEN</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>RSEN</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>SEN</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> SSPADD</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Adresse D'Esclave d'I2C/ / Registre Maitre De Vitesse
baud</strong></p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> SSPSTAT</p>
</blockquote>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>SMP</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>CKE</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>D/A</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>P</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>S</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>R/W</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>UA</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>BF</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
</TR>
</TABLE></DIV>

<blockquote>
<p Align=left> </p>
<p Align=left> V'<strong> Registre SSPSTAT :</strong> registre d'&eacute;tat Au
reset : SSPSTAT = 00000000</p>
<p Align=left> <strong>SMP :</strong> bit d'&eacute;chantillonnage.</p>
<p Align=left><strong>CKE :</strong> Clock Edge Select. Ce bit &agrave; "0" :
conforme aux sp&eacute;cifications I2C.</p>
<p Align=left> <strong>D/A:</strong> Data / Adresse bit.</p>
<p Align=left> <strong>1</strong> = indique que le dernier octet re&ccedil;u
est une donn&eacute;e</p>
<p Align=left> <strong>0</strong> = indique que le dernier octet re&ccedil;u
est une adresse.</p>
<p Align=left> <strong>P :</strong> STOP bit. Ce bit est remis &agrave; "0"
quand le module SSP est d&eacute;sactiv&eacute;.</p>
<p Align=left> <strong>1</strong> = un Stop a &eacute;t&eacute;
d&eacute;tect&eacute;. -<strong> 0</strong> = il n'a pas d&eacute;tect&eacute;
le Stop.</p>
<p Align=left> <strong>S :</strong> START bit. Ce bit est remis &agrave; "0"
quand le module SSP est d&eacute;sactiv&eacute;.</p>
<p Align=left> <strong>1</strong> = un Start a &eacute;t&eacute;
d&eacute;tect&eacute;. -<strong> 0 </strong>= il n'a pas &eacute;t&eacute;
d&eacute;tect&eacute; de Start.</p>
<p Align=left> <strong>R/W :</strong> Information sur le bit R/W. Donne la
valeur de ce bit qui suit la derni&egrave;re adresse. Ce</p>
<p Align=justify> bit est valable jusqu'&agrave; la r&eacute;ception du STOP.
<strong>Mode ESCLAVE : 1 </strong>= R - <strong>0</strong> = W.<strong> Mode
MAITRE : 1</strong> = Transmission en cours - <strong>0</strong> = Pas de
transmission en cours.</p>
<p Align=left> <strong>UA :</strong> mise &agrave; jour adresse. Utilis&eacute;
en mode 10 bits seulement.</p>
<p Align=left> <strong>BF :</strong> Buffer plein.</p>
<p Align=left> <strong>Mode R&eacute;ception I2C:</strong></p>
<p Align=left> Registre plein =1 : r&eacute;ception termin&eacute;e - Registre
vide= 0: donc r&eacute;ception non</p>
<p Align=left> termin&eacute;e.</p>
<p Align=left> <strong>Mode Emission I2C:</strong></p>
<p Align=left> Registre plein =<strong>1</strong>: donc &eacute;mission en
cours. Registre vide= <strong>0</strong> : donc &eacute;mission
termin&eacute;e.</p>
<p Align=left> V'<strong> Registre SSPCON :</strong> registre de
contr&ocirc;le</p>
<p Align=left> Au reset : SSPCON = 00000000</p>
<p Align=left> <strong>WCOL :</strong> d&eacute;tection de collision &agrave;
l'&eacute;criture.</p>
<p Align=left> 1 = Collision &agrave; l'&eacute;criture. - 0 = Pas de
collision.</p>
<p Align=left> <strong>SSPOV :</strong> Overflow indicator en
r&eacute;ception.Doit &ecirc;tre remis &agrave; "0" par soft</p>
<p Align=left> 1 = Un octet vient d'&ecirc;tre re&ccedil;u dans le buffer:
Overflow.- 0 = Pas d'Overflow.</p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87769.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87770.png" alt=""></p>
<p Align=left>  </p>
<p Align=left> </p>
<p Align=left><strong>SSPEN :</strong> Enable Module SSP.</p>
<p Align=left> 1 = Module I2C activ&eacute; et pin SCL et SDA sur PC3 et PC4
configur&eacute;es. 0 = Module I2C d&eacute;sactiv&eacute;. PC3 et PC4 libres
pour usage I/O.</p>
<p Align=left> <strong>CKP :</strong> Polarit&eacute; du Clock.
Inutilis&eacute; en mode ma&icirc;tre.</p>
<p Align=left> <strong>Mode Esclave : </strong>1 = Autorise horloge. - 0 =
Maintient CLK = 0.</p>
<p Align=left> <strong>SSPM3, SSPM2, SSPM1et SSPM0 :</strong> Select Mode.</p>
</blockquote>

<blockquote>
<p Align=left></p>
</blockquote>

<DIV Align=left><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center> <strong>SSPM3</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPM2</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPM1</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPM0</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>MODE</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=5 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> <strong>0</strong></p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>0</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=left> I<sup>2</sup>C esclave 7 bits</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> <strong>0</strong></p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>1</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=left> I<sup>2</sup>C esclave 10 bits</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> <strong>1</strong></p>
</blockquote>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>0</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>0</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>0</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=left> I<sup>2</sup>C maitre CLK =Fosj4(sspadd+1)</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
</TR>
</TABLE></DIV>

<blockquote>
<p Align=left> </p>
<p Align=left> I<strong> Registre SSPCON2 : </strong>registre de contr&ocirc;le
n&#176;2.</p>
<p Align=left> Au reset : SSPCON2 = 00000000</p>
<p Align=left> <strong>GCEN :</strong> Appel g&eacute;n&eacute;ral en mode I2C
esclave seulement.</p>
<p Align=left> 1 = Autorise IT quand une adresse appel g&eacute;n&eacute;ral
(h'0000) est re&ccedil;ue.</p>
<p Align=left>0 = Adresse appel g&eacute;n&eacute;ral
d&eacute;sactiv&eacute;e.</p>
<p Align=left> <strong>ACKSTAT :</strong> Bit d'ACK en mode I2C ma&icirc;tre
seulement.</p>
<p Align=left> 1 = Pas de ACK re&ccedil;u de l'esclave - 0 = ACK de l'esclave a
&eacute;t&eacute; re&ccedil;u.</p>
<p Align=left> <strong>ACKDT :</strong> ACK Data bit. En mode ma&icirc;tre et
r&eacute;ception : valeur qui sera transmise quand on va lancer une
s&eacute;quence de ACK en fin de r&eacute;ception.</p>
<p Align=left> 1 = NO ACK - 0 = ACK.</p>
<p Align=left> <strong>ACKEN:</strong> ACK Sequence Enable. En mode
ma&icirc;tre et r&eacute;ception, lance une s&eacute;quence d'ACK ou de NOACK
suivant la valeur dans ACKDT.</p>
<p Align=left> 1 = Lance la s&eacute;quence de ACK et transmet ACKDT. Remis
&agrave; "0" par hard. 0 = Pas de s&eacute;quence d'ACK.</p>
<p Align=left> <strong>RCEN :</strong> Receive Enable Bit. En mode I2C
ma&icirc;tre seulement.</p>
<p Align=left> 1 = Autorise mode r&eacute;ception- 0 = Pas de r&eacute;ception
autoris&eacute;e.</p>
<p Align=left> <strong>PEN :</strong> Stop Condition Enable. En mode I2C
ma&icirc;tre seulement.</p>
<p Align=left> 1 = Lance la s&eacute;quence de STOP sur SDA et SCL. Remis
&agrave; "0" par hard</p>
<p Align=left> 0= Pas de s&eacute;quence de STOP</p>
<p Align=left> <strong>RSEN :</strong> Repeated Start Condition. En mode I2C
ma&icirc;tre seulement.</p>
<p Align=left> 1 = S&eacute;quence de r&eacute;p&eacute;tition de START sur SDA
et SCL. Remis &agrave; "0" par hard. 0 = Pas de s&eacute;quence de
r&eacute;p&eacute;tition de START.</p>
<p Align=left> <strong>SEN </strong>= Start Condition Enable. En mode I2C
ma&icirc;tre seulement.</p>
<p Align=left> 1 = Lance la s&eacute;quence de START sur SDA et SCL. Remis
&agrave; "0" par hard. 0 = Pas de s&eacute;quence de START.</p>
<p Align=left> <strong>MODE MAITRE :</strong></p>
<p Align=left> Les pins SDA et SCL sont manipul&eacute;es par le Hard. Les
&eacute;v&eacute;nements qui causent le passage &agrave; "1" du flag S SPIF et
&eacute;ventuellement une si elles sont autoris&eacute;es, sont :</p>
<p Align=left> - Condition de START.- Condition de STOP.-
R&eacute;p&eacute;tition d'un START. - ACK apr&egrave;s un</p>
<p Align=left> transfert et Transfert d'octet en Emission ou r&eacute;ception.
(Le flag SSPIF doit &ecirc;tre remis &agrave; "0" par soft).</p>
<p Align=left> <strong>Lancement d'un START:</strong></p>
<p Align=left> L'utilisateur doit mettre le bit SEN "1". Les pins SDA et SCL
&eacute;tant toutes les deux &agrave; "1 ", le module fait passer la pin SDA de
"1" &agrave; "0" ce qui g&eacute;n&egrave;re une condition de START.</p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87771.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87772.png" alt=""></p>
<p Align=left>  </p>
<p Align=left> </p>
<p Align=left>Le bit S passe &agrave; "1" pour signaler le START. A la fin du
START, le bit SEN est remis &agrave; "0" par le hard. D&eacute;s que le flag
SSPIF passe &agrave; "1" pour signaler la fin du START, on peut charger le
registre de transmission SSBUF avec l'octet &agrave; transmettre. (Ne pas
oublier de remettre ce flag &agrave; "0"par le soft).</p>
<p Align=left> <strong>Transmission :</strong></p>
<p Align=left> D&eacute;s que le registre SSBUF est charg&eacute;, BF passe
&agrave; "1" pour signaler que la transmission est en cours. Au 8eme coup de
CLK, la transmission est termin&eacute;e et le BF repasse &agrave; "0".</p>
<p Align=left> <strong>Acquittement :</strong></p>
<p Align=left> Quand l'esclave r&eacute;pond l'ACK, le bit ACKSTAT passe
&agrave; "0". La fin de l'ACK est signal&eacute;e par le Flag SSPIF qui passe
&agrave; "1". On doit alors remettre ce flag &agrave; "0"par soft.
<strong>Lancement d'un STOP :</strong></p>
<p Align=left> L'utilisateur doit mettre PEN &agrave; "1 ". Le module fait
alors passer SDA &agrave; "0" puis force</p>
<p Align=left> SCL &agrave;"1 ". Quand SCL est &agrave; "1" il fait passer SDA
de "0" &agrave;"1 ", ce qui g&eacute;n&egrave;re une condition de STOP. P passe
&agrave; "1" pour signaler le STOP. A la fin du STOP, PEN est remis &agrave;
"0" par le hard.- Le flag SSPIF passe &agrave; "1" pour signaler la fin du
STOP.</p>
<p Align=left> <strong>R&eacute;ponse du ma&icirc;tre &agrave; l'esclave
:</strong></p>
<p Align=left> Il s'agit soit d'un ACK soit d'un NOACK :</p>
<p Align=left> Positionner le bit ACKDT en fonction de la r&eacute;ponse
&agrave; faire. Mettre le bit ACKEN &agrave; "1". La</p>
<p Align=left> fin de transmission du ACK ou du non ACK est signal&eacute; par
le flag SSPIF qui passe &agrave; "1". (Ne pas oublier de le remettre &agrave;
"0" par soft)</p>
<p Align=left> <strong>R&eacute;ception d'un octet par le ma&icirc;tre
:</strong></p>
<p Align=left> Pour cela il faut mettre le module en r&eacute;ception en
portant RCEN &agrave; "1 ". La fin de r&eacute;ception est signal&eacute;e par
le passage &agrave; "1" du flag SSPIF, que l'on remettra &agrave; "0" par soft.
On peut alors lire l'octet re&ccedil;u dans SSBUF.</p>
<p Align=left> <strong>9.<u> Port Parall&egrave;le Esclave (PSP : Parallel
Slave Port) : </u></strong></p>
<p Align=left> Le Port Parall&egrave;le Esclave est un port 8 bits permettant
d'interfacer le PIC avec, par exemple, un autre microprocesseur. Les
donn&eacute;es transitent via les lignes PSP0 &agrave; PSP7, qui</p>
<p Align=left> physiquement utilisent les m&ecirc;mes broches que le PORTD. Le
flux de donn&eacute;es est contr&ocirc;l&eacute; par les lignes RD, WR et CS
qui correspondent aux broches du PORTE.C'est le microprocesseur externe qui est
le chef d'orchestre : il valide le PIC par la ligne CS (Chip Select), et
indique au PIC s'il lit ou &eacute;crivent gr&acirc;ce aux lignes RD (Read) et
WR (Write). D'o&ugrave; l'appellation de port parall&egrave;le esclave.
Esclave, puisque c'est le microprocesseur externe qui donne les ordres, le PIC
ne fait qu'ex&eacute;cuter.</p>
<p Align=center> <strong><em><u>Figure I.19 : Sch&eacute;ma interne du module
PSP</u></em></strong></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87773.png" alt=""></p>
<p Align=left> </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87774.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87775.png" alt=""></p>
<p Align=center> </p>
<p Align=left> </p>
<p Align=center><strong><u>Registres associ&eacute;s avec le
PSP</u></strong></p>
</blockquote>

<blockquote>
<p Align=left></p>
</blockquote>

<DIV Align=center><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center> <strong>Nom</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit7</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit6</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit5</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit4</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit3</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit2</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=right> <strong>Bit0</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=8 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PORTD</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Verrou de donn&eacute;es gauches une fois &eacute;crit
: Goupilles gauches une fois lu</strong></p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PORTE</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>RE2</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>RE1</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=right> <strong>RE0</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> TRISE</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>IBF</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>OBF</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>IBOV</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>PSPMODE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>PORTE Data Direction Bits</strong></p>
</blockquote>
</TD>
<TD COLSPAN=4 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PIR1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>PSPIF</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>ADIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RCIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TXIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>SSPIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>CCP1IF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TMR2IF</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=right> TMR1IF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PIE1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>PSPIE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>ADIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RCIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TXIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>SSPIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>CCP1IE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TMR2IE</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=right> TMR1IE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> ADCON1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>ADFM</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>PCFG3</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>PCFG2</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>PCFG1</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=right> <strong>PCFG0</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
</TR>
</TABLE></DIV>

<blockquote>
<p Align=left> </p>
<p Align=left> <strong>PSPIE </strong>= Parallel Slave Port Interrup Enable
bit.</p>
<p Align=left> 1= Autorise les interruptions R/W du port SSP.- 0=
D&eacute;sactive toutes ces interruptions. <strong>PSPIF </strong>= Parallel
Slave Port Interrup Flag bit.</p>
<p Align=left> 1 = Une op&eacute;ration de R/W vient d'avoir lieu sur le port
SSP.</p>
<p Align=left>0 =Il n'y a pas eu de R/W sur le port SSP.</p>
<p Align=left> <strong>10.<u> Modules CCP1 et CCP2 : </u></strong></p>
<p Align=left> Ces deux modules sont identiques et compos&eacute;s chacun d'un
registre &agrave; 16 bits. Ils peuvent fonctionner dans l'un des trois modes
ci-dessous :</p>
<p Align=left> Mode capture (CAPTURE) : Ce mode permet d'effectuer des mesures
de temps.</p>
<p Align=left> Mode comparaison (COMPARE) : Ce mode permet de
g&eacute;n&eacute;rer des &eacute;v&eacute;nements p&eacute;riodiques.</p>
<p Align=left> Mode PWM (PULSE WITH MODULATION): Ce mode permet de
g&eacute;n&eacute;rer des signaux dont le rapport cyclique est variable.</p>
<p Align=left> Ces modules sont associ&eacute;s aux broches R/CCP1 et
RC1/T1OSI/CCP2.</p>
<p Align=left> Suivant le mode choisit, les Timer1 ou Timer2 vont &ecirc;tre
utilis&eacute;s. Le mode Capture et le mode Comparaison utilise le Timer 1,
tandis que le mode PWM utilise le Timer2.</p>
<p Align=center> <strong><em><u>Figure I.20 : Sch&eacute;ma interne du module
CCP</u></em></strong></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87776.png" alt=""></p>
<p Align=left> </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87777.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87778.png" alt=""></p>
<p Align=center> </p>
<p Align=left> </p>
<p Align=center><strong><u>Registres associ&eacute;s avec Le CCP1 et
CCP2</u></strong></p>
</blockquote>

<blockquote>
<p Align=left></p>
</blockquote>

<DIV Align=center><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center> <strong>Nom</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit7</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit6</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit5</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit4</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit3</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit2</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=right> <strong>Bit0</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=18 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> INTCON</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>GIE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>PEIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TOIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>INTE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RBIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TOIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>INTF</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=right> RBIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PIR1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>PSPIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>ADIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RCIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TXIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPIF</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>CCP1IF</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TMR2IF</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=right> TMR1IF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PIE1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>PSPIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>ADIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RCIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TXIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>SSPIE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>CCP1IE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TMR2IE</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=right> TMR1IE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PIR2</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>(2)</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>EEIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>BCLIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=right> <strong>CCP2IF</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PIE2</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>(2)</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>EEIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>BCLIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=right> <strong>CCP2IE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> TRISC</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Registre de Direction Du PORTC</strong></p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> T MR1L</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>En tenant l'inscription au moindre byte significatif du
TMR1 de 16 bit enregistr&eacute;s</strong></p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> TMR1H</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>En tenant l'inscription au byte le plus significatif du
TMR1 de 16 bits enregistr&eacute;</strong></p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> SSPSTAT</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>SMP</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>CKE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>D/A</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>P</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>S</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>R/W</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>UA</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=right> BF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> T1CON</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>T1CKPS1</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>T1CKPS0</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>T1OSCEN</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>T1SYNC</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TMR1CS</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=right> TMR1ON</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> CCPR1L</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Capture/Compare/PWM Register1 (LSB)</strong></p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> CCPR1H</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Capture/Compare/PWM Register1 (MSB)</strong></p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> CCP1CON</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>CCP1X</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>CCP1Y</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>CCP1M3</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>CCP1M2</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>CCP1M1</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=right> <strong>CCP1M0</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> CCPR2L</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Capture/Compare/PWM Register2 (LSB)</strong></p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> CCPR2H</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Capture/Compare/PWM Register2 (MSB)</strong></p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> <strong>CCP2CON</strong></p>
</blockquote>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>x</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>x</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>CCP2X</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>CCP2Y</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>CCP2M3</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>CCP2M2</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>CCP2M1</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=right> <strong>CCP2M0</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
</TR>
</TABLE></DIV>

<blockquote>
<p Align=left> </p>
<p Align=left> y'<strong> Registre CCP1CON :</strong></p>
<p Align=left> Au reset : CCP1CON = 00000000</p>
<p Align=left> <strong>CCP1X et CCP1Y :</strong> Bits non utilis&eacute;s en
modes Compare et Capture, ce sont les 2 bits LSB pour le Duty cycle en mode
PWM. Les 8 bits MSB sont dans le registre CCPR1L. <strong>CCP1M3 &agrave;
CCP1M0 :</strong> bits de s&eacute;lection du mode.</p>
<p Align=left> 0 0 0 0 = Module CCP stopp&eacute;.</p>
<p Align=left>0 1 0 0 = Mode Capture &agrave; chaque front descendant.</p>
<p Align=left> 0 1 0 1 = Mode Capture &agrave; chaque front montant.</p>
<p Align=left> 0 1 1 0 = Mode Capture tous les 4 fronts montants.</p>
<p Align=left>0 1 1 1 = Mode Capture tous les 16 fronts montants.</p>
<p Align=left> 1 0 0 0 = Mode Compare. Pin de sortie mise &agrave; "1" et Flag
CCP 1IF = 1 &agrave; l'&eacute;galit&eacute;. 1 0 0 1 = Mode Compare. Pin de
sortie mise &agrave; "0" et Flag CCP 1IF = 1 &agrave;
l'&eacute;galit&eacute;.</p>
<p Align=left> 1 0 1 0 = Mode Compare. G&eacute;n&eacute;ration d'une
Interruption et Flag CCP1IF = 1 &agrave; l'&eacute;galit&eacute;. 1 0 1 1 =
Mode Compare. Ev&eacute;nement sp&eacute;cial g&eacute;n&eacute;r&eacute; et
Flag CCP1IF = 1 &agrave; l'&eacute;galit&eacute;.</p>
<p Align=left> 1 1 x x = Mode PWM.</p>
<p Align=left> <strong>MODE COMPARE :</strong></p>
<p Align=left> Les deux modules CCP &eacute;tant identiques on ne
d&eacute;crira que le module 1. Les 16 bits des registres CCPR1 (CCPR1H et
CCPR1L) sont constamment compar&eacute;s avec le valeur sur 16 bits des
registres du Timer 1 (TMR1H et TMR1L). Quand il y a &eacute;galit&eacute;, la
broche pr&eacute;alablement programm&eacute;e en sortie P, passe soit &agrave;
"1" soit &agrave; "0" suivant la configuration des 4 bits CCP1M du registre
CCP1CON. Au m&ecirc;me instant le Flag CCP1IF est mis &agrave; "1".</p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87779.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87780.png" alt=""></p>
<p Align=left>  </p>
<p Align=left> </p>
<p Align=left>En mode Compare, les &eacute;v&eacute;nements sp&eacute;ciaux
g&eacute;n&eacute;r&eacute;s quand il y a &eacute;galit&eacute; sont: - Pour
CCP1: reset du Timer 1.</p>
<p Align=left> - Pour CCP2 : reset du Timer 1 et d&eacute;marrage d'une
conversion A/D.</p>
<p Align=left> Dans ce cas la broche de sortie n'est pas affect&eacute;e, mais
le Flag CCP 1IF est mis &agrave; " 1". Il est rappel&eacute; que ce Flag doit
&ecirc;tre remis &agrave; "0" par soft.</p>
<p Align=left> <strong>MODE CAPTURE :</strong></p>
<p Align=justify> Quand un &eacute;v&eacute;nement ext&eacute;rieur
appara&icirc;t sur la broche pr&eacute;alablement programm&eacute;e en
entr&eacute;e P, la valeur des 16 bit des registres du Timer 1 (TMR1L et TMR1H)
est recopi&eacute;e dans les registres CCPR1 (CCPRIH et CCPR1L). Cet
&eacute;v&eacute;nement est programmable par les 4 bits CCP1M du registre
CCP1CON. La capture peut avoir lieu &agrave; chaque front descendant, &agrave;
chaque front montant, tous les 4 ou tous les 16 fronts montants. Quand la
capture a eu lieu, le flag CCP1IF est mis &agrave; "1". Ce bit doit &ecirc;tre
remis &agrave; "0" par soft. Les fonctions de Capture et de Compare sur le
Timer 1 par les modules CCP1 et CCP2 peuvent g&eacute;n&eacute;rer une
interruption quand le Flag CCP1IF passe &agrave; "1" si le bit d'autorisation
CCP1IE du registre PIE1 est mis &agrave; "1".</p>
<p Align=left> <strong>MODE PWM :</strong></p>
<p Align=left> Un signal PWM est caract&eacute;ris&eacute; par une
p&eacute;riode, et un temps de travail ou le signal est &agrave; "1 ". Ce temps
est appel&eacute; DUTY CYCLE. La broche P doit &ecirc;tre configur&eacute;e
comme une sortie en mettant le bit 2 de TRISC &agrave; "0".</p>
<p Align=left> Le signal PWM est fabriqu&eacute; &agrave; partir du Timer 2. Le
signal interne Fosc/4 passe &agrave; travers le pr&eacute; diviseur
programmable par 1, 4 ou 16 et fait compter TMR2.Quand ce registre atteint la
valeur &eacute;crite dans le registre PR2, trois &eacute;v&eacute;nements se
produisent :</p>
<p Align=left> - RAZ du registre TMR2.</p>
<p Align=left>- La broche de sortie P est mise &agrave; "1 ", sauf si le Duty
cycle vaut 0.</p>
<p Align=left>- Chargement de la valeur du registre CCPR1L dans le registre de
Duty.</p>
<p Align=left> Quand le registre TMR2 atteint la valeur inscrite dans le
registre interne de Duty, c'est &agrave; dire la valeur qui avait
&eacute;t&eacute; inscrite dans CCPR1L, la broche de sortie P est remise
&agrave; "0". La p&eacute;riode est d&eacute;termin&eacute;e par la relation
suivante :</p>
<p Align=center> <em>T </em>= [<em>PR </em>+ 1]* 4 * <em>T </em>* valeur du
pr&eacute; diviseur</p>
<p Align=left> La dur&eacute;e du Duty cycle est la valeur &eacute;crite dans
le registre 8 bits : CCPR1 L. La dur&eacute;e du signal au niveau "1" est
donn&eacute;e par la relation :</p>
<p Align=left> <em>D </em>= [<em>CCPR</em>1<em>L</em>]* 4 * <em>T </em>* valeur
du pr&eacute; diviseur</p>
<p Align=left> On peut avoir une meilleure r &eacute;solution sur le Duty cycle
en utilisant les 2 bits de LSB r&eacute;serv&eacute;s &agrave; cet effet dans
le registre CCP1CON.</p>
<p Align=left> Il s'agit de CCP1X et CCP1Y. La r&eacute;solution est dans ce
cas divis&eacute;e par 4. Si on appelle X le registre sur 10 bits,
constitu&eacute; de ces 2 bits en LSB et des 8 bits de CCPR1L comme MSB, la
dur&eacute;e &agrave; "1" est donn&eacute;e par la relation :</p>
<p Align=left> <em>D </em>= <em>X </em>* <em>Tosc</em> * valeur du pr&eacute;
diviseur</p>
<p Align=left> Dans les 2 cas, quand on incr&eacute;mente le registre CCPR1L de
une unit&eacute;, le Duty cycle augmente d'une dur&eacute;e &eacute;gale
&agrave; : 4.Tosc.valeur du pr&eacute; diviseur.</p>
<p Align=left> Quand on passe &agrave; "1" le bit 5 la dur&eacute;e augmente de
2 x Tosc x pr&eacute; div.</p>
<p Align=left> Quand on passe &agrave; "1" le bit 4 de CCP1CON, la dur&eacute;e
augmente de Tosc.pr&eacute; div Si la dur&eacute;e du Duty cycle est
sup&eacute;rieure &agrave; la p&eacute;riode, le signal n'est pas remis
&agrave; "0".</p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87781.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87782.png" alt=""></p>
<p Align=left>  </p>
<p Align=left> </p>
<p Align=left><strong>11.<u> Timers : </u></strong></p>
<p Align=left> Le PIC 16F877 dispose de 3 timers :</p>
<p Align=left>&#183;  <strong>Timer 0 (8 bits)</strong>: Il peut &ecirc;tre
incr&eacute;ment&eacute; par des impulsions ext&eacute;rieures via la broche
(TOCKI/ RA4) ou par l'horloge interne (Fosc/4).</p>
<p Align=left>&#183;  <strong>Timer 1 (16 bits):</strong> Il peut &ecirc;tre
incr&eacute;ment&eacute; soit par l'horloge interne, ou soit par des impulsions
sur la broche T1CKI/RC0 ou par un oscillateur (RC ou quartz) connect&eacute;
sur les broches TOSO/RCO et T1OSI/RC1.</p>
<p Align=left>&#183;  <strong>Timer 2 (8 bits) :</strong> Il est
incr&eacute;ment&eacute; par l'horloge interne, celle peut &ecirc;tre
pr&eacute;divis&eacute;e. Tous ces timers peuvent d&eacute;clencher une
interruption interne, s'ils ont &eacute;t&eacute; autoris&eacute;s.</p>
<p Align=left> <strong>11.1 Timer0 :</strong></p>
<p Align=left> C'est le plus ancien des timers implant&eacute;s dans les PICs,
son ancienne appellation &eacute;tait</p>
<p Align=left> RTC, pour Real Time Clock (horloge temps r&eacute;elle). On peut
se servir de celui-ci pour g&eacute;n&eacute;rer des &eacute;v&eacute;nements
p&eacute;riodiques, comme le rafra&icirc;chissement d'afficheurs
multiplex&eacute;s ou l'incr&eacute;mentation de variables (secondes, minutes
...).</p>
<p Align=center> <strong><u>Registres associ&eacute;s avec Le
TMR0</u></strong></p>
</blockquote>

<blockquote>
<p Align=left></p>
</blockquote>

<DIV Align=center><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center> <strong>Nom</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit7</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit6</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit5</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit4</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit3</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit2</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Bit0</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=5 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> TMR0</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Registre compteur</strong></p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> INTCON</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>GIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>PEIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>T0IE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>INTE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RBIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>T0IF</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>INTF</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>RBIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> OPTION_REG</p>
</blockquote>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>RBPU</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>INTEDG</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>T0CS</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>T0SE</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>PSA</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>PS2</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>PS1</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>PS0</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
</TR>
</TABLE></DIV>

<blockquote>
<p Align=left> </p>
<p Align=justify> y'<strong> Registre OPTION :</strong> Au reset : OPTION =
11111111 <strong>TOCS:</strong> Timer TMR0 Clock Source select bit.</p>
<p Align=left> <strong>1</strong> = L'horloge du Timer est l'entr&eacute;e
PA4/Clk (pin 3).</p>
<p Align=left><strong>0</strong> = Le Timer utilise l'horloge interne du
PIC.</p>
<p Align=left> <strong>TOSE:</strong> Timer TMR0 Source Edge select bit.</p>
<p Align=left> <strong>1</strong> = Le Timer s'incr&eacute;mente &agrave;
chaque front montant de la broche PA4/Clk.</p>
<p Align=left><strong>0</strong> = Le Timer s'incr&eacute;mente &agrave; chaque
front descendant de la broche PA4/Clk.</p>
<p Align=left> <strong>PSA :</strong> Prescaler Assignement bit.</p>
<p Align=left> <strong>1</strong> = Le pr&eacute;diviseur est affect&eacute; au
watchdog. - <strong>0</strong> = Le pr&eacute;diviseur est affect&eacute; au
Timer</p>
<p Align=left> <strong>PS2 PS1 PS0:</strong> Prescaler Rate Select bits.</p>
</blockquote>

<blockquote>
<p Align=left></p>
</blockquote>

<DIV Align=left><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center> PS2</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>PS1</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>PS0</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>Pr&eacute;div Timer</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>Pr&eacute;div Watchdog</p>
</blockquote>
</TD>
<TD ROWSPAN=10 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> <strong>0</strong></p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>0</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>0</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>2</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> <strong>0</strong></p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>0</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>4</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>2</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> <strong>0</strong></p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>0</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>8</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>4</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> <strong>0</strong></p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>16</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>8</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> <strong>1</strong></p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>0</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>0</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>32</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>16</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> <strong>1</strong></p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>0</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>64</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>32</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> <strong>1</strong></p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>0</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>128</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>128</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> <strong>1</strong></p>
</blockquote>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>1</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>1</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>256</p>
</blockquote>
</TD>
<TD ROWSPAN=2 COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>256</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle><PRE> </PRE></TD>
</TR>
</TABLE></DIV>

<blockquote>
<p Align=left> </p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87783.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87784.png" alt=""></p>
<p Align=center> </p>
<p Align=left> </p>
<p Align=center><strong><em><u>Figure I.21 : Sch&eacute;ma interne
simplifi&eacute; du TMR0 sans le WA TCHDOG</u></em></strong></p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87785.png" alt=""></p>
<p Align=left> <strong>11.2 Le Timer1 :</strong></p>
<p Align=left> Le Timer1 fonctionne sur le m&ecirc;me principe que le
<strong>Timer0,</strong> mais avec un registre de</p>
<p Align=left> comptage plus gros : 16 bits au lieu de 8, ce qui &eacute;tend
notablement ces capacit&eacute;s de comptage. Il est accessible en
lecture/&eacute;criture par l'interm&eacute;diaire des registres 8 bits TMR1H
et TMR1L, On le configure &agrave; l'aide du registre T1CON. On peut l'utiliser
en association avec un des modules <strong>CCP</strong> (modules de capture et
de comparaison)</p>
<p Align=center> <strong><em><u>Figure I.22 : Sch&eacute;ma interne du
TMR1</u></em></strong></p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87786.png" alt=""></p>
<p Align=center> <strong><u>Registres associ&eacute;s avec Le TMR1
</u></strong></p>
</blockquote>

<blockquote>
<p Align=left></p>
</blockquote>

<DIV Align=center><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center> <strong>Nom</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit7</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit6</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit5</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit4</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit3</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit2</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit0</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=8 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> INTCON</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>GIE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>PEIE</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>T0IE</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>INTE</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>RBIE</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>T0IF</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>INTF</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>RBIF</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> PIR1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>PSPIF</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>ADIF</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>RCIF</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>TXIF</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>SSPIF</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>CCP1IF</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>TMR2IF</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>TMR1IF</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> PIE1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>PSPI</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>ADIE</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>RCIE</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>TXIE</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>SSPIE</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>CCP1IE</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>TMR2IE</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>TMR1IE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> TMR1L</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Registre compteur ( 8bits) poids faible</strong></p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> TMR1H</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=right> <strong>Registre compteur (8 bits) pois fort</strong></p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> T1CON</p>
</blockquote>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>T1CKPS1</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>T1CKPS0</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>T1OSCEN</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>T1SYNC</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>TMR1CS</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>TMR1ON</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle><PRE> </PRE></TD>
</TR>
</TABLE></DIV>

<blockquote>
<p Align=left> </p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87787.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87788.png" alt=""></p>
<p Align=left>  </p>
<p Align=left> </p>
<p Align=left>V'<strong> Le registre T1CON : </strong>S&eacute;lection du
pr&eacute; diviseur plac&eacute; avant le TIMER.</p>
<p Align=left> Au reset : T1CON = 00000000</p>
<p Align=left> <strong>T1CKPS1 T1CKPS0 : </strong>Bits S&eacute;lection du
pr&eacute; diviseur plac&eacute; avant le TIMER.</p>
<p Align=center> 00 = Pr&eacute;diviseur 1.<br>01 = Pr&eacute;diviseur 2.</p>
<p Align=center> 10 = Pr&eacute;diviseur 4.</p>
<p Align=center> 11 = Pr&eacute;diviseur 8.</p>
<p Align=left> <strong>T1OSCEN :</strong> Bit d'autorisation de l'oscillateur
du Timer 1.</p>
<p Align=left> 1 = oscillateur autoris&eacute; -0 = oscillateur
stopp&eacute;.</p>
<p Align=left> <strong>T1SYNC :</strong> Bit de contr&ocirc;le de la
synchronisation du CLK externe.</p>
<p Align=left> 1 = Pas de synchronisation de l'horloge externe. 0 =
Synchronisation de l'horloge</p>
<p Align=left> externe.</p>
<p Align=left> <strong>TMR1CS :</strong> Bit de s&eacute;lection de la source
horloge.</p>
<p Align=center> 1 = Mode Compteur: Clk externe sur la broche PC0 ou Quartz
entre PC0 et PC 1</p>
<p Align=left> 0 = Mode Timer: Clk interne = Fosc/4.</p>
<p Align=left> <strong>TMR1ON :</strong> Bit d'autorisation du Timer 1.</p>
<p Align=left> 1= Timer 1 en service. -0 = Timer 1 stopp&eacute;.</p>
<p Align=left> <strong>11.3 Le TIMER2 :</strong></p>
<p Align=left> Le Timer2 a un fonctionnement diff&eacute;rent des Timer0 et
Timer 1. C'est un compteur 8 bits avec pr&eacute;diviseur et postdiviseur. Son
horloge ne peut &ecirc;tre que l'horloge interne divis&eacute;e</p>
<p Align=left> par 4 (Fosc/4).On s'en sert pour g&eacute;n&eacute;rer des
signaux carr&eacute;s, ou, en association avec le module CCP, des signaux
PWM.</p>
<p Align=center> <strong><em><u>Figure I.23 : Sch&eacute;ma du
TMR2</u></em></strong></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87789.png" alt=""></p>
<p Align=center> <strong><u>Registres associ&eacute;s avec Le Timer2
</u></strong></p>
</blockquote>

<blockquote>
<p Align=left></p>
</blockquote>

<DIV Align=center><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center> <strong>Nom</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit7</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit6</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit5</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit4</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit3</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit2</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Bit0</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=7 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> INTCON</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>GIE</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>PEIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>T0IE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>INTE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RBIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>T0IF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>INTF</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>RBIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PIR1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>PSPIF</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>ADIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RCIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TXIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>SSPIF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>CCP 1IF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>TMR2IF</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>TMR1IF</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> PIE1</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>PSPI</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>ADIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>RCIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>TXIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>SSPIE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center>CCP1IE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>TMR2IE</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center>TMR1IE</p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> TMR2</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>Registre compteur</strong></p>
</blockquote>
</TD>
<TD COLSPAN=9 Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=center> T2CON</p>
</blockquote>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>x</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>TOUTPS3</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>TOUTPS2</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>TOUTPS1</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>TOUTPS0</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>TMR2ON</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>T2CKPS1</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>T2CKPS0</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle><PRE> </PRE></TD>
</TR>
</TABLE></DIV>

<blockquote>
<p Align=left> </p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87790.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87791.png" alt=""></p>
<p Align=left>  </p>
<p Align=left> </p>
<p Align=left>V'<strong> Registre T2CON :</strong></p>
<p Align=left> <strong>TOUTPS :</strong> Programmation du Post diviseur.</p>
<p Align=justify> 0 0 0 0 = post divise par 1.<strong> </strong>0 0 0 1 = post
divise par 2. 0 0 1 0 = post divise par 3. . . . .</p>
<p Align=left> 1 1 1 1 = post divise par 16.</p>
<p Align=left> <strong>TMR2ON :</strong> mise en service du Timer 2.</p>
<p Align=left> 1= Timer 2 On.6- 0= Timer 2 Off.</p>
<p Align=left> <strong>T2CKPS :</strong> Programmation du pr&eacute;
diviseur.</p>
<p Align=center> 0 0= pr&eacute; divise par 1.<br>0 1= pr&eacute; divise par
4.<br>X= pr&eacute; divise par 16.</p>
<p Align=left> <strong>TMR2IE :</strong> TMR2 Interrup Enable bit.</p>
<p Align=left> 1= Autorise les interruptions du Timer 2 TMR2. - 0 =
D&eacute;sactive cette interruption.</p>
<p Align=left> <strong>TMR2IF:</strong> TMR2 Interrup Flag bit.</p>
<p Align=left> 1 = Le Timer2 a fait une IT. - 0 = Pas d'IT du TIMER 2.</p>
<p Align=left> <strong>12.<u> Les interruptions : </u></strong></p>
<p Align=left> Le microcontr&ocirc;leur dispose de 14 sources d'interruptions
:</p>
<p Align=left>&#183;  Une interruption externe, action sur la broche
INT/RB0.</p>
<p Align=left>&#183;  D&eacute;bordement du Timer0.</p>
<p Align=left>&#183;  Changement d'&eacute;tat logique sur une des broches du
PORTB (RB4 &agrave; RB7).</p>
<p Align=left>&#183;  Fin de programmation d'une case m&eacute;moire de
l'EEPROM.</p>
<p Align=left>&#183;  Changement d'&eacute;tat sur le PORTD</p>
<p Align=left>&#183;  Fin de conversion analogique num&eacute;rique</p>
<p Align=left>&#183;  R&eacute;ception d'une information sur la liaison
s&eacute;rie</p>
<p Align=left>&#183;  Fin d'&eacute;mission d'une information sur la liaison
s&eacute;rie</p>
<p Align=left>&#183;  Interruption SPI ou I2C du module MSSP</p>
<p Align=left>&#183;  interruption du registre de capture et/ou de comparaison
1</p>
<p Align=left>&#183;  Interruption du registre de capture et/ou de comparaison
2</p>
<p Align=left>&#183;  D&eacute;bordement du Timer 1</p>
<p Align=left>&#183;  D&eacute;bordement du Timer2</p>
<p Align=center> Une demande d'interruption ne peut aboutir au processeur que
si tous les bits d'autorisation</p>
<p Align=left> qui se trouvent sur son chemin sont activ&eacute;s.</p>
<p Align=left>  </p>
</blockquote>

<blockquote>
<p Align=left></p>
</blockquote>

<DIV Align=left><TABLE BORDER=2 CELLPADDING=2><TR>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center> Ex&eacute;cution<br>En cours</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=left> Save PC<br>0 GIE</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=left> Execution retour</p>
<p Align=left> SPI</p>
</blockquote>
</TD>
<TD ROWSPAN=2 COLSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center> Reprise ex&eacute;cution<br>Suspendue</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
</TR>
</TABLE></DIV>

<blockquote>
<p Align=left> </p>
<p Align=left> V'<strong><em><u> Fonctionnement : </u></em></strong></p>
<p Align=left> - Le proceseur est en cour d'ex&eacute;cution (un programme ou
un sous programme). - Un evenemment=&gt; arrive FLAG mis &agrave; 1
=&gt;demmande d'intruption :</p>
<p Align=left> Si les bits d'otorisation sont valid&eacute;es le processeur
r&eacute;pond.</p>
<p Align=left> - Le processeur sauvegarde le PC dans la pile et mis &agrave; 0
le bit de contr&ocirc;le GIE .ce ci &agrave; fin d'&eacute;viter que le CPU ait
&eacute;ventuellement int&eacute;rempu pendant l'&eacute;x&eacute;cution du
SPI.</p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87795.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87796.png" alt=""></p>
<p Align=left>  </p>
<p Align=left>- Le processeur se branche vers la routine SPI et
l'&eacute;x&eacute;cute ,cette rroutine doit &eacute;tre &agrave; l'adress
<strong>0x0004</strong>.</p>
<p Align=left>- Le SPI se termine par l'instruction de retour,
l'ex&eacute;cution de cette instruction consiste &agrave; remettre &agrave; 1
le bit GIE puis &agrave; r&eacute;cup&eacute;rer et m&egrave;tre dans le PC
l'adresse de retour.</p>
<p Align=left> - Le processeur reprend l'ex&eacute;cution suspendue.</p>
<p Align=left> - On peut sch&eacute;matiser les interruptions sur les PIC par
l'organigramme suivant :</p>
<p Align=left>   </p>
<p Align=left> </p>
<p Align=left> </p>
<p Align=center> Instruction<br>quelleconque</p>
<p Align=center> Sauvegarder<br>l'&eacute;v&eacute;nement</p>
<p Align=left> Ev&eacute;nement d&eacute;clencheur</p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87797.png" alt=""></p>
<p Align=center> Instruction xxx<br>(1/2cycle)</p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87798.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F87799.png" alt=""></p>
<p Align=center> D&eacute;tecter quel<br>&eacute;v&eacute;nement
est<br>survenu</p>
<p Align=center> <strong>Organigramme<br>principal</strong></p>
<p Align=center> <strong>Sous programme<br>d'interruption</strong></p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877100.png" alt=""></p>
<p Align=center> Programme<br>principal</p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877101.png" alt=""></p>
<p Align=center> Sous programme<br>d'interruption</p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877102.png" alt=""></p>
<p Align=left> Traiter l'&eacute;v&eacute;nement</p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877103.png" alt=""></p>
<p Align=center> Restaurer<br>l'&eacute;v&eacute;nement</p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877104.png" alt=""></p>
<p Align=left> Return</p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877105.png" alt=""></p>
<p Align=center> Instruction suivante</p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877106.png" alt=""></p>
<p Align=left> Suite de Programme</p>
<p Align=left>  </p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877107.png" alt=""></p>
<p Align=left> &Eacute;v&eacute;nement</p>
<p Align=left> <strong>Impl&eacute;mentation d'une fonction sous interruption
:</strong></p>
<p Align=left> SPI</p>
<p Align=left> Autorisation D'interruption</p>
<p Align=center> <strong>Sous programme<br>d'interruption</strong></p>
<p Align=center> Programme<br>principal</p>
<p Align=center> Initialisation<br>principale</p>
<p Align=center> Boucle principale<br>BP</p>
<p Align=center> Sauvegarde<br>contexte</p>
<p Align=center> RAZ flag</p>
<p Align=center> Traitement</p>
<p Align=right> Restitution contexte</p>
<p Align=left>Return</p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877108.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877109.png" alt=""></p>
<p Align=left>  </p>
<p Align=left><strong>Cas de plusieurs sources d'interruption:</strong></p>
<p Align=center> </p>
<p Align=left> </p>
<p Align=right> Restitution contexte</p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877110.png" alt=""></p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877111.png" alt=""></p>
<p Align=left> Return</p>
<p Align=left> RAZ flag</p>
<p Align=left> RAZ flag</p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877112.png" alt=""></p>
<p Align=left> SPI</p>
<p Align=center> Sauvegarde<br>contexte</p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877113.png" alt=""></p>
<p Align=left> FLAG=1</p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877114.png" alt=""></p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877115.png" alt=""></p>
<p Align=left> FLAG=1</p>
<p Align=left> Traitement 1</p>
<p Align=left> Traitement 1</p>
<p Align=center><strong><em><u>Figure I.24 : Sch&eacute;ma interne des
interruptions</u></em></strong></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877116.png" alt=""></p>
<p Align=left> </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877117.png" alt=""></p>
</blockquote>

<blockquote>
<p Align=left></p>
</blockquote>

<DIV Align=left><TABLE BORDER=2 CELLPADDING=2><TR>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center> </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877118.png" alt=""></p>
<p Align=center>rtie Pratiq</p>
</blockquote>
</TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=center> Applications du PIC 16F8</p>
</blockquote>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 COLSPAN=4 Align=left Valign=middle><PRE> </PRE></TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
</TR>
</TABLE></DIV>

<blockquote>
<p Align=left>   </p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877121.png" alt=""></p>
<p Align=left> <strong><em>:</em></strong></p>
<p Align=left> <strong><em>Pr&eacute;sentation de la Carte
EASYPI</em></strong></p>
<p Align=justify> Ce starter-kit "EASYPI" est sp&eacute;cialement con&ccedil;u
pour supporter les microcontr&ocirc;leurs 18, 28 et 40 broches de la famille
<strong>PIC 16F87x</strong>. Une nouvelle version existe avec
<strong>programmateur USB int&eacute;gr&eacute;</strong>.</p>
<p Align=left> Le starter-kit "EASYPIC " permet ainsi de tester,
d'&eacute;tudier et de communiquer avec la plupart des
p&eacute;riph&eacute;riques qui peuvent &ecirc;tre rencontrer dans les
applications industrielles:</p>
<p Align=left>&#183;  Afficheurs LCD ou 7 segments.</p>
<p Align=left>&#183;  Claviers de saisie.</p>
<p Align=left>&#183;  Affichage par Led.</p>
<p Align=left>&#183;  communication s&eacute;rie.</p>
<p Align=left>&#183;  Mesure et contr&ocirc;le de temp&eacute;rature.</p>
<p Align=left>&#183;  Conversion analogique / num&eacute;rique.</p>
</blockquote>

<p Align=left><strong>L'alimentation externe du PIC :</strong></p>
<p Align=justify>Il est exig&eacute; pour tous les &eacute;l&eacute;ments dans
le syst&egrave;me de d&eacute;veloppement d'avoir +5V stabilis&eacute;. Le
syst&egrave;me EasyPI utilise le r&eacute;gulateur de tension LM7805. En outre,
l'alimentation d'&eacute;nergie d'USB peut &ecirc;tre utilis&eacute;e qui
permet &agrave; EasyPI de fonctionner sans alimentation d'&eacute;nergie
externe.</p>
<p Align=left><strong><em><u>Figure II.1 : Sch&eacute;ma interne de
l'alimentation</u></em></strong></p>
<p Align=left>38</p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877122.png" alt=""></p>
<p Align=left><strong><em><u>Figure II.2 : Photo de la carte EASY
PI</u></em></strong></p>
<p Align=left><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877123.png" alt=""></p>
<p Align=left>Dans la partie pratique on a &eacute;tudi&eacute; les
diff&eacute;rentes interfaces du pic 1 6F877 telle que : le port
parall&egrave;le, le port s&eacute;rie, le convertisseur ...</p>
<p Align=left>Dans chaque interface on a cit&eacute; plusieurs exemples
d'applications avec leurs sch&eacute;mas et leurs organigrammes.</p>
<p Align=left>Mais par manque de temps on n'a pas pu utiliser d'autres
interfaces telles que le port parall&egrave;le slave, Module MSSP, I2C, Module
de comparaison CCP1 et CCP2....</p>
<p Align=left><strong>La directive CONFIG :</strong></p>
<p Align=justify>Cette directive contient les fameux &#171; fusibles &#187; qui
fixent le fonctionnement du PIC. Les valeurs &eacute;crites seront
int&eacute;gr&eacute;es dans le fichier &#171; .hex &#187; pour signaler au
programmateur les valeurs &agrave; encoder aux adresses sp&eacute;cifiques du
PIC.</p>
<p Align=left>Cette directive est programm&eacute;e lors de la programmation du
PIC dans un registre</p>
<p Align=left>sp&eacute;cial, situ&eacute; en m&eacute;moire programme &agrave;
l'adresse 0x2007, et ne peut plus &ecirc;tre modifi&eacute; en cours
d'ex&eacute;cution du programme.</p>
<p Align=left>Cette directive est un registre de 14 bits dont chaque bit a une
fonction pr&eacute;cise :</p>
<p Align=left><strong>- CP1/CP0 :</strong> bits 13/12 - 5/4 : D&eacute;termine
quelle zone du PIC sera prot&eacute;g&eacute;e contre la lecture. -<strong>
DEBUG :</strong> bit 11 : Debuggage sur circuit. Permet de r&eacute;server RB7
et RB6 &agrave; la</p>
<p Align=left>communication avec un debugger.</p>
<p Align=left>-<strong> Bit 10 :</strong> non impl&eacute;ment&eacute;.</p>
<p Align=left>-<strong> WRT :</strong> bit 9 : Autorisation d'&eacute;criture
en flash.</p>
<p Align=left>-<strong> CPD :</strong> bit 8 : Protection en lecture de la
m&eacute;moire eeprom.</p>
<p Align=left>-<strong> LVP :</strong> bit 7 : Utilisation de la pin RB3/PGM
comme broche de programmation.</p>
<p Align=left>-<strong> BODE N :</strong> bit 6 : provoque le reset du PIC en
cas de chute de tension (surveillance de la tension d'alimentation).</p>
<p Align=left>-<strong> PWRTE :</strong> bit 3 : D&eacute;lai de
d&eacute;marrage &agrave; la mise en service. Attention, est automatiquement
mis en service si le bit BODEN est positionn&eacute;.</p>
<p Align=left>-<strong> WDTE :</strong> bit 2 : Watchdog timer.</p>
<p Align=left>-<strong> FOSC1/FOSC0 :</strong> bits 1/0 : s&eacute;lection du
type d'oscillateur.</p>
<p Align=justify>Dans nos application on utilis&eacute;s la configuration
suivante : pragma config | = 0x 3a71,
<strong><u>C'est-&agrave;-dire:</u></strong> CP1/CP0= OFF, WDT= OFF, PWRTE=ON,
BODEN= ON, LVP= OFF, CPD=OFF, WRT=OFF, DEBUD= OFF, FOSC1/FO=XT.</p>
<p Align=left>Les valeurs donn&eacute;es sont d&eacute;finies dans le fichier 1
6f877.inc qui repr&eacute;sente les &eacute;quivalences pour le PIC.</p>


<h3 class="core">
<A NAME="toc14"></A>I. Ports Parall&egrave;les : </h3>


<h3 class="core">
<A NAME="toc15"></A>1. Utilisation des LEDs : </h3>

<p Align=left>Le kit "EASYPI" a 32 diodes, reli&eacute;es pour mettre en
communication les pins du PORTA, PORTB, PORT C, PORTD et le PORTE.</p>
<p Align=left>Ces diodes sont d'habitude utilis&eacute;es dans la
premi&egrave;re phase du travail, mais elles sont &eacute;galement
employ&eacute;es pour les indications post&eacute;rieures de
l'&eacute;coulement de programme.</p>
<p Align=left>Chaque ensemble des diodes peut &ecirc;tre activ&eacute; ou
d&eacute;sactiv&eacute; en utilisant le commutateur SW3. La mani&egrave;re de
relier ces LEDS avec un microcontr&ocirc;leur est montr&eacute;e sur la figure
I.3.</p>
<p Align=left>Les LEDS s'allument avec un "1" logique. Il signifie qu'un
microcontr&ocirc;leur doit avoir un "1" logique sur <strong>une</strong> pin
pour que la diode &eacute;mette la lumi&egrave;re.</p>
<p Align=left><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877124.png" alt=""></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877125.png" alt=""></p>
<p Align=left><strong><em><u>Figure II.3 : Montage des leds avec le
PIC</u></em></strong></p>
<p Align=left>41</p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877126.png" alt=""></p>
<p Align=left>P B0</p>
<p Align=left>PIC</p>
<p Align=left>16 F8 77</p>
<p Align=left>PD0</p>
<p Align=left><strong><em>1.1<u> Clignotement d'une led :</u></em></strong></p>
<p Align=left><strong>Principe :</strong></p>
<p Align=left>- Faire clignoter une led du PORTB chaque seconde.</p>
<p Align=left>- Varier la vitesse du clignotement (chaque 500ms &agrave; l'aide
du registre timer0) &agrave; l'aide d'un bouton du PORTD.</p>
<p Align=left>- Fonction Timer0 :</p>
<p Align=left>Configuration du registre option pour un pr&eacute; diviseur de
8.</p>
<p Align=left>On charge la valeur du timer &agrave; 2.</p>
<p Align=left>La variable T s'incr&eacute;mente &agrave; 125 pour obtenir
1000us quand le pr&eacute; diviseur est 8. Incr&eacute;mentation de T tan
qu'elle est diff&eacute;rente de TMR0.</p>
<p Align=left><strong>Sch&eacute;ma d'application :</strong></p>
<p Align=left><strong>Organigramme principal</strong></p>
<p Align=center>RB0 = 0</p>
<p Align=center>x = 1000</p>
<p Align=left>oui</p>
<p Align=left>T = T + 125</p>
<p Align=left>TMR0 ? T</p>
<p Align=left>retour</p>
<p Align=left>?</p>
<p Align=left>non</p>
<p Align=left>non</p>
<p Align=left>x= x-1</p>
<p Align=left>x ? 0</p>
<p Align=left>oui</p>
<p Align=left>non</p>
<p Align=left>tempo(x)</p>
<p Align=left>tempo(x)</p>
<p Align=left>RB0 = 1</p>
<p Align=left>RD0=1</p>
<p Align=left>?</p>
<p Align=left>oui</p>
<p Align=left>x = 300</p>
<p Align=center>PB = 0</p>
<p Align=center>PA =0</p>
<p Align=center><strong>Sous Organigramme de<br>temporisation</strong></p>
<p Align=left>D&eacute;but</p>
<p Align=left>Configuration de timer0 Charger TMR0, T=0</p>
<p Align=left><strong>Organigramme :</strong></p>
<p Align=center>Configuration de la ligne<br>RB0 en sortie, PA en
entr&eacute;e</p>
<p Align=left>D&eacute;but</p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877127.png" alt=""></p>
<p Align=center>i = i + 1</p>
<p Align=left><strong><u>Remarque : </u></strong></p>
<p Align=left>On repr&eacute;sente le meme organigramme pour le port C et le
port D.</p>
<p Align=left><strong><em>1.2<u> Chenillard :</u></em></strong></p>
<p Align=left><strong>Principe :</strong></p>
<p Align=left>- Faire tourner un jeu lumi&egrave;re en utilisant les ports B, C
et D du pic. - Utilisation de la fonction tempo &agrave; l'aide du timer0.</p>
<p Align=left><strong>Organigramme :</strong></p>
<p Align=left>- Le tableau PIN [8] de 8 &eacute;l&eacute;ments contient le Code
d'affichage des leds = {0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80}</p>
<p Align=left><strong>Organigramme principal</strong></p>
<p Align=left>D&eacute;but</p>
<p Align=center>Configuration des ports B, C<br>et D en sortie</p>
<p Align=center>PB = 0 PC = 0 PD = 0 PE =0<br>x= 120</p>
<p Align=center>i = 0</p>
<p Align=left>oui</p>
<p Align=center>PB = PIN[i]</p>
<p Align=left>tempo(x)</p>
<p Align=left>non</p>
<p Align=center>?</p>
<p Align=center>i&lt;=7</p>
<p Align=left><strong><em>1.3<u> Compteur 0-9 des leds:</u></em></strong></p>
<p Align=left><strong>Principe :</strong></p>
<p Align=left>- On ajouter une autre application concernant les leds qui
affiche un compteur allant de 0 jusqu'&agrave; 9 &agrave; chaque seconde.</p>
<p Align=left>- On n'a pas pu repr&eacute;senter son organigramme a cause de sa
longueur.</p>
<p Align=left>- Voici un sch&eacute;ma qui explique le principe de
fonctionnement de cette application.</p>
<p Align=left>43</p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877128.png" alt=""></p>
<p Align=justify>PA0-5 PB0-7 PC0-7 PD0-7</p>
<p Align=left>PIC</p>
<p Align=left>16F87</p>
<p Align=left><strong>Sch&eacute;ma de l'application :</strong></p>
<p Align=left><strong>2.<u> Utilisation avec les afficheurs 7 segment :
</u></strong></p>
<p Align=justify>L'affichage des 7segments se compose de quatre digits qui sont
r&eacute;g&eacute;n&eacute;r&eacute;s par le PORTB en combinaison avec le
PORTA. L'interrupteur &agrave; positions multiples SW2, permet d'activer ou
d&eacute;sactiver les digits sp&eacute;cifiques. Par exemple, pour afficher le
premier chiffre du c&ocirc;t&eacute; gauche. Le quatri&egrave;me commutateur
(SW2) doit &ecirc;tre mis a l'&eacute;tat (ON), le digit du 7segment
correspondant DISC1 affichera la valeur d&eacute;finie par des valeurs des pins
du PORTB.</p>
<p Align=left>La proc&eacute;dure est similaire avec les digits DIS, DISC3 et
DISC4. La figure suivante montre comment relier l'afficheur sept-segment au
microcontr&ocirc;leur.</p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877129.png" alt=""></p>
<p Align=left><strong><em><u>Figure II.4 : Montage des afficheurs 7segments
avec le PIC</u></em></strong></p>
<p Align=left><strong><em>2.1<u> Compteur 0 - 9 des afficheurs
:</u></em></strong></p>
<p Align=left><strong>Principe :</strong></p>
<p Align=left>- Un compteur de 10 secondes qui va de 0 jusqu'&agrave; 9.</p>
<p Align=left>- Utilisation d'une fonction de temporisation &agrave; l'aide de
timer0.</p>
<p Align=right>- Le tableau suivant explique le principe de codage BCD 7
segments.</p>
<p Align=left>45</p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877130.png" alt=""></p>
<p Align=left>PB0</p>
<p Align=left>PB1</p>
<p Align=left>PB2</p>
<p Align=left>PB3</p>
<p Align=left>PB4</p>
<p Align=left>PB5</p>
<p Align=left>PB6</p>
<p Align=left>PB7</p>
<p Align=left>PIC</p>
<p Align=left>16 F8 77</p>

<p Align=left><strong></strong></p>

<DIV Align=left><TABLE BORDER=2 CELLPADDING=2><TR>
<TD ROWSPAN=4 Align=left Valign=top>
<p Align=center>Chiffre7<br>Segments</p>
</TD>
<TD ROWSPAN=4 Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=4 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=4 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=3 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=4 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=4 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=4 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=4 Align=left Valign=top><PRE> </PRE></TD>
</TR>
<TR>
<TD Align=left Valign=top><PRE> </PRE></TD>
</TR>
<TR>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
</TR>
<TR>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
</TR>
<TR>
<TD Align=left Valign=top>
<p Align=center>Code binaire<br>a b c d e f g</p>
</TD>
<TD Align=left Valign=middle>
<p Align=center>00111111</p>
</TD>
<TD Align=left Valign=middle>
<p Align=center>00000110</p>
</TD>
<TD Align=left Valign=middle>
<p Align=center>01011011</p>
</TD>
<TD Align=left Valign=middle>
<p Align=center>01001111</p>
</TD>
<TD Align=left Valign=middle>
<p Align=center>01100110</p>
</TD>
<TD Align=left Valign=middle>
<p Align=center>01101101</p>
</TD>
<TD Align=left Valign=middle>
<p Align=center>01111101</p>
</TD>
<TD Align=left Valign=middle>
<p Align=center>00000111</p>
</TD>
<TD Align=left Valign=middle>
<p Align=center>01111111</p>
</TD>
<TD Align=left Valign=middle>
<p Align=center>01101111</p>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>Code<br>Hexad&eacute;cimal</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<p Align=center>0x3F</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<p Align=center>0x06</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<p Align=center>0x5B</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<p Align=center>0x4F</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<p Align=center>0x66</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<p Align=center>0x6D</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<p Align=center>0x7D</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<p Align=center>0x07</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<p Align=center>0x7F</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<p Align=center>0x6F</p>
</TD>
</TR>
</TABLE></DIV>

<p Align=left><strong>Sch&eacute;ma de l'application :</strong></p>
<p Align=left>g</p>
<p Align=left>f</p>
<p Align=left>d</p>
<p Align=left>a</p>
<p Align=left>h</p>
<p Align=left><u>dp</u></p>
<p Align=left>c</p>
<p Align=left>b</p>
<p Align=right><u>a </u></p>
<p Align=right><u>b</u></p>
<p Align=right><u>c </u></p>
<p Align=right><u>d</u></p>
<p Align=right><u>e </u></p>
<p Align=right><u>f </u></p>
<p Align=right><u>g </u></p>
<p Align=right>h</p>
<p Align=left><strong>Organigramme :</strong></p>
<p Align=left>- PIN [10]: tableau &agrave; 10 &eacute;l&eacute;ments contient
code d'affichage 7 segments.</p>
<p Align=left>D&eacute;but</p>
<p Align=center>Configuration des ports<br>A et B en sortie</p>
<p Align=center>PB = 0 PA = 0</p>
<p Align=center>x = 1000</p>
<p Align=left>non</p>
<p Align=left>i = 0</p>
<p Align=center>?</p>
<p Align=center>i&lt;=9</p>
<p Align=left><strong><em>2.2<u> Compteur 0 - 99 :</u></em></strong></p>
<p Align=left>oui</p>
<p Align=center>PA3 = 1</p>
<p Align=center>PB = PIN[i]</p>
<p Align=center>tempo(x)</p>
<p Align=center>i = i + 1</p>
<p Align=left><strong>Principe :</strong></p>
<p Align=left>- Faire un chronom&egrave;tre de 100 secondes qui va de 0
jusqu'&agrave; 99.<strong><em> </em></strong>- Utilisation de fonction tempo
qui utilise le timer0.</p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877131.png" alt=""></p>
<p Align=center>i = i + 1</p>
<p Align=center>PA3 = 1</p>
<p Align=left><strong>Organigramme :</strong></p>
<p Align=left>AFS [10] : tableau &agrave; 10 &eacute;l&eacute;ments contient
code d'affichage 7 segments.</p>
<p Align=left>D&eacute;but</p>
<p Align=center>Configuration des ports<br>A et B en sortie</p>
<p Align=center>PB = 0 PA = 0<br>AFS [10] x = 5</p>
<p Align=left>non</p>
<p Align=left>i = 0</p>
<p Align=center>?</p>
<p Align=center>i&lt;=9</p>
<p Align=left>oui</p>
<p Align=left><u>oui non</u></p>
<p Align=center>j&lt;=9</p>
<p Align=left>?</p>
<p Align=center>PB = AFS[j]</p>
<p Align=left>tempo(x)</p>
<p Align=center>PA2 = 1</p>
<p Align=center>PB = AFS[i]</p>
<p Align=left>tempo(x)</p>
<p Align=center>j = j + 1</p>
<p Align=left><strong><u>Remarque : </u></strong></p>
<p Align=left>Ce compteur doit compter de 0 jusqu'&agrave; 9999 mais on a
repr&eacute;senter que l'organigramme des deux digits du poids faible a cause
de la longueur du programme.</p>
<p Align=left>47</p>
<p Align=center>j = 0</p>
<p Align=left><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877132.png" alt=""></p>
<p Align=left><strong>3.<u> Utilisation avec le clavier : </u></strong></p>
<p Align=justify>Le kit EASYPI a un bouton de remise &agrave; z&eacute;ro
"RESET" et 32 boutons pour simuler les entr&eacute;es de syst&egrave;me qui
sont reli&eacute;es aux pins RE0, RE1 et aux ports A, B, C, et D. Le
branchement des boutons avec le microcontr&ocirc;leur est montr&eacute; dans la
figure suivante :</p>
<p Align=center><strong><em><u>Figure II.5 : Montage du clavier avec le
PIC</u></em></strong></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877133.png" alt=""></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877134.png" alt=""></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877135.png" alt=""></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877136.png" alt=""></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877137.png" alt=""></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877138.png" alt=""></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877139.png" alt=""></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877140.png" alt=""></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877141.png" alt=""></p>
<p Align=left><strong><em>3.1<u> Allumage d'une led &agrave; l'aide d'une
touche : </u></em></strong></p>
<p Align=left><strong>Principe :</strong></p>
<p Align=left>- V&eacute;rification du fonctionnement d'une touche du clavier
en utilisant les leds.<strong><em> </em></strong>- Le montage suivant explique
cette application.</p>
<p Align=left><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877142.png" alt=""></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877143.png" alt=""></p>
<p Align=left><strong>Sch&eacute;ma de l'application :</strong></p>
<p Align=left><strong>Organigramme :</strong></p>
<p Align=left>D&eacute;but</p>
<p Align=center>Configuration des ports<br>PB en sortie, PD en</p>
<p Align=center>PB = 0 PD = 0</p>
<p Align=left>non</p>
<p Align=left>?</p>
<p Align=left>PB0=1</p>
<p Align=left>PB0=0</p>
<p Align=left>RD0=0 oui</p>
<p Align=left><strong><em>3.2<u> Allumage des leds &agrave; l'aide de chaque
touche correspondant :</u></em></strong></p>
<p Align=left><strong>Principe :</strong></p>
<p Align=left>- Lors d'un appui sur un bouton, la led de la m&ecirc;me pin
s'allume.</p>
<p Align=right>- Le montage qui explique cette application est montr&eacute;
dans la figure II.5.</p>
<p Align=left><strong>Organigramme :</strong></p>
<p Align=left>D&eacute;but</p>
<p Align=center>Configuration des ports<br>PB en sortie PD en entr&eacute;e</p>
<p Align=center>PB = 0 PD = 0</p>
<p Align=left>PB[i]=1</p>
<p Align=left>non</p>
<p Align=left>RD[i]=0 oui</p>
<p Align=left>49</p>
<p Align=left>?</p>
<p Align=left>P B [i] =0</p>
<p Align=left>P B0</p>
<p Align=left>PIC</p>
<p Align=left>16 F8 77</p>
<p Align=left>PD0</p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877144.png" alt=""></p>
<p Align=left><strong><em>II. Port S&eacute;rie :</em></strong></p>
<p Align=left><strong>1.<u> Utilisation avec la liaison RS232: </u></strong></p>
<p Align=justify>La communication RS232 est employ&eacute;e pour la
communication entre deux dispositifs sur une distance de 10m. Elle est
utilis&eacute;e g&eacute;n&eacute;ralement pour des le transfert de
donn&eacute;es avec l'ordinateur. Les jumpers (JP 10 &amp; JP 12) RX et TX
s&eacute;lectionnent la pin qui sera l'entr&eacute;e de la communication.</p>
<p Align=left>Si DIP40 ou DIP28 sont employ&eacute;s, ils devraient &ecirc;tre
reli&eacute; &agrave; RC6 et &agrave; RC7, et en cas de DIP18, utilisent les
pins RB1 et RB2.</p>
<p Align=left>La figure ci-dessous montre le branchement entre l'ordinateur et
le 16F877.</p>
<p Align=left><strong><em><u>Figure II.6 : Montage du PIC avec un PC via une
liaison RS232</u></em></strong></p>
<p Align=left><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877145.png" alt=""></p>


<h3 class="core">
<A NAME="toc16"></A>1.1 Transmission des donn&eacute;es entre le PIC et le PC :
</h3>

<p Align=left><strong>Principe :</strong></p>
<p Align=left>Le principe de cette application est d'&eacute;tablir une
communication entre le PIC et le PC en le configurant en hyper terminal.</p>
<p Align=left>Le terminal envoi des donn&eacute;es en codes ascii en tapant des
caract&egrave;res sur le clavier du PC. Chaque caract&egrave;re un a code
binaire qui va &ecirc;tre affich&eacute; sur le kit en utilisant les LEDS.</p>

<p Align=left><strong></strong></p>

<DIV Align=left><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<p Align=right><strong>Sch&eacute;ma de l'application :</strong></p>
</TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
</TR>
<TR>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=4 Align=left Valign=top>
<p Align=right>RC7</p>
<p Align=left>PIC</p>
<p Align=left>16 F8 77</p>
</TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>Transmission</p>
</TD>
</TR>
<TR>
<TD Align=left Valign=top><PRE> </PRE></TD>
<TD Align=left Valign=top><PRE> </PRE></TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=2 Align=left Valign=top>
<p Align=center>PC</p>
</TD>
</TR>
</TABLE></DIV>

<p Align=left><strong>Organigramme :</strong></p>
<p Align=left>- Le PC qu'on a utilis&eacute; a &eacute;t&eacute;
configur&eacute; sur le COM1 de la mini&egrave;re suivante : Vitesse = 9600</p>
<p Align=left>Bit de parit&eacute; = 8</p>
<p Align=left>Bit d'arret = 1</p>
<p Align=left>Contr&ocirc;le de flux : Aucun</p>
<p Align=left>- Le programme utilise 3 fonctions : Init ( ), incar ( ), outcar
( ).</p>
<p Align=left><strong>Init ( ) :</strong> Sous programme d'initialisation du
pic.</p>
<p Align=left>Configuration des registres TXSTA &amp; RCSTA.</p>
<p Align=left>D&eacute;terminaion de la vitesse de transmission. Par le
registre SPBGR = 25. La valeur de la vitesse est calcul&eacute;e par la formule
suivante :</p>
<p Align=left><strong>Vitesses Hautes : BRGH = 1</strong></p>
<p Align=left>- 1</p>
<p Align=left>Fosc Fo<u>sc </u></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877147.png" alt=""></p>
<p Align=left><em>VITESSE</em> =   N =</p>
<p Align=left>16(N+ 1) 16 * <em>VITESSE</em></p>
<p Align=left><strong>Vitesses Basses : BRGH = 0</strong></p>
<p Align=left><u>Fo sc Fosc </u></p>
<p Align=left><em>VITESSE</em> =  N = - 1</p>
<p Align=left>64 (N+ 1) 64 * <em>VITESSE</em></p>
<p Align=left><strong><u>Incar ( ) :</u></strong> Sous programme de lecture de
caract&egrave;re envoy&eacute; par le PC Test du buffer de r&eacute;ception par
le flag RCIF.</p>
<p Align=left>Si RCIF :</p>
<p Align=left>= 0 le buffer est vide. =1 le buffer est plein.</p>
<p Align=left><strong><u>Outcar ( ) :</u></strong> Sous programme d'envoi de
caract&egrave;res vers le PC. Test du buffer de transmission par le flag
TXIF.</p>
<p Align=left>Si TXIF :</p>
<p Align=left>= 1 le buffer est vide. =0 le buffer est plein.</p>
<p Align=left>Mettre le caract&egrave;re re&ccedil;u dans le registre TXREG.</p>
<p Align=left><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877148.png" alt=""></p>
<p Align=left><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877149.png" alt=""></p>
<p Align=left><strong>Organigramme principal</strong></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877150.png" alt=""></p>
<p Align=center><strong>Sous Organigramme de<br>r&eacute;ception de
caract&egrave;re</strong></p>
<p Align=left>D&eacute;but</p>
<p Align=left>RCIF = 0</p>
<p Align=left>oui</p>
<p Align=left>Retour</p>
<p Align=left>non</p>
<p Align=left>D&eacute;but</p>
<p Align=center>Configuration portA en<br>sortie</p>
<p Align=left>c=incar()</p>
<p Align=left>PORTA=c</p>
<p Align=left>Init ()</p>


<h3 class="core">
<A NAME="toc17"></A>III. Port Analogique Num&eacute;rique : </h3>


<h3 class="core">
<A NAME="toc18"></A>1. Utilisation du convertisseur A/D : </h3>

<p Align=left>Le microcontr&ocirc;leur PIC 16F877 fourni avec "EASYPI" dispose
d'un convertisseur analogique num&eacute;rique de 10 bits.</p>
<p Align=left>Les deux pins RA2 et RA3 sont d&eacute;termin&eacute;es et
peuvent &ecirc;tre utilis&eacute;es pour mesurer la tension
r&eacute;gl&eacute;e par les potentiom&egrave;tres P2 et P3.</p>
<p Align=left>Pour mesurer des valeurs du potentiom&egrave;tre P2 ou P3, les
deux jumpers doivent &ecirc;tre accord&eacute;s. Sur le commutateur SW1, RA2
doit &ecirc;tre d&eacute;sactiv&eacute;e (niveau bas).</p>
<p Align=left><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877151.png" alt=""></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877152.png" alt=""></p>
<p Align=left><strong><em><u>Figure II. 7 : Montage du convertisseur A/N avec
le PIC</u></em></strong></p>
<p Align=left><strong><em>1.1<u> Conversion d'un signal analogique
:</u></em></strong></p>
<p Align=left><strong>Principe :</strong></p>
<p Align=left>- La conversion d'un signal se fait sur le PORTA ou le PORTE,
pour notre application on a choisi le PORTE et pr&eacute;cis&eacute;ment la pin
0 (RE0).</p>
<p Align=left>- Le r&eacute;sultat de la conversion (10 bits en binaire) sera
affich&eacute; sur les leds.</p>
<p Align=left>53</p>
<p Align=left><strong>Vref +</strong></p>
<p Align=left><strong>Vref -</strong></p>
<p Align=left><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877153.png" alt=""></p>
<p Align=left><strong>Proc&eacute;dure de la conversion :</strong></p>
<p Align=left>&gt;<strong><u> Configuration du module A/D : </u></strong></p>

<blockquote>
<p Align=left>&#183;  Configuration des pins et les entr&eacute;es digitales
(ADCON1).</p>
<p Align=left>&#183;  S&eacute;lection du canal d'entr&eacute;e (ADCON0).</p>
<p Align=left>&#183;  S&eacute;lection de l'horloge de conversion (ADCON0).
&gt;<strong><u> Configuration des interruptions du convertisseur :
</u></strong></p>
<p Align=left>&#183;  Remise &agrave; z&eacute;ro du bit ADIF (Bit 6 du
registre PIR1).</p>
<p Align=left>&#183;  Mise &agrave; 1 du bit ADIE (Bit 6 du registre PIE1).</p>
<p Align=left>&#183;  Mise &agrave; 1 du bit PEIE (Bit 6 du registre
INTCON).</p>
<p Align=left>&#183;  Mise &agrave; 1 du bit GIE (Bit 7 du registre INTCON).</p>
<p Align=left> &gt;<strong><u> Attendre le temps d'acquisition :</u></strong>
TAD = 20us.</p>
<p Align=left> &gt;<strong><u> D&eacute;marrer la conversion :</u></strong>
GO/DONE = 1.</p>
<p Align=left> &gt;<strong><u> Attendre la fin de la conversion :</u></strong>
GO/DONE = 0.</p>
<p Align=left> &gt;<strong><u> Lire le r&eacute;sultat :</u></strong> En
utilisant les deux registres <strong>ADRESH</strong> et
<strong>ADRESL</strong>.</p>
<p Align=left> V'<strong><em><u> Temps d'acquisition : </u></em></strong></p>
<p Align=left> <strong>TACQ :</strong> Temps d'acquisition - TACQ = 2 jis + Tc
+ CT</p>
<p Align=left> </p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877154.png" alt=""></p>
<p Align=left><strong>Tc :</strong> temps de charge du condenseur - Tc = C
(Ric+Rss+Rs) Ln(1/2047) <strong>CT :</strong> Coefficient de temp&eacute;rature
- CT = (Tp -25&#176;C) 0.05 jis/&#176;C</p>
<p Align=left> <strong>Avec: Tp</strong> = Temp&eacute;rature Processeur, Ric =
1k, Rss = 7k, Rs = 10k, Tp = 50 &#176;C.</p>
<p Align=left> </p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877155.png" alt=""></p>
<p Align=left>Tc = 18k x 120pF x Ln(2047) = 16,47 jis CT = 25 x 0.05 jis = 1,25
jis</p>
<p Align=left> TACQ = 2 + 16,47 + 1,25 jis = 19,72 jis</p>
<p Align=left> V'<strong><em><u> L'acquisition commence : </u></em></strong></p>
<p Align=left> - Apr&egrave;s la fin d'une conversion.</p>
<p Align=left> - Au moment du choix d'un canal si convertisseur valid&eacute;
(ADON=1). - Au moment de validation du convertisseur si canal choisi.</p>
<p Align=left> V'<strong><em><u> Temps de conversion : </u></em></strong></p>
<p Align=left> Le temps de conversion est &eacute;gal &agrave; (12 +2)
<strong>TAD. TAD</strong> est le temps de conversion d'un bit, il</p>
<p Align=left> d&eacute;pend de l'horloge syst&egrave;me et du
pr&eacute;diviseur (div) choisi. Les choix doivent &ecirc;tre ajust&eacute;s
pour que <strong>TAD</strong> ne d&eacute;passe pas 1,6 jis.</p>
</blockquote>

<blockquote>
<p Align=left></p>
</blockquote>

<DIV Align=left><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=left> <strong>\Quartz Div \</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center> <strong>20Mhz</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>5Mhz</strong></p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center><strong>4Mhz</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=top>
<blockquote>
<p Align=center><strong>2Mhz</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=5 Align=left Valign=top>
<blockquote>
<p Align=left> </p>
<p Align=right> 2</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center> 0,1 jis</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0,4 jis</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0,5 jis</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>1,0 jis</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=right> 8</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center> 0,4 jis</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1,6 jis</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>2,0 jis</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>4,0 jis</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> </p>
<p Align=right> 32</p>
</blockquote>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center> 1,6 jis</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>6,4 jis</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>8,0 jis</p>
</blockquote>
</TD>
<TD ROWSPAN=2 COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>16,0 jis</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle><PRE> </PRE></TD>
</TR>
</TABLE></DIV>

<blockquote>
<p Align=left> </p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877156.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877157.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877158.png" alt=""></p>
<p Align=left>  </p>
<p Align=left> </p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877159.png" alt=""></p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877160.png" alt=""></p>
<p Align=left><strong>Sch&eacute;ma de l'application :</strong></p>
<p Align=left> <strong>Organigramme :</strong></p>
<p Align=left>  </p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877161.png" alt=""></p>
<p Align=left> DEBUT</p>
<p Align=center> Configuration des PORT C et D<br>en sortie, PORTE en
entr&eacute;e<br>Configuration du convertisseur.</p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877162.png" alt=""></p>
<p Align=center> Activation du convertisseur</p>
<p Align=left> Temporisation de 20 useconde</p>
<p Align=center> D&eacute;marrage de la conversion</p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877163.png" alt=""></p>
<p Align=left> oui</p>
<p Align=left> non</p>
<p Align=left> ?</p>
<p Align=center> Fin de la<br>conversion<br>ADIF=0</p>
<p Align=center> PORTC=ADRESL</p>
<p Align=center> PORTD=ADRESH</p>
<p Align=center> D&eacute;marrage de la conversion</p>
<p Align=left><strong>R&eacute;sultats de la conversion :</strong></p>
<p Align=left> - Apr&egrave;s la fin de la conversation on a relev&eacute; les
valeurs en volts de l'entr&eacute;e analogique et d&eacute;termin&eacute; leurs
&eacute;quivalences en binaire et en hexad&eacute;cimal.</p>
<p Align=left> - Ce tableau permet d'&eacute;tudier la lin&eacute;arit&eacute;
du convertisseur.</p>
</blockquote>

<blockquote>
<p Align=left></p>
</blockquote>

<DIV Align=left><TABLE BORDER=2 CELLPADDING=2><TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> Tension (V)</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center> 0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>2</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>3</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>4</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>5</p>
</blockquote>
</TD>
<TD ROWSPAN=4 Align=left Valign=top>
<blockquote>
<p Align=left>  Code Binaire</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center> 0000000000</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0011011111</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0110111111</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1001101111</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1101000011</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>1111111111</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left>  Code H&eacute;xa</p>
</blockquote>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center> 0x00</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>0xDF</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>0x1BF</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>0x26F</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>0x343</p>
</blockquote>
</TD>
<TD ROWSPAN=2 COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>0x3FF</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle><PRE> </PRE></TD>
</TR>
</TABLE></DIV>

<blockquote>
<p Align=left> </p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877164.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877165.png" alt=""></p>
</blockquote>


<h3 class="core">
<A NAME="toc19"></A> </h3>

<blockquote>
<p Align=left> </p>
<p Align=left> </p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877166.png" alt=""></p>
<p Align=left> +100</p>
<p Align=left> - 40</p>
<p Align=left> LM335</p>
</blockquote>


<h3 class="core">
<A NAME="toc20"></A>2.  Utilisation du convertisseur avec un capteur de
temp&eacute;rature : </h3>

<blockquote>
<p Align=justify> Le capteur LM335 a une temp&eacute;rature ambiante qui va de
-40 &agrave; 100 &#176;C, il peut &ecirc;tre utilis&eacute; pour la mesure de
la temp&eacute;rature d'environnement de et pour d'autres exp&eacute;riences.
Il est tr&egrave;s pr&eacute;cis et facile de se relier. Les 3 pins se
branchent dans la douille, sous le connecteur de puissance du syst&egrave;me de
d&eacute;veloppement. Figure au-dessous montre comment relier le
thermom&egrave;tre num&eacute;rique et le microcontr&ocirc;leur sur le kit.</p>
<p Align=left> La valeur num&eacute;rique de la temp&eacute;rature est
envoy&eacute;e sur les 2 pins (RA5 ou RE2, selon la position du jumper
(JP4).</p>
<p Align=center> <strong><em><u>Figure II.8 : Montage du capteur LM335 avec le
PIC</u></em></strong></p>
</blockquote>


<h3 class="core">
<A NAME="toc21"></A> 2.1 Conversion du signal analogique re&ccedil;u par le
capteur : </h3>

<blockquote>
<p Align=left> <strong>Principe :</strong></p>
<p Align=left> - La conversion d'un signal se fait sur la pin RA5 ou RE2, pour
notre application on a choisi le PORTA sur la pin (RA5).</p>
<p Align=left> - Le r&eacute;sultat de la conversion (10 bits en binaire) sera
affich&eacute; sur les leds.</p>
<p Align=left> <strong>Organigramme :</strong></p>
<p Align=left> - On obtient le m&ecirc;me organigramme que celui d&eacute;crit
ci-dessus sauf que l'entr&eacute;e du signal &agrave; convertir change, cela se
fait par la configuration du registre ADCON0 et ADCON1.</p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877167.png" alt=""></p>
<p Align=left>  </p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877168.png" alt=""></p>
<p Align=left> <strong><em>IV.<u> Autres Applications : </u></em></strong></p>
<p Align=right> <strong>1.<u> Utilisation du pic avec LCD : </u></strong></p>
<p Align=justify> L'afficheur LCD (2x16 caract&egrave;res) est
recommand&eacute; sur le kit. Cependant, ce n'est pas une limitation, parce que
n'importe quel afficheur de m&ecirc;me type de communication peut &ecirc;tre
utilis&eacute;. Le r&eacute;glage du contraste de l'afficheur peut &ecirc;tre
ajust&eacute; en utilisant un potentiom&egrave;tre.</p>
<p Align=left> L'afficheur LCD se relie au port B. La figure suivante montre
comment relier l'afficheur avec le microcontr&ocirc;leur PIC16F877 par le
PORTB.</p>
<p Align=left> <strong><em><u>Figure II.9 : Montage de l'afficheur LCD 2X16
avec le PIC</u></em></strong></p>
<p Align=left> 57</p>
<p Align=left>  <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877169.png" alt=""></p>
<p Align=left>  </p>
<p Align=left><strong>Commandes principales du LCD :</strong></p>
</blockquote>

<blockquote>
<p Align=left></p>
</blockquote>

<DIV Align=left><TABLE BORDER=2 CELLPADDING=2><TR>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center> <strong>Instructions</strong></p>
</blockquote>
</TD>
<TD COLSPAN=10 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Code</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 COLSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Description</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center><strong>Dur&eacute;e</strong></p>
</blockquote>
</TD>
<TD ROWSPAN=14 Align=left Valign=top><PRE> </PRE></TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>R/W</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>D7</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>D6</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>D5</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>D4</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>D3</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>D2</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>D1</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center><strong>D0</strong></p>
</blockquote>
</TD>
<TD Align=left Valign=middle><PRE> </PRE></TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center> 0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=justify> Efface l'ensemble de la m&eacute;moire de donn&eacute;e sans
toucher au g&eacute;n&eacute;rateur de caract&egrave;res. Ram&egrave;ne le
curseur en position &#171; home &#187;, &agrave; l'adresse 00.</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center> 1,64 ms</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left>  Return home</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center> 0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>X</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> Ram&egrave;ne le curseur en position &#171; home &#187;,
&agrave; l'adresse 00. Si</p>
<p Align=left> l'affichage &eacute;tait d&eacute;cal&eacute;, il est remis
&agrave; sa position d'origine : l'adresse 00 se trouve &agrave; nouveau en
haut &agrave; gauche.</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center> 1,64 ms</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left>  Entry mode set</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center> 0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>I/D</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>S</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> D&eacute;finit le sens de d&eacute;placement du curseur
apr&egrave;s l'apparition d'un caract&egrave;re (vers la gauche si I/D=1, vers
la droite si I/D=0) et si l'affichage accompagne le curseur dans son
d&eacute;placement ou non (S).</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center> 40 us</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left>  Display on/off control</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center> 0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>D</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>C</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>B</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> Met l'affichage en ou hors fonction l'affichage (D), le curseur
(C), le clignotement du curseur (B).</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center> 40 us</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left>  Cursor and display shift</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center> 0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>S/C</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>R/L</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>X</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>X</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> Deplace le curseur (S/C=1) ou l'affichage (S/C=0) d'une position
vers la gauche (R/L=1) ou la droite (R/L=0) sans changer la DD RAM.</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center> 40 us</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left>  Function set</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center> 0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>DL</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>N</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>F</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>X</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>X</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> D&eacute;finit la taille de l'interface (DL=0 pour mode 4 bits,
DL=1 pour mode 8 bits), le nombre de lignes (NL=0 pour 1 ligne, N=1 pour 2 ou 4
lignes), et la taille des fontes (F=0 pour des caract&egrave;res 5x7, F=1 pour
des caract&egrave;res 5x10).</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center> 40 us</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left>  Set CG RAM address</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center> 0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A5</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A4</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A3</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A2</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=justify> D&eacute;finit l'adresse de la CG RAM. Les donn&eacute;es de
la CG RAM sont envoy&eacute;es apr&egrave;s cette commande.</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center> 40 u s</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left>  Set DD RAM address</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center> 0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A6</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A5</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A4</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A3</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A2</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=justify> D&eacute;finit l'adresse de la DD RAM. Les donn&eacute;es de
la DD RAM sont envoy&eacute;es apr&egrave;s cette commande.</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center> 40 us</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left>  Read busy flag &amp; address</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center> 0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>BF</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A6</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A5</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A4</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A3</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A2</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>A0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=justify> Lit le flag busy (BF), et l'adresse de la position du
curseur. BF vaut 0 si l'afficheur accepte une instruction, 1 s'il est
occup&eacute;</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center> 1 us</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left>  Write data to CG or DD RAM</p>
</blockquote>
</TD>
</TR>
<TR>
<TD Align=left Valign=top>
<blockquote>
<p Align=center> 1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>D7</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>D6</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>D5</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>D4</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>D3</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>D2</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>D1</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=center>D0</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left> Ecrit des donn&eacute;es dans la DD RAM ou la CG RAM.</p>
</blockquote>
</TD>
<TD COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center> 40 us</p>
</blockquote>
</TD>
<TD Align=left Valign=middle>
<blockquote>
<p Align=left>  Read data</p>
</blockquote>
</TD>
</TR>
<TR>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center> 1</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>1</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>D7</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>D6</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>D5</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>D4</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>D3</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>D2</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>D1</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=center>D0</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle>
<blockquote>
<p Align=left> Lit les donn&eacute;es de la DD RAM ou <u>de la CG RAM. </u></p>
</blockquote>
</TD>
<TD ROWSPAN=2 COLSPAN=2 Align=left Valign=top>
<blockquote>
<p Align=center> 40 us</p>
</blockquote>
</TD>
<TD ROWSPAN=2 Align=left Valign=middle><PRE> </PRE></TD>
</TR>
</TABLE></DIV>

<blockquote>
<p Align=left> </p>
<p Align=left>  </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877170.png" alt=""></p>
<p Align=left>  </p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877171.png" alt=""></p>
<p Align=left> <strong><em>1.1<u> Affichage d'un message :</u></em></strong></p>
<p Align=left> <strong>Principe :</strong></p>
<p Align=left> - Envoi du message " Microcontr&ocirc;leur \0" qui apparait
caract&egrave;re par caract&egrave;re.</p>
<p Align=left> <strong>Organigramme :</strong></p>
<p Align=left> -<strong><u> La fonction envoi caract ( ) :</u></strong> Puisque
on est en mode 4 bits donc la donn&eacute;es a envoy&eacute;e est
fragment&eacute;e en deux partie de 4 bits. On envoi dans un premier temps les
4 bits du poids fort et dans un deuxi&egrave;me temps les 4 bits du poids
faible.</p>
<p Align=left> - Le m&ecirc;me principe s'applique sur <strong><u>la fonction
envoi com ( )</u></strong> qui est une fonction pour envoyer des commandes
(instructions) a l'afficheur LCD. (voir tableau des instructions).</p>
<p Align=left> - MSG[i] : Tableau qui contient le message a affich&eacute;
("Microcontr&ocirc;leur").</p>
<p Align=left> DEBUT</p>
<p Align=center> Configuration et<br>initialisation du PIC</p>
<p Align=center> Initialisation d e LCD<br>( Mode 4bits, 1 ligne,<br>taille
d'affichage...)</p>
<p Align=center> i = 0</p>
<p Align=center> i = i +1</p>
<p Align=center> Envoi_carct ( )</p>
<p Align=center> C = MSG[i]</p>
<p Align=left> non</p>
<p Align=center> C = nul<br>?</p>
<p Align=left> oui</p>
<p Align=left> Fin</p>
<p Align=left> 59</p>
<p Align=left>   </p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877172.png" alt=""></p>
<p Align=left> Via RS232</p>
<p Align=center> PC</p>
<p Align=left> Envoi caract&egrave;re</p>
<p Align=right> PB0</p>
<p Align=right> PB1</p>
<p Align=right> PB2</p>
<p Align=left> PIC PB3</p>
<p Align=right> PB4</p>
<p Align=left> 16F877 PB5</p>
<p Align=right> PB6</p>
<p Align=left> <strong><em>1.2 Communication du PIC avec le PC via une liaison
RS232 :</em></strong></p>
<p Align=left> <strong>Principe :</strong></p>
<p Align=left>- On a ajout&eacute; une autre application concernant le LCD.</p>
<p Align=left> - Il s'agit d'envoyer des caract&egrave;res du PC vers
l'afficheur LCD a travers le PIC en utilisant un programme qui s'ex&eacute;cute
sur le PC pour la configuration des COM.</p>
<p Align=left> - Utilisation d'une liaison RS232 pour &eacute;tablir la
connexion entre les deux p&eacute;riph&eacute;riques.</p>
<p Align=left> <strong>ch&eacute;ma de l'application :</strong></p>
<p Align=left> <strong>Organigramme :</strong></p>
<p Align=left> DEBUT</p>
<p Align=center> Configuration et<br>initialisation du PIC</p>
<p Align=center> Initialisation d e LCD<br>( Mode 4bits, 1 ligne,<br>taille
d'affichage...)</p>
<p Align=center> C = incar ( )</p>
<p Align=left> oui</p>
<p Align=left> non</p>
<p Align=center> C = ` q `<br>?</p>
<p Align=left> Fin</p>
<p Align=left>  </p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877173.png" alt=""></p>
<p Align=left> <strong>2.<u> Utilisation du pic pour la commande d'un moteur
pas &agrave; pas : </u></strong></p>
<p Align=left> <strong><em><u>Figure II.10 : Montage de la carte de commande du
moteur pas a pas avec le PIC</u></em></strong></p>
<p Align=left> <strong>Principe :</strong></p>
<p Align=left> Le pic prend le contr&ocirc;le du moteur pas a pas, il envoi les
impulsions pour faire tourner le moteur et le d&eacute;placement du plateau.</p>
<p Align=justify> D&eacute;tection des contacts du d&eacute;but de course et de
fin de course pour le changement de sens de d&eacute;placement. Introduire un
capteur de milieu pour faire varier la vitesse (diminue ou augmente) selon le
sens.</p>
<p Align=left> 61</p>
<p Align=left>  <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877174.png" alt=""></p>
<p Align=left>  </p>
<p Align=left><strong>Organigramme</strong></p>
<p Align=left> - Le pic envoi des impulsions avec un interval
d&eacute;termin&eacute; par la fonction delay. - Utilisation d'une interruption
pour faire varier la vitesse de rotation.</p>
<p Align=center> </p>
<p Align=left> </p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877175.png" alt=""></p>
<p Align=center> RAZ flag (RB0)</p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877176.png" alt=""></p>
<p Align=left> Vitesse rapide</p>
<p Align=left> non</p>
<p Align=left> RD1=0</p>
<p Align=left> ?</p>
<p Align=left> Vitesse lente</p>
<p Align=left> oui</p>
<p Align=center> Configuration des ports<br>B, RD0 et RD1 en sortie,<br>RD4-7
en entr&eacute;e<br>Activation des interruptions</p>
<p Align=left> PORTD.1=1</p>
<p Align=center> D&eacute;marrage du<br>timer</p>
<p Align=left> non</p>
<p Align=center> D&eacute;bordement<br>timer</p>
<p Align=left> oui</p>
<p Align=left> RAZ flag TMR1</p>
<p Align=left> oui</p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877177.png" alt=""></p>
<p Align=center> <strong>Sous Organigramme<br>d'interruption</strong></p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877178.png" alt=""></p>
<p Align=left> D&eacute;but</p>
<p Align=left> <strong>Organigramme principal</strong></p>
<p Align=left> D&eacute;but</p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877179.png" alt=""></p>
<p Align=left> retour</p>
<p Align=center> <strong>Sous Organigramme de<br>temporisation</strong></p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877180.png" alt=""></p>
<p Align=left> D&eacute;but</p>
<p Align=center> Configuration du<br>timer1</p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877181.png" alt=""></p>
<p Align=left> delay</p>
<p Align=left> non</p>
<p Align=left> RD4=0</p>
<p Align=left> ?</p>
<p Align=left> oui</p>
<p Align=center> Envoi d'une<br>impulsion</p>
<p Align=center> PORTD.1=1</p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877182.png" alt=""></p>
<p Align=center> Envoi d'une<br>impulsion</p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877183.png" alt=""></p>
<p Align=center> delay</p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877184.png" alt=""></p>
<p Align=left> non</p>
<p Align=left> RD4=0</p>
<p Align=center>Arret du timer</p>
<p Align=left>   </p>
<p Align=center> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877185.png" alt=""></p>
<p Align=left> FIN</p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877186.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877187.png" alt=""></p>
<p Align=left> <img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877188.png" alt=""></p>
<p Align=left>  </p>
<p Align=left> </p>
<p Align=left>Les microcontr&ocirc;leurs permettent de r&eacute;aliser des
applications diverses qui peuvent servir dans diff&eacute;rents domaines
industriels.</p>
<p Align=justify> Dans notre projet nous avons trait&eacute; les
diff&eacute;rentes interfaces du pic et les simul&eacute;es dans plusieurs
application sur la carte de d&eacute;veloppement "EASY PI".</p>
<p Align=left> Par ces diff&eacute;rentes applications nous avons appris
&eacute;norm&eacute;ment de notions :</p>
<p Align=left>&#183;  La programmation des pics (langage C).</p>
<p Align=left>&#183;  Apprentissage de l'utilisation du pic 16F877 et ses
diff&eacute;rents registres.</p>
<p Align=left>&#183;  La manipulation des diff&eacute;rents modules (I2C, A/D,
PSP, MSSP, USART et PSP...).</p>
<p Align=left>&#183;  La mise en pratique des connaissances th&eacute;oriques
en &eacute;lectronique et en programmation en C.</p>
</blockquote>

<p Align=left>Ce projet nous a beaucoup appris sur les microcontr&ocirc;leurs
et leurs programmations. Il a &eacute;t&eacute; men&eacute; d'une recherche
bibliographique bien d&eacute;taill&eacute;e.</p>
<p Align=left>En effet nous avons pu approcher un ensemble de logiciels
permettant la programmation (MPLAB, PIC FLASH,.....etc.).</p>
<p Align=left>Et tous ceci dans le but d'&eacute;tudier les
microcontr&ocirc;leurs en g&eacute;n&eacute;ral et pr&eacute;cis&eacute;ment le
16F877.</p>
<p Align=left><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877189.png" alt=""></p>
<p Align=left><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877190.png" alt=""></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877191.png" alt=""></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877192.png" alt=""></p>
<p Align=left>Nous allons proposer quelques applications que nous n'avons pas
pu les appliqu&eacute;es par manque temps. Nous esp&eacute;rons que leurs
r&eacute;alisations seront faites dans les prochains projets.</p>


<h3 class="core">
<A NAME="toc22"></A>1. Mise en place d'une communication entre un 68000 </h3>

<p Align=left><strong><u>et un PIC pour dialoguer sur un bus I2C :
</u></strong></p>
<p Align=left>Cette application pr&eacute;sente la mise en place d'une
communication entre un microprocesseur</p>
<p Align=left>68000 et un PIC 16F877 &agrave; travers un bus parall&egrave;le.
Pour uniformiser les interfaces avec le bus, un PIC16F877 a &eacute;t&eacute;
plac&eacute; sur ce bus. Le processeur principal du 68000 qui devait donc
dialoguer avec le PIC pour envoyer les donn&eacute;es sur le bus.</p>
<p Align=left><strong>Le 68000 :</strong></p>
<p Align=left>Le <strong>Motorola 68000</strong> est un microprocesseur CISC
16/32 bits d&eacute;velopp&eacute; par Motorola. C'est le premier de la famille
de microprocesseurs souvent appel&eacute;e <em>m68k</em> ou <em>680x0</em>, qui
comprend notamment les microprocesseurs Motorola 68010, Motorola 68020,
Motorola 68030, Motorola 68040 et Motorola 68060. Le nom du 68000 vient
&agrave; la fois de la continuit&eacute; avec la famille de microprocesseurs
Motorola 6800 et du nombre de transistors qu'il contient, un peu plus de 68
000.</p>
<p Align=left><strong>Le PIC Le 16F877 :</strong></p>
<p Align=left>Le PIC 16F877 est &agrave; ce jour le plus gros
microcontr&ocirc;leur de la s&eacute;rie 8/12 bits de Microchip. Il
poss&egrave;de entre autre une interface s&eacute;rie RS232 une interface I2C,
un PSP (Parallel Slave Port) port 8 bits permettant au PIC de s'interfacer en
tant que p&eacute;riph&eacute;rique sur le bus de donn&eacute;es d'un autre
microcontr&ocirc;leur o&ugrave; d'un microprocesseur.</p>
<p Align=center><strong><em><u>Sch&eacute;ma du PIC avec le 68000 via le bus
I2C</u></em></strong></p>
<p Align=left><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877193.png" alt=""></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877194.png" alt=""></p>

<blockquote>
<p Align=left>2.  <strong><u>Utilisation d'un clavier matriciel 12 touches :
</u></strong></p>
</blockquote>

<p Align=left>On propose d'impl&eacute;menter un clavier matriciel, sur le port
B du pic 16F877.</p>
<p Align=left>Cette application pourra servir pour le codage des serrures dont
le but de prot&eacute;ger les endroits &agrave; acc&egrave;s limit&eacute;.</p>
<p Align=left>Le clavier de 12 touches est &eacute;quip&eacute; de touche
num&eacute;rique 0 &agrave; 9, * et #.</p>
<p Align=left><strong><em><u>Montage du clavier matriciel avec le
PIC</u></em></strong></p>

<blockquote>
<p Align=left>3.  <strong><u>Utilisation du LCD 2x16 en mode 8 bits :
</u></strong></p>
</blockquote>

<p Align=left>Les afficheurs &agrave; cristaux liquides, autrement
appel&eacute;s afficheurs LCD (Liquid Crystal Display), sont des modules
compacts intelligents et n&eacute;cessitent peu de composants externes pour un
bon fonctionnement. Ils consomment relativement peu (de 1 &agrave; 5 mA), sont
relativement bons march&eacute;s et s'utilisent avec beaucoup de
facilit&eacute;.</p>
<p Align=justify>Plusieurs afficheurs sont disponibles sur le march&eacute; et
diff&egrave;rent les uns des autres, non seulement par leurs dimensions, (de 1
&agrave; 4 lignes de 6 &agrave; 80 caract&egrave;res), mais aussi par leurs
caract&eacute;ristiques techniques et leur tension de service.</p>
<p Align=left>65</p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877195.png" alt=""></p>
<p Align=justify>Certains sont dot&eacute;s d'un r&eacute;tro &eacute;clairage
de l'affichage. Cette fonction fait appel &agrave; des LED mont&eacute;es
derri&egrave;re l'&eacute;cran du module, cependant, cet &eacute;clairage est
gourmand en intensit&eacute; (de 80 &agrave; 250 mA).</p>
<p Align=left>Ils sont tr&egrave;s utilis&eacute;s dans les montages &agrave;
microcontr&ocirc;leur, et permettent une grande convivialit&eacute;. Ils
peuvent aussi &ecirc;tre utilis&eacute;s lors de la phase de
d&eacute;veloppement d'un programme, car on peut facilement y afficher les
valeurs de diff&eacute;rentes variables.</p>
<p Align=left><strong><em><u>Montage du LCD avec le PIC</u></em></strong></p>
<p Align=left><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877196.png" alt=""></p>
<p Align=left><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877197.png" alt=""></p>
<p Align=left>A. REBOUX. &#171; S'initier &agrave; la programmation des
PIC&#187;. 
<A
HREF="http://www.eyrolles.com/Sciences/Livre/" rel="nofollow"><u>http://www.eyrolles.com/Sciences/Livre/</u></A></p>
<p Align=left>G. SAMBLANCAT. &#171; Progressez avec les microcontr&ocirc;leurs
PIC &#187;. 
<A
HREF="http://www.eyrolles.com/Sciences/Livre/" rel="nofollow"><u>http://www.eyrolles.com/Sciences/Livre/</u></A></p>
<p Align=left>C. TAVERNIER. &#171; Les microcontr&ocirc;leurs PIC10, 12,
16&#187;. 
<A
HREF="http://www.eyrolles.com/Sciences/Livre/" rel="nofollow"><u>http://www.eyrolles.com/Sciences/Livre/</u></A></p>
<p Align=left>C. TAVERNIER. &#171; Programmation en C des PIC &#187; 
<A
HREF="http://www.eyrolles.com/Sciences/Livre/" rel="nofollow"><u>http://www.eyrolles.com/Sciences/Livre/</u></A></p>
<p Align=left>DATASHEET 16F87x.</p>
<p Align=left>Cour Bigonoff.</p>

<p Align=left></p>

<DIV Align=left><TABLE BORDER=2 CELLPADDING=2><TR>
<TD ROWSPAN=2 Align=left Valign=top><PRE> </PRE></TD>
<TD ROWSPAN=2 Align=left Valign=bottom>
<p Align=right>Webographie :</p>
</TD>
</TR>
</TABLE></DIV>

<p Align=left>http// 
<A
HREF="http://www.mikroelectronika.co.yu" rel="nofollow"><u>www.mikroelectronika.co.yu</u></A>
http//
<A
HREF="http://www.abcelectronique.com/bigonoff" rel="nofollow"><u>www.abcelectronique.com/bigonoff</u></A></p>
<p Align=left>http//
<A HREF="http://www.microchip.com" rel="nofollow"><u>www.microchip.com</u></A></p>
<p Align=left>http//
<A HREF="http://www.micropic.free.fr" rel="nofollow"><u>www.micropic.free.fr</u></A></p>
<p Align=left>http// www.planet.net/--surbnov/
Http//www.Suplec-rennus.Fr/ren/fi/elec/mcn/pic/applications. Http//
<A
HREF="http://www.lectronique.fr/dd+/toplec.com." rel="nofollow"><u>www.lectronique.fr/dd+/toplec.com.</u></A></p>
<p Align=left>Http//
<A HREF="http://www.sprut.de" rel="nofollow"><u>www.sprut.de</u></A></p>
<p Align=left>Http//
<A HREF="http://www.guimipic.fr" rel="nofollow"><u>www.guimipic.fr</u></A></p>
<p Align=left>Http//
<A HREF="http://www.CC5.de" rel="nofollow"><u>www.CC5.de</u></A></p>
<p Align=left>
<A
HREF="http://en.wikipedia.org/wiki/PIC_microcontroller." rel="nofollow"><u>http://en.wikipedia.org/wiki/PIC_microcontroller.</u></A></p>
<p Align=center><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877199.png" alt=""></p>
<p Align=left><img
src="Programmation-en-C-du-micro-contrleur-PIC-16F877200.png" alt=""></p>
</html>
</td><td valign=top><div id='sept7'><div class='visible'><div>
<script async type='text/javascript'>
GA_googleFillSlot("mo_eco_MPU_s");
</script>
</div></div></div><br><br><br></td></tr></table><br><center><br><div id='sept7'><div class='visible'><div>
<script async type='text/javascript'>
GA_googleFillSlot("mo_sci_M_s");
</script>
</div></div></div>
<div class=gs2> <form action="http://www.memoireonline.com/recherche3.html" class="search" id="recherche-memoireonline"><div class="recherche_b">
<input type="hidden" name="cof" value="FORID:11" />
<input type="hidden" name="ie" value="ISO-8859-15" />Rechercher sur le site:<input type="text" id="recherche_q2" name="q" size="84" maxlength="255" value="">
<input type="hidden" name="cx" value="partner-pub-2070567197244873:mqp2ps9rfo1" />
</input><input type="submit" class="lsd2" name="sa" value=" Recherche " />
</div></form><script type="text/javascript" src="//www.google.fr/cse/brand?form=cse-search-box&amp;lang=fr"></script></div>
<br><br><div align="center" class="footer"><b>&copy; Memoire Online 2000-2013</b><br>Pour toute question contactez le <a href=mailto:webmaster@memoireonline.com>webmaster</a><br>
<!-- <img width="24" height="15" border=0 src="http://logv13.xiti.com/hit.xiti?s=56022&p=&"> -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-295564-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</div>
</body>
<script type="text/javascript" src="http://wtpn.twenga.fr/Publisher/invoke?key=4fc62316e9d2f"></script>
<script src='http://direct01.memoireonline.com/js/7.js'></script></html>
