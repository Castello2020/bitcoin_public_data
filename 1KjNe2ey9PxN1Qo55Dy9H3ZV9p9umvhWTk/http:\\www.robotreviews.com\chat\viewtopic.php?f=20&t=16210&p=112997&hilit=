http://www.robotreviews.com/chat/viewtopic.php?f=20&t=16210&p=112997&hilit=
HTTP/1.1 200 OK
Date: Wed, 23 Jul 2014 13:58:50 GMT
Server: Apache
Cache-Control: private, no-cache="set-cookie"
Expires: 0
Pragma: no-cache
Set-Cookie: phpbb3_cxnjc_u=1; expires=Thu, 23-Jul-2015 13:58:50 GMT; path=/; domain=.robotreviews.com; HttpOnly
Set-Cookie: phpbb3_cxnjc_k=; expires=Thu, 23-Jul-2015 13:58:50 GMT; path=/; domain=.robotreviews.com; HttpOnly
Set-Cookie: phpbb3_cxnjc_sid=df9099f03fd77c87d73c199a171e2025; expires=Thu, 23-Jul-2015 13:58:50 GMT; path=/; domain=.robotreviews.com; HttpOnly
Set-Cookie: phpbb3_cxnjc_mobile=; expires=Thu, 23-Jul-2015 13:58:50 GMT; path=/; domain=.robotreviews.com; HttpOnly
X-Powered-By: PleskLin
Connection: close
Content-Type: text/html; charset=UTF-8

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-us" xml:lang="en-us">
<head>

<script type="text/javascript" src="./mobiquo/tapatalkdetect.js"></script>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-us" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="robots, robot, roomba, neato" />
<meta name="description" content="Robot Reviews including Roomba &amp; Scooba News, Reviews and Discussion" />
<script type="text/javascript"> var phpBBMobileStyle = false, phpBBMobileVar = 'mobile'; </script><script type="text/javascript" src="./styles/art_mobile/template/detect.js?t=1374730655"></script>
<title>Worn Battery Indicator Light Mod &bull; Robot Reviews</title>

<link rel="alternate" title="Robot Chat RSS feed" href="rss.php" type="application/rss+xml">
<link rel="alternate" type="application/atom+xml" title="Feed - Robot Reviews" href="http://www.robotreviews.com/chat/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://www.robotreviews.com/chat/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://www.robotreviews.com/chat/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://www.robotreviews.com/chat/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://www.robotreviews.com/chat/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Neato Robotics" href="http://www.robotreviews.com/chat/feed.php?f=20" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Worn Battery Indicator Light Mod" href="http://www.robotreviews.com/chat/feed.php?f=20&amp;t=16210" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:
-->



<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Enter the page number you wish to go to.:';
	var on_page = '2';
	var per_page = '20';
	var base_url = './viewtopic.php?f=20&amp;t=16210&amp;sid=df9099f03fd77c87d73c199a171e2025';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.robotreviews.com';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	};

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	};

// ]]>
</script>
<script type="text/javascript" src="./styles/robotreviews/template/styleswitcher.js"></script>
<script type="text/javascript" src="./styles/robotreviews/template/forum_fn.js"></script>

<link href="./styles/robotreviews/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="./style.php?id=2&amp;lang=en&amp;sid=df9099f03fd77c87d73c199a171e2025" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="./styles/robotreviews/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="./styles/robotreviews/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="./styles/robotreviews/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />



</head>

<body id="phpbb" class="section-viewtopic ltr">
	<div id="header-container">
		<div id="header">
			<h1><a href="/" title="Home">RobotReviews.com</a></h1>
			<div id="header-right">
				
				<div id="block-block-1" class="block block-block">
					<div class="content"><ul><li><a id="register" href="/chat/ucp.php?mode=register_rr">Register</a></li><li><a id="login" href="/user">Login</a></li></ul></div>
				</div>
				
				<div id="header-search">
					
					<form action="./search.php?sid=df9099f03fd77c87d73c199a171e2025" method="post" id="search-theme-form">
							<input name="keywords" id="keywords" type="text" maxlength="128" title="Search for keywords" class="form-text" value="Search…" onclick="if(this.value=='Search…')this.value='';" onblur="if(this.value=='')this.value='Search…';" /> 
							<input class="form-submit" value="Search" type="submit" /><br />
							<a href="./search.php?sid=df9099f03fd77c87d73c199a171e2025" title="View the advanced search options">Advanced search</a> <input type="hidden" name="sid" value="df9099f03fd77c87d73c199a171e2025" />

					</form>
					
				</div>
			</div>
		</div>
	</div>
	<div id="rr-navigation-container">
		<div id="rr-navigation">
			<div id="main_menu">
				<ul class="menu">
					<li><a href="/" title="Home Page">Home</a></li>
					<li><a href="/news" title="Latest News, Updates">News</a></li>
					<li><a href="/reviews" title="Reviews of Latest Robots">Reviews</a></li>
					<li><a href="/buy" title="Buy Robots">Buy Robots</a></li>
					<li><a href="/blog" title="Robot Reviews Blogs">Blogs</a></li>
					<li><a href="/wiki" title="Robot Wiki">Robot Wiki</a></li>
					<li><a href="/hack" title="Robot Hacking, Kits and Modifications.">Robot Mods</a></li>
					<li><a href="/chat" title="Robot Reviews Message Board" class="active">Robot Chat</a></li>
				</ul>
			</div>
		</div>
	</div>

<div id="wrap">
    <div class="border-left">
    <div class="border-right">
    <div class="border-top">
    <div class="border-top-left">
    <div class="border-top-right">
        <div class="inside" style="direction: ltr; ">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
        		<!--div class="headerbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<div id="site-description">
				<a href="./index.php?sid=df9099f03fd77c87d73c199a171e2025" title="Board index" id="logo"><img src="./styles/robotreviews/imageset/site_logo.gif" width="149" height="52" alt="" title="" /></a>
				<h1>Robot Reviews</h1>
				<p>Robot Reviews including Roomba &amp; Scooba News, Reviews and Discussion</p>
        				<p style="display: none;"><a href="#start_here">Skip to content</a></p>
			</div>

		
			<div id="search-box">
				<form action="./search.php?sid=df9099f03fd77c87d73c199a171e2025" method="get" id="search">
				<fieldset>
					<input name="keywords" id="keywords" type="text" maxlength="128" title="Search for keywords" class="inputbox search" value="Search…" onclick="if(this.value=='Search…')this.value='';" onblur="if(this.value=='')this.value='Search…';" />
					<input class="button2" value="Search" type="submit" /><br />
					<a href="./search.php?sid=df9099f03fd77c87d73c199a171e2025" title="View the advanced search options">Advanced search</a> <input type="hidden" name="sid" value="df9099f03fd77c87d73c199a171e2025" />

				</fieldset>
				</form>
			</div>
		

			<span class="corners-bottom"><span></span></span></div>
        		</div-->

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="./index.php?sid=df9099f03fd77c87d73c199a171e2025" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="./viewforum.php?f=15&amp;sid=df9099f03fd77c87d73c199a171e2025">Robots</a> <strong>&#8249;</strong> <a href="./viewforum.php?f=20&amp;sid=df9099f03fd77c87d73c199a171e2025">Neato Robotics</a></li>

				<li class="rightside"><a href="#" onclick="fontsizeup(); return false;" onkeypress="return fontsizeup(event);" class="fontsize" title="Change font size">Change font size</a></li>

				<li class="rightside"><a href="./viewtopic.php?f=20&amp;t=16210&amp;start=20&amp;sid=df9099f03fd77c87d73c199a171e2025&amp;view=print" title="Print view" accesskey="p" class="print">Print view</a></li><li class="rightside"><a href="http://www.facebook.com/share.php?u=http://www.robotreviews.com/chat/viewtopic.php?f=20%26t=16210" title="Share on Facebook" class="facebook" onclick="window.open(this.href);return false;">Share on Facebook</a></li><li class="rightside"><a href="http://twitter.com/home?status=http://www.robotreviews.com/chat/viewtopic.php?f=20%26t=16210" title="Share on Twitter" class="twitter" onclick="window.open(this.href);return false;">Share on Twitter</a></li><li class="rightside"><a href="http://del.icio.us/post?url=http://www.robotreviews.com/chat/viewtopic.php?f=20%26t=16210" title="Share on Delicious" class="delicious" onclick="window.open(this.href);return false;">Share on Delicious</a></li>
			</ul>

			

			<ul class="linklist rightside">

				<!-- Start Ultimate Points --><!-- End Ultimate Points -->
				<li class="icon-faq"><a href="./faq.php?sid=df9099f03fd77c87d73c199a171e2025" title="Frequently Asked Questions">FAQ</a></li>
				<li class="icon-register"><a href="./ucp.php?mode=register_rr&amp;sid=df9099f03fd77c87d73c199a171e2025">Register</a></li>
					<li class="icon-logout"><a href="./ucp.php?mode=login&amp;sid=df9099f03fd77c87d73c199a171e2025" title="Login" accesskey="x">Login</a></li>
				
			</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>

	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
<h2><a href="./viewtopic.php?f=20&amp;t=16210&amp;start=20&amp;sid=df9099f03fd77c87d73c199a171e2025">Worn Battery Indicator Light Mod</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">News and information about the Neato XV-11 Robotic Vacuum.  All discussion and troubleshooting questions go here.<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="./posting.php?mode=reply&amp;f=20&amp;t=16210&amp;sid=df9099f03fd77c87d73c199a171e2025" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="get" id="topic-search" action="./search.php?sid=df9099f03fd77c87d73c199a171e2025">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Search this topic…" onclick="if(this.value=='Search this topic…')this.value='';" onblur="if(this.value=='')this.value='Search this topic…';" />
				<input class="button2" type="submit" value="Search" />
				<input type="hidden" name="t" value="16210" />
<input type="hidden" name="sf" value="msgonly" />
<input type="hidden" name="sid" value="df9099f03fd77c87d73c199a171e2025" />

			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			34 posts
			 &bull; <a href="#" onclick="jumpto(); return false;" title="Click to jump to page…">Page <strong>2</strong> of <strong>2</strong></a> &bull; <span><a href="./viewtopic.php?f=20&amp;t=16210&amp;sid=df9099f03fd77c87d73c199a171e2025">1</a><span class="page-sep">, </span><strong>2</strong></span>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p112194" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="#p112194">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=112194&amp;sid=df9099f03fd77c87d73c199a171e2025#p112194"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a></strong> &raquo; December 5th, 2012, 4:27 am </p>

			

			<div class="content"><span style="font-weight: bold">Battery Monitor Schematic</span><br /><br />This is the circuit built almost ready to install; needs the companion vacuum air flow monitor circuit.  Think it will fit but can never tell; the case closes on a mock up.<br />[12/9/12 corrected resistor label lower left 56]</div>

			
				<dl class="attachbox">
					<dt>Attachments</dt>
					
						<dd>
		<dl class="thumbnail">
			<dt><a href="./download/file.php?id=5610&amp;sid=df9099f03fd77c87d73c199a171e2025&amp;mode=view"><img src="./download/file.php?id=5610&amp;t=1&amp;sid=df9099f03fd77c87d73c199a171e2025" alt="schematic7bw.jpg" title="schematic7bw.jpg (401.28 KiB) Viewed 2246 times" /></a></dt>
			<dd> Battery Monitor (airflow circuit separate)</dd>
		</dl>
		</dd>
					
				</dl>
			

		</div>

		
			<dl class="postprofile" id="profile112194">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1721</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p112318" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p112318">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=112318&amp;sid=df9099f03fd77c87d73c199a171e2025#p112318"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a></strong> &raquo; December 10th, 2012, 1:37 am </p>

			

			<div class="content"><span style="font-weight: bold">Monitor Circuit Assembly</span><br /><br />Parts like Mozart in Amadeus having &quot;too many notes&quot;.<br />The panel meter switches to time display with the reset button, and the clock restarts after viewing once.  Like the scene in Agatha Christie's &quot;Murder On The Orient Express&quot; where invisible ink shows only for a moment before heated paper bursts into flame.<br /><div class="inline-attachment">
		<dl class="thumbnail">
			<dt><a href="./download/file.php?id=5612&amp;sid=df9099f03fd77c87d73c199a171e2025&amp;mode=view"><img src="./download/file.php?id=5612&amp;t=1&amp;sid=df9099f03fd77c87d73c199a171e2025" alt="monitorpic2.jpg" title="monitorpic2.jpg (63.24 KiB) Viewed 2225 times" /></a></dt>
			<dd> assembled battery monitor circuit</dd>
		</dl>
		</div><br />Parts layout available free on request.</div>

			

		</div>

		
			<dl class="postprofile" id="profile112318">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1721</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p112986" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p112986">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=112986&amp;sid=df9099f03fd77c87d73c199a171e2025#p112986"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a></strong> &raquo; January 10th, 2013, 3:56 am </p>

			

			<div class="content"><span style="font-weight: bold"><span style="font-size: 150%; line-height: 116%;">Filter Monitor Schematic</span></span><br /><br />Meter measurements of vacuum current conceal pulse modulation affecting comparators.<br />The LED is compensated for battery voltage drops with age (which increases current to maintain constant power), but not the air flow readout.<br />A power meter IC computing IxV is available for a battery independent measure, Maxim MAX4211, but requires a prototyping adapter to install the 1/8&quot; surface mount device on perfboard (see <a href="http://www.robotreviews.com/chat/viewtopic.php?f=4&amp;t=16680" class="postlink-local">http://www.robotreviews.com/chat/viewtopic.php?f=4&amp;t=16680</a>).  Some of these are as large as two 16 pin DIP sockets, and whether can be fit in is not clear; plus the assembly service could be $20 with the adapter -- for a $3 IC; so skipping for now.<br /><div class="inline-attachment">
		<dl class="thumbnail">
			<dt><a href="./download/file.php?id=5648&amp;sid=df9099f03fd77c87d73c199a171e2025&amp;mode=view"><img src="./download/file.php?id=5648&amp;t=1&amp;sid=df9099f03fd77c87d73c199a171e2025" alt="schematic10.jpg" title="schematic10.jpg (262.59 KiB) Viewed 2142 times" /></a></dt>
			<dd> Neato filter monitor circuit</dd>
		</dl>
		</div><br />Edit 1/31/13:<br />For the opamp to invert battery voltage drops proportionately, and compensate for motor current increases without adding distortion,  the voltage divider on the battery input must closely equalize the two opamp inputs (measured at the divider before the 1M resistor), so the output also equals the inputs initially.  Instead of an additional trimmer use different values for the 62K ohm resistor, including adding a smaller resistor in series.  The opamp works by adjusting output divided through the feedback resistor to equalize the two inputs. Here the inverting input gets set half way between the battery voltage divider and the output (initially set equal).</div>

			
				<div class="notice">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a> on January 31st, 2013, 6:50 am, edited 2 times in total.
					
				</div>
			

		</div>

		
			<dl class="postprofile" id="profile112986">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1721</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p112987" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p112987">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=112987&amp;sid=df9099f03fd77c87d73c199a171e2025#p112987"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=1184&amp;sid=df9099f03fd77c87d73c199a171e2025">mfortuna</a></strong> &raquo; January 10th, 2013, 7:12 am </p>

			

			<div class="content">Nice circuit. I was wondering if an alternative may be use of the motor PWM signal to trigger an LED. Does the PWM signal get wider as the filter clogs? That way you may not have to compensate for battery voltage and save some circuitry.</div>

			<div id="sig112987" class="signature">Mike<br />Reds x 3, Dirt Dog, Disco (now a parts bot), Create, Scooba 350, and Security Dawg<br />Evolution Mint<br />Neato XV-11</div>

		</div>

		
			<dl class="postprofile online" id="profile112987">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=1184&amp;sid=df9099f03fd77c87d73c199a171e2025"><img src="./download/file.php?avatar=1184_1298837565.jpg" width="70" height="54" alt="User avatar" /></a><br />
				<a href="./memberlist.php?mode=viewprofile&amp;u=1184&amp;sid=df9099f03fd77c87d73c199a171e2025">mfortuna</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 5136</dd><dd><strong>Joined:</strong> February 5th, 2006, 10:35 am</dd><dd><strong>Location:</strong> NH</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p112996" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p112996">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=112996&amp;sid=df9099f03fd77c87d73c199a171e2025#p112996"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a></strong> &raquo; January 10th, 2013, 4:03 pm </p>

			

			<div class="content">My electronics is limited. <br />[correction, see following posts: PWM follows RPM, not vacuum power or current]<br /> As I understand it, the PWM (pulse width modulation) signal is a logic level square wave switching the motor voltage, so motor current is a mirror of it,  smoothed some by motor inductance, again mirrored in very low voltage across the ammeter shunt resistor.  All the same, equally affected by battery drift (see below}.  I guess you can smooth the PWM with a capacitor easier than amplifying shunt voltage, but don't have specs. When such pulses go through an LED brightness varies as the eye smooths the pulses.<br /><br />PWM might simplify as a higher voltage directly (smoothed) driving a comparator without battery compensation or closed intake subtraction,  but I've room for the opamp and like subtracting closed intake for display.  Not needed just to set a trigger point (and just a resistor can position the trimmer at an offset).<br />Comparators just like high voltages, inaccurate near ground.<br /><br />The battery drift is limited to around 10 per cent over many months, so could be ignored over short periods, but will significantly shift air flow readouts over long periods given twenty per cent differences etc. in filter states observed (see &quot;Electronic Filter Monitoring&quot; thread <a href="http://www.robotreviews.com/chat/viewtopic.php?f=20&amp;t=15981" class="postlink-local">http://www.robotreviews.com/chat/viewtopic.php?f=20&amp;t=15981</a>). The extra opamp is already in the dual 8-pin package, so used it.  The same thing occurs over a run, but you can only read the filter at the beginning before the bin fills anyway.<br /><br />The MAX4211(<a href="http://datasheets.maximintegrated.com/en/ds/MAX4210-MAX4211.pdf" class="postlink pdf_link" onclick="this.target='_blank';" rel="nofollow">http://datasheets.maximintegrated.com/en/ds/MAX4210-MAX4211.pdf</a>) looks the best; includes the comparator besides power readout.  Not sure how to filter pulsing; maybe easier, on the high voltage shunt signal (on high side of motor instead of ground, getting voltage with current) -- or filter power readout. Tinker, tinker (but no tailor, soldier or spy).<br /><br />Don't have an oscilloscope for more precision -- too expensive just for this.</div>

			
				<div class="notice">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a> on January 11th, 2013, 12:37 am, edited 1 time in total.
					
				</div>
			

		</div>

		
			<dl class="postprofile" id="profile112996">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1721</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p112997" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p112997">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=112997&amp;sid=df9099f03fd77c87d73c199a171e2025#p112997"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a></strong> &raquo; January 10th, 2013, 4:37 pm </p>

			

			<div class="content">[see following post corrections]<br />Instead of PWM the TACH signal used to adjust PWM should be the battery independent signal; the speed maintained with constant power.  I just don't know its specs and how to process it.  Yellow wire I think -- see &quot;inside the vacuum motor&quot; thread.  Maybe will check some multimeter readings, has a frequency thing and load factors.</div>

			
				<div class="notice">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a> on January 11th, 2013, 1:13 am, edited 1 time in total.
					
				</div>
			

		</div>

		
			<dl class="postprofile" id="profile112997">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1721</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p113008" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p113008">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=113008&amp;sid=df9099f03fd77c87d73c199a171e2025#p113008"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a></strong> &raquo; January 11th, 2013, 1:04 am </p>

			

			<div class="content"><span style="font-weight: bold">vacuum motor signals explained</span><br /><br />Examination revealed the PWM and TACH signals do not vary over changes in vacuum current.<br /><br />The TACH signal (yellow wire) is a DC voltage varied continuously up to 3v at the cleaning RPM speed (90 percent max rating).  The PWM signal (green wire) is around 1.65v at 238hz with load factor around 50 per cent at the cleaning speed.  It appears that PWM is used to set the RPM of the motor, which has feedback from the TACH sensor line, and normally they are related.<br /><br />The vacuum current change to maintain a given RPM under load changes, such as filter porosity, is produced by the control circuit inside the motor housing, adjusting current to meet the target RPM signaled by the PWM input, by whatever fancy means of modulating magnets.<br /><br />Vacuum current or power is thus the required signal for measuring air flow, as used in the circuit above.  Power is lower with a blocked intake because less work is done exhausting air, with a fixed RPM.  Regular vacuum cleaners increase speed with closed intakes lacking rpm control.<br /><br />Many thanks for pointing out the other signals.<br /><br />[addendum:  the convoluted pwm method of specifying rpm to the &quot;smart&quot; fan motor may be for compatibility with older generations of PC's where dynamic control of the cooling fan had to be done by the cpu externally and pulses governed the current directly.  Other Neato motors may be of that type.  Fancier little components keep appearing to expand small circuit functions.]</div>

			

		</div>

		
			<dl class="postprofile" id="profile113008">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1721</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p113271" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p113271">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=113271&amp;sid=df9099f03fd77c87d73c199a171e2025#p113271"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a></strong> &raquo; January 16th, 2013, 9:06 pm </p>

			

			<div class="content"><span style="font-weight: bold">More Compact Circuit</span><br /><br />The filter comparator happened to come in a dual 8-pin package, making a more compact timer possible.  The unused half can replace the digital time comparator using analog for both time and filter.  Moving the time trimmer to the back as setting both the timer and filter circuit can fit on one board instead of two piggy-back boards.   Does pile up more external meter access pins.   The timer has already been built so just for someone else who might use.</div>

			

		</div>

		
			<dl class="postprofile" id="profile113271">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1721</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p113513" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p113513">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=113513&amp;sid=df9099f03fd77c87d73c199a171e2025#p113513"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a></strong> &raquo; January 26th, 2013, 1:10 am </p>

			

			<div class="content"><span style="font-weight: bold">two layer construction</span><br /><br />Assembled filter and battery monitor is shown in two parts with the battery timer at right to fit over the filter monitor at left, made flat with soldered IC's.  The meter and button are shown upside down for display; the parts mount into the top of the Neato case opposite side to the LCD.  The odd shape is to fit the depth in the case. Half as much more space is available for a single layer construction, but would include the meter and button/light.<br />20 gauge solid wire makes perfect press fit attachment pins between perfboards.<br /><br />A Femto Arduino microcontroller would be smaller and is an interesting alternative to explore, though power consumption will be higher and depends on available inputs; maybe just one extra opamp would suffice, for the ammeter.  The controller might also be used to attach USB and WiFi interfaces as well.  A stack of 3v watch batteries could fit in if any use.  Lot of unknown details at this point.<br /><div class="inline-attachment">
		<dl class="thumbnail">
			<dt><a href="./download/file.php?id=5667&amp;sid=df9099f03fd77c87d73c199a171e2025&amp;mode=view"><img src="./download/file.php?id=5667&amp;t=1&amp;sid=df9099f03fd77c87d73c199a171e2025" alt="monitorlayers.jpg" title="monitorlayers.jpg (40.62 KiB) Viewed 1976 times" /></a></dt>
			<dd> assembled filter monitor and overlying battery monitor (right)</dd>
		</dl>
		</div><br /><br />Anyone new to disassembling Neato's should note some fragile parts and may want to check Disassambly Precautions <a href="http://www.robotreviews.com/chat/viewtopic.php?f=20&amp;t=16021&amp;p=108527&amp;hilit=disassembly#p108527" class="postlink-local">http://www.robotreviews.com/chat/viewtopic.php?f=20&amp;t=16021&amp;p=108527&amp;hilit=disassembly#p108527</a><br /><br /><div class="inline-attachment">
		<dl class="thumbnail">
			<dt><a href="./download/file.php?id=5688&amp;sid=df9099f03fd77c87d73c199a171e2025&amp;mode=view"><img src="./download/file.php?id=5688&amp;t=1&amp;sid=df9099f03fd77c87d73c199a171e2025" alt="layout5.jpg" title="layout5.jpg (670.55 KiB) Viewed 1883 times" /></a></dt>
			<dd> parts layouts done in free IrfanView</dd>
		</dl>
		</div><br />The bigger one is so messy might not be suitable for a family oriented website.<br />[edit: attaching multiple component leads to IC pins risks over-heating soldering; advise single jumpers from IC's to components, quickly soldered]<br />Construction tips: jumpers on the back of perfboard are 30 gauge wirewrap solid wire; 15 watt iron only (if not temperature controlled).  Same for multi-line cabling within the unit, to thread small openings.  Small inline connectors are required to disconnect parts in the top cover when removing that, best smaller than the existing wall sensor plug.  Also inline fuse all three powered lines: vacuum, battery, 5v -- with smallest 100ma fast blow 20mm fuses, in smaller, heat shrink covered bare clips instead of bulky standard mounts.</div>

			
				<div class="notice">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a> on April 8th, 2013, 2:35 pm, edited 2 times in total.
					
				</div>
			

		</div>

		
			<dl class="postprofile" id="profile113513">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1721</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p114041" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p114041">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=114041&amp;sid=df9099f03fd77c87d73c199a171e2025#p114041"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a></strong> &raquo; February 16th, 2013, 12:30 am </p>

			

			<div class="content"><span style="font-weight: bold">Component Revision -- Filter Monitor</span><br />Because of the pulsing signal from vacuum current, the filtered opamp output is some 25 per cent less than the value from the same shunt input in DC.  Average vs constant.   There is also a drop to the comparator from hysteresis when the led is initially on during rev up.  With 5v supply it is necessary to drop the air flow output range to 3v from 4v.  Instead of redoing the battery inverted input dividers from 5v and 16v, which turned out well balanced, I have added a 20K ohm resistor before the clogged level 50K trimmer (which mounts in the back of the vacuum), dropping the range for the comparator.  The opamp is adjusted similarly with the existing 2M trimmer to output around 3v for an unused original Neato filter as the maximum air flow -- measured at the comparator with the led off, 10 per cent lower than the opamp output.<br />If the panel meter is used, the divider to .5v must be adjusted accordingly.</div>

			

		</div>

		
			<dl class="postprofile" id="profile114041">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1721</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p114070" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p114070">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=114070&amp;sid=df9099f03fd77c87d73c199a171e2025#p114070"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a></strong> &raquo; February 17th, 2013, 3:29 pm </p>

			

			<div class="content"><span style="font-weight: bold">additional feature for future addition</span><br /><br />Memory for the filter alarm would be interesting so can be read without being present at the run.  Set the led blinking when parked, contrasting with steady timer alarm, if low air flow detected at the end of the first run minute (always low revving up).  When the led is blinking the reset button switched to first reset the filter display and revert to the battery monitor display.  If the led remains on (steady) the battery was low as well.  Pressing again resets the timer as before.  Needs more logic gates so not adding right away.<br />If was done with a microcontroller, could just redo the software.  Power requirements distasteful.<br /><br />Edit: dropping the panel meter, one of the switching transistors can drive the relay from logic gates.  Another quad NAND gate can supply another latching pair for air flow memory, maybe edge triggered through capacitive coupling, and maybe enough other gates to switch the reset function.  Without the panel mater the air flow board can be enlarged.</div>

			

		</div>

		
			<dl class="postprofile" id="profile114070">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1721</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p114275" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p114275">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=114275&amp;sid=df9099f03fd77c87d73c199a171e2025#p114275"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a></strong> &raquo; February 27th, 2013, 2:36 pm </p>

			

			<div class="content"><span style="font-weight: bold">component revision -- battery monitor timer</span><br /><br />The delayed reset relay switch does not need the diode shown in the schematic to the reset button; the capacitor charging relay terminal should go direct to 5v,  with a 4.7K resistor just in case the capacitor breaks down and shorts out, for fault tolerance. Replaces diode with resistor.<br /><br />Looking at possible designs for an analog time setting version with filter sense memory; requires testing.<br />Replacing the digital comparator and DIP switch (and eight resistors and diodes) with the unused analog comparator, reusing socket for filter memory gates and led blinker on one IC, to fit in same assembly.  The digital time setting avoids an external multimeter to set the trigger level, but the filter monitor requires a meter anyway.  Connecting a panel meter for calibration requires switches to connect trimmers to the panel meter, too bulky.  More attractive to add filter memory and require a multimeter for setting trigger levels.</div>

			

		</div>

		
			<dl class="postprofile" id="profile114275">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1721</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p114379" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p114379">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=114379&amp;sid=df9099f03fd77c87d73c199a171e2025#p114379"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a></strong> &raquo; March 3rd, 2013, 4:09 am </p>

			

			<div class="content"><span style="font-weight: bold">Analog Comparator Version Schematic -- With Filter Monitor Memory</span><br /><br />This version adds memory for the filter detection so that both battery and filter are indicated when parked after running, for most convenient access.  The LED is lit solid when starting until the fan reaches speed or after 30 seconds, then blinks if the filter is clogged and remains so until attended and reset.<br />When parked, the LED is lit if the run time was short by the standard set, unless blinking.  Only the first run in a multi-charge sequence is monitored, as the dust bin will fill up etc.  Resetting once when blinking reverts to solid for the run time if short, which is reset with a second button press.  The stopped clock time is output from the relay while the button is pressed.<br /><br />This version sets trigger levels on trimmers in the rear, more compact than digital DIP switches, but requires setting with a meter.  The digital comparator is replaced with a quad NAND gate IC in the same space for the additional functions. The unused analog comparator in the dual package on the filter board is used instead. A few component values are adjusted from the digital version to meet new requirements.<br />Small dpdt rotary switches 1/4&quot; surface mount are available should the panel meter be used for trimmer setting, switching between trimmers and readouts; would take several more cable leads to the rear.<br /><br />This version is mostly tested but might need another pull up, or another superfluous part eliminated.  Contact for revisions in the unlikely event anyone wants to use this, as opposed to admiring the artwork.<br /><br /><br /><br />Inquire operation of any feature in the circuits; amateurs learning digital electronics welcome.  Only basics used, as that's all I know. [edit] now fully tested in Neato system, no further revisions expected unless from field experience.</div>

			
				<dl class="attachbox">
					<dt>Attachments</dt>
					
						<dd>
		<dl class="thumbnail">
			<dt><a href="./download/file.php?id=5778&amp;sid=df9099f03fd77c87d73c199a171e2025&amp;mode=view"><img src="./download/file.php?id=5778&amp;t=1&amp;sid=df9099f03fd77c87d73c199a171e2025" alt="schematicanalog.jpg" title="schematicanalog.jpg (450.5 KiB) Viewed 1442 times" /></a></dt>
			<dd> Monitor With Battery and Filter Memory</dd>
		</dl>
		</dd>
					
				</dl>
			

		</div>

		
			<dl class="postprofile" id="profile114379">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1721</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p116235" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p116235">Re: Worn Battery Indicator Light Mod</a></h3>
			<p class="author"><a href="./viewtopic.php?p=116235&amp;sid=df9099f03fd77c87d73c199a171e2025#p116235"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a></strong> &raquo; May 22nd, 2013, 12:36 am </p>

			

			<div class="content"><span style="font-weight: bold">More Reasonable Method</span><br /><br />It turns out timing Neato's run or detecting whether a 2nd recharge run is made does not need a circuit inside the Neato.  An optical proximity detector (same as Neato's wall and cliff sensors) or just a microswitch, can detect whether Neato leaves the dock -- with an instrument mounted on the dock instead of in the Neato.  Then there is all the room desired for easier construction, any sort of display, interfaces to PC's etc.<br /><br />As for monitoring the filter it turns out an instrument can be mounted in the vacuum compartment without opening the Neato case (top cover), using a 2$ buck voltage converter to get logic circuit power off the vacuum motor supply.  This supply even turns on just invoking Test Mode over USB, without running any motors.  It also handily comes on and off as Neato runs.  <br /><br />I also find more detailed knowledge of filter performance allows following a schedule for vacuuming and replacement of filters, without having continuous filter monitoring.  This data is still being collected but a lot is already on hand (see thread Electronic Filter Monitoring).<br /><br />It was still interesting to discover all the techniques required to make the battery and filter monitor circuit.  It comes out a bit bulky with the tightest perfboard construction, vertical resistors etc.,  compared to manufactured surface mount parts and printed circuit boards. Though it fits I am concerned about effects on cooling inside the Neato case, occupying so much space.  There was just a post about adding heat sinks inside the Neato for what appeared to be heat problems in the unmodified unit.<br /><br />Incidentally, Neato has a hidden prototype circuit bay, also accessible without opening the case  -- the dust bin.  Suitably bagged components can go there and still leave a lot of room for that container's main purpose.<br /><br />[edit] see Dock-Base Run Length Clock <a href="http://www.robotreviews.com/chat/viewtopic.php?f=20&amp;t=17069" class="postlink-local">http://www.robotreviews.com/chat/viewtopic.php?f=20&amp;t=17069</a> for my preferred solution.<br /><br />[edit] A simpler filter monitoring part is a continuous readout using led's in a vent slot. Measurement circuit improved as well.  <a href="http://www.robotreviews.com/chat/viewtopic.php?f=20&amp;t=17188" class="postlink-local">http://www.robotreviews.com/chat/viewtopic.php?f=20&amp;t=17188</a></div>

			

		</div>

		
			<dl class="postprofile" id="profile116235">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=df9099f03fd77c87d73c199a171e2025">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1721</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="./viewtopic.php?f=20&amp;t=16210&amp;start=20&amp;sid=df9099f03fd77c87d73c199a171e2025">

	<fieldset class="display-options" style="margin-top: 0; ">
		<a href="./viewtopic.php?f=20&amp;t=16210&amp;sid=df9099f03fd77c87d73c199a171e2025&amp;start=0" class="left-box left">Previous</a>
		<label>Display posts from previous: <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select></label>
		<label>Sort by <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select> <input type="submit" name="sort" value="Go" class="button2" /></label>
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="./posting.php?mode=reply&amp;f=20&amp;t=16210&amp;sid=df9099f03fd77c87d73c199a171e2025" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="pagination">
			34 posts
			 &bull; <a href="#" onclick="jumpto(); return false;" title="Click to jump to page…">Page <strong>2</strong> of <strong>2</strong></a> &bull; <span><a href="./viewtopic.php?f=20&amp;t=16210&amp;sid=df9099f03fd77c87d73c199a171e2025">1</a><span class="page-sep">, </span><strong>2</strong></span>
		</div>
	
</div>


	<p></p><p><a href="./viewforum.php?f=20&amp;sid=df9099f03fd77c87d73c199a171e2025" class="left-box left" accesskey="r">Return to Neato Robotics</a></p>

	<form method="post" id="jumpbox" action="./viewforum.php?sid=df9099f03fd77c87d73c199a171e2025" onsubmit="if(this.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Jump to:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Select a forum</option>
			<option value="-1">------------------</option>
				<option value="15">Robots</option>
			
				<option value="1">&nbsp; &nbsp;iRobot Roomba and Scooba Chat</option>
			
				<option value="20" selected="selected">&nbsp; &nbsp;Neato Robotics</option>
			
				<option value="22">&nbsp; &nbsp;Samsung Robots</option>
			
				<option value="21">&nbsp; &nbsp;iRobot Braava - Evolution Robotics</option>
			
				<option value="23">&nbsp; &nbsp;Sphero</option>
			
				<option value="6">&nbsp; &nbsp;All Other Robots</option>
			
				<option value="10">&nbsp; &nbsp;Robotic Reviews</option>
			
				<option value="11">&nbsp; &nbsp;Buy / Sell / Trade</option>
			
				<option value="12">&nbsp; &nbsp;Robotic News</option>
			
				<option value="13">&nbsp; &nbsp;International Robotics Forum</option>
			
				<option value="14">&nbsp; &nbsp;iRobot Looj Chat</option>
			
				<option value="16">Robotic Playground</option>
			
				<option value="4">&nbsp; &nbsp;Robotic Hacking</option>
			
				<option value="17">Off Topic (Non-Roomba)</option>
			
				<option value="3">&nbsp; &nbsp;General Chit-Chat (Off Topic)</option>
			
				<option value="5">&nbsp; &nbsp;Site Suggestions and Feedback</option>
			
				<option value="18">Just For Fun</option>
			
				<option value="7">&nbsp; &nbsp;The Official RoomBud Lovers Forum</option>
			
			</select>
			<input type="submit" value="Go" class="button2" />
		</fieldset>
	</form>


	<h3>Who is online</h3>
	<p>Users browsing this forum: <a href="./memberlist.php?mode=viewprofile&amp;u=1184&amp;sid=df9099f03fd77c87d73c199a171e2025">mfortuna</a>, <a href="./memberlist.php?mode=viewprofile&amp;u=20263&amp;sid=df9099f03fd77c87d73c199a171e2025">peswe</a>, <a href="./memberlist.php?mode=viewprofile&amp;u=22622&amp;sid=df9099f03fd77c87d73c199a171e2025">pinmonkey001</a> and 211 guests</p>
<div class="mobile-style-switch mobile-style-switch-footer" style="padding: 5px; text-align: center;"><a href="./viewtopic.php?f=20&amp;t=16210&amp;start=20&amp;sid=df9099f03fd77c87d73c199a171e2025&amp;mobile=mobile">Switch to mobile style</a></div></div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="./index.php?sid=df9099f03fd77c87d73c199a171e2025" accesskey="h">Board index</a></li>
				
				<li><a href="./rss.php?sid=df9099f03fd77c87d73c199a171e2025" title="Click here to add RSS feed "><img src="./styles/robotreviews/theme/images/icon_rss.gif"/></a></li> 
			<li class="rightside"><a href="./memberlist.php?mode=leaders&amp;sid=df9099f03fd77c87d73c199a171e2025">The team</a> &bull; <a href="./ucp.php?mode=delete_cookies&amp;sid=df9099f03fd77c87d73c199a171e2025">Delete all board cookies</a> &bull; All times are UTC - 5 hours [ <abbr title="Daylight Saving Time">DST</abbr> ]</li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>
	
<!--
	We request you retain the full copyright notice below including the link to www.phpbb.com.
	This not only gives respect to the large amount of time given freely by the developers
	but also helps build interest, traffic and use of phpBB3. If you (honestly) cannot retain
	the full copyright we ask you at least leave in place the "Powered by phpBB" line, with
	"phpBB" linked to www.phpbb.com. If you refuse to include even this then support on our
	forums may be affected.

	The phpBB Group : 2006
//-->

	<div class="copyright"><a href="http://www.phpbb.com"></a><a href="http://www.phpbb.com">php-BB</a> &copy;  2000 - 2012 , php BB Group
		
	</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	
</div></div></div></div></div></div>

<div id="footer">
			<p>&copy; Copyright 2013</p>			<ul class="menu"><li class="leaf first"><a href="/" title="">Home</a></li>
<li class="leaf last"><a href="/content/legal" title="Robot Wiki">Legal</a></li>
<li class="leaf last">Bitcoin Address: <a href="bitcoin:1KjNe2ey9PxN1Qo55Dy9H3ZV9p9umvhWTk?amount=0.01&amp;label=Support Robot Reviews&amp;message=Support Robot Reviews">1KjNe2ey9PxN1Qo55Dy9H3ZV9p9umvhWTk</a></li>
			</ul>		
</div>
</div>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-129467-6");
pageTracker._trackPageview();
} catch(err) {}</script>
	
</body>
</html>
