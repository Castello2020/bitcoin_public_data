http://www.robotreviews.com/chat/viewtopic.php?f=20&t=16210
HTTP/1.1 200 OK
Date: Tue, 22 Jul 2014 23:25:50 GMT
Server: Apache
Cache-Control: private, no-cache="set-cookie"
Expires: 0
Pragma: no-cache
Set-Cookie: phpbb3_cxnjc_u=1; expires=Wed, 22-Jul-2015 23:25:50 GMT; path=/; domain=.robotreviews.com; HttpOnly
Set-Cookie: phpbb3_cxnjc_k=; expires=Wed, 22-Jul-2015 23:25:50 GMT; path=/; domain=.robotreviews.com; HttpOnly
Set-Cookie: phpbb3_cxnjc_sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09; expires=Wed, 22-Jul-2015 23:25:50 GMT; path=/; domain=.robotreviews.com; HttpOnly
Set-Cookie: phpbb3_cxnjc_mobile=; expires=Wed, 22-Jul-2015 23:25:50 GMT; path=/; domain=.robotreviews.com; HttpOnly
X-Powered-By: PleskLin
Connection: close
Content-Type: text/html; charset=UTF-8

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-us" xml:lang="en-us">
<head>

<script type="text/javascript" src="./mobiquo/tapatalkdetect.js"></script>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-us" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="robots, robot, roomba, neato" />
<meta name="description" content="Robot Reviews including Roomba &amp; Scooba News, Reviews and Discussion" />
<script type="text/javascript"> var phpBBMobileStyle = false, phpBBMobileVar = 'mobile'; </script><script type="text/javascript" src="./styles/art_mobile/template/detect.js?t=1374730655"></script>
<title>Worn Battery Indicator Light Mod &bull; Robot Reviews</title>

<link rel="alternate" title="Robot Chat RSS feed" href="rss.php" type="application/rss+xml">
<link rel="alternate" type="application/atom+xml" title="Feed - Robot Reviews" href="http://www.robotreviews.com/chat/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - News" href="http://www.robotreviews.com/chat/feed.php?mode=news" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="http://www.robotreviews.com/chat/feed.php?mode=forums" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://www.robotreviews.com/chat/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="http://www.robotreviews.com/chat/feed.php?mode=topics_active" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Neato Robotics" href="http://www.robotreviews.com/chat/feed.php?f=20" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Worn Battery Indicator Light Mod" href="http://www.robotreviews.com/chat/feed.php?f=20&amp;t=16210" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:
-->



<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Enter the page number you wish to go to.:';
	var on_page = '1';
	var per_page = '20';
	var base_url = './viewtopic.php?f=20&amp;t=16210&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.robotreviews.com';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	};

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	};

// ]]>
</script>
<script type="text/javascript" src="./styles/robotreviews/template/styleswitcher.js"></script>
<script type="text/javascript" src="./styles/robotreviews/template/forum_fn.js"></script>

<link href="./styles/robotreviews/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="./style.php?id=2&amp;lang=en&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="./styles/robotreviews/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="./styles/robotreviews/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="./styles/robotreviews/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />



</head>

<body id="phpbb" class="section-viewtopic ltr">
	<div id="header-container">
		<div id="header">
			<h1><a href="/" title="Home">RobotReviews.com</a></h1>
			<div id="header-right">
				
				<div id="block-block-1" class="block block-block">
					<div class="content"><ul><li><a id="register" href="/chat/ucp.php?mode=register_rr">Register</a></li><li><a id="login" href="/user">Login</a></li></ul></div>
				</div>
				
				<div id="header-search">
					
					<form action="./search.php?sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" method="post" id="search-theme-form">
							<input name="keywords" id="keywords" type="text" maxlength="128" title="Search for keywords" class="form-text" value="Search…" onclick="if(this.value=='Search…')this.value='';" onblur="if(this.value=='')this.value='Search…';" /> 
							<input class="form-submit" value="Search" type="submit" /><br />
							<a href="./search.php?sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" title="View the advanced search options">Advanced search</a> <input type="hidden" name="sid" value="a33d4d01f3e747ebbf0aa6b6c3bf7d09" />

					</form>
					
				</div>
			</div>
		</div>
	</div>
	<div id="rr-navigation-container">
		<div id="rr-navigation">
			<div id="main_menu">
				<ul class="menu">
					<li><a href="/" title="Home Page">Home</a></li>
					<li><a href="/news" title="Latest News, Updates">News</a></li>
					<li><a href="/reviews" title="Reviews of Latest Robots">Reviews</a></li>
					<li><a href="/buy" title="Buy Robots">Buy Robots</a></li>
					<li><a href="/blog" title="Robot Reviews Blogs">Blogs</a></li>
					<li><a href="/wiki" title="Robot Wiki">Robot Wiki</a></li>
					<li><a href="/hack" title="Robot Hacking, Kits and Modifications.">Robot Mods</a></li>
					<li><a href="/chat" title="Robot Reviews Message Board" class="active">Robot Chat</a></li>
				</ul>
			</div>
		</div>
	</div>

<div id="wrap">
    <div class="border-left">
    <div class="border-right">
    <div class="border-top">
    <div class="border-top-left">
    <div class="border-top-right">
        <div class="inside" style="direction: ltr; ">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
        		<!--div class="headerbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<div id="site-description">
				<a href="./index.php?sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" title="Board index" id="logo"><img src="./styles/robotreviews/imageset/site_logo.gif" width="149" height="52" alt="" title="" /></a>
				<h1>Robot Reviews</h1>
				<p>Robot Reviews including Roomba &amp; Scooba News, Reviews and Discussion</p>
        				<p style="display: none;"><a href="#start_here">Skip to content</a></p>
			</div>

		
			<div id="search-box">
				<form action="./search.php?sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" method="get" id="search">
				<fieldset>
					<input name="keywords" id="keywords" type="text" maxlength="128" title="Search for keywords" class="inputbox search" value="Search…" onclick="if(this.value=='Search…')this.value='';" onblur="if(this.value=='')this.value='Search…';" />
					<input class="button2" value="Search" type="submit" /><br />
					<a href="./search.php?sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" title="View the advanced search options">Advanced search</a> <input type="hidden" name="sid" value="a33d4d01f3e747ebbf0aa6b6c3bf7d09" />

				</fieldset>
				</form>
			</div>
		

			<span class="corners-bottom"><span></span></span></div>
        		</div-->

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="./index.php?sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="./viewforum.php?f=15&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">Robots</a> <strong>&#8249;</strong> <a href="./viewforum.php?f=20&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">Neato Robotics</a></li>

				<li class="rightside"><a href="#" onclick="fontsizeup(); return false;" onkeypress="return fontsizeup(event);" class="fontsize" title="Change font size">Change font size</a></li>

				<li class="rightside"><a href="./viewtopic.php?f=20&amp;t=16210&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09&amp;view=print" title="Print view" accesskey="p" class="print">Print view</a></li><li class="rightside"><a href="http://www.facebook.com/share.php?u=http://www.robotreviews.com/chat/viewtopic.php?f=20%26t=16210" title="Share on Facebook" class="facebook" onclick="window.open(this.href);return false;">Share on Facebook</a></li><li class="rightside"><a href="http://twitter.com/home?status=http://www.robotreviews.com/chat/viewtopic.php?f=20%26t=16210" title="Share on Twitter" class="twitter" onclick="window.open(this.href);return false;">Share on Twitter</a></li><li class="rightside"><a href="http://del.icio.us/post?url=http://www.robotreviews.com/chat/viewtopic.php?f=20%26t=16210" title="Share on Delicious" class="delicious" onclick="window.open(this.href);return false;">Share on Delicious</a></li>
			</ul>

			

			<ul class="linklist rightside">

				<!-- Start Ultimate Points --><!-- End Ultimate Points -->
				<li class="icon-faq"><a href="./faq.php?sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" title="Frequently Asked Questions">FAQ</a></li>
				<li class="icon-register"><a href="./ucp.php?mode=register_rr&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">Register</a></li>
					<li class="icon-logout"><a href="./ucp.php?mode=login&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" title="Login" accesskey="x">Login</a></li>
				
			</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>

	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
<h2><a href="./viewtopic.php?f=20&amp;t=16210&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">Worn Battery Indicator Light Mod</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">News and information about the Neato XV-11 Robotic Vacuum.  All discussion and troubleshooting questions go here.<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="./posting.php?mode=reply&amp;f=20&amp;t=16210&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="get" id="topic-search" action="./search.php?sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Search this topic…" onclick="if(this.value=='Search this topic…')this.value='';" onblur="if(this.value=='')this.value='Search this topic…';" />
				<input class="button2" type="submit" value="Search" />
				<input type="hidden" name="t" value="16210" />
<input type="hidden" name="sf" value="msgonly" />
<input type="hidden" name="sid" value="a33d4d01f3e747ebbf0aa6b6c3bf7d09" />

			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			34 posts
			 &bull; <a href="#" onclick="jumpto(); return false;" title="Click to jump to page…">Page <strong>1</strong> of <strong>2</strong></a> &bull; <span><strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=20&amp;t=16210&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09&amp;start=20">2</a></span>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p109100" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="#p109100">Worn Battery Indicator Light Mod</a></h3>
			<p class="author"><a href="./viewtopic.php?p=109100&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p109100"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a></strong> &raquo; July 8th, 2012, 2:11 am </p>

			

			<div class="content"><span style="font-weight: bold">Indicator Light For Worn Out Battery Needing Replacement</span><br /><br />This circuit is a possible way to turn on a LED whenever the battery voltage falls below a certain level and keep it lit.  It has been suggested if battery supply falls below 13v after half an hour use, this might indicate a bad battery (see thread &quot;Neato with a Voltage monitor&quot;,<a href="http://www.robotreviews.com/chat/viewtopic.php?f=20&amp;t=16111" class="postlink-local">http://www.robotreviews.com/chat/viewtopic.php?f=20&amp;t=16111</a>) .  In other words, excessive drop in voltage from discharge is the indicator; discharge always drops the voltage, but the bad batteries presumably drop too much, too fast.   If the degree of drop alone, and not just its speed, observed sometime during a typical vacuum run can indicate battery condition, this circuit might be useful.<br /><br />It is inconvenient to observe the shortfall because readings must be taken after running some time, and because once returning to the charger the indication is lost.  Running Neato while out of the house certainly produces that situation.  So having a voltmeter may be useful to discover what shortfall indicates a bad battery, but does not make it easy to monitor the condition.<br /><br />This circuit uses a voltage comparator chip with output through a pair of open collector inverter drivers to latch an LED on whenever the voltage falls below a certain level, and keep the LED lit until the reset switch is opened (normally closed momentary button), even if the input voltage rises again.  The comparator relies on Neato supplying regulated 5V for logic circuits, such as the wall and cliff sensors, which remains unaffected by small drops in 15V supply.   I think all the parts are at Radio Shack.  Some tinkering required to set the voltage divider resistances to fix the proper trigger level; a potentiometer might be needed.<br /><br />The inverters were chosen for the latch merely because already in use for a wall following circuit; all sorts of latching chips exist, but this one also happens to provide drive power for an LED.  This is just one chip I happen to know, and am no expert in such circuits generally.</div>

			
				<dl class="attachbox">
					<dt>Attachments</dt>
					
						<dd>
		<dl class="thumbnail">
			<dt><a href="./download/file.php?id=5374&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09&amp;mode=view"><img src="./download/file.php?id=5374&amp;t=1&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" alt="lowbatlight.jpg" title="lowbatlight.jpg (39 KiB) Viewed 8352 times" /></a></dt>
			<dd> low battery latching indicator light circuit</dd>
		</dl>
		</dd>
					
				</dl>
			
				<div class="notice">Last edited by <a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a> on April 5th, 2013, 5:34 pm, edited 2 times in total.
					
				</div>
			

		</div>

		
			<dl class="postprofile" id="profile109100">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1719</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p109105" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p109105">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=109105&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p109105"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=1184&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">mfortuna</a></strong> &raquo; July 8th, 2012, 7:28 am </p>

			

			<div class="content">I think you need a current limiting resistor in series with the LED.</div>

			<div id="sig109105" class="signature">Mike<br />Reds x 3, Dirt Dog, Disco (now a parts bot), Create, Scooba 350, and Security Dawg<br />Evolution Mint<br />Neato XV-11</div>

		</div>

		
			<dl class="postprofile" id="profile109105">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=1184&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09"><img src="./download/file.php?avatar=1184_1298837565.jpg" width="70" height="54" alt="User avatar" /></a><br />
				<a href="./memberlist.php?mode=viewprofile&amp;u=1184&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">mfortuna</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 5136</dd><dd><strong>Joined:</strong> February 5th, 2006, 10:35 am</dd><dd><strong>Location:</strong> NH</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p109111" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p109111">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=109111&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p109111"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a></strong> &raquo; July 8th, 2012, 3:15 pm </p>

			

			<div class="content">LED resistor -- thanks for catching omission; 5v is too high for those I expect. The comparator output is on/off same as the second inverter, so might put the LED there sharing the pull up resistor (5-4.7K), have to check works for pullup (with the diode) and led size.  Readable comparator tutorial: <a href="http://home.cogeco.ca/~rpaisley4/Comparators.html" class="postlink" onclick="this.target='_blank';" rel="nofollow">http://home.cogeco.ca/~rpaisley4/Comparators.html</a>.  Smallest led's reduce holes in Neato cover.<br /><br />Eensy weensy reset switch:<a href="http://www.ebay.com/itm/5-x-TINY-SPDT-Tactile-Switch-Momentary-Button-Click-On-/110714626950?pt=LH_DefaultDomain_0&amp;hash=item19c71b2386" class="postlink" onclick="this.target='_blank';" rel="nofollow">http://www.ebay.com/itm/5-x-TINY-SPDT-Tactile-Switch-Momentary-Button-Click-On-/110714626950?pt=LH_DefaultDomain_0&amp;hash=item19c71b2386</a><br /><br />Another way to reset is ground the input to the second inverter.<br /><br />With quad package comparator chips one could put an amber and a red led with different degrees of deterioration, maybe show through single hole in case.  Got five unused inverters on wall sensor.  Track increasing deterioration over time.<br /><br />Found .12 Ohm 1/2 watt resistors at Radio Shack for current shunts, need only two or three in parallel for 74mv meters (on the vacuum current monitor), max scale around 1.5 amps.  Have to see if can go in the vacuum compartment and deliver a 10mv DC signal over a foot of wire to meter, or have to place close and run the whole power line, needing 24 gauge instead of 26 gauge wire for 2A capacity.</div>

			

		</div>

		
			<dl class="postprofile" id="profile109111">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1719</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p109114" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p109114">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=109114&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p109114"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a></strong> &raquo; July 8th, 2012, 4:09 pm </p>

			

			<div class="content">added stuff last post above; apologies the editing, try to avoid multiple posts.</div>

			

		</div>

		
			<dl class="postprofile" id="profile109114">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1719</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p109159" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p109159">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=109159&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p109159"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a></strong> &raquo; July 10th, 2012, 7:27 pm </p>

			

			<div class="content"><span style="font-weight: bold">Combined LED and Reset Switch</span><br /><br />The alternate normally open reset switch allows combining the LED and switch: press light to reset.  Fits flush with cover surface.<br /><br />A 15-turn 10K potentiometer in the back can be combined with bracket resistors to adjust trigger voltage over, say, a 12-16V range, accessible opening the bottom plate only.  Noting voltage after a run without charger present, a lower trigger value can be set as an indicator of battery wear. (Applying an ohm meter when components are attached to Neato circuits can damage components; voltages can be used to measure ratios).</div>

			
				<dl class="attachbox">
					<dt>Attachments</dt>
					
						<dd>
		<dl class="thumbnail">
			<dt><a href="./download/file.php?id=5376&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09&amp;mode=view"><img src="./download/file.php?id=5376&amp;t=1&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" alt="ledswitchRS.jpg" title="ledswitchRS.jpg (18.73 KiB) Viewed 8275 times" /></a></dt>
			<dd> Radio Shack LED on separate tact switch</dd>
		</dl>
		</dd>
					
						<dd>
		<dl class="thumbnail">
			<dt><a href="./download/file.php?id=5375&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09&amp;mode=view"><img src="./download/file.php?id=5375&amp;t=1&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" alt="ledswitch.jpg" title="ledswitch.jpg (18.41 KiB) Viewed 8275 times" /></a></dt>
			<dd> Ebay listing combined LED and Tact Switch</dd>
		</dl>
		</dd>
					
				</dl>
			

		</div>

		
			<dl class="postprofile" id="profile109159">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1719</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p109161" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p109161">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=109161&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p109161"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a></strong> &raquo; July 10th, 2012, 11:30 pm </p>

			

			<div class="content"><span style="font-size: 150%; line-height: 116%;"><span style="font-weight: bold">Software Suggestion</span></span><br /><br />In the unlikely event any Neato Corp. engineers read this stuff, there may be a fairly simple way to warn users of worn batteries.  If return-for-charging is triggered by a battery voltage level (ignoring the more sophisticated aspects) then detecting abnormally fast depletion against the clock, say returning at 75 per cent of normal time, could set a flag to display a battery warning message on the LCD.  Sophisticated parts such as distance to base etc. are not too hard to factor in; abnormally fast depletion can be detected in software.<br /><br />It is annoying to customers to have to discover bad batteries by malfunctions in the device, which are hard to interpret and can have multiple causes.  Or does Neato expect everyone to replace the whole unit the minute the slightest deviance occurs?  If so, it is not a real consumer appliance, and marketing as such would best be ignored.<br />Consumer Reports magazine, for example, has taken a very derogatory stance towards all similar devices, and those types won't be won over by ignoring such features as convenient maintenance.</div>

			

		</div>

		
			<dl class="postprofile" id="profile109161">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1719</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p109259" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p109259">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=109259&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p109259"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a></strong> &raquo; July 15th, 2012, 12:10 am </p>

			

			<div class="content"><span style="font-weight: bold">complications</span><br />This circuit is not likely to work without a time delay for taking a voltage reading.  Excessive under-voltage at start will just read as a battery low error on the Neato and it won't run.  Excess depletion during a run will just cause a premature return to base; the lost time will not be revealed.  Worst case it will fail to complete return and dock.  The whole point is identifying battery wear as the cause of that, so something more is needed than simply detecting a certain voltage level.  What's needed is a comparison of a &quot;normal&quot; voltage level after several minutes run with a lower level at that time indicating excess depletion.  The same lower level will normally be reached after more run time, so the level alone is insufficient.  Time is of the essence as they say.</div>

			

		</div>

		
			<dl class="postprofile" id="profile109259">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1719</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p110120" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p110120">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=110120&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p110120"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a></strong> &raquo; August 22nd, 2012, 2:33 pm </p>

			

			<div class="content"><span style="font-weight: bold">When to measure under-voltage</span><br />I have a circuit to install in the Neato with a timer and comparator IC, but am reviewing the useful time to translate battery undervoltage into an indicator of wear, whether this can be done early in the vacuum run or has to be near the end.  Either is possible with the 4060 timer/counter IC easy to use.  An old post by Tim Taler from thread &quot;Inside the Neato Battery&quot; has very useful data: <a href="http://www.mpoweruk.com/life.htm#dod" class="postlink" onclick="this.target='_blank';" rel="nofollow">http://www.mpoweruk.com/life.htm#dod</a><br /><br />The discharge curve for batteries shows an initial small drop in the first few minutes of runs to a plateau over most of the run, then a more rapid drop nearing empty.  Wear reduces capacity shortening run time, producing a larger undervolt at the normal finish time for a worn battery.  Whether the initial drop or the final drop needs to be tested is the issue.<br /><br />The data reveal Neato and Roomba battery life is limited by the demands of using deep discharge to fit the needed capacity in the small robot size.  Deeper discharges lower available recharge cycles.  Hybrid cars probably lasts longer because of excess capacity supplied with more space (Prius says battery never discharged below 30 per cent -- insuring motor can always start).<br /><br />The example of comparator use above is incomplete.  A complication was found where they oscillate in a region close to the crossing point -- why logic gates well separate high and low levels.  For slowly changing inputs a resistor is commonly added between the output and an input forcing the differential around the oscillation zone, an instance of hysteresis, sometimes mentioned in the part specs. Value must be set for the specific input configuration.  Preliminary schematic available on request.  The popular LM series of comparators appeared to have very wide oscillating ranges, and only an NTE1434 worked well.</div>

			

		</div>

		
			<dl class="postprofile" id="profile110120">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1719</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p110172" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p110172">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=110172&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p110172"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a></strong> &raquo; August 26th, 2012, 2:18 am </p>

			

			<div class="content"><span style="font-weight: bold">discharge curves</span><br />This data indicates old, unrestored NiMh batteries, due for &quot;max runs&quot;,  exhibit lower voltages even after recharging, at the start of runs.<br /><a href="http://adventuresinarduinoland.blogspot.com/2011/02/easy-nimh-discharge-curves_08.html" class="postlink" onclick="this.target='_blank';" rel="nofollow">http://adventuresinarduinoland.blogspot.com/2011/02/easy-nimh-discharge-curves_08.html</a><br /><br />Another graph of usage effect on capacity in<br /><a href="http://www.idea2ic.com/FUN_DOCUMENTS/Battery%20Life%20%28and%20Death%29.pdf" class="postlink pdf_link" onclick="this.target='_blank';" rel="nofollow">http://www.idea2ic.com/FUN_DOCUMENTS/Battery%20Life%20%28and%20Death%29.pdf</a><br /><br />I may try a circuit with the following algorithm:<br />Set the comparator to the voltage found when Neato interrupts a run with a return to base for recharging.  Use the comparator transition which indicates recharging, as signal to record the state of transpired time at that moment, i.e whether run time was shorter than normal maximum by some amount; the normal maximum run time would then not be a recorded event.  When run times are usually shorter than maximum, any premature, unexpected recharge will be detected and recorded for display until attended.   Detection occurs only when a premature recharge occurs during the usual shorter than maximum run; loss of capacity for longer runs will not be indicated, as the capacity is never used.  Since never used, there is no need to replace or recondition the battery for that unused capacity loss from age.  In other words, Neato will shorten run times from aging batteries before other malfunctions will occur.<br />As battery capacity decreases with age, available run time will decrease, but the significance will depend on usage, whether multiple charge runs are always needed, or shorter than maximum runs normally done without recharging.</div>

			

		</div>

		
			<dl class="postprofile" id="profile110172">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1719</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p110188" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p110188">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=110188&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p110188"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a></strong> &raquo; August 26th, 2012, 3:11 pm </p>

			

			<div class="content"><span style="font-weight: bold">run time from clock only</span><br />Run-time till recharging required needs no voltage measurement, as vacuum power shuts off at end of run to stop a running timer and compare output to a standard.  Timer settings can be analog or digital.  The whole thing may get replaced by a simpler method when data on aged batteries becomes available, allowing simple voltage measurements to indicate age independent of the run time, which varies with the environment.<br /><br />Neato describes new battery run time for NiMh varied from 1hr on carpet to 1.5 hrs on hard floors.  Battery life is described in the industry as 20 per cent loss of capacity.  Expressing as run time in six minute units takes 4 bits covering 90 minutes for digital methods, and analog methods have a signal already included in timer IC's.  With digital methods, time at the end of a run can be simply transferred to a standard with a switch.  Analog methods require a calibration table for use with a multimeter connected for the purpose, or tedious trials with a stop watch.<br /><br />The timing method can serve to indicate when the voltage calibration measurements for a simpler indicator can be taken, when the batteries eventually wear out.  The Neato may last several years and have batteries replaced several times, so still interesting.</div>

			

		</div>

		
			<dl class="postprofile" id="profile110188">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1719</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p110230" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p110230">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=110230&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p110230"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a></strong> &raquo; August 27th, 2012, 10:21 pm </p>

			

			<div class="content"><span style="font-weight: bold">timing based design</span><br />What I seem to have settled on is mounting the 1/2 x 3/4 airflow current display (a la Vic's voltage monitor), on top of left-over flat tact switches on hand at the corners, atop my board with additional IC's.  This provides a reset switch instead of an extra hole for a lighted button.  Avoiding all unnecessary case modification and associated stress of making them with limited skill.  At least there are replacement top covers in case of mistakes.<br /><br />One light proves insufficient anyway.  Trying five led's shining through the ventilation slits on the Neato top, in a binary representation of the run time detected shorter than a standard set on a tiny DIP switch behind the exhaust grate (the timer IC is a binary instead of decade counter, convenient for its built-in RC controlled oscillator).  A digital magnitude comparator IC performs detection against the binary counter clock.  No battery voltage measurement, just timing.  Only four bits for the setting, sufficient, but five bits preferred for showing run time.<br />I need this timer anyway to turn on and off the vacuum flow display automatically, so this all just gets the most out of the components.<br /><br />Once a shortened run time is detected, the clock does not run again until reset by pressing down the vacuum display.  Otherwise a very short extra run after charging would appear on the clock time.  Dispenses with an extra component to store clock data for display -- just show the clock output when stopped, with LED's enabled only when a detection occurred, through the common ground.  The dark grey XV-11 case might not show lights as well as the newer white cases; could always silver bottoms of the slits.<br /><br />Once a premature charging is detected, with sufficient age some years from now, measurement of the aged battery discharge profile by multimeter will be possible.  Only then can uses of voltage comparators be evaluated -- if even then.  Ideally a curve relating internal resistance to capacity over time is needed, not found anywhere yet.  There could still be an issue of calibrating for different environments, given how unused capacity can be lost without effect.</div>

			

		</div>

		
			<dl class="postprofile" id="profile110230">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1719</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p110234" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p110234">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=110234&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p110234"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a></strong> &raquo; August 28th, 2012, 2:54 am </p>

			

			<div class="content"><span style="font-weight: bold">limitation on multi-charge, scheduled runs</span><br /><br />The above procedure can work for multi-charge runs only by restricting detection to the first run in a sequence, since a final run in a sequence could always be short and trigger the time comparison.   Very short runs could be manually screened by noting the length, but nothing precludes a final run from being only slightly less than the maximum available from the battery, and thus indistinguishable from effects of aging on run time.   This is overcome by locking the clock after the first run regardless whether detection occurs, requiring manual reset at the beginning of a sequence.<br /><br />So for multi-charge runs a reset must be manually entered between scheduled runs, or when starting manually initiated runs, as there is no signal to indicate Neato self-activation by schedule and automatically reset.  With scheduling at least a reset needs to be entered when say, emptying the dust bin.  The limitation is just that no test is performed unless a reset is entered, which need not be done for every run, just enough to be effective in monitoring the battery.<br /><br />The only way to automatically exclude final short runs is detecting when Neato returns to base from needing to charge instead of finishing still able to run farther.  Only battery voltage is available to indicate the need-to-charge state, and the necessary data to define a particular check voltage is not available.  The problem is distinguishing  normal run depletion from aging effects on voltage.   When that data is available, time checks might be replaced by voltage checks altogether, instead of improving the timing methods.</div>

			

		</div>

		
			<dl class="postprofile" id="profile110234">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1719</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p110244" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p110244">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=110244&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p110244"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a></strong> &raquo; August 28th, 2012, 2:16 pm </p>

			

			<div class="content"><span style="font-weight: bold">Single Run Simplicity</span><br />For runs normally completed without recharging, simply detecting an additional run -- counting runs -- is sufficient.<br />Also more accurate than comparing run time to an estimated standard.</div>

			

		</div>

		
			<dl class="postprofile" id="profile110244">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1719</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p110256" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p110256">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=110256&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p110256"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a></strong> &raquo; August 29th, 2012, 12:11 pm </p>

			

			<div class="content">Now investigating simple DAC conversion of timer output to show run time on the ammeter used for vacuum current, discovering the simple resistor ladder, smaller than expected.  The packaged DAC's have some mysterious pins unclear how to use; only need 4-5 bits if home-made.<br />Pressing the button-mounted meter down to show length of last run when normal, resetting on release.  When a second run with recharge is triggered by battery age, in a normally single run situation, the run time is automatically displayed when parked to signal aging detected.<br />Not much can be done for normally multi-charge runs.<br />Can't really put led's on the top vents easily as they're on the wheel well, a bit flaky. Takes more wiring as well.<br /><br />If I can figure out the mysterious op amp, apparently used with resistor ladders, may also be able finally to subtract the closed intake current offset for true airflow display; comes in dual packages only 8 pin.  Maybe the rail-to-rail type will finally work right.</div>

			

		</div>

		
			<dl class="postprofile" id="profile110256">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1719</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p110504" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p110504">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=110504&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p110504"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a></strong> &raquo; September 9th, 2012, 11:43 pm </p>

			

			<div class="content">An iPad owner told me Apple advises periodic full battery discharge just to measure battery capacity changes with age.  Either iPads have no voltage sensors or discharge tracking, or capacity cannot be detected that way, for Lithium batteries at least.<br />A hand-drawn only schematic of the combined run-time / run-count based monitor for the battery, and differential vacuum current filter monitor, is available on request.  In parts layout stage.</div>

			

		</div>

		
			<dl class="postprofile" id="profile110504">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1719</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p110785" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p110785">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=110785&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p110785"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a></strong> &raquo; September 26th, 2012, 4:04 am </p>

			

			<div class="content"><span style="font-weight: bold">charging cycle monitoring</span><br /><br />While the run-time based battery capacity measuring circuit is nearing completion, another method of measuring capacity might be possible: detecting the total charge delivered by the base when recharging.  This could be a measure of the charge available to run on.  In fact, Neato needs this information to calculate reliably when to return to base, if it uses most of the battery to get the longest run time.  It might be doing this already.<br /><br />To do this externally a digitizing ammeter sensor connected to the charger would have to be interfaced to a computer to calculate the accumulation of current over time into milliampere-hours (the integral), and report reductions in capacity from aging.  The equipment would seem to be much more expensive than the run time monitor being built, and ties up a computer, but some people might already have that sort of lab tech, and this might be an interesting application.<br /><br />While inexpensive the run time monitoring circuit is difficult to assemble in the compact space required to fit in the Neato compared to ordinary breadboarding methods, so won't be ready for a few weeks yet.  Similar to building ships in a bottle.</div>

			

		</div>

		
			<dl class="postprofile" id="profile110785">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1719</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p110788" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p110788">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=110788&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p110788"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19876&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">TeddyBear</a></strong> &raquo; September 26th, 2012, 12:30 pm </p>

			

			<div class="content"><blockquote><div><cite>glnc222 wrote:</cite><span style="font-weight: bold">charging cycle monitoring</span><br /><br />While the run-time based battery capacity measuring circuit is nearing completion, another method of measuring capacity might be possible: detecting the total charge delivered by the base when recharging.  This could be a measure of the charge available to run on.  In fact, Neato needs this information to calculate reliably when to return to base, if it uses most of the battery to get the longest run time.  It might be doing this already.<br /><br />...</div></blockquote><br /><br />Recently a question related to Neato charging and discharge was discussed on Russian Neato users forum. One of its members undertook a measurement of Neato charge current on base, and figured out that it is changing over time - charge starts with 1.6A current, then drops to 0.09A and after some time - raises back to 0.54A. The latter two stages are alternating over time. Perhaps, it is due to resistor on charge contacts. Resume - having this charge received measured, one can count far beyond true Neato accu capacity; so this exercise is of little value.</div>

			

		</div>

		
			<dl class="postprofile" id="profile110788">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19876&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">TeddyBear</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 9</dd><dd><strong>Joined:</strong> February 7th, 2012, 10:27 am</dd><dd><strong>Location:</strong> Moscow, Russia</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p110790" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p110790">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=110790&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p110790"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a></strong> &raquo; September 26th, 2012, 2:13 pm </p>

			

			<div class="content">Thanks for your reply.<br />Account must be taken of the trickle charge state for continuous self-discharge at the end of &quot;full charge&quot;, using voltage measurements and all the information in the normal charge and discharge curves for the battery, sophistication in software.  Obviously charging rate diminishes as the battery nears full charge.  How do chargers adjust and detect when to stop charging, with analog measures?   But it is possible charging is not a good indicator as you say; the technical references on batteries need to be checked.  There are differences in charging and discharge curves.  I noticed iPad's want a full discharge run to measure the battery.  There's an obvious problem of knowing when charge starts at a fully discharged condition.  A sharp kink in the discharge voltage curve is one indication.<br />To avoid this I'm measuring run time inside the Neato; it's also just interesting to see the run time of unattended use.</div>

			

		</div>

		
			<dl class="postprofile" id="profile110790">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1719</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p112024" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p112024">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=112024&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p112024"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a></strong> &raquo; November 26th, 2012, 10:58 pm </p>

			

			<div class="content"><span style="font-weight: bold">Alternative Displays</span><br /><br />Am finishing a circuit about ready to install which monitors run time and vacuum air flow with a 3/4&quot; wide digital display the same as Vic7767's &quot;Neato With a Voltage Monitor&quot;, but sold as an ammeter for external shunt resistors; anything can be displayed with the proper analog interface to 75mv.<br /><br />Yet It occurs to me a numerical display is not necessary, and I would want to avoid carving a big opening in the cover for this meter.  When wanted, digital output can be obtained on a multimeter plugged into the back, with input scaled to show usefully.  Time could be in .01v per minute units, or air flow on a scale from 0-1V as per cent of a new filter flow.  For alerts a simple led may be sufficient.<br /><br />There are red-green-blue combination led's which display any color, so a color scale can be shown such as white-blue-green-yello-red.  But it seems only a simple single color led may be sufficient.  This is helpful because a lighted tact switch for resetting comes with only a single color led.<br />The led is on when a worn battery condition is detected at the end of a run, and a clock is stopped with the run time which can be read on a multimeter.  Both a run counting and a run timing mode is supported.<br /><br />The vacuum air flow is displayed in the first thirty seconds of each run.  The led could be blinking at a higher rate the lower the air flow, slowing down as the fan revs up, becoming steady when adequate flow is reached. The indicator is calibrated to the type of filter used and a selected degree of clogging indicating a need to clean the filter, the trigger point where the light is steady.<br /><br />More simply the light could start on and go off when the air flow becomes adequate, say 75 per cent of the new filter flow.  Staying on then positively shows a weak air flow.   The battery indication would be on only when the Neato is stopped to separate the two uses.  I think this latter, simplest led system may be all that is needed.  Only a small drilled hole in the cover for the lighted reset button would suffice.<br /><br />The air flow measuring circuit employs an Op Amp to subtract the current from a fully closed intake, and scale the difference as per cent of a new filter level.  Originally designed for input to the digital ammeter, this could just trigger the led through a voltage comparator, adjusting trip level with a trimmer.  The exact flow degree can be read on a multimeter.<br /><br />Effective interface design is a specialty topic, not always pursued sufficiently, lost in the more technical problems in electronics.  It can be subject to varied opinions (even studied in focus groups).</div>

			

		</div>

		
			<dl class="postprofile" id="profile112024">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1719</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p112116" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p112116">Re: Worn Battery Indicator Light</a></h3>
			<p class="author"><a href="./viewtopic.php?p=112116&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09#p112116"><img src="./styles/robotreviews/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a></strong> &raquo; December 2nd, 2012, 4:43 am </p>

			

			<div class="content"><span style="font-weight: bold">handy meter clips</span><br />1 1/8&quot; smooth end alligator clips at Radio Shack have a tongue narrow enough to fit through slots of the vacuum grate, so pins within can attach meters without the bulk of jacks for plugs.  Grips tight, and could be hooked at the end if necessary.</div>

			

		</div>

		
			<dl class="postprofile" id="profile112116">
			<dt>
				<a href="./memberlist.php?mode=viewprofile&amp;u=19808&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">glnc222</a>
			</dt>

			<dd>Robot Master</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1719</dd><dd><strong>Joined:</strong> January 23rd, 2012, 9:19 pm</dd><dd><strong>Location:</strong> North Carolina, U.S.</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="./viewtopic.php?f=20&amp;t=16210&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">

	<fieldset class="display-options" style="margin-top: 0; ">
		<a href="./viewtopic.php?f=20&amp;t=16210&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09&amp;start=20" class="right-box right">Next</a>
		<label>Display posts from previous: <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select></label>
		<label>Sort by <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select> <input type="submit" name="sort" value="Go" class="button2" /></label>
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="./posting.php?mode=reply&amp;f=20&amp;t=16210&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="pagination">
			34 posts
			 &bull; <a href="#" onclick="jumpto(); return false;" title="Click to jump to page…">Page <strong>1</strong> of <strong>2</strong></a> &bull; <span><strong>1</strong><span class="page-sep">, </span><a href="./viewtopic.php?f=20&amp;t=16210&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09&amp;start=20">2</a></span>
		</div>
	
</div>


	<p></p><p><a href="./viewforum.php?f=20&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" class="left-box left" accesskey="r">Return to Neato Robotics</a></p>

	<form method="post" id="jumpbox" action="./viewforum.php?sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" onsubmit="if(this.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Jump to:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Select a forum</option>
			<option value="-1">------------------</option>
				<option value="15">Robots</option>
			
				<option value="1">&nbsp; &nbsp;iRobot Roomba and Scooba Chat</option>
			
				<option value="20" selected="selected">&nbsp; &nbsp;Neato Robotics</option>
			
				<option value="22">&nbsp; &nbsp;Samsung Robots</option>
			
				<option value="21">&nbsp; &nbsp;iRobot Braava - Evolution Robotics</option>
			
				<option value="23">&nbsp; &nbsp;Sphero</option>
			
				<option value="6">&nbsp; &nbsp;All Other Robots</option>
			
				<option value="10">&nbsp; &nbsp;Robotic Reviews</option>
			
				<option value="11">&nbsp; &nbsp;Buy / Sell / Trade</option>
			
				<option value="12">&nbsp; &nbsp;Robotic News</option>
			
				<option value="13">&nbsp; &nbsp;International Robotics Forum</option>
			
				<option value="14">&nbsp; &nbsp;iRobot Looj Chat</option>
			
				<option value="16">Robotic Playground</option>
			
				<option value="4">&nbsp; &nbsp;Robotic Hacking</option>
			
				<option value="17">Off Topic (Non-Roomba)</option>
			
				<option value="3">&nbsp; &nbsp;General Chit-Chat (Off Topic)</option>
			
				<option value="5">&nbsp; &nbsp;Site Suggestions and Feedback</option>
			
				<option value="18">Just For Fun</option>
			
				<option value="7">&nbsp; &nbsp;The Official RoomBud Lovers Forum</option>
			
			</select>
			<input type="submit" value="Go" class="button2" />
		</fieldset>
	</form>


	<h3>Who is online</h3>
	<p>Users browsing this forum: <a href="./memberlist.php?mode=viewprofile&amp;u=4391&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" style="color: #009933;" class="username-coloured">Fraggboy</a>, <a href="./memberlist.php?mode=viewprofile&amp;u=16404&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">neato</a>, <a href="./memberlist.php?mode=viewprofile&amp;u=1074&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">vic7767</a> and 228 guests</p>
<div class="mobile-style-switch mobile-style-switch-footer" style="padding: 5px; text-align: center;"><a href="./viewtopic.php?f=20&amp;t=16210&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09&amp;mobile=mobile">Switch to mobile style</a></div></div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="./index.php?sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" accesskey="h">Board index</a></li>
				
				<li><a href="./rss.php?sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09" title="Click here to add RSS feed "><img src="./styles/robotreviews/theme/images/icon_rss.gif"/></a></li> 
			<li class="rightside"><a href="./memberlist.php?mode=leaders&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">The team</a> &bull; <a href="./ucp.php?mode=delete_cookies&amp;sid=a33d4d01f3e747ebbf0aa6b6c3bf7d09">Delete all board cookies</a> &bull; All times are UTC - 5 hours [ <abbr title="Daylight Saving Time">DST</abbr> ]</li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>
	
<!--
	We request you retain the full copyright notice below including the link to www.phpbb.com.
	This not only gives respect to the large amount of time given freely by the developers
	but also helps build interest, traffic and use of phpBB3. If you (honestly) cannot retain
	the full copyright we ask you at least leave in place the "Powered by phpBB" line, with
	"phpBB" linked to www.phpbb.com. If you refuse to include even this then support on our
	forums may be affected.

	The phpBB Group : 2006
//-->

	<div class="copyright"><a href="http://www.phpbb.com"></a><a href="http://www.phpbb.com">php-BB</a> &copy;  2000 - 2012 , php BB Group
		
	</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	
</div></div></div></div></div></div>

<div id="footer">
			<p>&copy; Copyright 2013</p>			<ul class="menu"><li class="leaf first"><a href="/" title="">Home</a></li>
<li class="leaf last"><a href="/content/legal" title="Robot Wiki">Legal</a></li>
<li class="leaf last">Bitcoin Address: <a href="bitcoin:1KjNe2ey9PxN1Qo55Dy9H3ZV9p9umvhWTk?amount=0.01&amp;label=Support Robot Reviews&amp;message=Support Robot Reviews">1KjNe2ey9PxN1Qo55Dy9H3ZV9p9umvhWTk</a></li>
			</ul>		
</div>
</div>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-129467-6");
pageTracker._trackPageview();
} catch(err) {}</script>
	
</body>
</html>
