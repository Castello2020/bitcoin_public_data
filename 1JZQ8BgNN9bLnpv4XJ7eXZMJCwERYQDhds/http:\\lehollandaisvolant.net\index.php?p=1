http://lehollandaisvolant.net/index.php?p=1
HTTP/1.1 200 OK
Date: Thu, 24 Jul 2014 12:12:56 GMT
Server: Apache
X-Powered-By: PHP/5.5.14
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
Pragma: no-cache
Content-Encoding: gzip
Vary: Accept-Encoding,User-Agent
Set-Cookie: PHPSESSID=c2ov3k02pe6nmf7ovuqcev3fm7; path=/
Connection: close
Content-Type: text/html; charset=UTF-8

<!DOCTYPE html>
<html lang="fr-fr">
<head>
	<!--
	Hello curious geek :)
	Do you have a moment to talk about the number 42 ?
	-->
	<meta charset="UTF-8" />
	<title>Le Hollandais Volant</title>
	<meta name="Author" content="Timo Van Neerden" />
	<meta name="Description" content="Blog du Hollandais Volant. Avec ses astuces, remarques, coups de gueule et autre geekeries" />
	<meta name="Generator" content="BlogoText" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
	<link href="logo.png" rel="icon" type="image/png" />
	<link rel="alternate" type="application/rss+xml" title="RSS - Le blog" href="rss.php" />
	<link rel="alternate" type="application/rss+xml" title="RSS - Les liens au fil du web" href="rss.php?mode=links" />
	<link rel="alternate" type="application/atom+xml" title="ATOM - Le blog" href="atom.php" />
	<link rel="alternate" type="application/atom+xml" title="ATOM - Les liens au fil du web" href="atom.php?mode=links" />
	<link rel="stylesheet" type="text/css" href='themes/ut/style.css' media="all"/>
	<link rel="stylesheet" type="text/css" href='themes/ut/style-print.css' media="print"/>
</head>
<body id="top">

<header>
	<h1><a href="/"><img src="themes/ut/HG.png" height="83" width="83" alt="le hollandais volant" id="main_logo"/>Le Hollandais Volant</a></h1>
	<div id="menu-wrap">
		<div id="menu">
			<form action="/index.php" method="get" id="search">
<input id="q" name="q" type="search" size="20" value="" class="text" placeholder="" />
<input class="silver-square" id="input-rechercher" type="submit" value="Rechercher" />
</form>


			<div class="sous-menu">
				<a href="tout/projects/">BlogoText &amp; Progs</a>
				<div class="sous-menu-bloc">
					<div class="sous-menu-bloc-content">
						<ul>
							<li><a href="blogotext/">BlogoText</a> : le moteur de blog simple.</li>
							<li><a href="tout/oranjeproxy/">OranjeProxy</a> : un proxy PHP sécurisé.</li>
							<!--<li><a href="tout/goud/">Au-79/454</a> : un gestionnaire de livre d’Or</li>-->
							<li><a href="tout/linx">LinX</a> : un mini delicious-like.</li>
							<li><a href="http://www.ecyseo.net/article/20/respawn-un-petit-projet-libre-qui-ne-mange-pas-de-pain.html">Respawn</a> : une bibliothèque PHP pour capturer des pages web.</li>
						</ul>
					</div>
				</div>
			</div>
			<div class="sous-menu">
				<a href="tuto/">Tutos</a>
				<div class="sous-menu-bloc">
					<div class="sous-menu-bloc-content">
						<ul>
							<li><a href="linux/">GNU/Linux</a> : explications pour GNU/Linux.</li>
							<li><a href="tuto/">Tutoriels généraux</a> : pour le net, le blogging, la programmation.</li>
							<li><a href="windows/">Windows</a> : tutoriels pour bricoles Windows.</li>
							<li><a href="pokemon/">Les Pokémon</a> : fan-pages sur les Pokémon &amp; Conan</li>
							<li><a href="tout/">Pages diverses</a> : dont <a href="tout/moi.php">l’auteur</a>, le <a href="sitemap.html">plan du site</a>, le «&nbsp;<a href="tout/apropos.php">à propos</a>&nbsp;».</li>
						</ul>
					</div>
				</div>
			</div>
			<div class="sous-menu">
				<a href="/?mode=links">Au fil du web</a>
				<div class="sous-menu-bloc">
					<div class="sous-menu-bloc-content">
						<p style="margin-top:20px;">Mes liens découverts au fil du web.</p>
						<p>Vous pouvez m’y suivre sur <a href="/?mode=links">sa page principale</a>, par <a href="rss.php?mode=links">RSS</a>, sur <a href="https://www.facebook.com/pages/Le-hollandais-volant/257953520985231">Facebook</a> et <a href="https://twitter.com/lehollandaisv">Twitter</a>.</p>
					</div>
				</div>
			</div>
			<div class="sous-menu">
				<a href="/science">Science</a>
				<div class="sous-menu-bloc">
					<div class="sous-menu-bloc-content">
						<p style="margin-top:20px;">Quelques pages de vulgarisation scientifique.</p>
						<p>Déjà en ligne, entre autres&nbsp;: <a href="science/relativite/">la relativité</a>, <a href="science/elec/">les grandeurs en électricité</a>, <a href="science/masse/">c’est quoi la masse</a>.</p>
						<p><br/>Pensez aussi à visiter mon site dédié à la Science : <a href="http://couleur-science.eu">Couleur-Science</a>.</p>
					</div>
				</div>
			</div>
			<div class="sous-menu">
				<a href="tout/tools/">Outils</a>
				<div class="sous-menu-bloc">
					<div class="sous-menu-bloc-content">
						<p style="margin-top:20px;">Divers mini outils en ligne&nbsp;: <a href="tout/tools/qrcode/">générateur de QRCode™</a>, <a href="tout/tools/browser/">détecteur de navigateur</a>, <a href="tout/tools/webcam/">appareil photo</a>…</p>
					</div>
				</div>
			</div>
			<br class="menuclearfix" />
		</div>
	</div>

</header> <!-- end #entete -->

<!--  Partie principale  -->

<div id="main">

	<section id="midle">
		<div id="posts">
		<article class="post">
	<header>
		<h2><a href="/index.php?d=2014/06/19/17/30/12-bloquer-cest-voler-publicite-cest-violer" title="Ce matin, une fausse affiche a circulé sur les réseaux&nbsp;:



L’affiche est une fausse, on est d’accord.

Mais quand on voit des dizaines de sites web nous supplier de retirer les bloqueurs de publicité, je me dit qu’on n’est pas bien loin du réa…">Bloquer c’est voler ? Publicité c’est violer.</a></h2>
		<h3>Jeudi 19 juin 2014</h3>
	</header>
	<div>
		Ce matin, une fausse affiche a circulé sur <a href="https://twitter.com/Vader_666/status/479558039104929792">les réseaux</a>&nbsp;:<br/>
<br/>
<div style="text-align:center;"><img src="img/bloquer-cest-voler.jpeg" alt="" width="700" height="980" style="max-width: 100%; height: auto;" /></div><br/>
<br/>
L’affiche est une fausse, on est d’accord.<br/>
<br/>
Mais quand on voit des dizaines de sites web nous supplier de retirer les bloqueurs de publicité, je me dit qu’on n’est pas bien loin du réalisme.<br/>
J’ai déjà proposé qu’on reformule ces <a href="?d=2014/01/24/21/48/00-aux-sites-qui-me-demandent-de-desactiver-mon-bloqueur-de-pub">petits messages</a> de malvenue anti-anti-pub, laissez-moi proposer un texte alternatif à ce qui est visible sur cette affiche&nbsp;:<br/>
<br/>
<q>Publiciter, c’est violer.<br/>
Violez-vous la vie privée des internautes sans le savoir ?<br/>
Afficher ou diffuser de la publicité sur internet entraîne une une violation de la vie privée considérable pour les internautes honnêtes et vos visiteurs qui vous font vivre.</q><br/>
<br/>
Explications quand même&nbsp;: la publicité sur internet ce sont avant tout de gros annonceurs, comme Google. Ces annonceurs détectent exactement qui clique sur les publicités, qui visite la page (même sans cliquer) et profilent les visiteurs à travers leur présence sur de nombreux sites (Google possède plein d’autres moyens que juste la publicité, par exemple).<br/>
<br/>
Même chose avec tous les boutons «&nbsp;Like&nbsp;» ou «&nbsp;Tweet&nbsp;» de Facebook et Twitter. Le problème est tel qu’après quelques mois, une personne qui ne s’est jamais inscrite sur Facebook et qui veut le faire a déjà un profil complété et précis&nbsp;: tout y est concernant vos habitudes de navigateur, vos logiciels, votre famille (vous achetez un biberon sur eBay ? Facebook sait que vous avez un nouveau bébé), votre travail, vos habitudes de vie, vos vacances… Facebook ou Twitter vendent alors ces informations aux annonceurs pour proposer des publicités ciblés (si vous recherchez «&nbsp;mon ordinateur est vieux et rame&nbsp;», vous aurez des pubs pour des ordinateurs, vous poussant à dépenser votre argent inutilement, alors qu’une simple défragmentation de disque suffirait à redonner vie à votre ordinateur).<br/>
<br/>
Ce genre des choses n’est possible qu’avec l’aide des sites internets qui utilisent ces boutons «&nbsp;Like&nbsp;», «&nbsp;Tweet&nbsp;», la publicité et plein d’autre chose (jQuery et fonts hébergés chez Google, lecteurs vidéo intégrés, Discus, Analytics…).<br/>
<br/>
Voilà la raison pour laquelle j’essaye au maximum de bloquer les publicités, les cookies, les scripts externes sur les sites web et que j’encourage tout le monde de le faire. <a href="http://tuxicoman.jesuislibre.net/2014/06/webmasters-arretez-de-faire-le-boulot-de-la-nsa.html">Un site n’a pas à faire le travail des services de renseignement.</a>
		<p class="clearboth"></p>
	</div>
	<footer>
		<span class="tags">Publié dans&nbsp;: <a href="/index.php?tag=coup+de+gueule" rel="tag">coup de gueule</a></span>
		<a href="/index.php?d=2014/06/19/17/30/12-bloquer-cest-voler-publicite-cest-violer#comments">Commentaires fermés</a>
	</footer>
</article>

<article class="post">
	<header>
		<h2><a href="/index.php?d=2014/06/15/21/44/09-comment-je-fais-mes-lignes-de-degrade-en-bas-de-la-page-de-mon-site-sans-images" title="On m’a demandé où était l’image pour faire la petite ligne de dégradé en bas de la page de mon site&nbsp;:




Il n’y a ni images, ni script, juste une ligne de CSS.

En fait, je mélange ici deux choses désormais largement supportés par les navigate…">Comment je fais mes lignes de dégradé en bas de la page de mon site sans images ?</a></h2>
		<h3>Dimanche 15 juin 2014</h3>
	</header>
	<div>
		On m’a demandé où était l’image pour faire la petite ligne de dégradé en bas de la page de mon site&nbsp;:<br/>
<br/>
<img src="img/css-degrade.png" alt="la ligne de dégradé en CSS en bas de la page de mon site" width="1282" height="195" style="max-width: 100%; height: auto;" class="centrerinline" />
<br/>
<br/>
Il n’y a ni images, ni script, juste une ligne de CSS.<br/>
<br/>
En fait, je mélange ici deux choses désormais largement supportés par les navigateurs&nbsp;:<br/>
<br/>
<ul>
<li> les images multiples</li>
<li> les dégradés <span style="font-style: italic;">linear-gradient()</span></li></ul>
<br/>
Le principe est le suivant&nbsp;: un dégradé, au niveau du navigateur se comporte comme une image de fond. On peut donc en mettre plusieurs et les décaler les un des autres&nbsp;:<br/>
<br/>
<pre>background: linear-gradient(to right, transparent, red), linear-gradient(to right, blue, transparent);</pre>
<br/>
Se comportera (presque) comme&nbsp;:<br/>
<br/>
<pre>background: linear-gradient(to right, blue, red);</pre>
<br/>
<br/>
Après, les images sont décalées avec <span style="font-style: italic;">background-position</span>. <br/>
C’est de là que vient mon astuce&nbsp;: il suffit de mettre un premier dégradé (la ligne noire), un deuxième (la ligne blanche) décalée de 1px vers le bas, et un troisième faux dégradé monochrome décalé de deux pixels vers le bas. Le faux dégradé n’a qu’une seule couleur, celle du fond du reste de la page.<br/>
<br/>
Pour résumer, ça fait ça (où le rouge-bordeaux est en fait la couleur de fond du reste de la page, ne laissant alors apparaître que les deux lignes bleue et noire)&nbsp;:<br/>
<img src="img/images-decale-schema.png" alt="images déclalé en CSS" width="960" height="600" style="max-width: 100%; height: auto;" class="centrerinline" />
<br/>
Il suffit alors de remplacer les couleurs pleines par des dégradés avec 3 couleurs (le transparent sur le côté, une couleur pleine au centre).<br/>
<br/>
<span style="font-weight: bold;">Note importante quand même&nbsp;:</span> dans la liste des 3 dégradés de fonds, c’est le premier qui est placé au dessus, les autres sont placés en dessous. Sur mon exemple ci-dessus, il faudra donc déclarer le rouge-bordeaux d’abord, le bleu ensuite et le noir en dernier.<br/>
<br/>
Concernant la ligne de dégradé sur mon site, le code est là&nbsp;:<br/>
<br/>
<pre>background: linear-gradient(to right, #212121, #212121) 0 2px no-repeat, linear-gradient(to right, #212121, #646464, #212121 ) 0 1px no-repeat, linear-gradient(to right, #212121, #010101, #212121 ) 0 0px no-repeat;</pre>
<br/>
Remarquez que le premier dégradé est celui qui est unicolore et au-dessus, le second est le blanc et en dernier est la petite ligne noire du haut.
		<p class="clearboth"></p>
	</div>
	<footer>
		<span class="tags">Publié dans&nbsp;: <a href="/index.php?tag=astuce" rel="tag">astuce</a></span>
		<a href="/index.php?d=2014/06/15/21/44/09-comment-je-fais-mes-lignes-de-degrade-en-bas-de-la-page-de-mon-site-sans-images#comments">Commentaires fermés</a>
	</footer>
</article>

<article class="post">
	<header>
		<h2><a href="/index.php?d=2014/06/06/15/58/11-gnulinux-ameliorer-le-terminal" title="Sous GNU/Linux, le terminal est un programme central pour les utilisateurs, pour sa rapidité et sa simplicité. Il peut donc être intéressant de le personnaliser et de l’améliorer un peu.

Ces astuces ici sont pratiquement toutes inspirées de ce qui …">GNU/Linux : améliorer le terminal</a></h2>
		<h3>Dimanche 15 juin 2014</h3>
	</header>
	<div>
		Sous GNU/Linux, le terminal est un programme central pour les utilisateurs, pour sa rapidité et sa simplicité. Il peut donc être intéressant de le personnaliser et de l’améliorer un peu.<br/>
<br/>
Ces astuces ici sont pratiquement toutes inspirées de ce qui se fait dans la distribution <a href="http://linuxmint.com/">Linux Mint</a>, qui intègre tout ça par défaut.<br/>
<br/>
<h3>Les couleurs dans le terminal</h3>
<br/>
Par défaut sous Ubuntu (et ailleurs), le texte dans le terminal est tout de la même couleur. C’est difficilement lisible. Il est possible, entre autre, de mettre en couleur le texte au début d’une nouvelle ligne, le «&nbsp;<span style="font-weight: bold;">nom@machine ~ $</span>&nbsp;» pour le rendre plus visible.<br/>
Pour cela, éditez le fichier caché .bashrc qui se trouve dans votre dossier personnel et ajoutez tout à la fin sur une nouvelle ligne&nbsp;:<br/>
<pre>PS1='\e[1;35m\u@\h\e[1;32m \w $ \e[0m'</pre>
<br/>
Résultat&nbsp;:<br/>
<br/>
<img src="img/terminal-avec-les-couleurs.png" alt="terminal with another PS1 colors" width="722" height="589" style="max-width: 100%; height: auto;" class="centrerinline" />
<br/>
Personnellement, j’ajoute même une nouvelle ligne avant un nouveau prompt, pour bien espacer chaque ligne (remplacez la ligne précédente par celle là)&nbsp;:<br/>
<pre>PS1='\n\e[1;35m\u@\h\e[1;32m \w $ \e[0m'</pre>
<br/>
Pour que ça marche, éditez le fichier .bashrc, sauvegardez les changements puis ouvrez un nouveau terminal. Chaque changement dans le fichier n’est pris en compte qu’en ouvrant un nouveau terminal.<br/>
<span style="font-weight: bold;">ÉDIT&nbsp;:</span> pas besoin de relancer le terminal, <a href="http://shaarli.m0le.net/?Dr4Bew">Nono me signale la méthode</a> où il suffit de lancer «&nbsp;<span style="font-style: italic;">. ~/.bashrc</span>&nbsp;»<br/>
<br/>
En plus, je préfère que le titre du terminal affiche le chemin courant (PWD) plutôt que «&nbsp;Terminal&nbsp;»&nbsp;:<br/>
<br/>
PS1='\[\e]0;\w\a\]\n\e[1;35m\u@\h\e[1;32m \w $ \e[0m'[/code]
<br/>
Si vous voulez changer de couleurs, sachez que ce sont les «&nbsp;35&nbsp;» et «&nbsp;32&nbsp;» que vous voyez qui font référence aux couleurs. La liste est donnée sur <a href="http://www.generation-linux.fr/index.php?post/2009/02/02/Bash-%3A-personnalisation-de-l-invite">cette page</a>. Le «&nbsp;1;&nbsp;» devant la code couleur correspond au gras. Pour que les caractères ne soient pas en gras, mettez «&nbsp;0;&nbsp;».<br/>
<br/>
<span style="font-weight: bold;">ÉDIT&nbsp;:</span> Kyriog me signale <a href="http://bashrcgenerator.com/">ce site pour créer des lignes PS1 pour bashrc</a>. Glissez-déposez les éléments dans la ligne au dessus et récupérez le code en bas&nbsp;!<br/>
<br/>
<h3>Command not found</h3>
<br/>
Lorsque vous tapez une commande qui n’existe pas, le terminal affiche une erreur. Il est possible de lui faire suggérer l’installation d’un paquet logiciel qui contient cette commande.<br/>
Par exemple, si Firefox n’est pas installé et que vous tapez «&nbsp;firefox&nbsp;», il vous proposera alors d’installer Firefox.<br/>
<br/>
Installez les paquets suivants&nbsp;:<br/>
<br/>
<pre>sudo apt-get install command-not-found command-not-found-data</pre>
<br/>
Puis ajoutez le  à votre bashrc (si ça n’est pas ajouté tout seul par le fait de l’avoir installé)&nbsp;:<br/>
<br/>
<pre># if the command-not-found package is installed, use itif [ -x /usr/lib/command-not-found ]; then	function command_not_found_handle {	        # check because c-n-f could've been removed in the meantime                if [ -x /usr/lib/command-not-found ]; then		   /usr/bin/python /usr/lib/command-not-found -- $1                   return $?		else		   return 127		fi	}fi</pre>
<br/>
<br/>
<h3>Cowsay</h3>
<br/>
<span style="font-style: italic;">Cowsay</span> couplé à <span style="font-style: italic;">Fortune</span> permet d’afficher un petit dessin en ASCII qui affiche une citation. Quand j’ouvre un terminal, je vois affiché une citation au hasard énoncée par un animal au hasard&nbsp;: une vache, un renne, un hellokitty ou un tux.<br/>
Il faut pour cela avoir installé les paquets cowsay et fortune (et activé les paquets universe)&nbsp;:<br/>
<pre>sudo apt-get install cowsay fortune</pre>
<br/>
Puis placer cette ligne dans le bashrc&nbsp;:<br/>
<pre>fortune -a | cowsay -f $(shuf -n1 -e hellokitty default tux moose)</pre>
<br/>
Normalement, quand vous ouvrirez le terminal, ça fera quelque chose comme ça&nbsp;:<br/>
<br/>
<img src="img/cowsay-fortunes.png" alt="cowsay + fortunes trick" width="722" height="340" style="max-width: 100%; height: auto;" class="centrerinline" />
<br/>
<br/>
<h3>L’autocompletion</h3>
<br/>
Sous Ubuntu ça semble avoir été corrigé dans la version 14.04, mais avant l’autocomplétion avec la touche de tabulation ne marchait pas ou de façon incomplète. Pourtant, en ajoutant ceci à votre fichier .bashrc, vous pouvez activer l’autocomplétion qui est quand même très pratique.<br/>
<br/>
<pre># enable bash completion in interactive shellsif [ -f /etc/bash_completion ]; then    . /etc/bash_completionfi</pre>
<br/>
Maintenant, au lieu de taper «&nbsp;sudo aptitude install firefox&nbsp;», vous taperez «&nbsp;sudo apti&lt;tab&gt; i&lt;tab&gt; firef&lt;tab&gt;&nbsp;» ce qui fait gagner pas mal de temps.<br/>
<br/>
Voilà, avec tout ça vous aurez un terminal plus joli.<br/>
Une petite astuce finale&nbsp;: il est possible d’ajouter n’importe quelle commande au lancement du terminal. Pour cela, il suffit de placez la commande dans le fichier .bashrc. C’est aussi simple que cela.<br/>
Par exemple pour afficher l’heure d’ouverture du terminal tout en haut, mettez «&nbsp;<span style="font-style: italic;">date</span>&nbsp;» tout seul sur une ligne. Pour afficher les dernières commandes tapées, mettez «&nbsp;<span style="font-style: italic;">cat .bash_history | tail</span>&nbsp;»
		<p class="clearboth"></p>
	</div>
	<footer>
		<span class="tags">Publié dans&nbsp;: <a href="/index.php?tag=astuce" rel="tag">astuce</a></span>
		<a href="/index.php?d=2014/06/06/15/58/11-gnulinux-ameliorer-le-terminal#comments">Commentaires fermés</a>
	</footer>
</article>

<article class="post">
	<header>
		<h2><a href="/index.php?d=2014/06/10/19/57/43-france-os" title="
Ça y est, Arnaud Montebourg craque et veut son système d’exploitation Français.

Très logique.

Surtout quand ça vient tout juste un an après que l’armée Française ait renouvelé son contrat avec Microsoft et alors que toute l’administration (ou pre…">France OS</a></h2>
		<h3>Mardi 10 juin 2014</h3>
	</header>
	<div>
		<img src="img/minitel-1982.jpg" alt="minitel 1980" width="240" height="196" style="max-width: 100%; height: auto;" class="one" />
Ça y est, <a href="http://www.nextinpact.com/news/86938-isabelle-attard-interroge-montebourg-sur-projet-dun-os-made-in-france.htm">Arnaud Montebourg craque et veut son système d’exploitation</a> Français.<br/>
<br/>
Très logique.<br/>
<br/>
Surtout quand ça vient tout juste un an après que <a href="http://www.april.org/lotan-impose-microsoft-et-les-backdoors-de-la-nsa-au-ministere-de-la-defense">l’armée Française ait renouvelé son contrat avec Microsoft</a> et alors que toute l’administration (ou presque) tourne sous Windows et que les <a href="http://www.numerama.com/magazine/20670-l-education-nationale-convoque-ses-inspecteurs-chez-microsoft.html">écoles apprennent aux élèves à n’utiliser qu’un système fermé</a>, payant et cher (<a href="http://www.amazon.fr/dp/B00F00DJZI/">100€</a>) alors que des systèmes gratuits, libres, sans backdoors et même <a href="http://www.mandriva.com/fr/">Français</a> existent déjà.<br/>
<br/>
Et pour en revenir à France OS, je vous laisse avec l’ami Korben qui a eu le privilège de tester tout ça&nbsp;: <a href="http://korben.info/franceos.html">Test de FranceOS – Le système d’exploitation Franco-français</a>.<br/>
<br/>
Espérons que la version finale et officielle sera mieux que <a href="?d=2014/03/04/14/09/35-pourquoi-les-sites-des-services-publics-sont-ils-tous-aussi-pourris">les sites du service public Français</a>.<br/>
<br/>
<p class="small"><a href="https://www.flickr.com/photos/cberthel/6813945445">image de CBerthel</a></p>
		<p class="clearboth"></p>
	</div>
	<footer>
		<span class="tags">Publié dans&nbsp;: <a href="/index.php?tag=coup+de+gueule" rel="tag">coup de gueule</a></span>
		<a href="/index.php?d=2014/06/10/19/57/43-france-os#comments">Commentaires fermés</a>
	</footer>
</article>

<article class="post">
	<header>
		<h2><a href="/index.php?d=2014/06/05/21/23/37-la-coupe-du-monde-cest-ca" title="Ah, le Brésil, grande nation du Football depuis très longtemps.

C’est beau la coupe du monde non ? Ils ont dépensé plus de 12 milliard d’euros pour cet événement, c’est pas rien quand on sait que ça représente environ 60€ par brésilien). Surtout po…">La coupe du monde c’est ça…</a></h2>
		<h3>Jeudi 05 juin 2014</h3>
	</header>
	<div>
		Ah, le Brésil, grande nation du Football depuis très longtemps.<br/>
<br/>
C’est beau la coupe du monde non ? Ils ont dépensé plus de 12 milliard d’euros pour cet événement, c’est pas rien quand on sait que ça représente environ 60€ par brésilien). Surtout pour un pays où les 3/4 de la population a faim et pourrait vivre une semaine entière avec cette somme. Mais ne croyez pas qu’ils verront un seul rond de cet investissement forcé pris sur leur impôts.<br/>
<br/>
Mais on s’en fout de la population&nbsp;: pour construire les stade, ils ont rasé les villes et viré leurs habitants. Maintenant ils envoient <a href="http://www.purebreak.com/news/coupe-du-monde-2014-ce-qu-il-faut-savoir-en-10-chiffres/75061">les forces de l’ordre tirer sur les populations pour les éloigner</a> et éviter qu’ils fassent <a href="http://www.franceinfo.fr/emission/un-autre-bresil/2014/mondial-autre-bresil-06-05-2014-11-46">trop de bruit</a>.<br/>
<br/>
Oui, ils <a href="http://www.bastamag.net/Coupe-du-monde-ces-dizaines-de">tuent des hommes et des femmes</a> au nom du football.<br/>
<br/>
Mieux, le président de l’UEFA — Michel Platini — a même <a href="?id=20140426180008">réclamé que les brésiliens</a> arrêtent leurs manifestations pour ne pas faire tache durant la coupe du monde.<br/>
<br/>
Et tout ça pour quoi ? Pour que dans un mois tout ce fric dépensé en stades se retrouvent abandonnés, comme ici <a href="http://www.businessinsider.com/sochi-ghost-city-2014-3?op=1">avec Sotchi devenue une ville fantôme seulement un mois après les JO d’hiver</a>.<br/>
<br/>
Cette année je ne regarderai pas le foot. Avant je regardais parfois quelques matchs, mais plus maintenant. L’envers du décor est trop triste et trop révoltant pour pouvoir en apprécier quoi que ce soit.<br/>
Sous cet angle de vu, même la plus grosses des coupes en or (<a href="https://www.youtube.com/watch?v=GuCgElVlZhk">creuse et fausse</a>) n’est rien qu’un vase rempli de sang.<br/>
<br/>
La coupe du monde n’est pas sport et ne se joue pas avec un ballon. Il est violence et corruption et il se joue avec du fric.<br/>
<br/>
<img src="img/bresil.jpg" alt="illustration de Paulo Ito" width="620" height="620" style="max-width: 100%; height: auto;" class="centrerinline" />
<br/>
<p class="small"><a href="https://www.flickr.com/photos/pauloito/13998946669/">image</a></p>
		<p class="clearboth"></p>
	</div>
	<footer>
		<span class="tags">Publié dans&nbsp;: <a href="/index.php?tag=coup+de+gueule" rel="tag">coup de gueule</a></span>
		<a href="/index.php?d=2014/06/05/21/23/37-la-coupe-du-monde-cest-ca#comments">Commentaires fermés</a>
	</footer>
</article>

<article class="post">
	<header>
		<h2><a href="/index.php?d=2014/05/11/21/31/40-du-foutage-de-gueule-dans-la-securite-des-sites-web" title="
On ne rigole pas avec la sécurité. Il paraît.

Alors pourquoi certains sites nous pondent des blagues pareille ?

Un ordinateur qui fait grève&nbsp;:

Vu sur le site de ma banque&nbsp;:
Le service 3D-Secure est disponible du dimanche matin au vendr…">Du foutage de gueule dans la sécurité des sites web</a></h2>
		<h3>Mardi 03 juin 2014</h3>
	</header>
	<div>
		<img src="img/security-net.jpg" alt="password on a computer" width="240" height="165" style="max-width: 100%; height: auto;" class="one" />
On ne rigole pas avec la sécurité. Il paraît.<br/>
<br/>
<span style="font-weight: bold;">Alors pourquoi certains sites nous pondent des blagues pareille ?</span><br/>
<br/>
<h3>Un ordinateur qui fait grève&nbsp;:</h3>
<br/>
Vu sur le site de ma banque&nbsp;:<br/>
<q>Le service 3D-Secure est disponible du dimanche matin au vendredi soir.</q><br/>
<br/>
Le service <a href="https://fr.wikipedia.org/wiki/3-D_Secure">3D Secure</a> (certicode), c’est l’envoie d’un SMS avec un code qui renforce la sécurité lors des virements et achats en ligne. Ouais… Sauf le samedi. Car le samedi — comme tout le monde le sait — l’envoie des SMS n’est pas possible, bien-sûr Internet est également fermé le samedi tout la journée.<br/>
<br/>
<h3>Un code d’authentification à 6 chiffres (aucune lettre)&nbsp;:</h3>
<br/>
On apprend aux enfants que les mots de passe doivent être forts, mais ma banque utilise un mot de passe à <span style="font-weight: bold;">6 putains de chiffres</span>. Vous savez combien de temps il faut pour décrypter un tel mot de passe avec un million d’essais par seconde ? Statistiquement, une demi seconde.<br/>
Oh bien-sûr, ceci uniquement dans le cas où la base de données de la banque est chiffrée et le mot de passe n’est pas stocké en clair (autrement c’est même pas 1/2 seconde qu’il faut, mais c’est instantané).<br/>
Et je ne parle même pas des trackers XiTi dans l’espace de gestion «&nbsp;sécurisé&nbsp;». Putain…<br/>
<br/>
<h3>Un mot de passe de 6 à 8 caractères, sans ponctuation&nbsp;:</h3>
<br/>
Sur un autre site&nbsp;:<br/>
<img src="img/mot-de-passe-wtff.png" alt="mot de passe entre 6 et 8 caractères" width="333" height="198" style="max-width: 100%; height: auto;" class="centrerinline"/>
<br/>
Pire, sur le site on peut taper dix ou douze caractères, c’est coupé à 8. Du coup, on pense avoir un long mot de passe alors qu’il est simplement coupé à 8 caractères, sans rien nous dire.<br/>
<br/>
<h3>«&nbsp;Désolé le formulaire a expiré…&nbsp;»</h3>
<br/>
À l’inverse des sites mal sécurisés, il y a les sites qui n’ont jamais été testés. Ça ne vous est jamais arrivé de remplir un formulaire à rallonges sur un site et au moment de poster, hop, il vous sort que le formulaire a expiré et vous devez tout remplir à nouveau ?<br/>
Le délai d’expiration est bien trop court pour qu’on puisse remplir le formulaire entièrement…<br/>
<br/>
<h3>Autres foutages de gueule traduisant une incompétence de la part du programmeur</h3>
<br/>
<ul>
<li> demander le type de carte bancaire (alors qu’il est trivial de le deviner à partir du numéro de carte&nbsp;: Mastercard a les cartes commençant par 51 à 55, Visa par 4, American Express par 3, etc.).</li>
<li> demander de retaper l’email (encore le mot de passe, ça peut se comprendre — même si y’a des méthodes —, l’adresse mail c’est juste chiant)</li>
<li> demander l’âge&nbsp;: qui donc va dire qu’il a moins de 13 ans pour aller sur Facebook ?</li>
<li> demander de taper son mot de passe à chaque étape d’une commande en ligne (panier, payement, validation…)&nbsp;: ça sert à quoi franchement ? À rien&nbsp;!</li></ul>
<br/>
<p class="small"><a href="https://www.flickr.com/photos/formalfallacy/2057169454">Image de Victor Bayon</a></p>
		<p class="clearboth"></p>
	</div>
	<footer>
		<span class="tags">Publié dans&nbsp;: <a href="/index.php?tag=coup+de+gueule" rel="tag">coup de gueule</a></span>
		<a href="/index.php?d=2014/05/11/21/31/40-du-foutage-de-gueule-dans-la-securite-des-sites-web#comments">Commentaires fermés</a>
	</footer>
</article>

<article class="post">
	<header>
		<h2><a href="/index.php?d=2014/05/31/20/49/55-ubuntu-1404-partager-limage-et-le-son-sur-une-tele-en-hdmi" title="Il est particulièrement pratique d’utiliser son ordinateur pour regarder un film sur un écran de télévision ou simplement pour avoir deux écrans de travail.

Voici comment réaliser cette manœuvre sous Ubuntu 14.04 «&nbsp;Trusty Thar&nbsp;».

1. Sur …">Ubuntu 14.04 : partager l’image et le son sur une télé en HDMI</a></h2>
		<h3>Samedi 31 mai 2014</h3>
	</header>
	<div>
		Il est particulièrement pratique d’utiliser son ordinateur pour regarder un film sur un écran de télévision ou simplement pour avoir deux écrans de travail.<br/>
<br/>
Voici comment réaliser cette manœuvre sous Ubuntu 14.04 «&nbsp;<span style="font-style: italic;">Trusty Thar</span>&nbsp;».<br/>
<br/>
<span style="font-weight: bold;">1.</span> Sur votre télé&nbsp;: configurez la source de l’image pour «&nbsp;HDMI&nbsp;».<br/>
<br/>
<span style="font-weight: bold;">2.</span> Branchez le câble HDMI sur votre ordinateur. Normalement l’image s’affiche directement sur la télé, mais il y a de grandes chances que l’image soit coupée&nbsp;: les deux écrans (la télé et celui de votre ordinateur) n’ayant pas la même définition.<br/>
<br/>
Il suffit pour corriger cela d’ouvrir les propriétés de l’affichage en cherchant «&nbsp;<span style="font-style: italic;">affichage</span>&nbsp;» dans le menu d’Unity.<br/>
Dans la fenêtre, cliquez sur l’icône représentant l’écran de la télé (1), de changer la définition pour la même que celle de votre écran d’ordinateur (2 — si elle ne figure pas dans la liste, prenez celle qui rogne le moins l’image) et enfin de valider votre choix (3) et confirmer votre choix s’il vous convient&nbsp;:<br/>
<br/>
<img src="img/1-change-definition.png" alt="changer la définition de l’écran" width="876" height="614" style="max-width: 100%; height: auto;" class="centrerinline" />
<br/>
Voilà, l’image possède la même définition que sur votre ordinateur.<br/>
<br/>
<span style="font-weight: bold;">3.</span> Maintenant que l’image est bonne, il faut changer le son. En effet, pour l’instant, le son sort toujours des hauts-parleurs de votre ordinateur.<br/>
Allez pour cela dans les paramètres du son&nbsp;:<br/>
<br/>
<img src="img/3-goto-sound.png" alt="ouvrir les paramètres du son" width="561" height="351" style="max-width: 100%; height: auto;" class="centrerinline"/>
<br/>
<span style="font-weight: bold;">4.</span> Dans l’onglet «&nbsp;Sortie&nbsp;» il suffit de cliquer sur la ligne représentant la carte HDMI (l’autre ligne étant les hauts parleurs)&nbsp;:<br/>
<br/>
<img src="img/4-change-sound-output.png" alt="changer sortie sonore" width="971" height="549" style="max-width: 100%; height: auto;" class="centrerinline" />
<br/>
<span style="font-weight: bold;">5.</span> Voilà, c’est tout&nbsp;!<br/>
Notez que les deux écrans sont complémentaires&nbsp;: l’image est partagée entre les deux écrans et n’affichent pas la même chose. Si vous lancez une instance de VLC pour voir un film, n’oubliez pas que vous pouvez glisser la fenêtre de VLC d’un écran à un autre.<br/>
<br/>
Notez également que si vous souhaitez uniquement regarder un film sur un écran large, il est préférable de n’activer que le grand écran dans sa définition la plus grande et d’éteindre l’écran de l’ordinateur.<br/>
<br/>
Enfin, quand vous débranchez le câble HDMI, n’oubliez pas de rétablir la sortie son sur les hauts-parleurs si le son ne revient pas tout seul.
		<p class="clearboth"></p>
	</div>
	<footer>
		<span class="tags">Publié dans&nbsp;: <a href="/index.php?tag=astuce" rel="tag">astuce</a></span>
		<a href="/index.php?d=2014/05/31/20/49/55-ubuntu-1404-partager-limage-et-le-son-sur-une-tele-en-hdmi#comments">Commentaires fermés</a>
	</footer>
</article>

<article class="post">
	<header>
		<h2><a href="/index.php?d=2014/05/28/21/18/18-le-hoax-du-jour-les-panneaux-solaires-epuisent-le-soleil" title="

Les sites satyriques (du style du Gorafi.fr) sont de plus en plus nombreux mais ce n’est pas sans quelques petits problèmes.

Si parfois un canular est déguisé en véritable information (je tombe moi-même parfois dans le panneau), ces sites raconte…">Le hoax du jour : les panneaux solaires épuisent le Soleil</a></h2>
		<h3>Mercredi 28 mai 2014</h3>
	</header>
	<div>
		<img src="img/solar-pannel.jpg" alt="un panneau solaire" width="240" height="180" style="max-width: 100%; height: auto;" class="one" />
<br/>
Les sites satyriques (du style du <a href="http://www.legorafi.fr/">Gorafi.fr</a>) sont de plus en plus nombreux mais ce n’est pas sans quelques petits problèmes.<br/>
<br/>
Si parfois un canular est déguisé en véritable information (je tombe moi-même parfois dans le panneau), ces sites racontent des blagues simplement pour l’humour. Encore faut-il le comprendre et quand on ne sait pas et que personne ne sait… Ben… ça fait mal.<br/>
<br/>
Le site <a href="http://nationalreport.net/solar-panels-drain-suns-energy-experts-say/">National Report</a> avait partagé une blague selon laquelle l’usage des panneaux solaires épuisaient le Soleil, et qu’il ne resterait que quelques siècles au Soleil avant que celui-ci soit complètement épuisé, mettant alors fin à toute existence de vie sur Terre.<br/>
<br/>
L’article a été <a href="http://ecologie.blog.lemonde.fr/2014/05/28/hoax-ecolo-non-les-panneaux-solaires-nepuisent-pas-le-soleil/">partagé en masse</a> sur les réseau sociaux…<br/>
<br/>
Ce genre de phénomène arrive très souvent, mais il faut avouer que celui-ci est quand même vraiment très gros.<br/>
Après, certains disent que plus c’est gros, mieux ça passe… Mais bon y’a des limites quand même.<br/>
<br/>
<br/>
Pour le côté scientifique&nbsp;: bien-sûr que non, l’usage des panneaux solaires n’a aucune incidence sur l’épuisement du Soleil&nbsp;!<br/>
Tout comme le fait de retirer une casserole du gaz (en laissant le gaz brûler) n’aura aucune incidence sur la consommation de gaz&nbsp;: casserole ou pas, ça brûlera autant jusqu’à ce que vous coupiez l’arrivée de gaz.<br/>
<br/>
En fait, l’énergie solaire qui arrive sous forme de lumière et rayonnement électromagnétique sur les panneaux solaires arrive dans tous les cas sur Terre&nbsp;: les panneaux ne sont que des capteurs qui attrapent cette énergie pour la transformer en électricité au lieu de la laisser filer sur le sol.<br/>
<br/>
(<a href="http://www.lacaryatide.fr/liens/?N4cgQw">Via Nagumo</a>)<br/>
<br/>
Sinon voilà deux autres sites satyriques, en plus du Gorafi cité plus haut&nbsp;:<br/>
<ul>
<li> <a href="http://24matin.ch/">24 Matin — «&nbsp;le bilan de l’actualité en 20 minutes si vous avez le temps&nbsp;»</a></li>
<li> <a href="http://www.bilboquet-magazine.fr/">Bilboquet Magazine — «&nbsp;Nous perdons notre temps pour mieux occuper le votre&nbsp;»</a></li></ul>
<br/>
<p class="small"><a href="https://www.flickr.com/photos/chandramarsono/2283251419">image de Chandra Marsono</a></p>
		<p class="clearboth"></p>
	</div>
	<footer>
		<span class="tags">Publié dans&nbsp;: <a href="/index.php?tag=science" rel="tag">science</a>, <a href="/index.php?tag=troll" rel="tag">troll</a></span>
		<a href="/index.php?d=2014/05/28/21/18/18-le-hoax-du-jour-les-panneaux-solaires-epuisent-le-soleil#comments">Commentaires fermés</a>
	</footer>
</article>

<article class="post">
	<header>
		<h2><a href="/index.php?d=2014/05/26/20/09/45-les-touches-de-clavier-devenues-inutiles-avec-le-temps" title="Vous savez vous servir d’un ordinateur et donc d’un clavier. Mais savez-vous à quoi servent toutes les touches ? Par exemple la touche Syst ou Pause ? Je parie que non&nbsp;: en effet, ces touches ne sont plus jamais utilisés sur les ordinateurs act…">Les touches de clavier devenues inutiles avec le temps</a></h2>
		<h3>Lundi 26 mai 2014</h3>
	</header>
	<div>
		Vous savez vous servir d’un ordinateur et donc d’un clavier. Mais savez-vous à quoi servent toutes les touches ? Par exemple la touche <span class="toets">Syst</span> ou <span class="toets">Pause</span> ? Je parie que non&nbsp;: en effet, ces touches ne sont plus jamais utilisés sur les ordinateurs actuels…<br/>
Je vous liste ici quelques-unes de ces touches et leur usage.<br/>
<br/>
<br/>
<h3>Touches de fonction&nbsp;: F1, F2, F3…</h3>
<br/>
Ces touches sont rarement utilisées, mais quand on les utilise c’est souvent encore dans le sens originel&nbsp;: alors que les touches <span class="toets">A</span> ou <span class="toets">Z</span> affichent toujours une lettre à l’écran, les touches de fonction de <span class="toets">F1</span> à <span class="toets">F12</span> sont utilisées par les programmes pour effectuer des actions prédéterminées et propres à ce programme. Généralement la touche <span class="toets">F1</span> correspond à l’interface d’aide, mais ce n’est pas systématique.<br/>
<br/>
Par exemple, dans le logiciel Htop (sous Linux), l’action associée à chacune de ces touches est affichée en bas, tel un menu&nbsp;:<br/>
<img src="img/Capture-htop.png" alt="capture d’écran de htop en console" width="730" height="450" style="max-width: 100%; height: auto;" class="centrerinline" />
<br/>
Sur un ordinateur portable, elles ne sont pas à confondre avec les touches bleues qui s’utilisent en combinaison avec la touche <span class="toets">Fn</span> qui signifie fonction aussi, mais qui sert à activer le son ou la lumière de l’écran&nbsp;: ce sont les touches de fonction matériel propre à l’ordinateur (quelque soit le système d’exploitation) et souvent reliés au Bios directement.<br/>
<br/>
<h3>Les touches Pause et ArrêtDéf</h3>
<br/>
Ces deux touches ne sont pratiquement jamais utilisées non plus. La touche <span class="toets">ArrêtDef</span> signifie «&nbsp;arrêt défilement&nbsp;» et active une Del du clavier (comme les touches de verrouillage numérique et majuscule).<br/>
La touche de pause est très ancienne et remonte à l’époque du télégraphe&nbsp;: il permettait au récepteur d’une communication de signaler à l’émetteur qu’il désirait une pause dans la transmission.<br/>
<br/>
Quand les ordinateurs n’avaient pas encore d’interface graphique, les lignes défilaient à l’écran très rapidement. Les touches <span class="toets">Pause</span> et <span class="toets">ArrêtDéf</span> permettaient de stopper temporairement le défilement pour pouvoir lire ce qui est écrit&nbsp;: il était souvent impossible de remonter le texte pour lire ce qu’il y avait au dessous.<br/>
Appuyer de nouveau sur la touche permettait de reprendre le défilement du texte.<br/>
<br/>
Aujourd’hui ces touches fonctionnent encore dans les terminaux GNU/Linux ou Unix (les TTY) et peut-être aussi dans Windows sans interface graphique. Certains jeux utilisent aussi la touchent <span class="toets">Pause</span> pour mettre le jeu en pause.<br/>
<br/>
<h3>La touche Attn</h3>
<br/>
Cette touche — dite «&nbsp;Attention&nbsp;» — est également très peu voire pas du tout utilisée. Sur certains systèmes d’exploitations presser ce bouton permettait de lancer la procédure de connexion.<br/>
<br/>
Sous Windows il faut parfois faire la combinaison <span class="toets">Ctrl</span><span class="toets">Alt</span><span class="toets">Suppr</span> pour afficher l’écran de connexion et taper le nom d’utilisateur de le mot de passe. Cette combinaison a le même rôle que la touche d’attention.<br/>
<br/>
<h3>La touche Syst</h3>
<br/>
À l’instar des touches des pauses du défilement, la touche <span class="toets">Syst</span> date également des vieux ordinateurs&nbsp;: elle permettait de donner la main au système d’exploitation quand les ordinateurs n’étaient pas encore multitâches en envoyant directement une instruction au Bios (et non au pilote logiciel du clavier).<br/>
<br/>
Cette touches n’est pratiquement plus utilisé aujourd’hui. Les systèmes Linux l’utilisent dans la combinaison de touches dite «&nbsp;magiques&nbsp;» pour envoyer des instructions directement au noyau Linux, par exemple pour redémarrer l’ordinateur d’urgence ou pour arrêter tous les accès disque.<br/>
<br/>
<h3>La touche AltGr</h3>
<br/>
Cette touche est le raccourcis de «&nbsp;<span style="font-style: italic;">alternate graphic</span>&nbsp;» (il y a aussi une touche <span class="toets">Alt</span> «&nbsp;<span style="font-style: italic;">alternate</span>&nbsp;»). Sur les vieux claviers, cette touche (comme la touche majuscule) permettait d’afficher un caractère différent de celui affiché sur la touche. C’est avec cette touche qu’on affiche le croisillon «&nbsp;#&nbsp;» sur la touche <span class="toets">3</span>.<br/>
<br/>
Il était à l’époque considéré que les caractères affichés à l’aide de cette touche était plus fantaisistes, plus «&nbsp;<span style="font-style: italic;">graphiques</span>&nbsp;» que les caractères normaux comme les lettres ou la ponctuation.<br/>
Aujourd’hui, sous Windows et par défaut, il permet d’afficher les caractères en bas à droite des touches numériques au dessus des lettres, ainsi que le signe de l’euro «&nbsp;€&nbsp;».<br/>
Sous GNU/Linux, il permet d’ajouter beaucoup plus de caractères, comme les points de suspensions «&nbsp;…&nbsp;» avec <span class="toets">AltGr</span><span class="toets">Maj</span><span class="toets">;</span> ou la ligature A-E «&nbsp;æ&nbsp;» avec <span class="toets">AltGr</span><span class="toets">A</span>.<br/>
<br/>
<br/>
Outre les touches d’un clavier, il y a quelques autres éléments que les ordinateurs ou les systèmes d’exploitation actuels ont hérités des vieux systèmes.<br/>
Citons par exemple les économiseurs d’écrans (qui n’ont rien d’économique)&nbsp;: sur les écrans cathodiques l’image était affichée à l’aide d’un faisceau d’électrons qui excitaient une couche de poudre fluorescente. Si l’écran affichait toujours la même image, c’est toujours la même zone qui est bombardée par les électrons et ceci finissait par abîmer l’écran.<br/>
Il était donc préférable d’afficher une image bidon et qui changeait souvent en forme et en couleurs lorsque l’ordinateur n’était pas utilisé depuis un certain délai&nbsp;: l’économiseur d’écran sert à ça.<br/>
Parlons aussi des caractères de fin de ligne (que l’on ne voit jamais en fait, mais que les programmeurs utilisent parfois)&nbsp;: «&nbsp;\r&nbsp;» ou «&nbsp;\n&nbsp;». Les deux datent de l’époque de la machine à écrire&nbsp;: le premier les l’abréviation de «&nbsp;<span style="font-style: italic;">carriage returns</span>&nbsp;» dans le sens du retour chariot&nbsp;: le chariot (la partie qui tient le papier) de la machine à écrire se remettait au début de la ligne ; et le second vient de «&nbsp;<span style="font-style: italic;">newline</span>&nbsp;» qui signifie «&nbsp;nouvelle ligne&nbsp;»&nbsp;: en plus du retour chariot, il fallait descendre sur une nouvelle ligne du papier. Logiquement donc, un retour à la ligne correspond donc à la séquence «&nbsp;\r\n&nbsp;», mais les systèmes d’exploitation informatique actuels ne s’accordent pas tous sur quel caractère utiliser pour coder un retour à la ligne&nbsp;: «&nbsp;\r\n&nbsp;» (Windows), «&nbsp;\r&nbsp;» (Mac-OS) ou «&nbsp;\n&nbsp;» (Unix).
		<p class="clearboth"></p>
	</div>
	<footer>
		<span class="tags">Publié dans&nbsp;: <a href="/index.php?tag=astuce" rel="tag">astuce</a></span>
		<a href="/index.php?d=2014/05/26/20/09/45-les-touches-de-clavier-devenues-inutiles-avec-le-temps#comments">Commentaires fermés</a>
	</footer>
</article>

<article class="post">
	<header>
		<h2><a href="/index.php?d=2014/05/20/19/21/36-php-faire-plusieurs-requetes-http-simultanees-avec-curl" title="
Toujours en développement de mon lecteur RSS en PHP, je me suis heurté au problème de la mise à jour des 154 flux auquel je suis abonné. Si le file_get_contents() fonctionne avec les URL, il ne peut les télécharger que les uns après les autres. Ain…">[PHP] Faire plusieurs requêtes HTTP simultanées avec cURL</a></h2>
		<h3>Mardi 20 mai 2014</h3>
	</header>
	<div>
		<img src="img/elephant.jpg" alt="two elephants" width="240" height="180" style="max-width: 100%; height: auto;" class="one" />
Toujours en développement de mon lecteur RSS en PHP, je me suis heurté au problème de la mise à jour des <span style="font-weight: bold;">154 flux</span> auquel je suis abonné. Si le <a href="http://www.php.net/manual/fr/function.file-get-contents.php">file_get_contents()</a> fonctionne avec les URL, il ne peut les télécharger que les uns après les autres. Ainsi, même en ne mettant qu’un délai d’attente d’une seconde, la mise à jour prendrait au minimum <span style="font-weight: bold;">2 minutes 34 secondes</span>. C’est bien trop long.<br/>
<br/>
Une solution aurait pu être de faire 154 requêtes depuis les navigateur, pour ouvrir 154 instances de file_get_contents(), mais ça me semblait trop lourd.<br/>
<br/>
La meilleure solution est à mon avis d’utiliser le module <a href="http://php.net/manual/fr/book.curl.php/">curl</a>&nbsp;: lui, il peut faire 154 requêtes simultanées, et la durée de l’opération totale sera simplement la durée de la plus longue des requêtes et non la somme de toutes les requêtes. Avec cette méthode, je met à jour tous mes flux en moins d’une minute, toutes opérations incluses.<br/>
<br/>
En pratique, pour récupérer le contenu de plusieurs URL, ça se présente comme suit.<br/>
<br/>
On initialise une liste de sessions curl «&nbsp;<span style="font-style: italic;">$multihandler</span>&nbsp;»&nbsp;: chacune correspondra à une instance de curl qui ira se connecter à une URL&nbsp;:<br/>
<pre>// init multi handler$multihandler = curl_multi_init();$handlers = $result = array();</pre>
<br/>
On peuple la liste des sessions&nbsp;: chaque session est initialisée individuellement (avec une option CURLOPT_RETURNTRANSFER qui force curl à retourner le contenu plutôt que de l’afficher) puis on ajoute la session <span style="font-style: italic;">$handler[$i]</span> à la liste des sessions <span style="font-style: italic;">$multihandler</span><br/>
<pre>// init each urlforeach ($urls as $i) {	$handlers[$i] = curl_init($i);	curl_setopt($handlers[$i], CURLOPT_RETURNTRANSFER, TRUE);	curl_multi_add_handle($multihandler, $handlers[$i]);}</pre>
<br/>
Il n’y a plus qu’à établir toutes les connexions aux URL et télécharger les données.<br/>
Le <span style="font-style: italic;">$pendingConnex</span> est une variable donnée par curl qui donne le nombre de connexions actives. Ce nombre diminuera progressivement jusqu’à zéro quand toutes les URL auront été téléchargées.<br/>
<br/>
Les 10 ms d’attente sont là pour éviter que PHP ne fasse trop de tests, et permet de réduire la charge serveur (si on ne le met pas, la charge serveur explose — une méthode plus propre, mais dont le gain par rapport au sleep() n’est pas énorme est visible <a href="http://www.php.net/manual/fr/function.curl-multi-exec.php#refsect1-function.curl-multi-exec-examples">dans la doc</a>).<br/>
10ms, pour un temps d’exécution de 10 seconde sur un processeur qui fait une boucle par nanoseconde (proc à 1 GHz) permet de réduire le nombre d’itérations par un facteur 10'000'000, ce qui est colossal&nbsp;: le serveur a dix millions de fois moins de puissance à allouer.<br/>
<br/>
Dans mon lecteur RSS, je mets dans cette boucle <span style="font-style: italic;">do/while</span> le code qui m’affiche à intervalle régulier le nombre de requêtes restantes.<br/>
<br/>
<pre>// exec connexions + downloaddo {	curl_multi_exec($multihandler, $pendingConnex);	usleep(10000); // 10 ms} while ($pendingConnex &gt; 0);</pre>
<br/>
À ce stade, les requêtes sont faites, les données récupérées en mémoire.<br/>
Il suffit de les parser et de les récupérer dans le tableau $result. Ce tableau contiendra les données en valeur et les URL en clés&nbsp;:<br/>
<br/>
<pre>// parse responsesforeach ($urls as $i) {	$result[] = curl_multi_getcontent($handers[$i]);}</pre>
<br/>
Le code ci-dessus devrait être suffisant.<br/>
Néanmoins, je conseille d’ajouter quelques options, avec curl_setopt()&nbsp;:<br/>
<br/>
<ul>
<li> Pour suivre les redirections 302 et 301 de façon transparentes&nbsp;: <pre>curl_setopt($handlers[$i], CURLOPT_FOLLOWLOCATION, TRUE);</pre> </li>
<li> Pour réduire la durée d’attente de connexion à 10 secondes&nbsp;: <pre>curl_setopt($handlers[$i], CURLOPT_CONNECTTIMEOUT, 10);</pre> </li>
<li> Pour réduire la durée d’attente de téléchargement des données à 30 secondes <pre>curl_setopt($handlers[$i], CURLOPT_TIMEOUT, 30);</pre> </li>
<li> Pour accepter les cookies de sessions&nbsp;: <pre>curl_setopt($handlers[$i], CURLOPT_COOKIESESSION, TRUE);</pre>
</li></ul>
<p class="small"><a href="https://www.flickr.com/photos/jimfrostisleofman/10886775265">image de Jim Frost</a></p>
		<p class="clearboth"></p>
	</div>
	<footer>
		<span class="tags">Publié dans&nbsp;: <a href="/index.php?tag=astuce" rel="tag">astuce</a></span>
		<a href="/index.php?d=2014/05/20/19/21/36-php-faire-plusieurs-requetes-http-simultanees-avec-curl#comments">Commentaires fermés</a>
	</footer>
</article>


		</div> <!-- end postS -->
	<p class="pagination"><a href="/index.php?p=1&amp;p=0" rel="prev">&#171; éléments plus récents</a> – <a href="/index.php?p=1&amp;p=2" rel="next">éléments plus anciens &#187;</a></p>
	</section> <!-- end midle  -->

	<section id="sidebar">

		<p id="fla">
			<a href="rss.php"></a>
			<a href="contact"></a>
			<a href="https://flattr.com/thing/1128883/timo-le-hollandais-volant"></a>
			<a href="index/1JZQ8BgNN9bLnpv4XJ7eXZMJCwERYQDhds.png" onclick="prompt('Vous pouvez envoyer des (fractions de) Bitcoin à cette adresse :', '1JZQ8BgNN9bLnpv4XJ7eXZMJCwERYQDhds');"></a>
		</p>

		<nav class="calendar">
			<h4>Derniers articles</h4>
			<table id="calendrier">
<caption><a href="/index.php?d=2014/06">&#171;</a>&nbsp;<a href="/index.php?d=2014/07">juillet 2014</a></caption>
<tr><th><abbr>Lu</abbr></th><th><abbr>Ma</abbr></th><th><abbr>Me</abbr></th><th><abbr>Je</abbr></th><th><abbr>Ve</abbr></th><th><abbr>Sa</abbr></th><th><abbr>Di</abbr></th></tr><tr><td></td><td>1</td><td>2</td><td>3</td><td><a href="/index.php?d=2014/07/04">4</a></td><td>5</td><td>6</td></tr><tr><td><a href="/index.php?d=2014/07/07">7</a></td><td><a href="/index.php?d=2014/07/08">8</a></td><td>9</td><td><a href="/index.php?d=2014/07/10">10</a></td><td>11</td><td><a href="/index.php?d=2014/07/12">12</a></td><td>13</td></tr><tr><td>14</td><td>15</td><td>16</td><td><a href="/index.php?d=2014/07/17">17</a></td><td>18</td><td>19</td><td>20</td></tr><tr><td>21</td><td>22</td><td>23</td><td>24</td><td>25</td><td>26</td><td>27</td></tr><tr><td>28</td><td>29</td><td>30</td><td>31</td><td> </td><td> </td><td> </td></tr></table>
			<br/>
			<ul>
				<li><a href="index.php?d=2014/01">2014</a></li>
				<li><a href="index.php?d=2013/01">2013</a></li>
				<li><a href="index.php?d=2012/01">2012</a></li>
				<li><a href="index.php?d=2011/01">2011</a></li>
				<li><a href="index.php?d=2010/01">2010</a></li>
				<li><a href="index.php?d=2009/03">2009</a></li>
			</ul>
			<ul>
				<li><a href="/?random">Au hasard</a></li>
				<li><a href="/?liste">Tous les articles</a></li>
			</ul>
		</nav>
		<!--
		<nav class="lastcoms">
			<h4>Derniers commentaires</h4>
			{ commentaires_encart}
		</nav>
		-->
		<nav class="friends">
			<h4>Les amis :-)</h4>
			<ul>
				<li><a href="http://lags.is/">Lagwire</a></li>
				<!--<li><a href="http://www.inlibroveritas.net/auteur13475.html">Marc Vagheron</a></li>-->
				<!--<li><a href="/?d=2011/03/04/18/02/47-salut-mon-ami">Pika</a></li>-->
				<!--<li><a href="http://identitools.fr/">Identitools</a></li>-->
				<!--<li><a href="http://blog.rolinh.ch/">Rolinh</a></li>-->
				<li><a href="http://horyax.fr/">Horyax</a></li>
				<li><a href="http://www.veilleurs.info/">Sir Chamallow</a></li>
				<li><a href="http://www.gabin-romualdinho13.com">Le Portail de la gratuité</a></li>
				<li><a href="http://etudiant-libre.fr.nf/">L’Étudiant Libre</a></li>
				<li><a href="http://www.olissea.com/">Olissea</a></li>
				<!--<li><a href="http://www.legeekcafe.com/">Le Geek Café</a></li>-->
				<li><a href="http://www.zupmage.eu">ZupMage</a></li>
				<li><a href="http://hmm-la-bd.eu/">Hmm la bd</a></li>
				<!--<li><a href="http://daronpaper.blogspot.com/">Daron's Paper</a></li>-->
				<!--<li><a href="http://ignorez-moi.fr/">Ignorez-moi.fr</a></li>-->
				<li><a href="http://www.game-tube.fr/">Game Tube</a></li>
				<li><a href="http://blog.clunar.com">Clunar</a></li>
				<li><a href="http://geektionnerd.net/">Le Geektionnerd</a></li>
				<li><a href="http://sebsauvage.net/">Sebsauvage</a></li>
				<li><a href="http://korben.info/">Korben</a>
				<li><a href="http://www.matronix.fr">Matronix</a></li>
				<li><a href="http://www.warriordudimanche.net/">Warrior du dimanche</a></li>
			</ul>
		</nav>

	</section><!-- end colonne de gauche -->
</div><!-- end main -->

<!-- footer -->
<footer>
	<p><a href="tout/apropos.php" rel="license">À propos</a> &nbsp; • &nbsp; <a href="tout/moi.php" rel="author">Timo Van Neerden</a> &nbsp; • &nbsp; <a href="contact" rel="contact">Contact</a><span style="display:none;"><a href="https://plus.google.com/104973713887487785136?rel=author">Google</a></span></p>
	<p lang="la">«&nbsp;ultima ratio populi&nbsp;»</p>
</footer>

<script>
/*	==========================
	Form buttons : for formating & reply button
*/

// formating : insert a tag
function insertTag(startTag, endTag, tag) {
	var f = document.getElementById(tag);
	var scroll = f.scrollTop;
	f.focus();
	var startSelection   = f.value.substring(0, f.selectionStart);
	var currentSelection = f.value.substring(f.selectionStart, f.selectionEnd);
	var endSelection     = f.value.substring(f.selectionEnd);
	if (currentSelection == "") { currentSelection = "TEXTE"; }
	f.value = startSelection + startTag + currentSelection + endTag + endSelection;
	f.focus();
	f.setSelectionRange(startSelection.length + startTag.length, startSelection.length + startTag.length + currentSelection.length);
	f.scrollTop = scroll;
}

// the Reply button
function reply(code) {
	var f = document.getElementById('form-commentaire').getElementsByTagName('textarea')[0];
	f.focus();
	if (f.value !== '') {
		f.value += '\n\n';
	}
	f.value += code;
	f.scrollTop = 10000;
	f.focus();
}
</script>
</body>
</html>

