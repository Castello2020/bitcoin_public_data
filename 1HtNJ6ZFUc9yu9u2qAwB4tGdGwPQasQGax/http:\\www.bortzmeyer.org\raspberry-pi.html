http://www.bortzmeyer.org/raspberry-pi.html
HTTP/1.1 200 OK
Date: Thu, 24 Jul 2014 00:05:08 GMT
Server: Apache/2.2.22 (Debian)
Last-Modified: Wed, 02 Jul 2014 19:02:39 GMT
ETag: "23fc8-9c39-4fd3a893931c0"
Accept-Ranges: bytes
Vary: Accept-Encoding
Content-Encoding: gzip
Link: <http://www.gnu.org/copyleft/fdl.html>; rel="license"; title="GFDL"
Content-Length: 12434
Connection: close
Content-Type: text/html; charset=UTF-8

<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xml:lang="fr" lang="fr" xmlns="http://www.w3.org/1999/xhtml">
<head>
<!-- Generated on ludwigVII.sources.org on 2014-07-02T21:02 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<link rel="stylesheet" type="text/css" href="screen.css" media="screen"/>
<link rel="stylesheet" type="text/css" href="print.css" media="print"/>
<link rel="openid2.provider" href="https://openid.stackexchange.com/openid/provider">
<link rel="openid2.local_id" href="https://openid.stackexchange.com/user/ce28a43a-5060-423a-8574-25e24a8f096e">
<!-- TODO: add META tags from the text of the entry, for instance keywords ? -->
<link rel="alternate" type="application/atom+xml" title="Atom syndication feed - summaries" href="feed.atom" />
<link rel="alternate" type="application/atom+xml" title="Atom syndication feed - full content" href="feed-full.atom" />
<link rel="search"
           type="application/opensearchdescription+xml" 
           href="http://www.bortzmeyer.org/others/add-search-engine.xml"
           title="Blog Bortzmeyer" />
<link rel="author" href="http://www.bortzmeyer.org/static/moi.html"/>
<link rel="privacy-policy" href="/privacy-policy.html"/>
<title>
Blog Stéphane Bortzmeyer: Le Raspberry Pi, un petit ordinateur pas cher

</title>
</head>

<body>

<div id="page-container">
<div id="masthead">
<div class="inside">
			<h1><a href="index.html">Mon blog</a></h1>
			<hr class="hide" />
</div>
</div>
<div id="outer-column-container">
<div id="inner-column-container">
<div id="source-order-container">
<div id="left-column">
<div id="leftmenu" class="inside">
<h3>Autres trucs</h3>
<p><a href="index.html">Accueil</a></p>
<p><a href="rfcs.html">Seulement les RFC</a></p>
<p><a href="ficheslecture.html">Seulement les fiches de lecture</a></p>
<p><a href="http://echoping.sourceforge.net/">echoping</a></p>
<p><a href="http://www.demaziere.fr/eve/">Ève</a></p>
<form action="/search"><p>Recherche dans ce blog : <input type="text" name="pattern" style="width:100%"/>
</p>
</form>
</div>
</div> <!-- End of left-column -->
<div id="middle-column">
<div class="inside">


<h2 xml:lang="fr">Le Raspberry Pi, un petit ordinateur pas cher</h2><p>Première rédaction de cet article le 17 juillet 2012<br/>Dernière mise à jour le 9 octobre 2012<br/></p><hr/><div xml:lang="fr">
<div class="para"><p>Depuis les premières annonces, il a déjà généré beaucoup d'articles
et de messages. Poussé par un marketing vigoureux, le
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Raspberry%20Pi" title="Consultez l'article &quot;Raspberry Pi&quot; de l'encyclopédie libre Wikipedia">Raspberry Pi</a></b> commence à être livré, au
compte-gouttes. Les premiers retours d'expérience apparaissent
donc. Voici le mien.</p></div>
<div class="para"><p>Le <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Raspberry%20Pi" title="Consultez l'article &quot;Raspberry Pi&quot; de l'encyclopédie libre Wikipedia">Raspberry Pi</a></b> est un ordinateur, de très
petit format. Le modèle B que j'ai acheté a un processeur
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Architecture%20ARM" title="Consultez l'article &quot;Architecture ARM&quot; de l'encyclopédie libre Wikipedia">ARM</a></b> v6 à l'intérieur d'un
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/System-on-a-chip" title="Consultez l'article &quot;System-on-a-chip&quot; de l'encyclopédie libre Wikipedia">SoC</a></b> <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Broadcom" title="Consultez l'article &quot;Broadcom&quot; de l'encyclopédie libre Wikipedia">Broadcom</a></b> BCM2835,
256 Mo de <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/M%C3%A9moire%20vive" title="Consultez l'article &quot;Mémoire vive&quot; de l'encyclopédie libre Wikipedia">RAM</a></b> (attention,
le processeur graphique en prend une bonne partie), et plusieurs connecteurs
(<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/High-Definition%20Multimedia%20Interface" title="Consultez l'article &quot;High-Definition Multimedia Interface&quot; de l'encyclopédie libre Wikipedia">HDMI</a></b>, <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Universal%20Serial%20Bus" title="Consultez l'article &quot;Universal Serial Bus&quot; de l'encyclopédie libre Wikipedia">USB</a></b>,
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Ethernet" title="Consultez l'article &quot;Ethernet&quot; de l'encyclopédie libre Wikipedia">Ethernet</a></b>, etc). C'est donc un petit engin. Ne
comptez pas compiler <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/LibreOffice" title="Consultez l'article &quot;LibreOffice&quot; de l'encyclopédie libre Wikipedia">LibreOffice</a></b> dessus.</p></div>
<div class="para"><p>Il est livré sans boîtier ce qui permet de tout voir mais empêche
de l'utiliser en déplacement (si vous cherchez un boîtier, regardez <a href="http://raspberrypi.stackexchange.com/questions/337/what-cases-are-available">cette discussion sur StackExchange</a>) : <!--
         This image uses HTTP content-negociation which, I know, fail
with MS Internet Explorer 5 and 6, which apparently sends a */*, thus
retrieving SVG files they do not how how to handle. Too bad for them.
       --><img src="images/raspberrypi-close.jpg" alt=""/></p></div>
<div class="para"><p>Commandé chez <a href="http://export.farnell.com/rp/order/">Farnell/Element14</a> (on
peut aussi aller chez <a href="http://uk.rs-online.com/web/generalDisplay.html?id=raspberrypi">RS
Online</a> mais je n'ai pas testé), il
m'a coûté 32 <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Livre%20sterling" title="Consultez l'article &quot;Livre sterling&quot; de l'encyclopédie libre Wikipedia">livres</a></b>. C'est donc un des
ordinateurs les moins chers du marché mais attention : pour atteindre
ce prix, il est vraiment vendu « sec ». Il n'y a même pas d'alimentation 
(et, comme il n'a pas de batterie, il faut une en permanence).
Il faut donc absolument prévoir un <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Chargeur%20(%C3%A9lectricit%C3%A9)#USB_pour_prise_type_murale" title="Consultez l'article &quot;Chargeur (électricité)&quot; de l'encyclopédie libre Wikipedia">chargeur USB</a></b>
(pas un PC, un vrai chargeur, débitant suffisamment pour le Pi)
et une <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/carte%20SD" title="Consultez l'article &quot;carte SD&quot; de l'encyclopédie libre Wikipedia">carte SD</a></b> (le seul espace de stockage du Pi).
Il faut aussi, de préférence, un clavier <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Universal%20Serial%20Bus" title="Consultez l'article &quot;Universal Serial Bus&quot; de l'encyclopédie libre Wikipedia">USB</a></b> et
une télévision avec un câble <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/High-Definition%20Multimedia%20Interface" title="Consultez l'article &quot;High-Definition Multimedia Interface&quot; de l'encyclopédie libre Wikipedia">HDMI</a></b>. On peut se
débrouiller sans, via le réseau mais si un problème se pose, déboguer
en aveugle est pénible. Donc, profitez des délais de livraison très
élevés pour rassembler des accessoires. Notez que le Pi est souvent
utilisé par des passionnés d'électronique et que, lorsque vous
signalerez un problème sur un forum, la première réponse sera souvent
« tu as vérifié la <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Tension%20%C3%A9lectrique" title="Consultez l'article &quot;Tension électrique&quot; de l'encyclopédie libre Wikipedia">tension</a></b> à la sortie du chargeur ? » Donc, un
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/voltm%C3%A8tre" title="Consultez l'article &quot;voltmètre&quot; de l'encyclopédie libre Wikipedia">voltmètre</a></b> ne sera sans doute pas inutile non plus.</p></div>
<div class="para"><p>Tout est bien branché ? <!--
         This image uses HTTP content-negociation which, I know, fail
with MS Internet Explorer 5 and 6, which apparently sends a */*, thus
retrieving SVG files they do not how how to handle. Too bad for them.
       --><img src="images/raspberrypi-with-keyboard.jpg" alt=""/> Il faut aussi choisir un
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/syst%C3%A8me%20d'exploitation" title="Consultez l'article &quot;système d'exploitation&quot; de l'encyclopédie libre Wikipedia">système d'exploitation</a></b> (aujourd'hui, seulement
les systèmes basés sur <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Linux" title="Consultez l'article &quot;Linux&quot; de l'encyclopédie libre Wikipedia">Linux</a></b>) et le mettre sur la
carte SD. Parmi les <a href="http://www.raspberrypi.org/downloads">images officielles</a>,
j'ai testé <b><a class="wikipedia" hreflang="en" href="http://en.wikipedia.org/wiki/Raspbian" title="Consultez l'article &quot;Raspbian&quot; de l'encyclopédie libre Wikipedia (en anglais)">Raspbian</a></b> (fondé sur
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Debian" title="Consultez l'article &quot;Debian&quot; de l'encyclopédie libre Wikipedia">Debian</a></b>) et
<a href="archlinux.html" title="Consultez ce blog à propos de &quot;archlinux&quot;">Arch Linux</a> (toutes les deux téléchargées en
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/BitTorrent%20(protocole)" title="Consultez l'article &quot;BitTorrent (protocole)&quot; de l'encyclopédie libre Wikipedia">BitTorrent</a></b>). Ensuite, on copie les images sur
la carte SD avec <b><a href="http://phpunixman.sourceforge.net/index.php/man/dd" title="Consultez la page de manuel Unix &quot;dd&quot; ">dd</a></b> (très bonnes <a href="http://elinux.org/RPi_Easy_SD_Card_Setup">explications en ligne</a>). Attention en branchant la carte SD, l'emplacement est fragile et la carte sort facilement, empêchant le Pi d'y accéder.
</p></div>
<div class="para"><p>Alors, allons-y, branchons le chargeur, le Pi démarre (pas de bouton
On/Off). On voit défiler les messages de démarrage traditionnels de
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Linux" title="Consultez l'article &quot;Linux&quot; de l'encyclopédie libre Wikipedia">Linux</a></b> sur la télé. Vous pouvez trouver ici
<a class="local-file" href="files/raspberry-pi-debian-dmesg.txt" title="Récupérez le fichier &quot;raspberry-pi-debian-dmesg.txt&quot;">tous les messages de
démarrage</a>. Il acquiert une <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/adresse%20IP" title="Consultez l'article &quot;adresse IP&quot; de l'encyclopédie libre Wikipedia">adresse IP</a></b>
par <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Dynamic%20Host%20Configuration%20Protocol" title="Consultez l'article &quot;Dynamic Host Configuration Protocol&quot; de l'encyclopédie libre Wikipedia">DHCP</a></b> ou en
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Neighbor%20Discovery%20Protocol" title="Consultez l'article &quot;Neighbor Discovery Protocol&quot; de l'encyclopédie libre Wikipedia">RA</a></b>. L'image Raspbian officielle actuelle n'a pas
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/IPv6" title="Consultez l'article &quot;IPv6&quot; de l'encyclopédie libre Wikipedia">IPv6</a></b> par défaut, il faudra l'activer en éditant
<code>/etc/modules</code> pour ajouter
<code>ipv6</code>. Ensuite, on note que SSH est bien démarré :
</p><pre>
% sudo nmap 192.168.2.38

Starting Nmap 5.00 ( http://nmap.org ) at 2012-07-06 22:26 CEST
Interesting ports on 192.168.2.38:
Not shown: 998 closed ports
PORT    STATE SERVICE
22/tcp  open  ssh
111/tcp open  rpcbind
MAC Address: B8:27:EB:BA:90:94 (Unknown)

Nmap done: 1 IP address (1 host up) scanned in 0.42 seconds
</pre><p>
On peut alors se connecter (la documentation de l'image utilisée
indique le mot de passe).
Une fois connecté en SSH, on peut admirer le résultat :
</p><pre>
% uname -a
Linux raspberrypi 3.1.9+ #90 Wed Apr 18 18:23:05 BST 2012 armv6l GNU/Linux

% df -h
Filesystem            Size  Used Avail Use% Mounted on
tmpfs                  94M     0   94M   0% /lib/init/rw
udev                   10M  136K  9.9M   2% /dev
tmpfs                  94M     0   94M   0% /dev/shm
rootfs                1.6G  1.2G  298M  80% /
/dev/mmcblk0p1         75M   28M   47M  37% /boot
</pre></div>
<div class="para"><p>Et s'il ne démarre pas ? Il faut consulter l'<a href="http://elinux.org/R-Pi_Troubleshooting">excellent guide de
dépannage</a> et examiner les <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Diode%20%C3%A9lectroluminescente" title="Consultez l'article &quot;Diode électroluminescente&quot; de l'encyclopédie libre Wikipedia">LED</a></b> qui vous
renseignent sur les causes du problème.</p></div>
<div class="para"><p>L'image <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Arch%20Linux" title="Consultez l'article &quot;Arch Linux&quot; de l'encyclopédie libre Wikipedia">Arch Linux</a></b> officielle a IPv6 et SSH
par défaut. Il me semble que l'image Arch Linux marche très
bien mais Arch Linux n'est pas prévu pour les débutants Unix. À noter que, par défaut, elle n'utilise que 128 Mo de mémoire (192 pour la Debian, soit le maximum car
le processeur graphique utilise le reste). Pour avoir plus, il faut copier le
fichier <code>/boot/arm224_start.elf</code> en
<code>/boot/start.elf</code>, et redémarrer, pour bénéficier de toute la mémoire (moins ce que garde le GPU.</p></div>
<div class="para"><p>À noter que le Raspberry Pi, toujours pour comprimer les coûts, n'a
pas d'horloge stable. Au démarrage, il retourne au 1er janvier
1970. IL faut donc définir l'heure au démarrage, le plus simple étant
de se synchroniser à un serveur <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Network%20Time%20Protocol" title="Consultez l'article &quot;Network Time Protocol&quot; de l'encyclopédie libre Wikipedia">NTP</a></b>.</p></div>
<div class="para"><p>Bon, mais à part à taper <b><a href="http://phpunixman.sourceforge.net/index.php/man/uname" title="Consultez la page de manuel Unix &quot;uname&quot; ">uname</a></b> et <b><a href="http://phpunixman.sourceforge.net/index.php/man/df" title="Consultez la page de manuel Unix &quot;df&quot; ">df</a></b>, à
quoi sert cet engin ? D'abord, un message important : <b class="emphasis">si
vous voulez une solution prête à l'emploi, allez voir
ailleurs</b>. Le Pi n'est <b class="emphasis">pas</b> un truc tout
fait qu'on met en marche et qu'on utilise. C'est une plate-forme pour
des expérimentations, du développement, de l'apprentissage (son faible
coût permet de ne pas hésiter à bricoler). J'ai testé trois
utilisations possibles :
</p><ul>
<li>Programmation,</li>
<li>Surveillance de réseau,</li>
<li>Centre multimédia.</li>
</ul></div>
<div class="para"><p>Pour le premier usage, l'intérêt du Pi est son faible
coût, qui le rend accessible aux jeunes avec peu d'argent de poche,
par exemple. Toutefois, si on a déjà un PC, le Pi n'apporte pas grand'chose
en plus (pour les programmeurs en <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/C%20(langage)" title="Consultez l'article &quot;C (langage)&quot; de l'encyclopédie libre Wikipedia">C</a></b>, il est
toutefois utile d'avoir une autre plate-forme matérielle, pour
s'habituer à écrire du code portable). Et, si le Pi est le premier ordinateur qu'on a, il faut
prévoir la télé, les câbles et le clavier (ce qui renchérit
sérieusement le prix) et programmer en bloquant la télé familiale, ce
qui sera peut-être peu apprécié. (Il faut aussi commander des cartes
SD pré-remplies, ou bien les faire faire par un copain ayant un ordinateur.)</p></div>
<div class="para"><p>Le Pi a tous les logiciels Unix souhaitables, par exemple le
compilateur <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/GNU%20Compiler%20Collection" title="Consultez l'article &quot;GNU Compiler Collection&quot; de l'encyclopédie libre Wikipedia">gcc</a></b>. Pour travailler avec un
langage plus moderne, j'ai fait des essais en
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Go%20(langage)" title="Consultez l'article &quot;Go (langage)&quot; de l'encyclopédie libre Wikipedia">Go</a></b>. L'un des deux compilateurs Go existants,
gc, peut produire du code pour les processeurs
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Architecture%20ARM" title="Consultez l'article &quot;Architecture ARM&quot; de l'encyclopédie libre Wikipedia">ARM</a></b>. Attention, cela ne marche pas du premier
coup (<i class="foreign" xml:lang="en">illegal instruction</i> dans
<code>math/rand</code>) pour des raisons expliquées <a href="http://code.google.com/p/go-wiki/wiki/GoArm">dans la
documentation de Go</a>. Bref, il faut ajouter la variable d'environnement
<code>GOARM=5</code> avant de compiler et, cette fois, tout
marche.</p></div>
<div class="para"><p>Mais rappelez-vous que le Pi est lent : alors que gc compile
quasiment toujours instantanément sur un PC de bureau normal, ici, les
temps de compilation sont sensibles. Cela laisse le temps de
réfléchir.</p></div>
<div class="para"><p>Autre utilisation possible du Pi : la surveillance de réseau. Là,
pas besoin de clavier et d'écran, et la faible consommation électrique
du Pi permet de le laisser branché en permanence, sans remords
écologiques. L'ARM est un vrai processeur moderne, on peut faire
tourner des gros programmes comme <b><a class="wikipedia" hreflang="en" href="http://en.wikipedia.org/wiki/Icinga" title="Consultez l'article &quot;Icinga&quot; de l'encyclopédie libre Wikipedia (en anglais)">Icinga</a></b>. Ce
dernier compile sans problème et tourne ensuite, testant les services
qu'on veut tester et signalant les problèmes via son interface Web ou
par courrier. Cela me semble, pour l'instant, l'utilisation la plus
prometteuse du Pi, dans mon cas. J'y ai <a href="inciga.html" title="Consultez ce blog à propos de &quot;inciga&quot;">consacré un article</a>. (Voir aussi une <a href="http://raspberrypi.stackexchange.com/questions/325/is-the-raspberry-pi-suitable-for-running-continuously-24-7">discussion sur le fonctionnement du Pi 24h/24</a>.)</p></div>
<div class="para"><p>Troisième utilisation que j'ai testé, le multimédia. Le Pi est,
malgré ses faibles capacités quantitatives, normalement capable de
toutes les activités multimédia modernes, grâce à son accélérateur
graphique. Oui, mais voilà, peu de logiciels savent l'utiliser. C'est
en grande partie pour des raisons légales (il faut signer un
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Accord%20de%20non-divulgation" title="Consultez l'article &quot;Accord de non-divulgation&quot; de l'encyclopédie libre Wikipedia">NDA</a></b> avec <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Broadcom" title="Consultez l'article &quot;Broadcom&quot; de l'encyclopédie libre Wikipedia">Broadcom</a></b> pour
avoir la documentation du <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Processeur%20graphique" title="Consultez l'article &quot;Processeur graphique&quot; de l'encyclopédie libre Wikipedia">GPU</a></b>). Ainsi,
si on lance <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/X%20Window%20System" title="Consultez l'article &quot;X Window System&quot; de l'encyclopédie libre Wikipedia">X11</a></b> (<code>startx</code>), puis
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/MPlayer" title="Consultez l'article &quot;MPlayer&quot; de l'encyclopédie libre Wikipedia">MPlayer</a></b> sur une vidéo, on voit bien son film
mais sans son et avec un débit irrégulier. (On peut apparemment lancer
MPlayer sans X11 avec un truc comme <code>mplayer -vo sdl -ao sdl
-framedrop -lavdopts lowres=1</code> mais je n'ai pas testé.) Un
témoignage typique trouvé sur le réseau donne une idée des difficultés
pratiques : « <i class="foreign" xml:lang="en">I googled, followed advice and loaded the
snd_bcm2835 kernel module. Sound now worked on the 3.5 mini jack
output, but not on the TV yet. And mplayer had completely stopped
playing video. It wasn't before I had added the line hdmi_drive=2 to
my /boot/config.txt file (see the Troubleshooting page) that I could
actually hear something on TV. But mplayer played the video even
slower.</i> ». (Pour le concurrent de MPlayer,
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/VLC%20media%20player" title="Consultez l'article &quot;VLC media player&quot; de l'encyclopédie libre Wikipedia">vlc</a></b>, voir <a href="http://raspberrypi.stackexchange.com/questions/667/is-it-possible-to-install-vlc">cette
question sur StackExchange</a>.)</p></div>
<div class="para"><p>Le conseil donné en général est donc d'utiliser un ensemble
logiciel complètement conçu pour le multimédia. Le plus souvent cité
est <b><a class="wikipedia" hreflang="en" href="http://en.wikipedia.org/wiki/List%20of%20software%20based%20on%20XBMC#OpenELEC" title="Consultez l'article &quot;List of software based on XBMC&quot; de l'encyclopédie libre Wikipedia (en anglais)">OpenELEC</a></b>, que j'ai donc testé après Debian
et Arch Linux. OpenELEC est un système d'exploitation <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Logiciel%20libre" title="Consultez l'article &quot;Logiciel libre&quot; de l'encyclopédie libre Wikipedia">libre</a></b> conçu pour faire
tourner un <i class="foreign" xml:lang="en"><b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Centre%20multim%C3%A9dia" title="Consultez l'article &quot;Centre multimédia&quot; de l'encyclopédie libre Wikipedia">media center</a></b></i>,
chargé de piloter son et image. Fondé sur
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Linux" title="Consultez l'article &quot;Linux&quot; de l'encyclopédie libre Wikipedia">Linux</a></b>, équipé du logiciel
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/XBMC%20Media%20Center" title="Consultez l'article &quot;XBMC Media Center&quot; de l'encyclopédie libre Wikipedia">XBMC</a></b>, c'est encore assez expérimental, de mon
expérience (j'ai testé la version devel-20120704203304-r11493,
peut-être pas encore assez sèche, j'aurais peut-être dû rester à la
version 1, stable). L'installation, <a href="http://wiki.openelec.tv/index.php?title=Installing_OpenELEC_on_Raspberry_Pi">bien
documentée</a>, se passe bien. Leur outil partitionne la carte SD
automatiquement (contrairement à ce qui se passe pour Debian et
Arch Linux, voir plus loin). Agacement : par défaut, lorsqu'on se
connecte en SSH, on récupère une <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Invite%20de%20commande" title="Consultez l'article &quot;Invite de commande&quot; de l'encyclopédie libre Wikipedia">invite</a></b> avec
des couleurs inutilisables sur un fond blanc. Il faut se connecter
depuis un terminal avec fond noir pour voir quelque chose et ajouter
un <code>~/.profile</code> (attention, pas un
<code>.bash_quelquechose</code>, le
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Shell%20(informatique)" title="Consultez l'article &quot;Shell (informatique)&quot; de l'encyclopédie libre Wikipedia">shell</a></b> n'est <b class="emphasis">pas</b>
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Bourne-Again%20shell" title="Consultez l'article &quot;Bourne-Again shell&quot; de l'encyclopédie libre Wikipedia">bash</a></b>) contenant :
</p><pre>
PS1='\h \w \$ '
</pre><p>
On se reconnecte et on peut voir quelque chose.</p></div>
<div class="para"><p>Il y a deux interfaces (en plus du shell SSH), une interface Web
(très boguée, j'ai vite renoncé) et l'interface sur la télé, qui
propose les menus classiques des <i class="foreign" xml:lang="en">media centers</i>,
accès aux vidéos, à des
<i class="foreign" xml:lang="en"><b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Widget%20interactif" title="Consultez l'article &quot;Widget interactif&quot; de l'encyclopédie libre Wikipedia">widgets</a></b></i> comme la météo,
etc. Les fichiers <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Audio%20Video%20Interleave" title="Consultez l'article &quot;Audio Video Interleave&quot; de l'encyclopédie libre Wikipedia">AVI</a></b> et
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/MPEG-1/2%20Audio%20Layer%203" title="Consultez l'article &quot;MPEG-1/2 Audio Layer 3&quot; de l'encyclopédie libre Wikipedia">MP3</a></b> sont joués sans problème et avec une bonne
qualité (connexion HDMI avec mon téléviseur <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Groupe%20Samsung" title="Consultez l'article &quot;Groupe Samsung&quot; de l'encyclopédie libre Wikipedia">Samsung</a></b>).
</p></div>
<div class="para"><p>Par contre, il y a trop de problèmes agaçants pour songer à
remplacer les menus de ma <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Freebox" title="Consultez l'article &quot;Freebox&quot; de l'encyclopédie libre Wikipedia">Freebox</a></b> par ceux de
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/XBMC" title="Consultez l'article &quot;XBMC&quot; de l'encyclopédie libre Wikipedia">XBMC</a></b> :
</p><ul>
<li>Les transferts de fichier prennent un temps fou (carte Ethernet
ou SD lente ? En tout cas, 3-4 Mb/s maximum, ce qui est peut-être dû
au fait que la carte Ethernet se branche sur le bus USB ou tout
simplement à la <b><a class="wikipedia" hreflang="en" href="http://en.wikipedia.org/wiki/Secure%20Digital#Speed_Class_Rating" title="Consultez l'article &quot;Secure Digital&quot; de l'encyclopédie libre Wikipedia (en anglais)">limite d'écriture des cartes SD</a></b>), ce qui est gênant pour
la vidéo. Avec ces performances, le Pi a du mal à prétendre être fait pour un <i class="foreign" xml:lang="en">media center</i>. OpenELEC peut accéder à des fichiers sur le réseau local
(partage <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Samba%20(informatique)" title="Consultez l'article &quot;Samba (informatique)&quot; de l'encyclopédie libre Wikipedia">Samba</a></b> par
exemple). Espérons que, la carte SD n'étant plus en jeu, ce soit plus rapide.</li>
<li>Les vidéos <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Windows%20Media%20Video" title="Consultez l'article &quot;Windows Media Video&quot; de l'encyclopédie libre Wikipedia">WMV</a></b> ne sont pas
visibles (on a seulement le son),</li>
<li>Je n'ai jamais trouvé le moyen de faire disparaître le menu
quand
je regarde un film,</li>
<li>La molette de la souris USB n'est pas reconnue (ce qui est
embêtant quand on a une liste de 500 MP3 sur l'écran),</li>
<li>Afficher une image JPEG fige le logiciel (il faut faire un
<b><a href="http://phpunixman.sourceforge.net/index.php/man/kill" title="Consultez la page de manuel Unix &quot;kill&quot; ">kill</a></b> de XBMC).</li>
</ul><p>
Bref, comme je l'ai signalé, c'est une plate-forme de développement,
pour l'instant, pas encore prête à l'emploi mais du travail
intéressant en perspective pour les hackers.
</p></div>
<div class="para"><p>À propos de hackers, ceux-ci sont en général très sensibles (et à
juste titre) aux questions de liberté, notamment à celle de pouvoir
faire tourner le logiciel de son choix et le modifier comme on
veut. Le Raspeberry Pi est-il « libre » ? La question n'est pas simple
mais on peut certainement dire qu'il est moins libre que son
concurrent (concurrent dans l'esprit des gens : les deux plate-formes n'ont pas du tout les mêmes caractéristiques techniques) <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Arduino" title="Consultez l'article &quot;Arduino&quot; de l'encyclopédie libre Wikipedia">Arduino</a></b>. Les plans de ce dernier
sont tous publics alors que le Pi repose sur un circuit
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Broadcom" title="Consultez l'article &quot;Broadcom&quot; de l'encyclopédie libre Wikipedia">Broadcom</a></b> dont l'interface externe n'est pas
officiellement documentée. Je n'ai pas essayé l'Arduino (les modèles
basés sur ce concept sont plus chers et plus difficiles à obtenir que
le Pi).</p></div>
<div class="para"><p>Conscient de ce problème, les responsables de Raspberry Pi ont
<a href="phoronix.com/scan.php?page=news_item&amp;px=MTIxNDY">annoncé
des ouvertures</a> mais qui semblent <a href="http://www.phoronix.com/scan.php?page=news_item&amp;px=MTIxNDk">très
insuffisantes</a>. Conséquences pratiques de ce problème d'un matériel non
complètement ouvert : où est-on bloqué dans le bricolage sur le Pi ?
On peut apparemment compiler son propre <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Noyau%20de%20syst%C3%A8me%20d'exploitation" title="Consultez l'article &quot;Noyau de système d'exploitation&quot; de l'encyclopédie libre Wikipedia">noyau</a></b>
(voir <a href="http://www.bootc.net/projects/raspberry-pi-kernel/"><code>http://www.bootc.net/projects/raspberry-pi-kernel/</code></a>
et <a href="http://elinux.org/RPi_Kernel_Compilation"><code>http://elinux.org/RPi_Kernel_Compilation</code></a>) mais je
ne sais pas si on ne doit pas inclure des éléments non-libres (ils
sont distribués en <a href="https://github.com/raspberrypi/firmware"><code>https://github.com/raspberrypi/firmware</code></a>). Si
c'est le cas, et cela semble vraisemblable, porter, par exemple,
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/FreeBSD" title="Consultez l'article &quot;FreeBSD&quot; de l'encyclopédie libre Wikipedia">FreeBSD</a></b> sur le Pi ne sera pas possible. (Il
existe au moins <a href="https://github.com/gonzoua/freebsd-pi">un
projet pour FreeBSD</a>, avec <a href="http://kernelnomicon.org/?p=138">des indications que ça
avance</a>, et un <a href="http://mail-index.netbsd.org/port-arm/2012/07/13/msg001367.html">autre
projet pour NetBSD</a>.)</p></div>
<div class="para"><p>Enfin, un peu de technique avec un problème des images officielles
Debian et Arch Linux. Elles supposent une carte SD de 2 Go et incluent
donc une table de <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Partition%20de%20disque%20dur" title="Consultez l'article &quot;Partition de disque dur&quot; de l'encyclopédie libre Wikipedia">partition</a></b> inadaptée. Le cas
est connu <a href="http://elinux.org/RPi_Resize_Flash_Partitions">et
documenté</a>. On peut réparer cela, soit après le démarrage du
système (<code>parted</code> ou <code>cfdisk</code>
pour adapter la table des partitions, puis redémarrer, puis formater
la nouvelle partition avec <b><a href="http://phpunixman.sourceforge.net/index.php/man/mke2fs" title="Consultez la page de manuel Unix &quot;mke2fs&quot; ">mke2fs</a></b>, puis la monter), soit
au moment où on a écrit sur la carte SD (attention à ne pas lancer le
mke2fs sur une partition de son ordinateur, dans ce cas...). On <a href="http://elsmorian.com/post/23366148056/basic-raspberry-pi-setup">peut aussi</a>, au lieu de
créer une nouvelle partition sur l'espace libre, agrandir la partition
racine avec un coup de <code>resize2fs /dev/mmcblk0p2</code>.
</p></div>
<div class="para"><p>Un avertissement, maintenant. Pour des raisons de coût, le Pi a été
très limité. Pas d'alimentation digne de ce nom, pas de mémoire avec
correction d'erreurs, etc. Cela veut dire que tout problème matériel
va se manifester par des bogues apparemment aléatoires. Ainsi, un
problème de <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Tension%20%C3%A9lectrique" title="Consultez l'article &quot;Tension électrique&quot; de l'encyclopédie libre Wikipedia">tension</a></b> peut apparemment entraîner
une <a href="http://raspberrypi.stackexchange.com/questions/2069/filesystem-corruption-on-the-sd-card">corruption
des données</a>. Un problème de <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/M%C3%A9moire%20vive" title="Consultez l'article &quot;Mémoire vive&quot; de l'encyclopédie libre Wikipedia">RAM</a></b> peut
faire planter le Pi aléatoirement. Enfin, les cartes
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Carte%20SD" title="Consultez l'article &quot;Carte SD&quot; de l'encyclopédie libre Wikipedia">SD</a></b> ne sont pas réputées pour
leur fiabilité. Bref, <b class="emphasis">faites des sauvegardes</b>. Un
moyen simple de copier la carte SD sur un PC Unix est <code>dd
bs=1M if=/dev/sdb  | gzip -9 &gt; backup-pi-$(date
+"%Y-%m-%d").img.gz</code> avec <code>sdb</code> à
remplacer par le nom du périphérique dans votre cas.</p></div>

<div class="para"><p>Voilà, une chose est sûre, le Pi vous permettra de passer des tas
de soirées passionnantes, que ce soit pour un été pluvieux ou pour un
hiver glacial, et de discuter avec plein d'autres bricoleurs. Quelques
lectures :
</p><ul>
<li>Avant d'acheter, une <a href="http://raymii.org/cms/p_Small_Linux_PCs_overview">bonne
comparaison des PC à bas prix</a> (il y en a <a href="http://raspberrypi.stackexchange.com/questions/1976/alternatives-to-raspberry-pi">une autre sur StackExchange</a>), et un <a href="http://www.pcpro.co.uk/reviews/desktops/374290/raspberry-pi-model-b">article
de PC Pro</a>,</li>
<li>Une <a href="http://www.newelectronics.co.uk/electronics-interviews/fruits-of-his-labours-interview-with-pete-lomas-raspberry-pi-hardware-designer/42132/">interview du concepteur du matériel, très intéressante</a>,</li> 
<li>Pour démarrer, une <a href="http://www.ilikealot.com/i/getting_started_with_my_raspberry_pi">bonne
introduction</a> et une <a href="http://benosteen.wordpress.com/2012/04/23/first-steps-with-the-raspberry-pi/">avec
davantage de technique</a>,</li>
<li>Pour échanger avec d'autres passionnés, l'excellent site de
Q&amp;A <b><a class="wikipedia" hreflang="en" href="http://en.wikipedia.org/wiki/Stack%20Exchange%20Network" title="Consultez l'article &quot;Stack Exchange Network&quot; de l'encyclopédie libre Wikipedia (en anglais)">StackExchange</a></b> a une <a href="http://raspberrypi.stackexchange.com">section sur le Raspberry
Pi</a> et on y discute même <a href="http://raspberrypi.stackexchange.com/questions/37/ipv6-connectivity/1000">d'IPv6
sur le Pi</a>,</li>
<li>Le <a href="http://www.raspberrypi.org/">site officiel</a>,</li>
<li>Pour la vidéo, un <a href="http://www.designspark.com/content/raspberry-pi-goes-movies">article
tentant</a>,</li>
<li>Je n'ai listé que trois usages possibles mais voici un article
<a href="http://www.techrepublic.com/blog/european-technology/10-coolest-uses-for-the-raspberry-pi/505">qui
en cite dix</a>,</li>
<li>Utiliser un Raspberry Pi, un clavier externe et un <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Amazon%20Kindle" title="Consultez l'article &quot;Amazon Kindle&quot; de l'encyclopédie libre Wikipedia">Kindle</a></b> comme écran, pour le voyage : <i class="foreign" xml:lang="en"><a href="http://www.ponnuki.net/2012/09/kindleberry-pi/" hreflang="en">KindleBerry Pi</a></i>,</li>
<li>Construire un <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Superordinateur" title="Consultez l'article &quot;Superordinateur&quot; de l'encyclopédie libre Wikipedia">supercalculateur</a></b> avec plein de
Raspberry Pi et du <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/The%20Lego%20Group#Briques_lego" title="Consultez l'article &quot;The Lego Group&quot; de l'encyclopédie libre Wikipedia">Lego</a></b>, la
<a href="http://www.southampton.ac.uk/~sjc/raspberrypi/">
page officielle </a> et plein de <a href="http://www.southampton.ac.uk/~sjc/raspberrypi/pi_pictures.htm">jolies
images</a>,</li>
<li>Le plus délirant de tous les projets, un
<i class="foreign" xml:lang="en"><b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Grappe%20de%20serveurs" title="Consultez l'article &quot;Grappe de serveurs&quot; de l'encyclopédie libre Wikipedia">cluster</a></b></i>
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/OpenVMS" title="Consultez l'article &quot;OpenVMS&quot; de l'encyclopédie libre Wikipedia">VMS</a></b> sur des Raspberry Pi faisant tourner un
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/%C3%89mulation" title="Consultez l'article &quot;Émulation&quot; de l'encyclopédie libre Wikipedia">émulateur</a></b> <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/VAX" title="Consultez l'article &quot;VAX&quot; de l'encyclopédie libre Wikipedia">Vax</a></b> :
« <i class="foreign" xml:lang="en"><a href="http://www.designspark.com/content/raspberry-pi-vax-cluster" hreflang="en">The
MicroVAX 3900 hardware being emulated this time is a little more
modern and somewhat smaller than the IBM 4381 processor, but the VAX
architecture and OpenVMS operating system are no less impressive [...]</a></i> »,</li>
<li>Pour attaquer à un bas niveau, un <a href="https://github.com/Hexxeh/rpi-update/">logiciel pour mettre à
jour le firmware</a> (je ne l'ai pas testé),</li>
</ul></div>
</div>




<p id="get-pdf" class="verysmall"><a href="raspberry-pi.pdf" rel="noindex,nofollow">Version PDF de cette page</a> (mais vous pouvez aussi imprimer depuis votre navigateur, il y a une feuille de style prévue pour cela)</p>
<p id="get-source" class="verysmall"><a href="raspberry-pi.xml" rel="nofollow">Source XML de cette page</a> (cette 
page est distribuée sous les termes de la licence <a href="http://www.gnu.org/copyleft/fdl.html">GFDL</a>)</p>
</div>
</div><!-- End of middle-column -->
</div><!-- End of source-order-container -->
</div><!-- End of inner-column-container -->
</div><!-- End of outer-column-container -->
<div class="clear-columns"><!-- do not delete --></div>
<div id="footer">
<div class="inside">
<hr class="hide" />
<p>Si vous aimez, vous pouvez payer avec <a href="/flattr.html">Flattr</a> <a href="https://flattr.com/submit/auto?user_id=bortzmeyer&url=http%3A%2F%2Fwww.bortzmeyer.org%2Fraspberry-pi.html" target="_blank"><img src="/images/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0"></a> ou avec <a href="/bitcoin-blog.html">Bitcoin</a> : adresse <code>1HtNJ6ZFUc9yu9u2qAwB4tGdGwPQasQGax</code> (ou voyez le <a href="/images/bitcoin-qrcode.png">code QR</a>). Pour toute remarque sur ce blog, s'adresser à
Stéphane Bortzmeyer <code>&lt;stephane+blog@bortzmeyer.org&gt;</code>. Je suis <a href="http://sl4.org/crocker.html">les règles de Crocker</a> donc pas besoin de faire des excès de diplomatie. Ce blog est strictement personnel et les opinions exprimées ici n'engagent donc que moi, et notamment pas mon employeur présent ou mes employeurs passés.</p>
<a href="http://prefetch.validatorsearch.verisignlabs.com"></a><!-- See http://validatorsearch.verisignlabs.com/ -->
</div>
</div><!-- End of footer -->
</div><!-- End of page-container -->
</body>
</html>


