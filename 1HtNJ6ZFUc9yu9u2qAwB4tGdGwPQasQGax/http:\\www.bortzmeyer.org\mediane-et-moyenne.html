http://www.bortzmeyer.org/mediane-et-moyenne.html
HTTP/1.1 200 OK
Date: Tue, 22 Jul 2014 13:23:26 GMT
Server: Apache/2.2.22 (Debian)
Last-Modified: Wed, 25 Jun 2014 19:55:29 GMT
ETag: "238fc-3706-4fcae7547ee40"
Accept-Ranges: bytes
Vary: Accept-Encoding
Content-Encoding: gzip
Link: <http://www.gnu.org/copyleft/fdl.html>; rel="license"; title="GFDL"
Content-Length: 5057
Connection: close
Content-Type: text/html; charset=UTF-8

<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xml:lang="fr" lang="fr" xmlns="http://www.w3.org/1999/xhtml">
<head>
<!-- Generated on ludwigVII.sources.org on 2014-06-25T21:55 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<link rel="stylesheet" type="text/css" href="screen.css" media="screen"/>
<link rel="stylesheet" type="text/css" href="print.css" media="print"/>
<link rel="openid2.provider" href="https://openid.stackexchange.com/openid/provider">
<link rel="openid2.local_id" href="https://openid.stackexchange.com/user/ce28a43a-5060-423a-8574-25e24a8f096e">
<!-- TODO: add META tags from the text of the entry, for instance keywords ? -->
<link rel="alternate" type="application/atom+xml" title="Atom syndication feed - summaries" href="feed.atom" />
<link rel="alternate" type="application/atom+xml" title="Atom syndication feed - full content" href="feed-full.atom" />
<link rel="search"
           type="application/opensearchdescription+xml" 
           href="http://www.bortzmeyer.org/others/add-search-engine.xml"
           title="Blog Bortzmeyer" />
<link rel="author" href="http://www.bortzmeyer.org/static/moi.html"/>
<link rel="privacy-policy" href="/privacy-policy.html"/>
<title>
Blog Stéphane Bortzmeyer: Médiane et moyenne

</title>
</head>

<body>

<div id="page-container">
<div id="masthead">
<div class="inside">
			<h1><a href="index.html">Mon blog</a></h1>
			<hr class="hide" />
</div>
</div>
<div id="outer-column-container">
<div id="inner-column-container">
<div id="source-order-container">
<div id="left-column">
<div id="leftmenu" class="inside">
<h3>Autres trucs</h3>
<p><a href="index.html">Accueil</a></p>
<p><a href="rfcs.html">Seulement les RFC</a></p>
<p><a href="ficheslecture.html">Seulement les fiches de lecture</a></p>
<p><a href="http://echoping.sourceforge.net/">echoping</a></p>
<p><a href="http://www.demaziere.fr/eve/">Ève</a></p>
<form action="/search"><p>Recherche dans ce blog : <input type="text" name="pattern" style="width:100%"/>
</p>
</form>
</div>
</div> <!-- End of left-column -->
<div id="middle-column">
<div class="inside">


<h2 xml:lang="fr">Médiane et moyenne</h2><p>Première rédaction de cet article le 14 novembre 2006<br/>Dernière mise à jour le 12 septembre 2008<br/></p><hr/><div xml:lang="fr">
<div class="para"><p>Beaucoup de logiciels de test des réseaux, comme le célèbre
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/ping%20(logiciel)" title="Consultez l'article &quot;ping (logiciel)&quot; de l'encyclopédie libre Wikipedia">ping</a></b>, permettent de répéter le test et
affichent la <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/moyenne" title="Consultez l'article &quot;moyenne&quot; de l'encyclopédie libre Wikipedia">moyenne</a></b> des résultats
obtenus. C'est presque toujours une mauvaise idée, la <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/M%C3%A9diane%20(centre)" title="Consultez l'article &quot;Médiane (centre)&quot; de l'encyclopédie libre Wikipedia">médiane</a></b> devrait être utilisée à la
place. La médiane est la valeur telle qu'une moitié des mesures est située en dessous.</p></div>
<div class="para"><p>Un <a href="http://shlang.com/writing/mean-delay-considered-harmful.html">excellent
article</a> de Stanislav Shalunov (un expert de la mesure des
réseaux et un des piliers du groupe de travail <a href="http://www.ietf.org/html.charters/ippm-charter.html">IPPM</a>
de l'<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Internet%20Engineering%20Task%20Force" title="Consultez l'article &quot;Internet Engineering Task Force&quot; de l'encyclopédie libre Wikipedia">IETF</a></b>) explique fort bien pourquoi : la
moyenne a plusieurs défauts et, notamment, elle n'est pas
<b class="emphasis">robuste</b>. Une seule mesure franchement hors des
limites suffit à la changer beaucoup. Or, de telles mesures sont
fréquentes sur <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Internet" title="Consultez l'article &quot;Internet&quot; de l'encyclopédie libre Wikipedia">Internet</a></b>. Par exemple, si je
mesure le <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Round-Trip%20delay%20Time" title="Consultez l'article &quot;Round-Trip delay Time&quot; de l'encyclopédie libre Wikipedia">RTT</a></b> d'un
serveur, je peux obtenir un tableau comme (3, 3, 4, 3, 198, 3, 4) (RTT
en millisecondes). Sa médiane sera de 3 ms (reflétant le cas de loin
le plus courant) mais sa moyenne sera complètement « faussée » par la
valeur exceptionnelle de 198 ms (la moyenne vaudra 31 ms).</p></div>
<div class="para"><p>Si on tient à utiliser la moyenne, il faut au moins l'accompagner
de son indispensable auxiliaire, l'<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/%C3%A9cart-type" title="Consultez l'article &quot;écart-type&quot; de l'encyclopédie libre Wikipedia">écart-type</a></b> (merci à
Stéphane Bunel pour ce rappel et pour son <a href="http://stephane.bunel.org/Divers/moyenne-ecart-type-mediane">excellente page sur la question</a>). Une autre technique est d'éliminer du
calcul de la moyenne les <i class="foreign" xml:lang="en">outliers</i>, les valeurs qui
s'éloignent « trop » de la moyenne, par exemple de plus de deux
écarts-types.</p></div>
<div class="para"><p>Si je peux me permettre un peu de publicité, le programme <a href="http://echoping.sourceforge.net">echoping</a> est un des rares
programmes de mesure réseaux à afficher la médiane des valeurs
mesurées (et à afficher systématiquement l'écart-type à coté de la
moyenne ; quant à l'élimination des <i class="foreign" xml:lang="en">outliers</i>, elle
a fait l'objet d'un <i class="foreign" xml:lang="en"><b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Patch%20(informatique)" title="Consultez l'article &quot;Patch (informatique)&quot; de l'encyclopédie libre Wikipedia">patch</a></b></i>
d'Andy Juniper, intégré depuis la version 6). Voici un
exemple des résultats affichés par echoping (notez la différence entre
la médiane et la moyenne, pour un site dont le temps de réponse varie considérablement) :
</p><pre>
Minimum time: 0.993819 seconds (258 bytes per sec.)
Maximum time: 7.264942 seconds (35 bytes per sec.)
Average time: 2.677578 seconds (96 bytes per sec.)
Standard deviation: 2.059113
Median time: 1.860476 seconds (138 bytes per sec.)
</pre><p>
Avec la dernière version d'echoping (qui inclus le
<i class="foreign" xml:lang="en">patch</i> <i class="foreign" xml:lang="en">outlier</i>) et l'option
<code>-N 1</code>, cela donnerait :
</p><pre>
Minimum time: 0.858710 seconds (298 bytes per sec.)
Maximum time: 24.057933 seconds (11 bytes per sec.)
Average time: 4.521010 seconds (57 bytes per sec.)
Standard deviation: 6.765369
Median time: 1.488127 seconds (172 bytes per sec.)
Average of values within 1 standard deviations: 2.350241
</pre></div>
<div class="para"><p>
D'autres
exemples d'un tel programme sont <a href="http://www.internet2.edu/~shalunov/thrulay/">thrulay</a> de
Stanislav Shalunov ou bien le <a href="http://e2epi.internet2.edu/owamp/">owamp d'Internet2</a>.</p></div>
<div class="para"><p>Malheureusement, les experts en <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/r%C3%A9seau%20informatique" title="Consultez l'article &quot;réseau informatique&quot; de l'encyclopédie libre Wikipedia">réseaux</a></b> ont en général une
connaissance très limitée des
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/statistiques" title="Consultez l'article &quot;statistiques&quot; de l'encyclopédie libre Wikipedia">statistiques</a></b>. Pour arranger cela, une
excellente source est <i class="foreign" xml:lang="en"><a href="http://www.statsoft.com/textbook/stbasic.html" hreflang="en">Basic
Statistics</a></i>, un texte de statistiques expliquées aux
ingénieurs non-mathématicien. Pour plus de réflexions sur le manque gênant de culture statistique
chez les programmeurs, j'invite à lire l'<a href="http://www.zedshaw.com/essays/programmer_stats.html">excellent article de Zed
Shaw</a>, avec plein d'exemples écrits en <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/R%20(logiciel)" title="Consultez l'article &quot;R (logiciel)&quot; de l'encyclopédie libre Wikipedia">R</a></b>.</p></div>
<div class="para"><p>Et pour implémenter un calcul de médiane ? echoping, écrit en
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/C%20(langage)" title="Consultez l'article &quot;C (langage)&quot; de l'encyclopédie libre Wikipedia">C</a></b>, appelle simplement
<b><a href="http://phpunixman.sourceforge.net/index.php/man/qsort/3" title="Consultez la page de manuel Unix &quot;qsort&quot; ">qsort</a></b> avant de choisir l'élément du milieu du tableau
ainsi trié. Cet algorithme est en
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Th%C3%A9orie%20de%20la%20complexit%C3%A9#Complexit.C3.A9_en_temps_et_en_espace" title="Consultez l'article &quot;Théorie de la complexité&quot; de l'encyclopédie libre Wikipedia">O(n*log(n))</a></b> mais d'autres algorithmes sont en O(n) (par exemple le <i class="foreign" xml:lang="en"><b><a class="wikipedia" hreflang="en" href="http://en.wikipedia.org/wiki/Selection%20algorithm#Linear_general_selection_algorithm_-_.22Median_of_Medians_algorithm.22" title="Consultez l'article &quot;Selection algorithm&quot; de l'encyclopédie libre Wikipedia (en anglais)">median of medians</a></b></i>).</p></div>
<div class="para"><p>Pour <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/PostgreSQL" title="Consultez l'article &quot;PostgreSQL&quot; de l'encyclopédie libre Wikipedia">PostgreSQL</a></b>, Sébastien Dinot a écrit une
<a href="http://archives.postgresql.org/pgsql-fr-generale/2008-06/msg00003.php">jolie
implémentation</a>, qui est utilisée pour mon <a href="/auto/summary.html">système de statistiques</a>.</p></div>
<div class="para"><p>Pour <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/SQLite" title="Consultez l'article &quot;SQLite&quot; de l'encyclopédie libre Wikipedia">SQLite</a></b>, j'ai trouvé <a href="http://www.seenthis.net/messages/165743">la
description d'une solution</a> utilisant une extension.</p></div>
<div class="para"><p>L'utilisation abusive de la moyenne à la place de la médiane ne se
rencontre pas uniquement dans les réseaux informatiques. On la trouve
aussi souvent en politique. Par exemple, lorsqu'il faut gommer un peu
les <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/In%C3%A9galit%C3%A9s%20de%20revenu" title="Consultez l'article &quot;Inégalités de revenu&quot; de l'encyclopédie libre Wikipedia">inégalités salariales</a></b>, on annonce un
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Salaire" title="Consultez l'article &quot;Salaire&quot; de l'encyclopédie libre Wikipedia">salaire moyen</a></b> car il est nettement plus élevé
que le salaire médian qui est pourtant bien
plus représentatif du vécu de la majorité. L'écart entre les deux
nombres est d'autant plus élevé que les inégalités sont
accentuées.</p></div>
<div class="para"><p>C'est ainsi que l'<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/INSEE" title="Consultez l'article &quot;INSEE&quot; de l'encyclopédie libre Wikipedia">INSEE</a></b> nous <a href="http://www.insee.fr/fr/ffc/docs_ffc/IP1067.pdf ">apprend</a> qu'en France en 2004, le salaire moyen annuel net était
de 22 193 € alors que le salaire médian (celui qui sépare les salariés en deux parties égales, ceux qui gagnent plus et ceux qui gagnent moins) était de seulement 17 802
€. Paradoxe intéressant, la grande majorité des français vivent donc avec moins
de la moyenne... C'est logique du point de vue mathématique, mais
contraire à l'intuition habituelle de ce que signifie « moyen ».</p></div>
</div>




<p id="get-pdf" class="verysmall"><a href="mediane-et-moyenne.pdf" rel="noindex,nofollow">Version PDF de cette page</a> (mais vous pouvez aussi imprimer depuis votre navigateur, il y a une feuille de style prévue pour cela)</p>
<p id="get-source" class="verysmall"><a href="mediane-et-moyenne.xml" rel="nofollow">Source XML de cette page</a> (cette 
page est distribuée sous les termes de la licence <a href="http://www.gnu.org/copyleft/fdl.html">GFDL</a>)</p>
</div>
</div><!-- End of middle-column -->
</div><!-- End of source-order-container -->
</div><!-- End of inner-column-container -->
</div><!-- End of outer-column-container -->
<div class="clear-columns"><!-- do not delete --></div>
<div id="footer">
<div class="inside">
<hr class="hide" />
<p>Si vous aimez, vous pouvez payer avec <a href="/flattr.html">Flattr</a> <a href="https://flattr.com/submit/auto?user_id=bortzmeyer&url=http%3A%2F%2Fwww.bortzmeyer.org%2Fmediane-et-moyenne.html" target="_blank"><img src="/images/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0"></a> ou avec <a href="/bitcoin-blog.html">Bitcoin</a> : adresse <code>1HtNJ6ZFUc9yu9u2qAwB4tGdGwPQasQGax</code> (ou voyez le <a href="/images/bitcoin-qrcode.png">code QR</a>). Pour toute remarque sur ce blog, s'adresser à
Stéphane Bortzmeyer <code>&lt;stephane+blog@bortzmeyer.org&gt;</code>. Je suis <a href="http://sl4.org/crocker.html">les règles de Crocker</a> donc pas besoin de faire des excès de diplomatie. Ce blog est strictement personnel et les opinions exprimées ici n'engagent donc que moi, et notamment pas mon employeur présent ou mes employeurs passés.</p>
<a href="http://prefetch.validatorsearch.verisignlabs.com"></a><!-- See http://validatorsearch.verisignlabs.com/ -->
</div>
</div><!-- End of footer -->
</div><!-- End of page-container -->
</body>
</html>


