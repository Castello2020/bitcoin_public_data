http://www.bortzmeyer.org/5228.html
HTTP/1.1 200 OK
Date: Thu, 24 Jul 2014 14:45:02 GMT
Server: Apache/2.2.22 (Debian)
Last-Modified: Tue, 15 Jul 2014 19:15:04 GMT
ETag: "230ff-3760-4fe403990de00"
Accept-Ranges: bytes
Vary: Accept-Encoding
Content-Encoding: gzip
Link: <http://www.gnu.org/copyleft/fdl.html>; rel="license"; title="GFDL"
Content-Length: 4835
Connection: close
Content-Type: text/html; charset=UTF-8

<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xml:lang="fr" lang="fr" xmlns="http://www.w3.org/1999/xhtml">
<head>
<!-- Generated on ludwigVII.sources.org on 2014-07-15T21:15 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<link rel="stylesheet" type="text/css" href="screen.css" media="screen"/>
<link rel="stylesheet" type="text/css" href="print.css" media="print"/>
<link rel="openid2.provider" href="https://openid.stackexchange.com/openid/provider">
<link rel="openid2.local_id" href="https://openid.stackexchange.com/user/ce28a43a-5060-423a-8574-25e24a8f096e">
<!-- TODO: add META tags from the text of the entry, for instance keywords ? -->
<link rel="alternate" type="application/atom+xml" title="Atom syndication feed - summaries" href="feed.atom" />
<link rel="alternate" type="application/atom+xml" title="Atom syndication feed - full content" href="feed-full.atom" />
<link rel="search"
           type="application/opensearchdescription+xml" 
           href="http://www.bortzmeyer.org/others/add-search-engine.xml"
           title="Blog Bortzmeyer" />
<link rel="author" href="http://www.bortzmeyer.org/static/moi.html"/>
<link rel="privacy-policy" href="/privacy-policy.html"/>
<title>
Blog Stéphane Bortzmeyer: RFC 5228: Sieve: An Email Filtering Language

</title>
</head>

<body>

<div id="page-container">
<div id="masthead">
<div class="inside">
			<h1><a href="index.html">Mon blog</a></h1>
			<hr class="hide" />
</div>
</div>
<div id="outer-column-container">
<div id="inner-column-container">
<div id="source-order-container">
<div id="left-column">
<div id="leftmenu" class="inside">
<h3>Autres trucs</h3>
<p><a href="index.html">Accueil</a></p>
<p><a href="rfcs.html">Seulement les RFC</a></p>
<p><a href="ficheslecture.html">Seulement les fiches de lecture</a></p>
<p><a href="http://echoping.sourceforge.net/">echoping</a></p>
<p><a href="http://www.demaziere.fr/eve/">Ève</a></p>
<form action="/search"><p>Recherche dans ce blog : <input type="text" name="pattern" style="width:100%"/>
</p>
</form>
</div>
</div> <!-- End of left-column -->
<div id="middle-column">
<div class="inside">

<h2 xml:lang="en"><a class="rfc" href="http://www.rfc-editor.org/rfc/rfc5228.txt">RFC 5228</a>: Sieve: An Email Filtering Language</h2><p>Date de publication du RFC : Janvier 2008<br/>Auteur(s) du RFC : P. Guenther (Sendmail), T. Showalter (Mirapoint)<br/>Chemin des normes<br/>Réalisé dans le cadre du groupe de travail IETF <b><a href="http://tools.ietf.org/wg/sieve">sieve</a></b><br/>Première rédaction de cet article le 17 janvier 2008<br/></p><hr/>

<div class="para"><p>L'utilisation massive du <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/courrier%20%C3%A9lectronique" title="Consultez l'article &quot;courrier électronique&quot; de l'encyclopédie libre Wikipedia">courrier électronique</a></b> fait que, même sans compter le
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/spam" title="Consultez l'article &quot;spam&quot; de l'encyclopédie libre Wikipedia">spam</a></b>, chaque utilisateur professionnel reçoit
désormais des dizaines et souvent des centaines de messages quotidiens
dans sa boîte aux lettres. Il n'est donc plus question de les gérer
entièrement à la main, il faut disposer d'un mécanisme de filtrage
automatique.</p></div>
<div class="para"><p>On n'imagine plus aujourd'hui d'utiliser le courrier au bureau sans
un tel mécanisme, permettant de mettre les messages dans des dossiers
séparés selon, par exemple, la <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/liste%20de%20diffusion" title="Consultez l'article &quot;liste de diffusion&quot; de l'encyclopédie libre Wikipedia">liste de diffusion</a></b> concernée. Il en existe plusieurs, certains
bâtis sur une <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Environnement%20graphique" title="Consultez l'article &quot;Environnement graphique&quot; de l'encyclopédie libre Wikipedia">interface
graphique</a></b>, d'autres autour d'un <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Langage%20informatique" title="Consultez l'article &quot;Langage informatique&quot; de l'encyclopédie libre Wikipedia">langage</a></b>. Ces derniers, bien plus riches et
puissants, sont variés. Le plus connu est
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/procmail" title="Consultez l'article &quot;procmail&quot; de l'encyclopédie libre Wikipedia">procmail</a></b>, célèbre pour son pouvoir expressif
(on peut tout faire en procmail) mais aussi pour sa difficulté.</p></div>
<div class="para"><p><b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Sieve" title="Consultez l'article &quot;Sieve&quot; de l'encyclopédie libre Wikipedia">Sieve</a></b>, l'objet de ce RFC, est nettement
moins riche que procmail, ce qui peut être un inconvénient pour les
utilisateurs avancés mais un avantage pour l'administrateur :
permettre aux utilisateurs de configurer procmail revient à leur
donner un accès <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Shell%20(informatique)" title="Consultez l'article &quot;Shell (informatique)&quot; de l'encyclopédie libre Wikipedia">shell</a></b> alors que Sieve est plus
contrôlable. Comme le note bien notre RFC, Sieve n'est
<b class="emphasis">pas</b> un <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Turing-complet" title="Consultez l'article &quot;Turing-complet&quot; de l'encyclopédie libre Wikipedia">langage
de Turing</a></b> (par exemple, il ne connait pas les <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Structure%20de%20contr%C3%B4le#Boucles" title="Consultez l'article &quot;Structure de contrôle&quot; de l'encyclopédie libre Wikipedia">boucles</a></b>). Ses capacités sont limitées, il est
<i class="foreign" xml:lang="en"><b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Sandbox%20(s%C3%A9curit%C3%A9%20informatique)" title="Consultez l'article &quot;Sandbox (sécurité informatique)&quot; de l'encyclopédie libre Wikipedia">sandboxable</a></b></i>, c'est-à-dire que
l'administrateur système peut facilement limiter les choses que
risquent de faire les auteurs de scripts Sieve.</p></div> <div class="para"><p>Autre avantage
par rapport à procmail, Sieve est normalisé et il en existe plusieurs
mises en œuvre, dans <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Cyrus%20(logiciel)" title="Consultez l'article &quot;Cyrus (logiciel)&quot; de l'encyclopédie libre Wikipedia">Cyrus</a></b>, dans <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Dovecot" title="Consultez l'article &quot;Dovecot&quot; de l'encyclopédie libre Wikipedia">Dovecot</a></b>, dans GNU mailutils, dans
Archiveopteryx...</p></div>
<div class="para"><p>Les scripts Sieve sont écrits par l'utilisateur avec un éditeur
ordinaire ou bien via une interface graphique. Ils sont installés sur
le <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Mail%20transfer%20agent" title="Consultez l'article &quot;Mail transfer agent&quot; de l'encyclopédie libre Wikipedia">serveur de messagerie</a></b> via
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/File%20Transfer%20Protocol" title="Consultez l'article &quot;File Transfer Protocol&quot; de l'encyclopédie libre Wikipedia">FTP</a></b> ou bien par le protocole spécifique
<i class="foreign" xml:lang="en">Manage Sieve</i> (<a href="5804.html" class="rfc" title="Consultez l'analyse du RFC 5804">RFC 5804</a>). Le programme
de <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/webmail" title="Consultez l'article &quot;webmail&quot; de l'encyclopédie libre Wikipedia">webmail</a></b> <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/SquirrelMail" title="Consultez l'article &quot;SquirrelMail&quot; de l'encyclopédie libre Wikipedia">SquirrelMail</a></b>,
par exemple, dispose d'une <a href="http://email.uoa.gr/projects/squirrelmail/avelsieve.php">interface
d'édition de scripts</a> Sieve, qui gère le protocole
<i class="foreign" xml:lang="en">Manage Sieve</i>.</p></div>
<div class="para"><p>Voici un exemple de script Sieve inspiré du RFC et amélioré par Mathieu Arnold :
</p><pre>
             if header :contains "from" "jfc" {
                discard;
             } elsif header :contains ["subject"] ["money", "viagra"] {
                discard;
             } else {
                fileinto "INBOX";
             }
</pre></div>
<div class="para"><p>Sieve lui-même est très limité mais le langage dispose d'un
mécanisme d'extensions (qui doivent être déclarées dans le script avec
<code>require</code>). Certaines sont définies dès notre RFC (comme
<code>fileinto</code>), d'autres sont définies via d'autres
RFC, par exemple pour utiliser des tests anti-spam ou antivirus (<a href="http://www.rfc-editor.org/rfc/rfc5235.txt" class="rfc" title="Consultez le texte intégral du RFC 5235">RFC 5235</a>), ou bien pour tester sur des sous-adresses (<a href="5233.html" class="rfc" title="Consultez l'analyse du RFC 5233">RFC 5233</a>).</p></div>
<div class="para"><p>Notre RFC est la mise à jour du <a href="3028.html" class="rfc" title="Consultez l'analyse du RFC 3028">RFC 3028</a>, qui
avait été le premier à normaliser Sieve. Les principaux changements
(section 15)
sont :
</p><ul>
<li>Retrait de l'action <code>reject</code>, qui migrera vers
un RFC séparé, le <a href="http://www.rfc-editor.org/rfc/rfc5429.txt" class="rfc" title="Consultez le texte intégral du RFC 5429">RFC 5429</a>.</li>
<li>Le mécanisme de comparaison de chaînes de caractères,
dans la section 2.7.3, auparavant défini spécifiquement pour
Sieve, est désormais dans une famille de RFC séparée, introduite par
le <a href="4790.html" class="rfc" title="Consultez l'analyse du RFC 4790">RFC 4790</a>, qui décrit le <a href="http://www.iana.org/assignments/collation/collation-index.html">registre des algorithmes de collation</a>. Seuls les
algorithmes <code>i;octet</code> et
<code>i;ascii-casemap</code> sont directement dans Sieve, les
autres sont des extensions (et doivent donc être déclarées avec
<code>require</code>).</li>
<li>La <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Grammaire%20formelle" title="Consultez l'article &quot;Grammaire formelle&quot; de l'encyclopédie libre Wikipedia">grammaire formelle</a></b> a été
corrigée. Un des traditionnels talons d'Achille des
<b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Request%20for%20comments" title="Consultez l'article &quot;Request for comments&quot; de l'encyclopédie libre Wikipedia">RFC</a></b> est que les parties en langage formel,
comme les grammaires en <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Augmented%20Backus-Naur%20Form" title="Consultez l'article &quot;Augmented Backus-Naur Form&quot; de l'encyclopédie libre Wikipedia">ABNF</a></b> ou les <b><a class="wikipedia" hreflang="fr" href="http://fr.wikipedia.org/wiki/Management%20Information%20Base" title="Consultez l'article &quot;Management Information Base&quot; de l'encyclopédie libre Wikipedia">MIB</a></b> ne sont pas testées par un programme avant
publication et que des RFC peuvent donc être publiés avec du code
invalide. Notons aussi que notre RFC (section 8) est un des très
rares RFC où les structures lexicales (les <i class="foreign" xml:lang="en">tokens</i>)
et syntaxiques sont séparées. La règle la plus fréquente dans les RFC est au
contraire que la grammaire décrive les deux types de structure
ensemble.</li>
</ul></div>
<div class="para"><p>Pour les utilisateurs de procmail, il existe un script (que je n'ai
<b class="emphasis">pas</b> testé) pour migrer certaines règles : <a href="http://www.earth.ox.ac.uk/~steve/sieve/procmail2sieve.pl"><code>http://www.earth.ox.ac.uk/~steve/sieve/procmail2sieve.pl</code></a>).</p></div>
<hr/><p class="get-rfc"><a class="rfc" href="http://www.rfc-editor.org/rfc/rfc5228.txt">Téléchargez le RFC 5228</a></p>


<p id="get-pdf" class="verysmall"><a href="5228.pdf" rel="noindex,nofollow">Version PDF de cette page</a> (mais vous pouvez aussi imprimer depuis votre navigateur, il y a une feuille de style prévue pour cela)</p>
<p id="get-source" class="verysmall"><a href="5228.xml" rel="nofollow">Source XML de cette page</a> (cette 
page est distribuée sous les termes de la licence <a href="http://www.gnu.org/copyleft/fdl.html">GFDL</a>)</p>
</div>
</div><!-- End of middle-column -->
</div><!-- End of source-order-container -->
</div><!-- End of inner-column-container -->
</div><!-- End of outer-column-container -->
<div class="clear-columns"><!-- do not delete --></div>
<div id="footer">
<div class="inside">
<hr class="hide" />
<p>Si vous aimez, vous pouvez payer avec <a href="/flattr.html">Flattr</a> <a href="https://flattr.com/submit/auto?user_id=bortzmeyer&url=http%3A%2F%2Fwww.bortzmeyer.org%2F5228.html" target="_blank"><img src="/images/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0"></a> ou avec <a href="/bitcoin-blog.html">Bitcoin</a> : adresse <code>1HtNJ6ZFUc9yu9u2qAwB4tGdGwPQasQGax</code> (ou voyez le <a href="/images/bitcoin-qrcode.png">code QR</a>). Pour toute remarque sur ce blog, s'adresser à
Stéphane Bortzmeyer <code>&lt;stephane+blog@bortzmeyer.org&gt;</code>. Je suis <a href="http://sl4.org/crocker.html">les règles de Crocker</a> donc pas besoin de faire des excès de diplomatie. Ce blog est strictement personnel et les opinions exprimées ici n'engagent donc que moi, et notamment pas mon employeur présent ou mes employeurs passés.</p>
<a href="http://prefetch.validatorsearch.verisignlabs.com"></a><!-- See http://validatorsearch.verisignlabs.com/ -->
</div>
</div><!-- End of footer -->
</div><!-- End of page-container -->
</body>
</html>


