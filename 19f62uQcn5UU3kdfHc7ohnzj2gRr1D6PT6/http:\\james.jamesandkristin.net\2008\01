http://james.jamesandkristin.net/2008/01
HTTP/1.1 200 OK
Date: Tue, 22 Jul 2014 09:16:58 GMT
Server: Apache
Content-Encoding: gzip
Vary: Accept-Encoding,User-Agent
X-Pingback: http://james.jamesandkristin.net/xmlrpc.php
Last-Modified: Tue, 22 Jul 2014 09:17:00 GMT
Connection: close
Content-Type: text/html; charset=UTF-8

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head profile="http://gmpg.org/xfn/11"><link rel="stylesheet" type="text/css" href="http://james.jamesandkristin.net/wp-content/cache/minify/000000/M9CvSkrNS87QLy6pzEnVMdQvSUzKSS0oSi0u1k8G4pTUtMTSnBK93Mw8oGR5gW5yfkqqbkZmekYOEJeA1WCIAgA.css" media="all" />

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>
	January | 2008 | James Whitt&#039;s Blog	</title>
		
	<link rel="pingback" href="http://james.jamesandkristin.net/xmlrpc.php" />
	<link rel="alternate" type="application/rss+xml" title="James Whitt&#039;s Blog &raquo; Feed" href="http://james.jamesandkristin.net/feed" />
<link rel="alternate" type="application/rss+xml" title="James Whitt&#039;s Blog &raquo; Comments Feed" href="http://james.jamesandkristin.net/comments/feed" />

        <script type="text/javascript">
            var eppathtoscripts = "http://james.jamesandkristin.net/wp-content/plugins/youtube-embed-plus/scripts/";
            var epresponsiveselector = ["iframe.__youtube_prefs_widget__"];
        </script>
        <script type="text/javascript" src="http://james.jamesandkristin.net/wp-content/cache/minify/000000/M9SvzC8tKU1K1U3NTUpN0S3IKS3WL04uyiwoKdavLCkoSk0r1svNzAMA.js"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://james.jamesandkristin.net/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://james.jamesandkristin.net/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 3.9.1" />

	<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-18254419-4']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<meta name="msvalidate.01" content="048E33169286FA0C2D1E46D794386C7B" />

</head>
<body class="archive date">
<div id="nav">
	<div id="menus">
		<ul><li><a href="http://james.jamesandkristin.net/">Home</a></li></ul>
		<ul><li class="page_item page-item-122"><a href="http://james.jamesandkristin.net/certifications">Certifications</a></li>
<li class="page_item page-item-144 page_item_has_children"><a href="http://james.jamesandkristin.net/linux">Linux</a>
<ul class='children'>
	<li class="page_item page-item-37 page_item_has_children"><a href="http://james.jamesandkristin.net/linux/install-gentoo-linux-on-a-dell-inspiron-6000">Install Gentoo Linux on a Dell Inspiron 6000</a>
	<ul class='children'>
		<li class="page_item page-item-60"><a href="http://james.jamesandkristin.net/linux/install-gentoo-linux-on-a-dell-inspiron-6000/lspci-output-for-the-inspiron-6000">lspci Output for the Inspiron 6000</a></li>
	</ul>
</li>
	<li class="page_item page-item-91 page_item_has_children"><a href="http://james.jamesandkristin.net/linux/install-gentoo-linux-on-a-dell-inspiron-e1705">Install Gentoo Linux on a Dell Inspiron E1705</a>
	<ul class='children'>
		<li class="page_item page-item-94"><a href="http://james.jamesandkristin.net/linux/install-gentoo-linux-on-a-dell-inspiron-e1705/lspci-on-the-inspiron-e1705">lspci on the Inspiron E1705</a></li>
	</ul>
</li>
	<li class="page_item page-item-128"><a href="http://james.jamesandkristin.net/linux/setting-up-msi-wind-to-triple-boot-windows-mac-os-x-linux">Setting up MSI Wind to Triple Boot &#8211; Windows, Mac OS X, Linux</a></li>
</ul>
</li>
</ul>	</div>
	<div id="search">
		<form id="searchform" method="get" action="http://james.jamesandkristin.net/">
<input type="text" value="Search: type, hit enter" onfocus="if (this.value == 'Search: type, hit enter') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search: type, hit enter';}" size="35" maxlength="50" name="s" id="s" />
<input type="submit" id="searchsubmit" value="SEARCH" />
</form>	</div>
</div>
<div id="wrapper">
	<div id="header">		<h1><a href="http://james.jamesandkristin.net/">James Whitt&#039;s Blog</a></h1>
		<h2>Always Thinking</h2>
                <span>Donate Bitcoin<br /><a href="bitcoin:19f62uQcn5UU3kdfHc7ohnzj2gRr1D6PT6?label=Donations&message=Thank%20you%20for%20donating">19f62uQcn5UU3kdfHc7ohnzj2gRr1D6PT6</a><br />
<a href="http://james.jamesandkristin.net/?attachment_id=311"><img src="http://james.jamesandkristin.net/wp-content/uploads/2013/03/bitcoin-150x150.png" height="42" width="42" /></a></span>
		<div class="clear"></div>
			</div><div id="content">
		<div class="page-title">
					<h1>Monthly Archives: <span>January 2008</span></h1>
			</div>
		<div class="post-120 post type-post status-publish format-standard hentry category-linux category-programming category-solaris" id="post-120"><!-- post div -->
		<h2 class="title"><a href="http://james.jamesandkristin.net/2008/01/28/using-regex-on-syslog-ng-to-save-to-specific-file-locations" title="Permalink to Using regex on Syslog-ng to save to specific file locations">Using regex on Syslog-ng to save to specific file locations</a></h2>
		<div class="post-info-top">
			<span class="post-info-date">
				Posted by <a href="http://james.jamesandkristin.net/author/james" title="View all posts by James" rel="author">James</a>
				on <a href="http://james.jamesandkristin.net/2008/01/28/using-regex-on-syslog-ng-to-save-to-specific-file-locations" title="5:45 pm" rel="bookmark">1/28/2008</a>
							</span>
			<span class="gotocomments"><a href="http://james.jamesandkristin.net/2008/01/28/using-regex-on-syslog-ng-to-save-to-specific-file-locations#respond" title="Comment on Using regex on Syslog-ng to save to specific file locations">No comments</a></span>
		</div>
		<div class="clear"></div>
		<div class="entry">
			<a href="http://james.jamesandkristin.net/2008/01/28/using-regex-on-syslog-ng-to-save-to-specific-file-locations" title="Using regex on Syslog-ng to save to specific file locations"></a><p>I had the problem of taking an external syslog feed (through UDP or TCP) that came from multiple devices and then separating them into folders that identified the feeds by customers / device type / host.  The one thing I had on my side was that the hostname of the devices were broken up into three parts to help me get this information.</p>
<p>In the old Syslog-ng (1.6.x), there was not a way to regex out this information and then use it in the destination section.  Each time we had a new combination, it required writing additional lines with additional regexs.  Started to really feel it on performance.   With the new branch of syslog-ng (2.0.x), this feature is now available.</p>
<p>You can use up to 256 different $NNN ($1 &#8230; $256) macros, but you can only use one regexp expression.  This will be done using a filter.</p>
<p>Here&#8217;s a full example of what I had done then.  What I wanted to do is put the line in a specific file based on part of the hostname.  For example:</p>
<p>Hostname: subdomain.domain.tld<br />
Save the log files for that device at:<br />
/logs/$TLD/$DOMAIN/$SUBDOMAIN/$R_YEAR-$R_MONTH-$R_DAY.log</p>
<p>WHERE $TLD is the tld of the hostname, $DOMAIN is the domain from the hostname, and $SUBDOMAIN is the subdomain from the hostname.</p>
<p>I would like to be able to regex this information out of the hostname to use in the destination.</p>
<p>To accomplish this, I was able to use this configuration:</p>
<blockquote><p>filter f_filter { host(&#8220;^([0-9a-zA-Z\-]+)\.([0-9a-zA-Z\-]+)\.([0-9a-zA-Z\-]+)$&#8221;); };<br />
destination f_logs { file(&#8220;/logs/$3/$2/$1/$YEAR-$MONTH-$DAY.log&#8221;); };<br />
log {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source(external);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter(f_filter);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destination(f_logs);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flags(final);<br />
};</p>
</blockquote>
		</div><!-- END entry -->
	</div><!-- END post -->
	</div><!--content-->
<div id="sidebar-border">
	<div id="rss_border">
		<div class="rss_border">
			<div id="rss_wrap">
				<div class="rss_wrap">
										<a class="rss " href="http://james.jamesandkristin.net/feed" rel="bookmark" title="RSS Feed">RSS Feed</a>
																				<a class="googleplus" href="https://plus.google.com/101439651669730914357/posts" rel="me" title="Google+">Google+</a>
															<a style="background:url(http://www.linkedin.com/favicon.ico) no-repeat 0 0;" href="http://www.linkedin.com/pub/james-whitt/23/676/245/" title="Linked in" rel="bookmark">Linked in</a>
														</div>
			</div>
		</div>
	</div>
	<div id="sidebar">

<div id="categories-3" class="widget widget_categories"><h3 class="widgettitle">Categories</h3>		<ul>
	<li class="cat-item cat-item-7"><a href="http://james.jamesandkristin.net/category/computer" title="View all posts filed under Computer">Computer</a>
<ul class='children'>
	<li class="cat-item cat-item-8"><a href="http://james.jamesandkristin.net/category/computer/linux" title="View all posts filed under Linux">Linux</a>
</li>
	<li class="cat-item cat-item-62"><a href="http://james.jamesandkristin.net/category/computer/network" title="View all posts filed under Network">Network</a>
</li>
	<li class="cat-item cat-item-65"><a href="http://james.jamesandkristin.net/category/computer/opencomputer" title="View all posts filed under OpenComputer">OpenComputer</a>
</li>
	<li class="cat-item cat-item-16"><a href="http://james.jamesandkristin.net/category/computer/os-x" title="View all posts filed under OS X">OS X</a>
</li>
	<li class="cat-item cat-item-64"><a href="http://james.jamesandkristin.net/category/computer/raspberry-pi" title="View all posts filed under Raspberry Pi">Raspberry Pi</a>
</li>
	<li class="cat-item cat-item-12"><a href="http://james.jamesandkristin.net/category/computer/solaris" title="View all posts filed under Solaris">Solaris</a>
</li>
</ul>
</li>
	<li class="cat-item cat-item-27"><a href="http://james.jamesandkristin.net/category/dvr" title="View all posts filed under DVR">DVR</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://james.jamesandkristin.net/category/general" title="View all posts filed under General">General</a>
</li>
	<li class="cat-item cat-item-20"><a href="http://james.jamesandkristin.net/category/hobbies" title="View all posts filed under Hobbies">Hobbies</a>
<ul class='children'>
	<li class="cat-item cat-item-9"><a href="http://james.jamesandkristin.net/category/hobbies/jet-ski" title="View all posts filed under Jet Ski">Jet Ski</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://james.jamesandkristin.net/category/hobbies/movies" title="View all posts filed under Movies">Movies</a>
</li>
	<li class="cat-item cat-item-11"><a href="http://james.jamesandkristin.net/category/hobbies/pinball" title="View all posts filed under Pinball">Pinball</a>
</li>
	<li class="cat-item cat-item-6"><a href="http://james.jamesandkristin.net/category/hobbies/video-games" title="View all posts filed under Video Games">Video Games</a>
</li>
</ul>
</li>
	<li class="cat-item cat-item-13"><a href="http://james.jamesandkristin.net/category/other" title="View all posts filed under Other">Other</a>
<ul class='children'>
	<li class="cat-item cat-item-10"><a href="http://james.jamesandkristin.net/category/other/house" title="View all posts filed under House">House</a>
</li>
	<li class="cat-item cat-item-4"><a href="http://james.jamesandkristin.net/category/other/jobs" title="View all posts filed under Jobs">Jobs</a>
</li>
	<li class="cat-item cat-item-2"><a href="http://james.jamesandkristin.net/category/other/school" title="View all posts filed under School">School</a>
</li>
</ul>
</li>
	<li class="cat-item cat-item-3"><a href="http://james.jamesandkristin.net/category/programming" title="View all posts filed under Programming">Programming</a>
<ul class='children'>
	<li class="cat-item cat-item-51"><a href="http://james.jamesandkristin.net/category/programming/android" title="View all posts filed under Android">Android</a>
</li>
	<li class="cat-item cat-item-25"><a href="http://james.jamesandkristin.net/category/programming/mysql" title="View all posts filed under MySQL">MySQL</a>
</li>
	<li class="cat-item cat-item-23"><a href="http://james.jamesandkristin.net/category/programming/perl" title="View all posts filed under Perl">Perl</a>
</li>
	<li class="cat-item cat-item-24"><a href="http://james.jamesandkristin.net/category/programming/php" title="View all posts filed under PHP">PHP</a>
</li>
	<li class="cat-item cat-item-63"><a href="http://james.jamesandkristin.net/category/programming/python" title="View all posts filed under Python">Python</a>
</li>
</ul>
</li>
		</ul>
</div><div id="archives-3" class="widget widget_archive"><h3 class="widgettitle">Archives</h3>		<ul>
	<li><a href='http://james.jamesandkristin.net/2014/01'>January 2014</a></li>
	<li><a href='http://james.jamesandkristin.net/2013/11'>November 2013</a></li>
	<li><a href='http://james.jamesandkristin.net/2013/10'>October 2013</a></li>
	<li><a href='http://james.jamesandkristin.net/2013/05'>May 2013</a></li>
	<li><a href='http://james.jamesandkristin.net/2013/03'>March 2013</a></li>
	<li><a href='http://james.jamesandkristin.net/2012/04'>April 2012</a></li>
	<li><a href='http://james.jamesandkristin.net/2012/03'>March 2012</a></li>
	<li><a href='http://james.jamesandkristin.net/2012/01'>January 2012</a></li>
	<li><a href='http://james.jamesandkristin.net/2011/03'>March 2011</a></li>
	<li><a href='http://james.jamesandkristin.net/2010/10'>October 2010</a></li>
	<li><a href='http://james.jamesandkristin.net/2010/03'>March 2010</a></li>
	<li><a href='http://james.jamesandkristin.net/2009/01'>January 2009</a></li>
	<li><a href='http://james.jamesandkristin.net/2008/12'>December 2008</a></li>
	<li><a href='http://james.jamesandkristin.net/2008/05'>May 2008</a></li>
	<li><a href='http://james.jamesandkristin.net/2008/01'>January 2008</a></li>
	<li><a href='http://james.jamesandkristin.net/2007/10'>October 2007</a></li>
	<li><a href='http://james.jamesandkristin.net/2007/08'>August 2007</a></li>
	<li><a href='http://james.jamesandkristin.net/2007/07'>July 2007</a></li>
	<li><a href='http://james.jamesandkristin.net/2007/03'>March 2007</a></li>
	<li><a href='http://james.jamesandkristin.net/2007/01'>January 2007</a></li>
	<li><a href='http://james.jamesandkristin.net/2006/11'>November 2006</a></li>
	<li><a href='http://james.jamesandkristin.net/2006/10'>October 2006</a></li>
	<li><a href='http://james.jamesandkristin.net/2006/08'>August 2006</a></li>
	<li><a href='http://james.jamesandkristin.net/2006/07'>July 2006</a></li>
	<li><a href='http://james.jamesandkristin.net/2006/06'>June 2006</a></li>
	<li><a href='http://james.jamesandkristin.net/2006/05'>May 2006</a></li>
	<li><a href='http://james.jamesandkristin.net/2006/04'>April 2006</a></li>
	<li><a href='http://james.jamesandkristin.net/2006/03'>March 2006</a></li>
	<li><a href='http://james.jamesandkristin.net/2006/02'>February 2006</a></li>
	<li><a href='http://james.jamesandkristin.net/2006/01'>January 2006</a></li>
	<li><a href='http://james.jamesandkristin.net/2005/12'>December 2005</a></li>
	<li><a href='http://james.jamesandkristin.net/2005/11'>November 2005</a></li>
	<li><a href='http://james.jamesandkristin.net/2005/10'>October 2005</a></li>
	<li><a href='http://james.jamesandkristin.net/2005/09'>September 2005</a></li>
	<li><a href='http://james.jamesandkristin.net/2005/08'>August 2005</a></li>
	<li><a href='http://james.jamesandkristin.net/2005/07'>July 2005</a></li>
	<li><a href='http://james.jamesandkristin.net/2005/06'>June 2005</a></li>
	<li><a href='http://james.jamesandkristin.net/2005/05'>May 2005</a></li>
	<li><a href='http://james.jamesandkristin.net/2005/04'>April 2005</a></li>
	<li><a href='http://james.jamesandkristin.net/2005/03'>March 2005</a></li>
	<li><a href='http://james.jamesandkristin.net/2005/01'>January 2005</a></li>
	<li><a href='http://james.jamesandkristin.net/2004/12'>December 2004</a></li>
	<li><a href='http://james.jamesandkristin.net/2004/11'>November 2004</a></li>
		</ul>
</div><div id="pages-3" class="widget widget_pages"><h3 class="widgettitle">Pages</h3>		<ul>
			<li class="page_item page-item-122"><a href="http://james.jamesandkristin.net/certifications">Certifications</a></li>
<li class="page_item page-item-144 page_item_has_children"><a href="http://james.jamesandkristin.net/linux">Linux</a>
<ul class='children'>
	<li class="page_item page-item-37 page_item_has_children"><a href="http://james.jamesandkristin.net/linux/install-gentoo-linux-on-a-dell-inspiron-6000">Install Gentoo Linux on a Dell Inspiron 6000</a>
	<ul class='children'>
		<li class="page_item page-item-60"><a href="http://james.jamesandkristin.net/linux/install-gentoo-linux-on-a-dell-inspiron-6000/lspci-output-for-the-inspiron-6000">lspci Output for the Inspiron 6000</a></li>
	</ul>
</li>
	<li class="page_item page-item-91 page_item_has_children"><a href="http://james.jamesandkristin.net/linux/install-gentoo-linux-on-a-dell-inspiron-e1705">Install Gentoo Linux on a Dell Inspiron E1705</a>
	<ul class='children'>
		<li class="page_item page-item-94"><a href="http://james.jamesandkristin.net/linux/install-gentoo-linux-on-a-dell-inspiron-e1705/lspci-on-the-inspiron-e1705">lspci on the Inspiron E1705</a></li>
	</ul>
</li>
	<li class="page_item page-item-128"><a href="http://james.jamesandkristin.net/linux/setting-up-msi-wind-to-triple-boot-windows-mac-os-x-linux">Setting up MSI Wind to Triple Boot &#8211; Windows, Mac OS X, Linux</a></li>
</ul>
</li>
		</ul>
		</div>

	</div><!-- end: #sidebar -->
</div><!-- end: #sidebar-border -->	<!--WP Code Highlight_start-->
	<script type="text/javascript">
		window.onload = function(){prettyPrint();};
	</script>
	<script type="text/javascript" src="http://james.jamesandkristin.net/wp-content/plugins/wp-code-highlight/js/wp-code-highlight.js"></script>
	<!--WP Code Highlight_end-->
</div><!--wrapper-->
<div class="clear"></div>
<div id="footer">
	<div id="footer-inside">
		<p>
			Copyright &copy; 2014 James Whitt&#039;s Blog			| Powered by <a href="http://wordpress.org/">WordPress</a> and <a href="http://zww.me">zBench</a>
		</p>
		<span id="back-to-top">&uarr; <a href="#" rel="nofollow" title="Back to top">Top</a></span>
	</div>
</div><!--footer-->
<script type="text/javascript" src="http://james.jamesandkristin.net/wp-content/cache/minify/000000/M9SvzC8tKU1K1U3NTUpN0S3IKS3WL04uyiwoKdZPyywpy0wp1svNzAMA.js"></script>
</body>
</html>
<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Minified using apc
Page Caching using apc
Database Caching using apc
Object Caching 900/1027 objects using apc

 Served from: james.jamesandkristin.net @ 2014-07-22 05:17:00 by W3 Total Cache -->
