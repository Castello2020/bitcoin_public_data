http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/
HTTP/1.1 200 OK
Date: Sun, 13 Jul 2014 00:18:34 GMT
Server: Apache
X-Powered-By: PHP/5.4.4-14
X-Pingback: http://www.jejik.com/pingback
Set-Cookie: lw_user_data=a%3A2%3A%7Bs%3A7%3A%22user_id%22%3Bi%3A1%3Bs%3A11%3A%22autologinid%22%3Bs%3A0%3A%22%22%3B%7D; expires=Mon, 13-Jul-2015 00:18:34 GMT; path=/
Set-Cookie: lw_user_sid=99c4b1bbca0bc3db317f06ed87b87560; path=/
Vary: Accept-Encoding
Content-Encoding: gzip
Content-Length: 10420
Connection: close
Content-Type: text/html

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
	<head>
		<!--
			<rdf:RDF 
				xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
				xmlns:dc="http://purl.org/dc/elements/1.1/"
				xmlns:cc="http://web.resource.org/cc/">
				<cc:Work>
					<dc:creator>Stichting Lone Wolves</dc:creator>
					<dc:title>Lone Wolves - Web, game, and open source development</dc:title>
					<dc:description>A blog about web development and open source game programming, home of Hearts for GNOME</dc:description> 
					<dc:date>2014-07-13T02:18:34Z</dc:date>
					<cc:license rdf:resource="http://creativecommons.org/licenses/by-sa/2.5/" />
				</cc:Work>
				<cc:License>
					<cc:requires rdf:resource="http://web.resource.org/cc/Notice" />
					<cc:requires rdf:resource="http://web.resource.org/cc/Attribution" />
					<cc:requires rdf:resource="http://web.resource.org/cc/ShareAlike" />
					<cc:permits rdf:resource="http://web.resource.org/cc/Reproduction" />
					<cc:permits rdf:resource="http://web.resource.org/cc/Distribution" />
					<cc:permits rdf:resource="http://web.resource.org/cc/DerivativeWorks" />
				</cc:License>
			</rdf:RDF>
		-->
		<title>How to properly start compiz in Gnome - Lone Wolves - Web, game, and open source development</title>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
		<meta http-equiv="pragma" content="no-cache" />
		<meta http-equiv="cache-control" content="no-cache" />
		<meta name="keywords" content="lone, wolves, game, web, open source, gnome, hearts, development, linux" />
		<meta name="author" content="Sander Marechal"/>
		<meta name="description" content="A blog about web development and open source game programming, home of Hearts for GNOME" />
		<style type="text/css" media="screen">@import "/main.css";</style>
		<style type="text/css" media="screen">@import "/geshi.css";</style>
				<link rel="alternate" type="application/atom+xml" title="Lone Wolves Atom 1.0 (full)" href="/feeds/full/atom.xml" />
		<link rel="alternate" type="application/atom+xml" title="Lone Wolves Atom 1.0 (articles)" href="/feeds/articles/atom.xml" />
		<link rel="alternate" type="application/atom+xml" title="Lone Wolves Atom 1.0 (blurb)" href="/feeds/blurb/atom.xml" />
		<link rel="alternate" type="application/rss+xml" title="Lone Wolves RSS 2.0 (full)" href="/feeds/full/rss.xml" />
		<link rel="alternate" type="application/rss+xml" title="Lone Wolves RSS 2.0 (articles)" href="/feeds/articles/rss.xml" />
		<link rel="alternate" type="application/rss+xml" title="Lone Wolves RSS 2.0 (blurb)" href="/feeds/blurb/rss.xml" />
		<link rel="pingback" href="http://www.jejik.com/pingback" />
		<link href="http://www.jejik.com/" rel="home" />
		<!--[if IE]><style type="text/css" media="screen">@import "/ie.css";</style><![endif]-->
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	</head>
	<body>
				<div id="wrapper">
			<div id="header">
				<h1><a href="/" rel="home">Lone Wolves</a></h1>
				<h2>Web, game, and open source development</h2>
				<span id="skip_to_menu"><a href="#menu_start">Skip to menu</a></span>
			</div>			<div id="article">
				<div class="article hentry">
											<h4><a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/" class="entry-title">How to properly start compiz in Gnome</a></h4>
						<div class="entry-content"><p>In virtually <em>every</em> compiz tutorial you read on the net you will find the following advice on starting compiz when you log in:</p>

<blockquote>Open System -> Preferences -> Sessions and add &ldquo;compiz --replace&rdquo; to the startup programs list.</blockquote>

<p>That is <em>wrong</em> and it should be expunged from the internet IMHO. If you do that, your GDM will first start metacity, then start nautilus (desktop) and gnome-sesssion-manager, which in turn will start compiz. So you&#8217;re starting one window manager only to replace it with another shortly afterwards. You can see this clearly because it takes a while for compiz to start up and load your window decorator (like emerald) after replacing metacity.</p>

<p>The proper way to do this is to tell Gnome to use compiz as your default window manager and not use metacity at all. Simply put this in your <tt>~/.gnomerc</tt> (create that file if it does not exist yet):</p>

<div class="geshi-wrap"><div class="text geshi" style="font-family:monospace;"><ol><li class="li1"><div class="de1">export WINDOW_MANAGER=/usr/bin/compiz</div></li>
</ol></div></div>

<p>Spread the word!</p></div>
										<a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license" class="cc"><img src="/images/icons/cc.png" alt="Creative Commons Attribution-ShareAlike" /></a>
					<div class="postinfo">
						Posted on <abbr class="updated" title="2008-10-31T10:51:00Z">2008-10-31@10:51</abbr>
						<img src="/images/icons/permalink.png" alt="" /> <a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/" rel="bookmark">Permalink</a>
																			<br />
							Tags:
															&nbsp;<a href="http://www.jejik.com/tag/compiz" rel="tag">compiz</a>
															&nbsp;<a href="http://www.jejik.com/tag/gnome" rel="tag">gnome</a>
															&nbsp;<a href="http://www.jejik.com/tag/nautilus" rel="tag">nautilus</a>
																		</div>
				</div>
				<div id="comments">
					<h3>Comments</h3>
																		<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c1" class="number" id="c1">#1</a>
																			Timo Hochberger
																		
																	</h4>
								<div class="postinfo">
									Posted on 2008-11-01@11:01
																																			</div>
																Thanks, worked for me.
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c2" class="number" id="c2">#2</a>
																			<a href="http://www.techcollective.com" class="name">yochai<small> (http://www.techcollective.com)</small></a>
																		
																	</h4>
								<div class="postinfo">
									Posted on 2008-11-01@19:11
																																			</div>
																This is great.  But one thing--- doesn't having fusion-icon running also restart the window manager yet again? do you know of anyway to have fusion-icon running (it has some perks) but without it restarting the window manager as it loads?<br />
<br />
thanks
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c3" class="number" id="c3">#3</a>
																			<a href="http://www.jejik.com" class="name">Sander Marechal<small> (http://www.jejik.com)</small></a>
																		
																	</h4>
								<div class="postinfo">
									Posted on 2008-11-01@22:16
																																			</div>
																@yochai: Yes. Start it with &ldquo;compiz-icon -n&rdquo;. The -n switch will stop compiz-icon from reloading compiz when it starts.
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c4" class="number" id="c4">#4</a>
																			<a href="http://www.letic.fr" class="name">LeTic<small> (http://www.letic.fr)</small></a>
																		
																	</h4>
								<div class="postinfo">
									Posted on 2008-12-20@02:54
																																			</div>
																Hey mate, I knew about that tip that I am using on my work box for a while, but with pretty much the same configuration at home (sid, amd64, nvidia hardware, twinview) I can't get it to start automatically. I can start Compiz with no problem from fusion-icon but it won't start with the gnome-session...<br />
<br />
An echo $WINDOW_MANAGER after logging show me the correct value, so my question is do you have any idea how to troubleshoot the gnome session logging ? I couldn't find anything in Xorg, gdm, or user logs, don't know where I can find a starting point.<br />
<br />
Thanks in advance for any clue.<br />
LeTic
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c5" class="number" id="c5">#5</a>
																			<a href="http://www.jejik.com" class="name">Sander Marechal<small> (http://www.jejik.com)</small></a>
																		
																	</h4>
								<div class="postinfo">
									Posted on 2008-12-20@22:51
																																			</div>
																LeTic: Take a look at your ~/.xsession-errors file. As for compiz not starting, try to figure out how you can start compiz manually. If you open a terminal and execute /usr/bin/compiz, does it start? Perhaps you need a different executable.<br />
<br />
But you do need to start a <em>window manager</em>. I've tried putting e.g. compiz-manager as $WINDOW_MANAGER but that doesn't work. Perhaps in your case /usr/bin/compiz is just a wrapper around the real command that starts the compiz window manager?
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c6" class="number" id="c6">#6</a>
																			<a href="http://www.letic.fr" class="name">LeTic<small> (http://www.letic.fr)</small></a>
																		
																	</h4>
								<div class="postinfo">
									Posted on 2009-01-24@01:53
																																			</div>
																Hey Sander,<br />
<br />
Didn't have the chance to go back to this with the silly season. I still can't understand this issue...<br />
<br />
The content of .gnomerc is actually used as $WINDOW_MANAGER contains the good value, and when adding any commands inside the file, the results are displayed at the very beginning of the .xsession-errors file.<br />
<br />
When I ran compiz manually, first thing during my session it starts with no problem.<br />
<br />
I even installed snoopy to try to debug this and at no point it tried to run compiz. <br />
<br />
There is no error message in the xsession-errors concerning this so I am a bit lost for words now...<br />
<br />
The worst thing is, it is working perfectly fine on my work box.<br />
<br />
I you have any more ideas...<br />
Thanks for the help<br />
LeTic
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c7" class="number" id="c7">#7</a>
																			<a href="http://www.letic.fr" class="name">LeTic<small> (http://www.letic.fr)</small></a>
																		
																	</h4>
								<div class="postinfo">
									Posted on 2009-01-24@02:27
																																			</div>
																Me again :o)<br />
<br />
I uninstalled metacity to test and compiz is started with my session. But it is crippled : the window decorator isn't started and trying to run it manually doesn't work. Changing the settings in CCSM doesn't have any impact. <br />
<br />
During that session I tried running compiz manually again and then it works fine...<br />
<br />
There seems to be 2 totally different behaviour to my compiz, I wonder if it isn't taking its configuration from different places. I'm gonna try deleting all compiz configuration and see if it works.<br />
<br />
I'll keep you updated<br />
LeTic
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c8" class="number" id="c8">#8</a>
																			<a href="http://www.jejik.com" class="name">Sander Marechal<small> (http://www.jejik.com)</small></a>
																		
																	</h4>
								<div class="postinfo">
									Posted on 2009-01-24@09:35
																																			</div>
																It sounds like something strange is going on with that specific machine. As you said, it's working fine on your other machine.<br />
<br />
The only thing that I can think of is that you have a setting somewhere that prevents users from specifying their own window manager. Perhaps there is some global configuration setting that tells GDM to ignore $WINDOW_MANAGER from ~/.gnomerc. Try setting $WINDOW_MANAGER globally somewhere under /etc, for example in /etc/gdm/gdm.comf? Perhaps that will work.
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c9" class="number" id="c9">#9</a>
																			<a href="http://www.letic.fr" class="name">LeTic<small> (http://www.letic.fr)</small></a>
																		
																	</h4>
								<div class="postinfo">
									Posted on 2009-02-05@18:46
																																			</div>
																I was working from home today so I got some time to solve my issue finally !<br />
<br />
Here is the debugging I did after my last post. I hope this will help other people<br />
 - Put the .gnomerc in /root and test a gnome session from root -> it works<br />
 - Check with lsof which device/file were open when root was logged and check their permissions but my user already was in the video group<br />
 - Create a new dummy user, put him only in the video group and put the .gnomerc -> it works<br />
 - Follow the scripts from /etc/gdm/Xsession (first script executed in ~/.xsession-errors) with echo of relevant variables<br />
 - Check that there were no specific script in the home folders (.xsession, .profile etc)<br />
 - The above script exec several others that I followed as well (/etc/X11/Xsession.d/* and debug with echos to find any difference between my test user and mine<br />
 - When I was sure that all variable had the same value and that the scripts were running the same exectuable : /usr/bin/gnome-session (previously was x-session-manager) I started to look in the home folder<br />
 - I already tried to remove gconf folder as it the one holding the compiz config with no results, and check the x session script, so I tried to find a session file somewhere else.<br />
 - Found one in .gnome2/session<br />
   * the file contains 2 lines with metacity remove them -> end up with no window manager<br />
   * replace them with compiz works but the session crash at the end<br />
   * removing the file works !<br />
<br />
So here it is. If compiz is not working when you have the .gnomerc file containing the correct export WINDOW_MANAGER line then you must have the same issue as I encountered. I have been upgrading my SID for years copying the home partitions when I was changing PC. So my home went through lots of different gnome version and end up with a broken .gnome2/session file. Just remove it and it will solve your issue :o)<br />
<br />
I hope it can help user troubleshooting there gnome session if they have similar issue.<br />
<br />
Hope you don't mind posting this here.<br />
Thanks for the help mate<br />
LeTic
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c10" class="number" id="c10">#10</a>
																			<a href="http://www.jejik.com" class="name">Sander Marechal<small> (http://www.jejik.com)</small></a>
																		
																	</h4>
								<div class="postinfo">
									Posted on 2009-02-06@00:03
																																			</div>
																Thanks for posting this LeTic!
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c11" class="number" id="c11">#11</a>
																			<a href="http://www.eldiade.com" class="name">Oriol<small> (http://www.eldiade.com)</small></a>
																		
																	</h4>
								<div class="postinfo">
									Posted on 2009-04-01@15:14
																																			</div>
																Thanks pal, it worked for me! I'm already spreading the word.
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c12" class="number" id="c12">#12</a>
																			Anonymous Coward
																		
																	</h4>
								<div class="postinfo">
									Posted on 2009-05-15@15:59
																																			</div>
																Hi,<br />
<br />
This is a great tip. I was wondering if the same goes for XFCE. I am using XUbuntu and I want to know whether creating the ~/.gnomerc file would work under XFCE or do I need a different file.<br />
<br />
Thanks.
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c13" class="number" id="c13">#13</a>
																			<a href="http://www.jejik.com" class="name">Sander Marechal<small> (http://www.jejik.com)</small></a>
																		
																	</h4>
								<div class="postinfo">
									Posted on 2009-05-16@02:07
																																			</div>
																Maybe, if you use GDM to start XFCE, but it's probably a different file. Try asking the XFCE people. I've never used XFCE so I can't help you with that.
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c14" class="number" id="c14">#14</a>
																			Anonymous Coward
																		
																	</h4>
								<div class="postinfo">
									Posted on 2009-05-17@17:47
																																			</div>
																Well, I obviously did the reasonable thing of just trying it and it seems to work. It seems that XUbuntu uses GDM (found it on the UBuntu forums).<br />
<br />
Thanks again for the tip.
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c15" class="number" id="c15">#15</a>
																			Charlie
																		
																	</h4>
								<div class="postinfo">
									Posted on 2009-06-05@21:48
																																			</div>
																Why not just change the desktop>gnome>applications>window_manager setting to "/usr/bin/compiz" ?
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c16" class="number" id="c16">#16</a>
																			<a href="http://www.jejik.com" class="name">Sander Marechal<small> (http://www.jejik.com)</small></a>
																		
																	</h4>
								<div class="postinfo">
									Posted on 2009-06-06@13:53
																																			</div>
																Charlie: I haven't tried that, but that could work just as well.
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c17" class="number" id="c17">#17</a>
																			svyatoslav
																		
																	</h4>
								<div class="postinfo">
									Posted on 2009-07-03@03:46
																																			</div>
																How would you do this with fedora 11?<br />
<br />
I start compiz by using fusion fusion-icon
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c18" class="number" id="c18">#18</a>
																			<a href="http://www.jejik.com" class="name">Sander Marechal<small> (http://www.jejik.com)</small></a>
																		
																	</h4>
								<div class="postinfo">
									Posted on 2009-07-03@07:13
																																			</div>
																Svyatoslav, go to System->Preferences->Desktop effects and enable them. When you start fusion-icon, make sure to add the "-n" flag so it does not attempt to restart compiz again. See also comment #2 and #3 above.
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c19" class="number" id="c19">#19</a>
																			klarsen
																		
																	</h4>
								<div class="postinfo">
									Posted on 2009-09-19@09:31
																																			</div>
																It looks like newer versions of GDM are no longer sourcing ~/.gnomerc.  Instead add the same line to ~/.xprofile.
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c20" class="number" id="c20">#20</a>
																			mr.Anonymous
																		
																	</h4>
								<div class="postinfo">
									Posted on 2009-12-22@12:27
																																			</div>
																- gconf key /desktop/gnome/applications/window_manager deprecated now<br />
- export $WINDOW_MANAGER in ~/.xprofile... just only setting $WINDOW_MANAGER variable %)<br />
solution: set gconf key /desktop/gnome/session/required_components/windowmanager = compiz.<br />
<br />
http://en.gentoo-wiki.com/wiki/Compiz-Fusion#Gnome
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c21" class="number" id="c21">#21</a>
																			Photon
																		
																	</h4>
								<div class="postinfo">
									Posted on 2009-12-23@17:36
																																			</div>
																Thanks for your hint! It didn't work for me, though, I ended up without any window manager at all. But I found a solution here: http://wiki.archlinux.org/index.php/Compiz#GNOME Also for users of an nVidia graphics card: If you want to enable antialiasing in Compiz, do following: <br />
<br />
1. Enable antialiasing in the nVidia settings<br />
2. Create following startup script (let's call it compiz-start):<br />
<br />
$ gedit /usr/bin/compiz-start<br />
<br />
which contains following (you may experiment with the compiz start options, just read the above wiki.archlinux.org link):<br />
<br />
------------------------------------<br />
#!/bin/bash<br />
<br />
nvidia-settings --load-config-only && compiz --replace --sm-disable --ignore-desktop-hints ccp<br />
<br />
------------------------------------<br />
<br />
4. Edit /usr/share/applications/compiz.desktop and choose the script as exec-file (replace the line "Exec=compiz ccp" with "Exec=compiz-start"
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c22" class="number" id="c22">#22</a>
																			Igor
																		
																	</h4>
								<div class="postinfo">
									Posted on 2010-03-07@10:08
																																			</div>
																Thanks a lot!<br />
It really works!
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c23" class="number" id="c23">#23</a>
																			<a href="http://pc2st.wordpress.com/" class="name">PC2st<small> (http://pc2st.wordpress.com/)</small></a>
																		
																	</h4>
								<div class="postinfo">
									Posted on 2010-03-16@13:58
																																			</div>
																Wooooooooow :)<br />
I never could run 'compiz --replace' successfully neither 'fusion-icon -f'...<br />
But your way is really work :D That's greet.<br />
Thank you for the properly solution.
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c24" class="number" id="c24">#24</a>
																			jcp
																		
																	</h4>
								<div class="postinfo">
									Posted on 2010-04-28@11:57
																																			</div>
																Hy thanks for your tips! In my .xsession-errors (here you can find many things to clean up) I found that it was looking for /usr/bin/compiz.real (don't know why) so I did:<br />
cd /usr/bin<br />
ln ./compiz ./compiz.real -s<br />
not elegant but works for me
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c25" class="number" id="c25">#25</a>
																			Marius Andersen
																		
																	</h4>
								<div class="postinfo">
									Posted on 2010-08-10@14:48
																																			</div>
																<strong>This method is outdated</strong>, according to the <code>/usr/bin/gnome-wm</code> script which does the actual work of reading the <code>WINDOW_MANAGER</code> variable. Instead, change the appropriate <code>gconf</code> value:<br />
<br />
<pre>
# gconftool-2 --set -t string /desktop/gnome/session/required_components/windowmanager compiz
</pre><br />
<br />
This changes the window manager GNOME will use from "<code>gnome-wm</code>" to "<code>compiz</code>". In addition, one should make a <code>/usr/share/applications/compiz.desktop</code> file specifying the parameters GNOME should use for starting Compiz. It may look as follows:<br />
<br />
<pre>
[Desktop Entry]
Type=Application
Encoding=UTF-8
Name=Compiz
Exec=/usr/bin/compiz ccp  # make sure ccp is included
NoDisplay=true
X-GNOME-WMSettingsModule=compiz
X-GNOME-Autostart-Phase=WindowManager
X-GNOME-Provides=windowmanager
X-GNOME-WMName=Compiz
X-GnomeWMSettingsLibrary=compiz
</pre><br />
<br />
If you are installing Compiz on Debian, then <code>aptitude</code> will create this file automatically. Just open it and make sure the <code>Exec</code> line includes <code>ccp</code>, otherwise the previous settings aren't loaded.<br />
<br />
Finally, start the CompizConfig Settings Manager and ensure that the Window Decorator plugin is enabled.<br />
<br />
Source: <a href="http://wiki.archlinux.org/index.php/Compiz" rel="nofollow">http://wiki.archlinux.org/index.php/Compiz</a>
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c26" class="number" id="c26">#26</a>
																			trusktr
																		
																	</h4>
								<div class="postinfo">
									Posted on 2010-10-19@07:46
																																			</div>
																Actually, there is an *official* way to do this properly:<br />
<br />
In Gnome, open up Configuration Editor (command: gconf) and set the key /desktop/gnome/session/required_components/windowmanager to "compiz".<br />
<br />
And follow the exact instructions as <a href="http://wiki.archlinux.org/index.php/Compiz#Autostart_.28without_.22fusion-icon.22.29_.28Preferred_Method.29" rel="nofollow">described in the Arch Wiki</a>.<br />
<br />
Wait, the previous guy just mentioned this is a different way. hehe. Consider this confirmation. ;)
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c27" class="number" id="c27">#27</a>
																			Dario
																		
																	</h4>
								<div class="postinfo">
									Posted on 2010-11-12@18:25
																																			</div>
																I have tried the method described in the Arch Linux Wiki, the result is that i have no window manager at all. This happens every time i set to "compiz" the windowmanager key. <br />
I have also tried to leave that key to the "gnome-wm" value and to set the environment variable WINDOW_MANAGER to "/usr/bin/compiz", in this way compiz starts but windows borders and the most of the effects are are missing. The "decoration" plugin seems enabled in Compiz Config. Does someone know how to fix?
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c28" class="number" id="c28">#28</a>
																			Anonymoose
																		
																	</h4>
								<div class="postinfo">
									Posted on 2010-12-26@19:27
																																			</div>
																I ran into the same thing with my Arch/gnome install, not sure if it's a gnome 2.32 thing or what. I finally gave up and started using fusion-icon there. The above method works fine for Debian though. The Arch wiki hasn't changed yet so apparently nobody knows or particularly cares.
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c29" class="number" id="c29">#29</a>
																			Baobab
																		
																	</h4>
								<div class="postinfo">
									Posted on 2012-01-12@11:34
																																			</div>
																here is how i could start automatically Compiz in Oneiric Ocelot without using "compiz --replace" in the startup apps :<br />
<br />
edit the following file :<br />
<blockquote><code>sudo vim /usr/share/gnome-session/sessions/gnome-classic.session</code></blockquote><br />
<br />
remove "notifications" at the end of line 4, said differently replace following line :<br />
<blockquote><code>RequiredProviders=windowmanager;notifications;</code></blockquote><br />
<br />
by this one :<br />
<blockquote><code>RequiredProviders=windowmanager;</code></blockquote><br />
<br />
retart the session, or reboot and it is done !<br />
<br />
Note : check in the general parameters of Compiz :<br />
- compatibility with Gnome <br />
- Composite<br />
- OpenGL <br />
are all ticked !
							</div>
													<div class="comment">
								<h4>
									<a href="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#c30" class="number" id="c30">#30</a>
																			rocketman221
																		
																	</h4>
								<div class="postinfo">
									Posted on 2012-04-18@18:51
																																			</div>
																Cool! It still works with the gnome classic session on Debian Wheezy.<br />
I have tried editing the <i>"gnome-fallback.session"</i> file which never worked.
							</div>
																										<form method="post" action="http://www.jejik.com/articles/2008/10/how_to_properly_start_compiz_in_gnome/#newcomment" id="newcomment">
								<input type="hidden" name="preview_token" value="080c2a1af69b3c11ae04436063c22477" />
																<fieldset>
									<legend>Post a new comment</legend>
																			<p>
											Registration is not required to post comments, but cookies must be enabled. One of the 
											advantages of registration is that you can edit your comments later on <em>(editing not yet implemented)</em>. You can <a href="/login.php">register or login here</a>. 
										</p>
										
										<label for="name"><u>N</u>ame <span class="required">(required)</span></label> <input type="text" name="comment_name" id="name" value="Anonymous Coward" acceskey="n" /><br />
										<label for="email"><u>E</u>-mail address</label> <input type="text" name="comment_email" id="email" acceskey="e" value="" /><br />
			
										<label for="website"><u>W</u>ebsite URL</label> <input type="text" name="comment_website" id="website" acceskey="w" value="http://" /><br />
																		
									<label for="message">Your <u>c</u>omment <span class="required">(required)</span></label> <textarea name="comment_text" id="message" acceskey="c" cols="50" rows="8">Your comment here</textarea>
                                    									<p class="explanation">
										Your e-mail address will not be published, but your website URL will. All links that you post
										will tagged rel=&quot;nofollow&quot; to throw off spammers. You are allowed to use the following XHTML tags in your comment:
										&lt;em&gt; &lt;strong&gt; &lt;u&gt; &lt;b&gt; &lt;i&gt; &lt;strike&gt; &lt;blockquote&gt; &lt;big&gt; &lt;small&gt; &lt;ul&gt; &lt;ol&gt; &lt;li&gt; &lt;a href=""&gt; &lt;pre&gt; &lt;code&gt; &lt;tt&gt; &lt;br&gt;. Please allow up to 60 second processing time after you post a comment. Our spam filters may take some time.
									</p>
									<input class="submit" type="submit" name="preview" value="Preview" />
                                    								</fieldset>
							</form>
															</div>
			</div>					<div id="right">
			<div id="menu">				
				<div class="menu">
					<h3>Menu</h3>
					<ul>
						<li><img src="/images/icons/home.png" alt="" />&nbsp;<a name="menu_start" id="menu_start" href="/" rel="home">Home</a></li>
						<li><img src="/images/icons/archives.png" alt="" />&nbsp;<a href="/archives/">Blog &nbsp;archives</a></li>
						<li><img src="/images/icons/webdev.png" alt="" />&nbsp;<a href="/pages/webdevelopment/">Web&nbsp;development</a>
							<ul>
								<li><img src="/images/icons/work.png" alt="" />&nbsp;<a href="/pages/pastwork/">Past work</a></li>
								<!-- <li><img src="/images/icons/money.png" alt="" />&nbsp;<a href="#">Hire&nbsp;us</a></li> -->
							</ul>
						</li>
						<li><img src="/images/icons/projects.png" alt="" />&nbsp;<a href="/pages/projects/">Projects</a>
							<ul>
																	<li><img src="/images/icons/hearts.png" alt="" />&nbsp;<a href="/gnome-hearts/">Gnome Hearts</a></li>
																									<li><img src="/images/icons/odf-xslt.png" alt="" />&nbsp;<a href="/odf-xslt/">ODF-XSLT Generator</a></li>
																<li><img src="/images/icons/officeshots.png" alt="" />&nbsp;<a href="http://www.officeshots.org/">Officeshots.org <img src="/images/icons/external.png" /></a></li>
							</ul>
						</li>
						<li><img src="/images/icons/resources.png" alt="" />&nbsp;<a href="/pages/resources/">Resources</a>
							<ul>
								<li><img src="/images/icons/buggie.png" alt="" />&nbsp;<a href="http://bugzilla.jejik.com">Bugzilla</a></li>
								<li><img src="/images/icons/subversion.png" alt="" />&nbsp;<a href="http://svn.jejik.com">Subversion</a></li>
								<li><img src="/images/icons/lists.png" alt="" />&nbsp;<a href="http://lists.jejik.com">Mailing&nbsp;lists</a></li>
								<li><img src="/images/icons/book.png" alt="" />&nbsp;<a href="/api/">API References</a></li>
							</ul>
						</li>
						<li><img src="/images/icons/about-us.png" alt="" />&nbsp;<a href="/pages/about_us/">About&nbsp;us</a></li>
						<li><img src="/images/icons/contact.png" alt="" />&nbsp;<a href="/contact.php">Contact</a></li>
						<li><img src="/images/icons/pillar.png" alt="" />&nbsp;<a href="/pages/old_stuff/">Old&nbsp;stuff</a></li>
													<li><img src="/images/icons/login.png" alt="" />&nbsp;<a href="/login.php?ref=%2Farticles%2F2008%2F10%2Fhow_to_properly_start_compiz_in_gnome%2F">Your&nbsp;account</a></li>
												<li><img src="/images/icons/rss.png" alt="" />&nbsp;<a href="/pages/feeds/">Feeds</a></li>
					</ul>
				</div>
                <div class="menu bitcoin">
                    <h3>Donate!</h3>
                    <p>Please consider donating if my work has been useful to you.</p>
                    <img src="/images/other/blockchain-address.png" />
                    <p>Bitcoin address:</p>
                    <tt>1PAXiscvKoGRJ5XxMZvri3CMNeKYYb8wMQ</tt>
                </div>
				
								
									<div class="menu">
						<h3>Pingbacks</h3>
						<ul id="pingbacks">
															<li><a href="http://pc-freak.eu/blog/?p=841">pc-freak.eu/blog/?p=841</a></li>
															<li><a href="http://duese.wordpress.com/2010/01/09/compiz-vernuenftig-starten/">duese.wordpress.com/2010/01...</a></li>
															<li><a href="http://maciejowo.wordpress.com/2010/03/01/poprawny-start-compiza-w-gnome/">maciejowo.wordpress.com/201...</a></li>
													</ul>
					</div>
				
									<div class="menu">
						<h3>Latest comments</h3>
						<ul id="latest_comments">
																							<li><img src="/images/icons/comments.png" alt="" />&nbsp;&nbsp;<a href="http://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python/#c171">sag47: I found that if you kill...</a></li>
																							<li><img src="/images/icons/comments.png" alt="" />&nbsp;&nbsp;<a href="http://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python/#c170">domoarrigato: Your comment hereHi,...</a></li>
																							<li><img src="/images/icons/comments.png" alt="" />&nbsp;&nbsp;<a href="http://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python/#c169">Sander Marechal: os.dup2 should be...</a></li>
																							<li><img src="/images/icons/comments.png" alt="" />&nbsp;&nbsp;<a href="http://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python/#c168">domoarrigato: Hi, like a number of...</a></li>
																							<li><img src="/images/icons/comments.png" alt="" />&nbsp;&nbsp;<a href="http://www.jejik.com/articles/2007/06/apache_and_subversion_authentication_with_microsoft_active_directory/#c175">Alex: I am writing because I used...</a></li>
																							<li><img src="/images/icons/comments.png" alt="" />&nbsp;&nbsp;<a href="http://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python/#c167">hagak: Actually I was wondering why...</a></li>
																							<li><img src="/images/icons/comments.png" alt="" />&nbsp;&nbsp;<a href="http://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python/#c166">Sander Marechal: @jiamo: Are you...</a></li>
																							<li><img src="/images/icons/comments.png" alt="" />&nbsp;&nbsp;<a href="http://www.jejik.com/articles/2012/11/injecting_custom_classes_in_jejik_mt940/#c2">Sander Marechal: You can install it...</a></li>
																							<li><img src="/images/icons/comments.png" alt="" />&nbsp;&nbsp;<a href="http://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python/#c165">jiamo: Why this init can't work?...</a></li>
																							<li><img src="/images/icons/comments.png" alt="" />&nbsp;&nbsp;<a href="http://www.jejik.com/articles/2012/11/injecting_custom_classes_in_jejik_mt940/#c1">Richard van Wingerden: How to install...</a></li>
													</ul>
					</div>
								
								
								
									<div class="menu">
						<h3>Links</h3>
						<ul>
							<li><img src="/images/sites/lxer.png" alt="" />&nbsp;<a href="http://lxer.com">LXer Linux News</a></li>
							<li><img src="/images/sites/groklaw.png" alt="" />&nbsp;<a href="http://www.groklaw.net">Groklaw</a></li>
							<li><img src="/images/icons/document.png" alt="" />&nbsp;<a href="http://www.consortiuminfo.org/standardsblog/">Consortium info</a></li>
							<li><img src="/images/icons/planetodf.png" alt="" />&nbsp;<a href="http://planet.opendocumentformat.org/">Planet ODF</a></li>
							<li><img src="/images/sites/alistapart.png" alt="" />&nbsp;<a href="http://www.alistapart.com">A List Apart</a></li>
							<li><img src="/images/sites/theregister.png" alt="" />&nbsp;<a href="http://www.theregister.co.uk">The Register</a></li>
							<li><img src="/images/sites/userfriendly.png" alt="" />&nbsp;<a href="http://www.userfriendly.org">Userfriendly</a></li>
							<li><img src="/images/sites/gamedev.png" alt="" />&nbsp;<a href="http://www.gamedev.net">Gamedev.net</a></li>
							<li><img src="/images/icons/document.png" alt="" />&nbsp;<a href="http://www.savetheinternet.com/">Save the internet</a></li>
						</ul>
						<a style="border: none;" href="http://stopsoftwarepatents.eu/401001004810/"><img src="http://stopsoftwarepatents.eu/banner/401001004810/ssp-181-30.gif" alt="stopsoftwarepatents.eu petition banner" /></a> 
					</div>
							</div>	
			</div>
					<div id="footer">
				<p>
					Copyright&copy; 2003-2014 Stichting Lone Wolves
					[ <a href="http://validator.w3.org/check?uri=referer">XHTML</a>
					| <a href="http://jigsaw.w3.org/css-validator/check/referer">CSS</a>
					| <a href="http://www.w3.org/WAI/WCAG1AA-Conformance" title="Explanation of Level Double-A Conformance">WAI-AA</a>
					| <a href="http://www.section508.gov/" title="">508</a>
					| <a href="/pages/privacy">Privacy policy</a> ]
				</p>
			</div>
		</div>
		<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
		</script>
		<script type="text/javascript">
			_uacct = "UA-1746114-1";
			urchinTracker();
		</script>
	</body>
</html>
