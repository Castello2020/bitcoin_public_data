http://zertrin.org/how-to/installation-and-configuration-of-duplicity-for-encrypted-sftp-remote-backup/
HTTP/1.0 200 OK
Date: Wed, 23 Jul 2014 15:36:30 GMT
Server: Apache
X-Powered-By: PHP/5.4.4-14+deb7u12
X-Pingback: http://zertrin.org/b/xmlrpc.php
Link: <http://zertrin.org/?p=111>; rel=shortlink
Vary: Accept-Encoding
Content-Encoding: gzip
Content-Length: 9998
Connection: close
Content-Type: text/html; charset=UTF-8

<!DOCTYPE html>
<!--[if IE 6]>
<html id="ie6" lang="en-US">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>Installation and configuration of duplicity for encrypted SFTP remote backup | zertrin.org</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="stylesheet" type="text/css" media="all" href="http://zertrin.org/b/wp-content/themes/twentyeleven-child/style.css" />
<link rel="pingback" href="http://zertrin.org/b/xmlrpc.php" />
<!--[if lt IE 9]>
<script src="http://zertrin.org/b/wp-content/themes/twentyeleven/js/html5.js" type="text/javascript"></script>
<![endif]-->
<link rel="alternate" type="application/rss+xml" title="zertrin.org &raquo; Feed" href="http://zertrin.org/feed/" />
<link rel="alternate" type="application/rss+xml" title="zertrin.org &raquo; Comments Feed" href="http://zertrin.org/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="zertrin.org &raquo; Installation and configuration of duplicity for encrypted SFTP remote backup Comments Feed" href="http://zertrin.org/how-to/installation-and-configuration-of-duplicity-for-encrypted-sftp-remote-backup/feed/" />
<link rel='stylesheet' id='contact-form-7-css'  href='http://zertrin.org/b/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=3.9' type='text/css' media='all' />
<script type='text/javascript' src='http://zertrin.org/b/wp-includes/js/jquery/jquery.js?ver=1.11.0'></script>
<script type='text/javascript' src='http://zertrin.org/b/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://zertrin.org/b/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://zertrin.org/b/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Contact' href='http://zertrin.org/contact/' />
<meta name="generator" content="WordPress 3.9.1" />
<link rel='shortlink' href='http://zertrin.org/?p=111' />
	<style>
		/* Link color */
		a,
		#site-title a:focus,
		#site-title a:hover,
		#site-title a:active,
		.entry-title a:hover,
		.entry-title a:focus,
		.entry-title a:active,
		.widget_twentyeleven_ephemera .comments-link a:hover,
		section.recent-posts .other-recent-posts a[rel="bookmark"]:hover,
		section.recent-posts .other-recent-posts .comments-link a:hover,
		.format-image footer.entry-meta a:hover,
		#site-generator a:hover {
			color: #1868a5;
		}
		section.recent-posts .other-recent-posts .comments-link a:hover {
			border-color: #1868a5;
		}
		article.feature-image.small .entry-summary p a:hover,
		.entry-header .comments-link a:hover,
		.entry-header .comments-link a:focus,
		.entry-header .comments-link a:active,
		.feature-slider a.active {
			background-color: #1868a5;
		}
	</style>

<!-- All in One SEO Pack 2.2 by Michael Torbert of Semper Fi Web Design[355,452] -->
<link rel="canonical" href="http://zertrin.org/how-to/installation-and-configuration-of-duplicity-for-encrypted-sftp-remote-backup/" />
<!-- /all in one seo pack -->
<style type="text/css" id="custom-background-css">
body.custom-background { background-image: url('http://zertrin.org/b/wp-content/uploads/2013/03/wild_oliva2.png'); background-repeat: repeat; background-position: top left; background-attachment: fixed; }
</style>
</head>

<body class="page page-id-111 page-child parent-pageid-74 page-template page-template-sidebar-page-php custom-background single-author two-column left-sidebar">
<div id="page" class="hfeed">
	<header id="branding" role="banner">
			<hgroup>
				<h1 id="site-title"><span><a href="http://zertrin.org/" title="zertrin.org" rel="home">zertrin.org</a></span></h1>
				<h2 id="site-description"></h2>
			</hgroup>

			
								<form method="get" id="searchform" action="http://zertrin.org/">
		<label for="s" class="assistive-text">Search</label>
		<input type="text" class="field" name="s" id="s" placeholder="Search" />
		<input type="submit" class="submit" name="submit" id="searchsubmit" value="Search" />
	</form>
			
			<nav id="access" role="navigation">
				<h3 class="assistive-text">Main menu</h3>
								<div class="skip-link"><a class="assistive-text" href="#content" title="Skip to primary content">Skip to primary content</a></div>
				<div class="skip-link"><a class="assistive-text" href="#secondary" title="Skip to secondary content">Skip to secondary content</a></div>
								<div class="menu-main-container"><ul id="menu-main" class="menu"><li id="menu-item-52" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-52"><a href="http://zertrin.org/">/home</a></li>
<li id="menu-item-251" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-251"><a href="http://zertrin.org/blog/">Blog</a></li>
<li id="menu-item-107" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-107"><a href="http://zertrin.org/projects/">Projects</a>
<ul class="sub-menu">
	<li id="menu-item-110" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-110"><a href="http://zertrin.org/projects/duplicity-backup/">duplicity-backup.sh</a></li>
	<li id="menu-item-109" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-109"><a href="http://zertrin.org/projects/iptables-persistent/">iptables-persistent</a></li>
</ul>
</li>
<li id="menu-item-106" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor current-menu-ancestor current-menu-parent current-page-parent current_page_parent current_page_ancestor menu-item-has-children menu-item-106"><a href="http://zertrin.org/how-to/">How-to</a>
<ul class="sub-menu">
	<li id="menu-item-131" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-111 current_page_item menu-item-131"><a href="http://zertrin.org/how-to/installation-and-configuration-of-duplicity-for-encrypted-sftp-remote-backup/">Installation and configuration of duplicity for encrypted SFTP remote backup</a></li>
	<li id="menu-item-108" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-108"><a href="http://zertrin.org/how-to/openssl-ca/">Notes pour la mise en place d’une autorité de certification avec OpenSSL</a></li>
</ul>
</li>
<li id="menu-item-51" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-51"><a href="http://zertrin.org/about/">About</a></li>
<li id="menu-item-105" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-105"><a href="http://zertrin.org/contact/">Contact</a></li>
</ul></div>			</nav><!-- #access -->
	</header><!-- #branding -->


	<div id="main">
		<div id="primary">
			<div id="content" role="main">

				
					
<article id="post-111" class="post-111 page type-page status-publish hentry">
	<header class="entry-header">
		<h1 class="entry-title">Installation and configuration of duplicity for encrypted SFTP remote backup</h1>
	</header><!-- .entry-header -->

	<div class="entry-content">
		<blockquote><p><strong><span style="color: #666699;"><em>Note: This howto will be rewritten as soon as possible to be more generic and clear (04 June 2013)</em></span></strong></p></blockquote>
<p>In this how-to, I&#8217;d like to show how to install and configure duplicity to perform remote backups. This is presented as a walk-through, and it represents the way I installed and configured duplicity on my own server.</p>
<p>In the following I assume that Debian is used. Very few should differ if using another distribution, with the exception of the installation of duplicity. You should then use the most common way to install software on your server.</p>
<h2>Overview of the process:</h2>
<ul>
<li>Generation of RSA keys and installation for key-based SFTP authentication</li>
<li>Generation of GPG keys for duplicity&#8217;s encryption feature</li>
<li>Installation of duplicity</li>
<li>Configuration of duplicity</li>
</ul>
<h2>Detailed walk-through:</h2>
<h3>RSA keys generation and installation for key-based SFTP authentication</h3>
<p>First step is to generate a pair of RSA keys that will be used for SFTP authentication.<br />
Go to your home directory and use the ssh-keygen tool with the options given hereafter. <strong>Do NOT enter any passphrase when prompted</strong> (because duplicity is meant to be run on background and won&#8217;t be able to supply a password each time it will authenticate on the remote server). It is up to you to protect the private key from unauthorized access.</p>
<pre>root@myhost:~# <strong>ssh-keygen -t rsa -b 2048</strong>
Generating public/private rsa key pair.
Enter file in which to save the key (/root/.ssh/id_rsa): <strong>[press enter]</strong>
Enter passphrase (empty for no passphrase): <strong>[press enter]</strong>
Enter same passphrase again: <strong>[press enter]</strong>
Your identification has been saved in /root/.ssh/id_rsa.
Your public key has been saved in /root/.ssh/id_rsa.pub.
The key fingerprint is:
xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx root@myhost</pre>
<p>Make sure the permissions of the public and private keys are set respectively to 644 and 600 :</p>
<pre>root@myhost:~# <strong>ls -l .ssh/</strong>
<strong>-rw-------</strong> 1 root root 1,7K 3 mai 20:50 id_rsa
<strong>-rw-r--r--</strong> 1 root root 395 3 mai 20:50 id_rsa.pub</pre>
<p>Copy the content of <code>.ssh/id_rsa.pub</code> on your local server and add it to <code>.ssh/authorized_keys</code> on the remote server by any means (usually through SSH shell access). In case you don&#8217;t have SSH access to the remote server you can fetch the file, edit it locally and then re-upload it via (S)FTP.</p>
<pre>root@myhost:~# <strong>cat .ssh/id_rsa.pub</strong>
ssh-rsa AAAAB4NzaC7yc2EAAAADAQABABBBAQCxQTp1vYmCoPOJ5gre5SGD98gFlUk
ZYmSAHbKcg98gl0j9LJm2h0fezqfEfsKy2K/bSfmnM+s917A9FUhgYFiJjnVRFV3rih
2hfrFMU/BMp/9FUl9/4T+22zueppdNhETcmQRCCOFLart0beL+CI8G8wyZ/rNLzWIq2
L598Ag/Am/zgh/WbPH2bNPXzza+MP2rNp+eE/u2cIDDdaffLoez992K+CphhMVxZXz0
3f2+v3Yp9BVUpefezh9sa9RkSsRpoHXEktgQB04PUHm2wmzSkNdhNOwtJQlKIKfqvhK
njiSddsGRJIiha1ukZBP+haVnM1aa3AeD88dRdbLlTUNt root@myhost

root@myhost:~# <strong>sftp remoteuser@remoteserver.example.com</strong>
remoteuser@remoteserver.example.com's password:
Connected to remoteserver.example.com.
sftp&gt; <strong>get .ssh/authorized_keys</strong>
Fetching /.ssh/authorized_keys to authorized_keys
/.ssh/authorized_keys 100% 398 0.4KB/s 00:00
sftp&gt; <strong>^D</strong>

root@myhost:~# <strong>cat .ssh/id_rsa.pub &gt;&gt; authorized_keys</strong>

root@myhost:~# <strong>sftp remoteuser@remoteserver.example.com</strong>
remoteuser@remoteserver.example.com's password:
Connected to remoteserver.example.com.
sftp&gt; <strong>cd .ssh</strong>
sftp&gt; <strong>put authorized_keys</strong>
Uploading authorized_keys to /.ssh/authorized_keys
authorized_keys 100% 399 0.4KB/s 00:00
sftp&gt; <strong>^D </strong>

root@myhost:~# <strong>rm authorized_keys</strong></pre>
<p>If you did it right, then logging to the remote SFTP server shouldn&#8217;t require a password anymore.</p>
<pre>root@myhost:~# <strong>sftp remoteuser@remoteserver.example.com</strong>
Connected to remoteserver.example.com.
sftp&gt;</pre>
<p>While you&#8217;re connected to the remote server, it&#8217;s a good time to prepare the remote directory structure for the backup process. Hereafter is an example where I create the directory structure <code>/backup/myhost/etc-only</code><br />
<code>myhost</code> is the name of the server I want to backup, and <code>etc-only</code> will be one of the backup set I will configure later, where only the <code>/etc</code> directory will be backuped.<br />
Again this is only an example, and you&#8217;re free to design another directory structure that suits best your needs.</p>
<pre>sftp&gt; <strong>ls</strong>
dev etc home lib lib64 public usr
sftp&gt; <strong>mkdir backup</strong>
sftp&gt; <strong>cd backup/</strong>
sftp&gt; <strong>mkdir myhost</strong>
sftp&gt; <strong>cd myhost/</strong>
sftp&gt; <strong>mkdir etc-only</strong>
sftp&gt; <strong>^D</strong></pre>
<p>First part is done! Let&#8217;s go for the second part:</p>
<h3>GPG keys generation for duplicity&#8217;s encryption feature</h3>
<p>If you want your backup encrypted before being uploaded to the remote server, duplicity will need a pair of GPG keys. I strongly suggest to create a dedicated pair of keys for duplicity to use and NOT to use your own existing keys, because of the hereafter mentioned limitation in the confidentiality of the stored passphrase.</p>
<p>The identity of the key (Name/email) doesn&#8217;t matter very much. However you have to be fully aware that <span style="text-decoration: underline;"><em>the passphrase will appear in cleartext somewhere in duplicity&#8217;s configuration</em></span>. So do NOT use one of your personal passphrases!</p>
<pre>root@myhost:~# <strong>gpg --gen-key</strong>
gpg (GnuPG) 1.4.10; Copyright (C) 2008 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Please select what kind of key you want:
 (1) RSA and RSA (default)
 (2) DSA and Elgamal
 (3) DSA (sign only)
 (4) RSA (sign only)
Your selection? <strong>[press enter]</strong>
RSA keys may be between 1024 and 4096 bits long.
What keysize do you want? (2048) <strong>[press enter]</strong>
Requested keysize is 2048 bits
Please specify how long the key should be valid.
 0 = key does not expire
 &lt;n&gt; = key expires in n days
 &lt;n&gt;w = key expires in n weeks
 &lt;n&gt;m = key expires in n months
 &lt;n&gt;y = key expires in n years
Key is valid for? (0) <strong>[press enter]</strong>
Key does not expire at all
Is this correct? (y/N) <strong>y</strong>

You need a user ID to identify your key; the software constructs the user ID
from the Real Name, Comment and Email Address in this form:
 "Heinrich Heine (Der Dichter) &lt;heinrichh@duesseldorf.de&gt;"

Real name: <strong>John Doe</strong>
Email address: <strong>john.doe@example.com</strong>
Comment:
You selected this USER-ID:
 "John Doe &lt;john.doe@example.com&gt;"

Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? <strong>O</strong>
You need a Passphrase to protect your secret key.
<strong>Set a passphrase, this will be the one that protects the confidentiality of your data on the remote server.</strong>

We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.

Not enough random bytes available. Please do some other work to give
the OS a chance to collect more entropy! (Need 108 more bytes)
...............+++++
gpg: /root/.gnupg/trustdb.gpg: trustdb created
gpg: key D59A550A marked as ultimately trusted
public and secret key created and signed.

gpg: checking the trustdb
gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model
gpg: depth: 0 valid: 1 signed: 0 trust: 0-, 0q, 0n, 0m, 0f, 1u
pub 2048R/D59A550A 2012-05-03
 Key fingerprint = 382D A19B 931E D37E C2FF 9EBE AEE1 68B0 D59A 550A
uid John Doe &lt;john.doe@example.com&gt;
sub 2048R/D56116BE 2012-05-03</pre>
<p>Note the ID of your key! For example here it&#8217;s <code><strong>D59A550A</strong></code></p>
<p>Now that our RSA and GPG keys are ready, let&#8217;s install duplicity and configure it to run periodically in background.</p>
<h3>Installation of duplicity</h3>
<p>For Debian, duplicity is packaged.</p>
<pre>root@myhost:~# <strong>aptitude install duplicity</strong></pre>
<p>There may be some dependencies.</p>
<h3>Configuration of duplicity</h3>
<p>Here I describe the &#8220;simple&#8221; way to configure duplicity in order to backup automatically thanks to the cron deamon. At the end of this page you&#8217;ll find another way to call duplicity through an helper script that I recommend.</p>
<p>For the example, we&#8217;ll ask duplicity to backup only <code>/etc</code> with encryption and all other parameters at their defaults. If you want to tune duplicity&#8217;s parameters, please look at its manpage.</p>
<p>If the installation went well, let&#8217;s test our setup so far:</p>
<pre>root@myhost:~# <strong>duplicity --encrypt-key D59A550A /etc scp://remoteuser@remoteserver.com/backup/myhost/etc-only</strong></pre>
<p>If everything went well, you should see such the following output:</p>
<pre>Synchronizing remote metadata to local cache...
Last full backup date: none
No signatures found, switching to full backup.
--------------[ Backup Statistics ]--------------
StartTime 1336076161.79 (Thu May 3 22:16:01 2012)
EndTime 1336076163.46 (Thu May 3 22:16:03 2012)
ElapsedTime 1.67 (1.67 seconds)
SourceFiles 1803
SourceFileSize 3024131 (2.88 MB)
NewFiles 1803
NewFileSize 3024131 (2.88 MB)
DeletedFiles 0
ChangedFiles 0
ChangedFileSize 0 (0 bytes)
ChangedDeltaSize 0 (0 bytes)
DeltaEntries 1803
RawDeltaSize 2239652 (2.14 MB)
TotalDestinationSizeChange 703554 (687 KB)
Errors 0
-------------------------------------------------</pre>
<p>If you try to launch this command twice, you&#8217;ll notice that it doesn&#8217;t seem to work. The error message you get is related to the fact that duplicity needs to decrypt remote content and it doesn&#8217;t know the passphrase and doesn&#8217;t ask for it interactively either.</p>
<p>You can check if further executions of duplicity work by typing:</p>
<pre>root@myhost:~# <strong>PASSPHRASE="the_chosen_passphrase" duplicity --encrypt-key <strong>D59A550A</strong> /etc scp://remoteuser@remoteserver.example.com/backup/myhost/etc-only</strong></pre>
<p>Don&#8217;t forget to wipe out your command history if needed, so that the passphrase doesn&#8217;t get logged in it.</p>
<p>If you went so far and the two last commands exited without error, congratulations! Your first backup is done.</p>
<p>The only task left is to automatize the backup process.</p>
<p>Let&#8217;s create a little shell script to launch duplicity once a day with the cron deamon:</p>
<pre>root@myhost:~# <strong>vim /etc/cron.daily/duplicity</strong></pre>
<p>and copy this:</p>
<pre>#!/bin/sh

test -x /usr/bin/duplicity || exit 0
. /root/.duplicity_pass
export PASSPHRASE
/usr/bin/duplicity --encrypt-key D59A550A /etc scp://remoteuser@remotehost.example.com/backup/myhost/etc-only</pre>
<p>As we said before, for duplicity to be able to encrypt the backup with the GPG key, it must have some way to know the passphrase.</p>
<p>One of the &#8220;less ugly&#8221; solution I found was to store the passphrase in a file that only root could read (you can choose the location as you want, but don&#8217;t forget to adapt the above script consequently):</p>
<pre>root@myhost:~# <strong>vim /root/.duplicity_pass</strong></pre>
<p>Write the following in it:</p>
<pre>PASSPHRASE="<strong>replace_with_the_chosen_passphrase_for_the_gpg_key</strong>"</pre>
<p>And then chmod it to 700:</p>
<pre>root@myhost:~# <strong>chmod 700 /root/.duplicity.pass</strong></pre>
<p>Eventually, make the cron script executable:</p>
<pre>root@myhost:~# <strong>chmod +x /etc/cron.daily/duplicity</strong></pre>
<p>Test the script to check if everything is working properly:</p>
<pre>root@myhost:~# <strong>/etc/cron.daily/duplicity</strong>
Local and Remote metadata are synchronized, no sync needed.
Last full backup date: Thu May 3 22:15:59 2012
--------------[ Backup Statistics ]--------------
StartTime 1336080076.59 (Thu May 3 23:21:16 2012)
EndTime 1336080077.08 (Thu May 3 23:21:17 2012)
ElapsedTime 0.50 (0.50 seconds)
SourceFiles 1804
SourceFileSize 3024328 (2.88 MB)
NewFiles 3
NewFileSize 8389 (8.19 KB)
DeletedFiles 0
ChangedFiles 1
ChangedFileSize 232 (232 bytes)
ChangedDeltaSize 0 (0 bytes)
DeltaEntries 4
RawDeltaSize 436 (436 bytes)
TotalDestinationSizeChange 866 (866 bytes)
Errors 0
-------------------------------------------------</pre>
<p>If you don&#8217;t see any error, then you&#8217;re done, your backup will launch automatically once a day.</p>
<p><em>Don&#8217;t forget to learn how to recover your data (before needing to do so) and to test your backups regularly.</em></p>
<p>Hereafter I describe how to use a more advanced script to handle duplicity backup configuration.</p>
<h3>Using duplicity-backup to do the job</h3>
<p>I maintain a wrapper script for duplicity called <a title="duplicity-backup" href="http://zertrin.org/projects/duplicity-backup/" target="_blank">duplicity-backup.sh</a> and originally developed by Damon Timm.</p>
<p>This wrapper script has many functionality to help you administrate your backup sets (backup, recover, check remote files state&#8230;) and fine-tune the configuration (include/exclude files and folders&#8230;).</p>
<p><span style="text-decoration: underline;">Once duplicity is properly installed and able to backup</span>, you can install and use duplicity-backup.sh to wrap the job.</p>
<p>You can put duplicity-backup at the location of your choice, then configure it (see <a title="duplicity-backup" href="http://zertrin.org/projects/duplicity-backup/" target="_blank">duplicity-backup</a> page for details) and eventually the only thing to change is the script launched by the cron deamon.</p>
<pre>root@myhost:~# <strong>vim /etc/cron.daily/duplicity</strong></pre>
<p>For example I use this one (replace or comment any preexistent content):</p>
<pre>#!/bin/sh
test -x /root/scripts/duplicity-backup/duplicity-backup.sh || exit 0
cd /root/scripts/duplicity-backup &amp;&amp; ./duplicity-backup.sh -c /etc/duplicity-backup.conf --backup</pre>
<p>(I installed duplicity-backup at <code>/root/scripts/duplicity-backup/duplicity-backup.sh</code> and the config file is at <code>/etc/duplicity-backup.conf</code>)</p>
<p>Here you are, through this how-to you should have been able to install and configure duplicity as your fire-and-forget remote backup solution.</p>
			</div><!-- .entry-content -->
	<footer class="entry-meta">
			</footer><!-- .entry-meta -->
</article><!-- #post-111 -->

						<div id="comments">
	
	
	
									<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/how-to/installation-and-configuration-of-duplicity-for-encrypted-sftp-remote-backup/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://zertrin.org/b/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																			<p class="comment-notes">Your email address will not be published. Required fields are marked <span class="required">*</span></p>							<p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" /></p>
												<p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea></p>						<p class="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:  <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></p>						<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='111' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="ebf808696b" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="247"/></p>					</form>
							</div><!-- #respond -->
			
</div><!-- #comments -->

				
			</div><!-- #content -->
		</div><!-- #primary -->

		<div id="secondary" class="widget-area" role="complementary">
			<aside id="nav_menu-2" class="widget widget_nav_menu"><div class="menu-main-container"><ul id="menu-main-1" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-52"><a href="http://zertrin.org/">/home</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-251"><a href="http://zertrin.org/blog/">Blog</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-107"><a href="http://zertrin.org/projects/">Projects</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-110"><a href="http://zertrin.org/projects/duplicity-backup/">duplicity-backup.sh</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-109"><a href="http://zertrin.org/projects/iptables-persistent/">iptables-persistent</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor current-menu-ancestor current-menu-parent current-page-parent current_page_parent current_page_ancestor menu-item-has-children menu-item-106"><a href="http://zertrin.org/how-to/">How-to</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-111 current_page_item menu-item-131"><a href="http://zertrin.org/how-to/installation-and-configuration-of-duplicity-for-encrypted-sftp-remote-backup/">Installation and configuration of duplicity for encrypted SFTP remote backup</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-108"><a href="http://zertrin.org/how-to/openssl-ca/">Notes pour la mise en place d’une autorité de certification avec OpenSSL</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-51"><a href="http://zertrin.org/about/">About</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-105"><a href="http://zertrin.org/contact/">Contact</a></li>
</ul></div></aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h3 class="widget-title">Recent Posts</h3>		<ul>
					<li>
				<a href="http://zertrin.org/new-pgp-key/">New PGP key</a>
							<span class="post-date">15 December 2013</span>
						</li>
				</ul>
		</aside><aside id="linkcat-2" class="widget widget_links"><h3 class="widget-title">Links</h3>
	<ul class='xoxo blogroll'>
<li><a href="https://github.com/zertrin" rel="me" title="Zertrin&#8217;s user page on Github" target="_blank">Zertrin on Github</a></li>
<li><a href="https://twitter.com/zertrin" rel="me" title="Zertrin&#8217;s Timeline on Twitter" target="_blank">Zertrin on Twitter</a></li>
<li><a href="http://blog.zertrin.fr" rel="me" target="_blank">Zertrin&#039;s Blog</a></li>
<li><a href="https://shaarli.zertrin.org/" rel="me" title="Shaarli feed of Zertrin : all the links I found interesting" target="_blank">Zertrin&#039;s links</a></li>

	</ul>
</aside>
<aside id="linkcat-22" class="widget widget_links"><h3 class="widget-title">Services</h3>
	<ul class='xoxo blogroll'>
<li><a href="https://zerobin.zertrin.org/" rel="me" title="Minimalist pastebin where the server has zero knowledge of pasted data" target="_blank">Zerobin</a></li>
<li><a href="https://0bin.zertrin.org/" rel="me" title="Another client side encrypted PasteBin" target="_blank">0bin</a></li>
<li><a href="https://haste.zertrin.org/" rel="me" title="Prettiest, easiest to use pastebin ever made." target="_blank">Hastebin</a></li>
<li><a href="https://etherpad.zertrin.org/" rel="me" title="Real-time collaborative online editor" target="_blank">Etherpad</a></li>

	</ul>
</aside>
    
<!-- 
	Plugin: Custom Meta Widget	Plugin URL: http://shinraholdings.com/plugins/custom-meta-widget/-->


	<aside id="custommetawidget-2" class="widget customMetaWidget">	<h3 class="widget-title">Meta</h3>	<ul>
	
	
    <li><a href="http://zertrin.org/b/wp-login.php">Log in</a></li>	
	</ul>
    
	</aside>		</div><!-- #secondary .widget-area -->

	</div><!-- #main -->

	<footer id="colophon" role="contentinfo">

			

			<div id="site-generator">
								<!-- <a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">Proudly powered by WordPress</a> -->
				<p><img alt="Creative Commons License" style="border-width:0" src="//zertrin.org/b/wp-content/themes/twentyeleven-child/img/cc-by-sa_3.0_80x15.png" /><br /><em><small>Unless otherwise mentionned, all content here is licenced under <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</small></em></p>
				<p class="smallnotice"><br />Bitcoin donations accepted at this address: 1ERECgZHvzEvY5rSRYomAg8CkqSNeQEvAE</p>
				<p class="verysmallnotice"><br />While zertrin.org and www.zertrin.org domains are certified with StartCom’s SSL certificates,<br />the other subdomains *.zertrin.org are certified by my self-signed Certificate Authority which is available here: <a href="http://zertrin.org/zertrin_ca.crt">zertrin_ca.crt</a></p>
				<p class="verysmallnotice">Fingerprint SHA-1 of the CA certificate: 90 A3 8B 32 82 61 49 D4 19 3F 5F 52 9E 8D 03 C1 26 96 44 D9</p>
				<p class="verysmallnotice">PGP signature of zertrin_ca.crt with the key <a href="http://pgp.mit.edu:11371/pks/lookup?search=0x48464D5DB8495D471E8348FE5D2C0DC0ACF81B81&amp;op=index&amp;fingerprint=on&amp;exact=on" target="_blank" title="Fingerprint : 4846 4D5D B849 5D47 1E83 48FE 5D2C 0DC0 ACF8 1B81">0xACF81B81</a> : <a href="//zertrin.org/zertrin_ca.crt.sig">zertrin_ca.crt.sig</a></p>
				<p><br /><img src="//zertrin.org/b/wp-content/themes/twentyeleven-child/img/glider-small.png" alt="hacker emblem" height="20" width="20" /><a href="//zertrin.org/admissible.php"></a></p>
			</div>
	</footer><!-- #colophon -->
</div><!-- #page -->

<!-- Powered by WPtouch: 3.4.3 --><script type='text/javascript' src='http://zertrin.org/b/wp-content/plugins/akismet/_inc/form.js?ver=3.0.1'></script>
<script type='text/javascript' src='http://zertrin.org/b/wp-includes/js/comment-reply.min.js?ver=3.9.1'></script>
<script type='text/javascript' src='http://zertrin.org/b/wp-content/plugins/contact-form-7/includes/js/jquery.form.min.js?ver=3.51.0-2014.06.20'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var _wpcf7 = {"loaderUrl":"http:\/\/zertrin.org\/b\/wp-content\/plugins\/contact-form-7\/images\/ajax-loader.gif","sending":"Sending ...","cached":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='http://zertrin.org/b/wp-content/plugins/contact-form-7/includes/js/scripts.js?ver=3.9'></script>

</body>
</html>
