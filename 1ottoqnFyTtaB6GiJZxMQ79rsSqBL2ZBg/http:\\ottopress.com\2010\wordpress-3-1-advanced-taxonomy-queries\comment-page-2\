http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/
HTTP/1.1 200 OK
Server: nginx/1.4.4
Date: Thu, 24 Jul 2014 08:25:51 GMT
Content-Type: text/html; charset=UTF-8
Connection: close
X-Pingback: http://ottopress.com/xmlrpc.php
Link: <http://otto42.com/81>; rel=shortlink

<!DOCTYPE html>
<html lang="en-US">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>WordPress 3.1: Advanced Taxonomy Queries &raquo; Otto on WordPress</title>

<link rel="profile" href="http://www.w3.org/1999/xhtml/vocab" />
<link rel="me" type="text/html" href="https://plus.google.com/100201852715113506716" />

<link rel="stylesheet" href="http://ottopress.com/wp-content/themes/fluid-blue/style.css" type="text/css" media="screen" />
<link rel="stylesheet" href="http://ottopress.com/wp-content/themes/fluid-blue/print.css" type="text/css" media="print" />

<link rel="pingback" href="http://ottopress.com/xmlrpc.php" />

<meta property="og:email" content="otto@ottodestruct.com" />
<meta http-equiv="X-UA-Compatible" content="chrome=1">

<script type="text/javascript">var description = '';</script>
<!-- Jetpack Site Verification Tags -->
<meta name="google-site-verification" content="IvlRFnRHu9RIiAiOS-bo-8vU4ju4V6_b4U3M_-1jlXQ" />
<link rel="alternate" type="application/rss+xml" title="Otto on WordPress &raquo; Feed" href="http://ottopress.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Otto on WordPress &raquo; Comments Feed" href="http://ottopress.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Otto on WordPress &raquo; WordPress 3.1: Advanced Taxonomy Queries Comments Feed" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/feed/" />
<link rel='stylesheet' id='yarppWidgetCss-css'  href='http://ottopress.com/wp-content/plugins/yet-another-related-posts-plugin/style/widget.css?ver=3.9.1' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack-subscriptions-css'  href='http://ottopress.com/wp-content/plugins/jetpack/modules/subscriptions/subscriptions.css?ver=3.9.1' type='text/css' media='all' />
<link rel='stylesheet' id='tiled-gallery-css'  href='http://ottopress.com/wp-content/plugins/jetpack/modules/tiled-gallery/tiled-gallery/tiled-gallery.css?ver=2012-09-21' type='text/css' media='all' />
<link rel='stylesheet' id='mediaelement-css'  href='http://ottopress.com/wp-includes/js/mediaelement/mediaelementplayer.min.css?ver=2.13.0' type='text/css' media='all' />
<link rel='stylesheet' id='wp-mediaelement-css'  href='http://ottopress.com/wp-includes/js/mediaelement/wp-mediaelement.css?ver=3.9.1' type='text/css' media='all' />
<script type='text/javascript' src='http://ottopress.com/wp-includes/js/jquery/jquery.js?ver=1.11.0'></script>
<script type='text/javascript' src='http://ottopress.com/wp-includes/js/jquery/jquery-migrate.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://ottopress.com/wp-content/plugins/jetpack/modules/tiled-gallery/tiled-gallery/tiled-gallery.js?ver=3.9.1'></script>
<script type='text/javascript' src='http://ottodestruct.com/op/wp-content/plugins/gravatar-box/jquery.md5.js?ver=1.0'></script>
<script type='text/javascript' src='http://ottodestruct.com/op/wp-content/plugins/gravatar-box/gravbox.js?ver=1.0'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://ottopress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://ottopress.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='How to Add Audio to WordPress Posts' href='http://ottopress.com/2010/how-to-add-audio-to-wordpress-posts/' />
<link rel='next' title='Own Your DNS, Because It Really Does Matter' href='http://ottopress.com/2010/own-your-dns-because-it-really-does-matter/' />
<meta name="generator" content="WordPress 3.9.1" />
<link rel='canonical' href='http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comments' />
<link rel='shortlink' href='http://otto42.com/81' />
<meta name="pinterest" content="nopin" /><link rel="microsummary" type="text/plain" href="/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?microsummary=1" /><link rel="shortcut icon" href="http://ottopress.com/wp-content/wp-logo-vs.png" /><link rel="author" href="https://plus.google.com/+SamuelOttoWood" title="Samuel “Otto” Wood on Google+" /> 

<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="WordPress 3.1: Advanced Taxonomy Queries" />
<meta property="og:url" content="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/" />
<meta property="og:description" content="One of the new things in 3.1 that hasn&#039;t got a lot of discussion yet is the new Advanced Taxonomy Queries mechanism. At the moment, this is still being actively developed, but the basic structure i..." />
<meta property="article:published_time" content="2010-11-23T21:23:00+00:00" />
<meta property="article:modified_time" content="2012-03-14T14:50:26+00:00" />
<meta property="article:author" content="http://ottopress.com/author/otto/" />
<meta property="og:site_name" content="Otto on WordPress" />
<meta property="og:image" content="http://ottopress.com/files/2010/11/query.jpg" />
<meta name="twitter:site" content="@ottodestruct" />
<meta name="twitter:image" content="http://ottopress.com/files/2010/11/query.jpg?w=240" />
<meta name="twitter:card" content="summary" />
<style type="text/css" id="syntaxhighlighteranchor"></style>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-27538437-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body class="single single-post postid-331 single-format-standard">
<script type="text/javascript">
if (top.location != self.location) top.location.replace(self.location);
</script>
<div id="page">
<div id="header">
	<div id="headertitle">
		<h1><a href="http://ottopress.com" title="Otto on WordPress: You have to use an Ottopress to get fresh squeezed Otto.">Otto on WordPress</a></h1>
		<p>You have to use an Ottopress to get fresh squeezed Otto.</p>
	</div> 
	<!-- Search box (If you prefer having search form as a sidebar widget, remove this block) -->
	<div class="search">
		<form method="get" id="searchform" action="http://ottopress.com/">
<input type="search" size="20" results="5" name="s" id="s" placeholder="Search..." speech="speech" x-webkit-speech="x-webkit-speech" onwebkitspeechchange="this.form.submit();" />
</form>
	</div> 
	<!-- Search ends here-->
		
</div>
<div id="navbar">
<div id="nav">
<div class="menu"><ul><li ><a href="http://ottopress.com/">Home</a></li><li class="page_item page-item-5 page_item_has_children"><a href="http://ottopress.com/wordpress-plugins/">WordPress Plugins</a><ul class='children'><li class="page_item page-item-205"><a href="http://ottopress.com/wordpress-plugins/atd-for-comments/">After The Deadline For Comments</a></li><li class="page_item page-item-21"><a href="http://ottopress.com/wordpress-plugins/atom-default-feed/">Atom Default Feed</a></li><li class="page_item page-item-965"><a href="http://ottopress.com/wordpress-plugins/dropbox-photo-sideloader/">Dropbox Photo Sideloader</a></li><li class="page_item page-item-15"><a href="http://ottopress.com/wordpress-plugins/gravatar-box/">Gravatar Box</a></li><li class="page_item page-item-32"><a href="http://ottopress.com/wordpress-plugins/php-code-widget/">PHP Code Widget</a></li><li class="page_item page-item-7"><a href="http://ottopress.com/wordpress-plugins/simple-facebook-connect/">Simple Facebook Connect</a></li><li class="page_item page-item-10"><a href="http://ottopress.com/wordpress-plugins/simple-twitter-connect/">Simple Twitter Connect</a></li><li class="page_item page-item-81"><a href="http://ottopress.com/wordpress-plugins/unicornify/">Unicornify</a></li></ul></li><li class="page_item page-item-374"><a href="http://ottopress.com/contact/">Contact Otto</a></li><li><a href="http://ottodestruct.com" title="Nothing to See Here">Nothing to See Here</a></li><li><a href="http://buyottoabeer.com" title="Otto on Beer">Otto on Beer</a></li></ul></div>
	</div>
</div>
<div id="wrapper">
	<div id="content">

			
		<div class="navigation">
			<div class="alignleft">&laquo; <a href="http://ottopress.com/2010/how-to-add-audio-to-wordpress-posts/" rel="prev">How to Add Audio to WordPress Posts</a></div>
			<div class="alignright"><a href="http://ottopress.com/2010/own-your-dns-because-it-really-does-matter/" rel="next">Own Your DNS, Because It Really Does Matter</a> &raquo;</div>
		</div>

		<div class="post" id="post-331">
			<h2 class="posttitle"><a href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/" rel="bookmark" title="Permanent Link to WordPress 3.1: Advanced Taxonomy Queries" itemprop="url"><span itemprop="name">WordPress 3.1: Advanced Taxonomy Queries</span></a></h2>
			<div style="clear:none" class="postmetadata">November 23, 2010, 3:23 pm <!-- by <span rel="author">Samuel “Otto” Wood</span> --></div>
			<div class="postentry">
				<div itemprop="articleBody"><p>One of the new things in 3.1 that hasn&#8217;t got a lot of discussion yet is the new <a href="http://core.trac.wordpress.org/changeset/16555">Advanced Taxonomy Queries</a> mechanism. At the moment, this is still being actively developed, but the basic structure is finalized enough to give at least a semi-coherent explanation on how to use it. Since 3.1 is now going into beta, it&#8217;s unlikely to change much.</p>
<p><img class="alignright size-full wp-image-332" title="query" src="http://i2.wp.com/ottopress.com/files/2010/11/query.jpg?resize=317%2C421" alt="" data-recalc-dims="1" /></p>
<h3>What&#8217;s a Query?</h3>
<p>In WordPress land, a &#8220;query&#8221; is anything that gets Posts. There&#8217;s a lot of ways to do this.</p>
<ul>
<li>You can use <a href="http://codex.wordpress.org/Function_Reference/query_posts">query_posts</a> to modify the main query of the page being displayed.</li>
<li>You can create a new <a href="http://codex.wordpress.org/Function_Reference/WP_Query">WP_Query</a>, to get some set of posts to display in its own custom Loop.</li>
<li>You can do a <a href="http://codex.wordpress.org/Template_Tags/get_posts">get_posts</a> to get some limited set of posts for display in some special way.</li>
</ul>
<p>Regardless of the method, you have to pass parameters to it in order to specify which posts you want. If you&#8217;ve used this at all before, then you&#8217;ve used parameters like cat=123, or tag=example, or category_name=bob and so forth. When custom taxonomies were developed, you were eventually able to specify things like taxonomy=foo and term=bar and so on.</p>
<h3>Querying for Posts</h3>
<p>The problem with these is that people sometimes want to specify more than one of these parameters, and not all parameters worked well together. Things like cat=a and tag=b, or cat=a and tag is not b, and so forth. This is because cat and tag are both forms of taxonomies, and the code didn&#8217;t handle that well. Sure, some of it worked, for specific cases, but those were mostly there by accident rather than by design. In other words, those cases worked because the system just happened to get it right for that particular instance.</p>
<p>Well, all these old methods still work, but they have been made into a more comprehensive system of generically specifying arbitrary taxonomies to match against. When you specify cat=123, it&#8217;ll actually be converting it to this new method internally.</p>
<h3>Query Strings are for Suckers</h3>
<p>One side effect of this new system is that it doesn&#8217;t really work with query strings very well. It can be done, but it&#8217;s a lot easier and more sensible if you just start getting into the array method of doing things instead. What&#8217;s the array method? I&#8217;ll explain:</p>
<p>Imagine you used to have a query that looked like this:</p>
<pre class="brush: php; title: ; notranslate" title="">
query_posts('cat=123&amp;author=456');
</pre>
<p>A simple query, really. The problem with it is that WordPress has to parse that query before it can use it. But there is another way to write that query as well:</p>
<pre class="brush: php; title: ; notranslate" title="">
query_posts(array(
  'cat' =&gt; 123,
  'author' =&gt; 456,
) );
</pre>
<p>Essentially, you separate out each individual item into its own element in an array. This actually saves you some time in the query because it doesn&#8217;t have to parse it (there&#8217;s very little savings though).</p>
<p>The advantage of this is that you can build your arrays using any method of array handling you like. Here&#8217;s another way to do it:</p>
<pre class="brush: php; title: ; notranslate" title="">
$myquery['cat'] = 123;
$myquery['author'] = 456;
query_posts($myquery);
</pre>
<p>Simple, no? But what if you have to deal with the $query_string? The <a href="http://codex.wordpress.org/Function_Reference/query_posts#Usage_Note">$query_string</a> is that old variable that is built by WordPress. It comes from the &#8220;default&#8221; query for whatever page you happen to be on. One of the main uses for it was to deal with &#8220;paging&#8221;. A common method of doing it was like this:</p>
<pre class="brush: php; title: ; notranslate" title="">
query_posts($query_string . '&amp;cat=123&amp;author=456');
</pre>
<p>If you use arrays, you have to deal with that yourself a bit. There&#8217;s a couple of possible ways to do it. The easiest is probably to just parse the query string yourself, then modify the result as you see fit. For example:</p>
<pre class="brush: php; title: ; notranslate" title="">
$myquery = wp_parse_args($query_string);
$myquery['cat'] = 123;
$myquery['author'] = 456;
query_posts($myquery);
</pre>
<p>I started out with the $query_string, used wp_parse_args to turn it into an array, then overwrote the bits I wanted to change and performed the query. This is a handy technique I&#8217;m sure a lot of people will end up using.</p>
<h3>On to Advanced Taxonomies</h3>
<p>Advanced Taxonomy queries use a new parameter to the query functions called &#8220;tax_query&#8221;. The tax_query is an array of arrays, with each array describing what you want it to match on.</p>
<p>Let&#8217;s lead by example. We want to get everything in the category of &#8220;foo&#8221; AND a tag of &#8220;bar&#8221;. Here&#8217;s our query:</p>
<pre class="brush: php; title: ; notranslate" title="">
$myquery['tax_query'] = array(
	array(
		'taxonomy' =&gt; 'category',
		'terms' =&gt; array('foo'),
		'field' =&gt; 'slug',
	),
	array(
		'taxonomy' =&gt; 'post_tag',
		'terms' =&gt; array('bar'),
		'field' =&gt; 'slug',
	),
);
query_posts($myquery);
</pre>
<p>Here we&#8217;ve specified two arrays, each of which describes the taxonomy and terms we want to match it against. It&#8217;ll match against both of them, and only return the results where both are true.</p>
<p>There&#8217;s two things of note here:</p>
<p>First is that the &#8220;field&#8221; is the particular field we want to match. In this case, we have the slugs we want, so we used &#8220;slug&#8221;. You could also use &#8220;term_id&#8221; if you had the ID numbers of the terms you wanted.</p>
<p>Second is that the &#8220;terms&#8221; is an array in itself. It doesn&#8217;t actually have to be, for this case, as we only have one term in each, but I did it this way to illustrate that we can match against multiple terms for each taxonomy. If I used array(&#8216;bar1&#8242;,&#8217;bar2&#8242;) for the post_tag taxonomy, then I&#8217;d get anything with a category of foo AND a tag of bar1 OR bar2.</p>
<p>And that second item illustrates an important point as well. The matches here are actually done using the &#8220;IN&#8221; operator. So the result is always equivalent to an &#8220;include&#8221; when using multiple terms in a single taxonomy. We can actually change that to an &#8220;exclude&#8221;, however, using the &#8220;operator&#8221; parameter:</p>
<pre class="brush: php; title: ; notranslate" title="">
$myquery['tax_query'] = array(
	array(
		'taxonomy' =&gt; 'category',
		'terms' =&gt; array('foo', 'bar'),
		'field' =&gt; 'slug',
		'operator' =&gt; 'NOT IN',
	),
);
query_posts($myquery);
</pre>
<p>The above query will get any post that is NOT in either the &#8220;foo&#8221; or &#8220;bar&#8221; category.</p>
<p>But what about terms across multiple taxonomies? So far we&#8217;ve only seen those being AND&#8217;d together. Well, the &#8220;relation&#8221; parameter takes care of that:</p>
<pre class="brush: php; title: ; notranslate" title="">
$myquery['tax_query'] = array(
	'relation' =&gt; 'OR',
	array(
		'taxonomy' =&gt; 'category',
		'terms' =&gt; array('foo'),
		'field' =&gt; 'slug',
	),
	array(
		'taxonomy' =&gt; 'post_tag',
		'terms' =&gt; array('bar'),
		'field' =&gt; 'slug',
	),
);
query_posts($myquery);
</pre>
<p>This gets us anything with a category of foo OR a tag of bar. Note that the relation is global to the query, so it appears outside the arrays in the tax_query, but still in the tax_query array itself. For clarity, I recommend always putting it first.</p>
<h3>Useful Gallery Example</h3>
<p>By combining these in different ways, you can make complex queries. What&#8217;s more, you can use it with any taxonomy you like. Here&#8217;s one I recently used:</p>
<pre class="brush: php; title: ; notranslate" title="">
$galleryquery = wp_parse_args($query_string);
$galleryquery['tax_query'] = array(
	'relation' =&gt; 'OR',
	array(
		'taxonomy' =&gt; 'post_format',
		'terms' =&gt; array('post-format-gallery'),
		'field' =&gt; 'slug',
	),
	array(
		'taxonomy' =&gt; 'category',
		'terms' =&gt; array('gallery'),
		'field' =&gt; 'slug',
	),
);
query_posts($galleryquery);
</pre>
<p>This gets any posts in either the gallery category OR that have a gallery post-format. Handy for making a gallery page template. I used the wp_parse_args($query_string) trick to make it able to handle paging properly, among other things.</p>
<h3>Speed Concerns</h3>
<p>Advanced taxonomy queries are cool, but be aware that complex queries are going to be slower. Not much slower, since the code does attempt to do things smartly, but each taxonomy you add is the equivalent of adding a JOIN. While the relevant tables are indexed, joins are still slower than non-joins. So it won&#8217;t always be a good idea to build out highly complex queries.</p>
<p>Still, it&#8217;s better than rolling your own complicated code to get a lot of things you don&#8217;t need and then parsing them out yourself. A whole lot easier too.</p>
<div class="sharedaddy sd-block sd-social sd-gplus"><h3 class="sd-title">Google+</h3><div class="sd-content"><a href="https://plus.google.com/+SamuelOttoWood"><img src="https://lh5.googleusercontent.com/-sTIAD3oDYbs/AAAAAAAAAAI/AAAAAAAAGkQ/ZwW3H57HC8I/photo.jpg?sz=40" alt="Samuel “Otto” Wood" width="20" height="20" align="absmiddle" /> </a><a rel="author" href="https://plus.google.com/+SamuelOttoWood" class="gplus-profile">Samuel “Otto” Wood</a><span class="g-follow-wrapper"><span class="g-follow" data-href="https://plus.google.com/+SamuelOttoWood" data-rel="author" data-height="15"></span></span></div></div><div class='yarpp-related'>
<p class="yarpp">Related posts:</p><ol class="yarpp">
<li><a href="http://ottopress.com/2011/when-to-not-use-a-custom-taxonomy/" rel="bookmark" title="When to (not) use a Custom Taxonomy">When to (not) use a Custom Taxonomy </a></li>
<li><a href="http://ottopress.com/2010/wordpress-3-1-and-xml-rpc/" rel="bookmark" title="WordPress 3.1 and XML-RPC">WordPress 3.1 and XML-RPC </a></li>
<li><a href="http://ottopress.com/2011/how-the-postname-permalinks-in-wordpress-3-3-work/" rel="bookmark" title="How the Postname Permalinks in WordPress 3.3 Work">How the Postname Permalinks in WordPress 3.3 Work </a></li>
<li><a href="http://ottopress.com/2011/new-in-wordpress-3-3-more-useful-help-screens/" rel="bookmark" title="New in WordPress 3.3: More Useful Help Screens">New in WordPress 3.3: More Useful Help Screens </a></li>
<li><a href="http://ottopress.com/2010/wordpress-3-0-theme-tip-the-comment-form/" rel="bookmark" title="WordPress 3.0 Theme Tip: The Comment Form">WordPress 3.0 Theme Tip: The Comment Form </a></li>
</ol>
</div>
</div>
							</div>
<div><span class="post-shortlink">Shortlink: 
<input type='text' value='http://otto42.com/81' onclick='this.focus(); this.select();' />
</span></div>

			<div class="postmetadata">
				<div class="postmetadata">
					Tags: <a href="http://ottopress.com/tag/advanced/" rel="tag">advanced</a>, <a href="http://ottopress.com/tag/posts/" rel="tag">posts</a>, <a href="http://ottopress.com/tag/query/" rel="tag">query</a>, <a href="http://ottopress.com/tag/taxonomy/" rel="tag">taxonomy</a><br />					Category: <a href="http://ottopress.com/category/code/" title="View all posts in Code" rel="category tag">Code</a>, <a href="http://ottopress.com/category/wordpress/" title="View all posts in WordPress" rel="category tag">WordPress</a>					&nbsp;|&nbsp;&nbsp;<a href="#respond">Comment</a> (<a href='http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/feed/'>RSS</a>)					&nbsp;|&nbsp;&nbsp;<a href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/trackback/ " rel="trackback">Trackback</a>									 </div>
			</div>
    
		</div>
	<div id="comments">
	<h3>182 Comments </h3>
	<div class="navigation" style="clear:both">
		<div class="alignleft"><a href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-1/#comments" >&laquo; Older Comments</a></div>
		<div class="alignright"></div>
	</div>
	<div style="clear:both"></div>
	<ol class="commentlist">
		<li class="comment even thread-even depth-1 parent" id="comment-10021" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10021" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/35dc4e1789f9d16a41f512d674277018?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://darrinb.com' rel='external nofollow' class='url'>darrinb</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10021">
		<time itemprop="dateCreated" datetime="2011-10-25T13:18:22+00:00">October 25, 2011 at 1:18 pm</time></a>	</div>

	<div itemprop="text"><p>Is there a way to query for posts in either two taxonomy terms while also excluding from two categories?  By setting the &#8220;relation&#8221; to &#8220;OR&#8221; the query being returned is:<br />
<code><br />
WHERE 1=1<br />
AND ( wp_term_relationships.term_taxonomy_id IN (74) OR tt1.term_taxonomy_id IN (92) OR wp_posts.ID NOT IN (<br />
    SELECT object_id<br />
    FROM wp_term_relationships<br />
    WHERE term_taxonomy_id IN (36,37)<br />
) )<br />
</code></p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10021#respond' onclick='return addComment.moveForm("div-comment-10021", "10021", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment byuser comment-author-otto bypostauthor odd alt depth-2 parent" id="comment-10022" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10022" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/0994d5e2e158a24ba8017c2525d78263?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://ottodestruct.com' rel='external nofollow' class='url'>Otto</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10022">
		<time itemprop="dateCreated" datetime="2011-10-25T13:38:29+00:00">October 25, 2011 at 1:38 pm</time></a>	</div>

	<div itemprop="text"><p>So you want it to be in either of two tags, but not in either of two categories?</p>
<pre class="brush: php; title: ; notranslate" title="">

$myquery['tax_query'] = array(
	'relation' =&gt; 'AND',
	array(
		'taxonomy' =&gt; 'category',
		'terms' =&gt; array('cat1', 'cat2'),
		'field' =&gt; 'slug',
		'operator' =&gt; 'NOT IN',
	),
	array(
		'taxonomy' =&gt; 'post_tag',
		'terms' =&gt; array('tag1', 'tag2'),
		'field' =&gt; 'slug',
		'operator' =&gt; 'IN',
	),
);
</pre>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10022#respond' onclick='return addComment.moveForm("div-comment-10022", "10022", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment even depth-3 parent" id="comment-10023" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10023" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/35dc4e1789f9d16a41f512d674277018?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://darrinb.com' rel='external nofollow' class='url'>darrinb</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10023">
		<time itemprop="dateCreated" datetime="2011-10-25T13:43:27+00:00">October 25, 2011 at 1:43 pm</time></a>	</div>

	<div itemprop="text"><p>Wow, thanks for the fast response!</p>
<p>More along the lines of the:</p>
<pre class="brush: php; title: ; notranslate" title="">
$myquery['tax_query'] = array(
	'relation' =&gt; 'AND',
	array(
		'taxonomy' =&gt; 'category',
		'terms' =&gt; array('36', '37'),
		'field' =&gt; 'slug',
		'operator' =&gt; 'NOT IN',
	),
	array(
		'taxonomy' =&gt; 'department',
		'terms' =&gt; array('food-and-beverage'),
		'field' =&gt; 'slug',
		'operator' =&gt; 'IN',
	),
	array(
		'taxonomy' =&gt; 'topic',
		'terms' =&gt; array('best-practice'),
		'field' =&gt; 'slug',
		'operator' =&gt; 'IN',
	),	
);
</pre>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10023#respond' onclick='return addComment.moveForm("div-comment-10023", "10023", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment odd alt depth-4 parent" id="comment-10024" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10024" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/35dc4e1789f9d16a41f512d674277018?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://darrinb.com' rel='external nofollow' class='url'>darrinb</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10024">
		<time itemprop="dateCreated" datetime="2011-10-25T13:46:57+00:00">October 25, 2011 at 1:46 pm</time></a>	</div>

	<div itemprop="text"><p>Where it&#8217;s excluding all posts in either category, while including posts in either the &#8220;department&#8221; taxonomy with a term of &#8216;food and beverage&#8217; or the &#8220;topic&#8221; taxonomy with a term of &#8216;best practice&#8217;.</p>
<p>The category exclusion is being called globally on the <code>pre_get_posts</code> filter whereas the tax query is being applied on a page where a user has chosen these two (or more) terms from these two (or more) taxonomies.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10024#respond' onclick='return addComment.moveForm("div-comment-10024", "10024", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment byuser comment-author-otto bypostauthor even depth-5 parent" id="comment-10025" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10025" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/0994d5e2e158a24ba8017c2525d78263?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://ottodestruct.com' rel='external nofollow' class='url'>Otto</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10025">
		<time itemprop="dateCreated" datetime="2011-10-25T14:09:44+00:00">October 25, 2011 at 2:09 pm</time></a>	</div>

	<div itemprop="text"><p>No, that won&#8217;t work. What you&#8217;ve done here is to require the post to be in both the food-and-beverage department AND in the best-practice topic.</p>
<p>You can&#8217;t combine and&#8217;s and or&#8217;s like that. The query system doesn&#8217;t allow for queries that complex. All separate taxonomies must be a combined set of solely AND or solely OR. In individual taxonomies, the use of IN and NOT IN can be used to simulate different sets though.</p>
<p>In other words, you cannot use parentheses. There is no way to create a tax_query which says tax1=A AND (tax2=B OR tax3=C).</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10025#respond' onclick='return addComment.moveForm("div-comment-10025", "10025", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment odd alt depth-6" id="comment-10026" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10026" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/35dc4e1789f9d16a41f512d674277018?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://darrinb.com' rel='external nofollow' class='url'>darrinb</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10026">
		<time itemprop="dateCreated" datetime="2011-10-25T15:18:04+00:00">October 25, 2011 at 3:18 pm</time></a>	</div>

	<div itemprop="text"><p>I didn&#8217;t think it was possible.  I ended up using the <code>posts__not_in</code> param and adding the <code>ids</code> of posts in the two categories that need to be excluded.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10026#respond' onclick='return addComment.moveForm("div-comment-10026", "10026", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="pingback even thread-odd thread-alt depth-1" id="comment-10045" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10045" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
		<cite itemprop="name"><a itemprop='url' href='http://thereforei.am/2011/10/28/advanced-taxonomy-queries-with-pretty-urls/' rel='external nofollow' class='url'>Advanced Taxonomy Queries with Pretty URLs | i blog</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10045">
		<time itemprop="dateCreated" datetime="2011-10-27T20:33:32+00:00">October 27, 2011 at 8:33 pm</time></a>	</div>

	<div itemprop="text"><p>[...] The Codex has a good article that introduces taxonomy queries. Otto has also published a great tutorial to cover the fundamentals of running advanced taxonomy queries. [...]</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10045#respond' onclick='return addComment.moveForm("div-comment-10045", "10045", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1 parent" id="comment-10121" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10121" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/2a3f5bdeeedc622d7b798f6675e8b14d?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://plastik.me' rel='external nofollow' class='url'>Marc Thomas</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10121">
		<time itemprop="dateCreated" datetime="2011-11-08T11:23:23+00:00">November 8, 2011 at 11:23 am</time></a>	</div>

	<div itemprop="text"><p>Hey, </p>
<p>This is really helpful but I must be missing something. Codex confused me further. I&#8217;ve got this code: </p>
<pre class="brush: php; title: ; notranslate" title="">&lt;?php
	
	

// The Query
$the_query = new WP_Query( $args = array(
	'tax_query' =&gt; array(
		'relation' =&gt; 'OR',
		array(
			'taxonomy' =&gt; 'category',
			'field' =&gt; 'slug',
			'terms' =&gt; array( '1424' )
		),
		array(
			'taxonomy' =&gt; 'post_format',
			'field' =&gt; 'slug',
			'terms' =&gt; array( 'artist' )
		)
	)
);
$query = new WP_Query( $args );

// The Loop
while ( $the_query-&gt;have_posts() ) : $the_query-&gt;the_post();
	echo '&lt;li&gt;';
	the_title();
	echo '&lt;/li&gt;';
endwhile;

// Reset Post Data
wp_reset_postdata();

?&gt;	
</pre>
<p>I want to display all posts in the &#8216;Discography&#8217; category which match the Artist taxonomy. You can see an example of what I mean here: <a href="http://plastik.me/artist/summer-camp-2/" rel="nofollow">http://plastik.me/artist/summer-camp-2/</a></p>
<p>So far I&#8217;ve managed to display posts in the discography category, but the second &#8216;Albums by this artist&#8217; link doesn&#8217;t belong to that Artist. </p>
<p>I&#8217;ve probably made some simple error but all of the queries I&#8217;ve tried thus far have caused fatal errors. </p>
<p>Any ideas?<br />
Thanks in advance.<br />
Marc</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10121#respond' onclick='return addComment.moveForm("div-comment-10121", "10121", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment even depth-2" id="comment-10754" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10754" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/14f1821194a56b9e0013e7cc32772ea3?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='https://plus.google.com/117825005897918463751' rel='external nofollow' class='url'>Syed Shah</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10754">
		<time itemprop="dateCreated" datetime="2012-05-02T08:32:19+00:00">May 2, 2012 at 8:32 am</time></a>	</div>

	<div itemprop="text"><p>Hi Mark,</p>
<p>You are passing category ids&#8217; but field set to slug it should be id.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10754#respond' onclick='return addComment.moveForm("div-comment-10754", "10754", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="pingback odd alt thread-odd thread-alt depth-1" id="comment-10126" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10126" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
		<cite itemprop="name"><a itemprop='url' href='http://web.vniup.com/index.php/wordpress/how-to-build-a-multi-taxonomy-multi-term-query-based-on-user-input.html' rel='external nofollow' class='url'>How to build a multi-taxonomy, multi-term query based on user input | web technical support</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10126">
		<time itemprop="dateCreated" datetime="2011-11-10T05:18:56+00:00">November 10, 2011 at 5:18 am</time></a>	</div>

	<div itemprop="text"><p>[...] to Otto&#8216;s excellent post on advanced taxonomy queries, I (mostly) understand how to create multi-taxonomy and multi-term queries. However, what I [...]</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10126#respond' onclick='return addComment.moveForm("div-comment-10126", "10126", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="comment-10140" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10140" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/d676f3728384b7f0ad416c4e9317fc6c?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://www.facebook.com/profile.php?id=121400179' rel='external nofollow' class='url'>Luke DeWitt</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10140">
		<time itemprop="dateCreated" datetime="2011-11-14T10:15:45+00:00">November 14, 2011 at 10:15 am</time></a>	</div>

	<div itemprop="text"><p>Hi Otto,</p>
<p>Currently, I have a site where I have added a custom meta field to my &#8220;Categories&#8221; tag, to display whether or not this category should be a &#8220;featured&#8221; category on the homepage. I have the meta saving properly, but I am having a lot of trouble coming up with a query to grab all of my &#8220;featured&#8221; categories. Surely, I could write a simple &#8220;SELECT FROM&#8221; type of query, but I&#8217;m trying to avoid things like this (on principle alone, I feel what I&#8217;m trying to do should be very possible).</p>
<p>Do you have any hints you may be able to help me out with?</p>
<p>Thanks,</p>
<p>&#8211;d</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10140#respond' onclick='return addComment.moveForm("div-comment-10140", "10140", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-10212" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10212" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/a58f31f33f9180e183a8bf1c8156c0dd?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='https://plus.google.com/111260472064285493607' rel='external nofollow' class='url'>Mikkel Breum</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10212">
		<time itemprop="dateCreated" datetime="2011-12-01T06:15:44+00:00">December 1, 2011 at 6:15 am</time></a>	</div>

	<div itemprop="text"><p>I want to get all posts that matches ALL the given terms (by term id) in a custom taxonomy, but I can&#8217;t get it to work.</p>
<p>If I set he operator to IN it returns all posts that matches ANY of the terms 8as expected), but if I set it to AND I can&#8217;t get it to return any posts (not even if I only give one term to match.</p>
<p>what&#8217;s wrong with this code?:</p>
<p><code><br />
'tax_query' =&gt; array(<br />
    array(<br />
      'taxonomy'	=&gt; 'movies',<br />
      'field'		=&gt; 'id',<br />
      'terms'		=&gt; array(65,67),<br />
      'operator' =&gt;  'AND'<br />
    )<br />
 )<br />
</code></p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10212#respond' onclick='return addComment.moveForm("div-comment-10212", "10212", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 parent" id="comment-10213" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10213" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/a58f31f33f9180e183a8bf1c8156c0dd?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='https://plus.google.com/111260472064285493607' rel='external nofollow' class='url'>Mikkel Breum</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10213">
		<time itemprop="dateCreated" datetime="2011-12-01T06:18:32+00:00">December 1, 2011 at 6:18 am</time></a>	</div>

	<div itemprop="text"><p>I want to get all posts that matches ALL the given terms (by term id) in a custom taxonomy, but I can’t get it to work.</p>
<p>If I set he operator to IN it returns all posts that matches ANY of the terms (as expected), but if I set it to AND I can’t get it to return any posts (not even if I only give one term to match.</p>
<p>what’s wrong with this code?:</p>
<pre class="brush: php; title: ; notranslate" title="">
'tax_query' =&gt; array(
  array(
    'taxonomy'	=&gt; 'movies',
    'field'	 =&gt; 'id',
    'terms'	 =&gt; array(65,67),
    'operator' =&gt; 'AND'
  )
)
</pre>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10213#respond' onclick='return addComment.moveForm("div-comment-10213", "10213", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment odd alt depth-2" id="comment-11937" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11937" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/573ac69a7840213ea66229492828e4e8?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://bikramkaji.com.np' rel='external nofollow' class='url'>Bikram</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11937">
		<time itemprop="dateCreated" datetime="2013-07-26T23:39:48+00:00">July 26, 2013 at 11:39 pm</time></a>	</div>

	<div itemprop="text"><p>i placed &#8220;term_id&#8221; in place of &#8220;id&#8221; and it worked for me. i.e<br />
<code><br />
'tax_query' =&gt; array(<br />
  array(<br />
    'taxonomy'  =&gt; 'movies',<br />
    'field'  =&gt; 'term_id',<br />
    'terms'  =&gt; array(65,67),<br />
    'operator' =&gt; 'AND'<br />
  )<br />
)</code><br />
And thanks for your post it helped me to checks multiple condition.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11937#respond' onclick='return addComment.moveForm("div-comment-11937", "11937", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="pingback even thread-odd thread-alt depth-1" id="comment-10215" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10215" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
		<cite itemprop="name"><a itemprop='url' href='http://tweets.dsgnwrks.pro/2010/12/now-nacin-is-talking-about-ne/' rel='external nofollow' class='url'>Now @nacin is talking about ne&#8230; | DesignWorks Tweets</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10215">
		<time itemprop="dateCreated" datetime="2011-12-01T16:50:52+00:00">December 1, 2011 at 4:50 pm</time></a>	</div>

	<div itemprop="text"><p>[...] Now @nacin is talking about new taxonomy queries: <a href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/" rel="nofollow">http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/</a> [...]</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10215#respond' onclick='return addComment.moveForm("div-comment-10215", "10215", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="comment-10216" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10216" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/a58f31f33f9180e183a8bf1c8156c0dd?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='https://plus.google.com/111260472064285493607' rel='external nofollow' class='url'>Mikkel Breum</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10216">
		<time itemprop="dateCreated" datetime="2011-12-02T02:40:06+00:00">December 2, 2011 at 2:40 am</time></a>	</div>

	<div itemprop="text"><p>I have it working using the relation parameter like this:</p>
<pre class="brush: php; title: ; notranslate" title="">
'tax_query' =&gt; array(

  'relation' =&gt; 'AND',

  array(
    'taxonomy'	=&gt; 'movies',
    'field'	 =&gt; 'id',
    'terms'	 =&gt; array(65)
  ),

  array(
    'taxonomy'	=&gt; 'movies',
    'field'	 =&gt; 'id',
    'terms'	 =&gt; array(67)
  )

)
</pre>
<p>But how is the &#8216;operator&#8217; parameter supposed to work?</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10216#respond' onclick='return addComment.moveForm("div-comment-10216", "10216", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="pingback even thread-odd thread-alt depth-1" id="comment-10242" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10242" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
		<cite itemprop="name"><a itemprop='url' href='http://www.qandasystem.info/wordpress/passing-form-inputs-into-multi-taxonomy-query/' rel='external nofollow' class='url'>Passing form inputs into multi-taxonomy query | Q&amp;A System</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10242">
		<time itemprop="dateCreated" datetime="2011-12-09T04:29:29+00:00">December 9, 2011 at 4:29 am</time></a>	</div>

	<div itemprop="text"><p>[...] have a pretty good understanding of the query function, thanks to the posts by Otto and Scribu. The problem is I&#8217;m struggling to figure out how to pass the variables in via a [...]</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10242#respond' onclick='return addComment.moveForm("div-comment-10242", "10242", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="pingback odd alt thread-even depth-1" id="comment-10276" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10276" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
		<cite itemprop="name"><a itemprop='url' href='http://seojeek.com/blog/2011/12/16/advanced-taxonomy-queries/' rel='external nofollow' class='url'>Advanced Taxonomy Queries &raquo; seojeek</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10276">
		<time itemprop="dateCreated" datetime="2011-12-16T09:07:11+00:00">December 16, 2011 at 9:07 am</time></a>	</div>

	<div itemprop="text"><p>[...] Notes from Otto on WP: [...]</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10276#respond' onclick='return addComment.moveForm("div-comment-10276", "10276", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="comment-10279" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10279" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/3d7257483a77db85ca8920a66ebad5e9?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://blog.bmarwell.de/' rel='external nofollow' class='url'>Ben</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10279">
		<time itemprop="dateCreated" datetime="2011-12-16T11:39:59+00:00">December 16, 2011 at 11:39 am</time></a>	</div>

	<div itemprop="text"><p>okay, something slightly more complicated.</p>
<p>In my feed I&#8217;d like to have:<br />
1.) All posts in category &#8220;planet-site&#8221;<br />
2.) All posts with tags (&#8216;linux&#8217; AND &#8216;ubuntu&#8217;)<br />
3.) All posts with tags (&#8216;linux&#8217; AND &#8216;coding&#8217;)<br />
4.) All posts with tags (&#8216;ubuntu&#8217; AND &#8216;coding&#8217;)<br />
etc.…</p>
<p>Any ideas how to accomplish this? Thanks in advance!</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10279#respond' onclick='return addComment.moveForm("div-comment-10279", "10279", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="comment-10280" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10280" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/bd1b0c0fd53cf1879636a1ae3c8ae013?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://caseyfriday.com' rel='external nofollow' class='url'>Casey Friday</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10280">
		<time itemprop="dateCreated" datetime="2011-12-17T14:12:40+00:00">December 17, 2011 at 2:12 pm</time></a>	</div>

	<div itemprop="text"><p>Worked absolutely beautifully for me.  Very well written and easily understandable.  I was able to perform a search with three taxonomy criteria in play, and I didn&#8217;t have to edit a thing.</p>
<p>The only mistake I made was typing my taxonomy in singular, when it should have been in plural form.  My own bad!</p>
<p>Thanks a million for this!</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10280#respond' onclick='return addComment.moveForm("div-comment-10280", "10280", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1 parent" id="comment-10291" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10291" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/c69513a092b95babdf1421378047307e?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://www.spreadgrace.com.sg' rel='external nofollow' class='url'>Leonard Li</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10291">
		<time itemprop="dateCreated" datetime="2011-12-19T07:48:19+00:00">December 19, 2011 at 7:48 am</time></a>	</div>

	<div itemprop="text"><p>Thank you very much for a very useful post. By the way I find myself stuck in another situation that&#8217;s not mentioned in this post.<br />
Consider that I have a taxonomy called &#8220;author&#8221; with about 8 post type called &#8220;post-type-1&#8243;, &#8220;post-type-2&#8243;, &#8230; &#8220;post-type-8&#8243;.<br />
I&#8217;m using this code to get all the posts from the taxonomy &#8220;author&#8221;:</p>
<p>$args = array(&#8216;post_type&#8217; =&gt; array(&#8216;post-type-1&#8242;,&#8217;post-type-2&#8242;,&#8217;post-type-3&#8242;,&#8217;post-type-4&#8242;,&#8217;post-type-5&#8242;,&#8217;post-type-6&#8242;,&#8217;post-type-7&#8242;,&#8217;post-type-8&#8242;));<br />
$news = new WP_Query($args);</p>
<p>Of course my code works perfectly, but I find it very stupid from calling all the post-type in the same taxonomy at once. I&#8217;m looking for a better way of calling posts in a designated taxonomy (except the default &#8220;category&#8221;). Can any help me on this? Thank you.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10291#respond' onclick='return addComment.moveForm("div-comment-10291", "10291", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment odd alt depth-2" id="comment-10579" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10579" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/d1c0c22eb9004b76970776ba46b197ad?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://www.facebook.com/profile.php?id=757605385' rel='external nofollow' class='url'>Brad Trivers</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10579">
		<time itemprop="dateCreated" datetime="2012-02-28T07:00:19+00:00">February 28, 2012 at 7:00 am</time></a>	</div>

	<div itemprop="text"><p>Hmmm &#8211; the following query returns posts for all post types for me:</p>
<p>query_posts(&#8220;taxonomy=my_custom_taxonomy&#8221;);</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10579#respond' onclick='return addComment.moveForm("div-comment-10579", "10579", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="pingback even thread-even depth-1" id="comment-10354" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10354" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
		<cite itemprop="name"><a itemprop='url' href='http://maisonbisson.com/blog/post/16074/better-taxonomy-query-syntax/' rel='external nofollow' class='url'>How WordPress Taxonomy Queries Could Be More Awesomer | MaisonBisson.com</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10354">
		<time itemprop="dateCreated" datetime="2011-12-31T02:10:34+00:00">December 31, 2011 at 2:10 am</time></a>	</div>

	<div itemprop="text"><p>[...] 3.1 introduced some awesome new taxonomy query features, and the URL parsing allows some rudimentary syntax to query multiple terms and choose if the query [...]</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10354#respond' onclick='return addComment.moveForm("div-comment-10354", "10354", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-10413" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10413" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/06c2eec18ebfce35272d88249c0260d2?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://wildsession.fr' rel='external nofollow' class='url'>Marion</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10413">
		<time itemprop="dateCreated" datetime="2012-01-11T17:17:16+00:00">January 11, 2012 at 5:17 pm</time></a>	</div>

	<div itemprop="text"><p>Thank you very much for your post. I&#8217;m just beginning with WordPress so i have maybe a stupid question :<br />
I understood everything to get all posts of a term from a taxonomy. But how can i do, to get only the last one of it and not all posts ? (This post will be shown on the home)<br />
I&#8217;ve got this : </p>
<pre class="brush: php; title: ; notranslate" title="">&lt;?php 
				$myquery['tax_query'] = array(
   				 array(
			  'taxonomy' =&gt; 'types',
      		  'terms' =&gt; array('must-see'),
			  'field' =&gt; 'slug',
			  'showposts' =&gt; 1,
				),
				);
				query_posts($myquery);
while ( have_posts() ) : the_post(); ?&gt; </pre>
<p>I tried with &#8220;showposts&#8221; but it doesn&#8217;t work.<br />
And my last question is the same kind of thing. How should i write to have the same result than &#8220;showposts=3&amp;offset=1&#8243; ?</p>
<p>I hope my english is ok sorry <img src="http://ottopress.com/wp-content/plugins/classic-smilies/img/icon_smile.gif" alt=":)" class="wp-smiley" /> </p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10413#respond' onclick='return addComment.moveForm("div-comment-10413", "10413", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="comment-10428" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10428" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/58b9030d47f39898ecbf3aea001a2c39?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://www.tienvooracht.nl' rel='external nofollow' class='url'>Derk</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10428">
		<time itemprop="dateCreated" datetime="2012-01-18T02:03:50+00:00">January 18, 2012 at 2:03 am</time></a>	</div>

	<div itemprop="text"><p>Great article, helped me out a lot!</p>
<p>Question though:</p>
<p>Ive created a custom post type and managed to generate a list of two custom taxonomie + the terms with checkboxes (to create a sort of filter).<br />
When checked and submitted the browsers url looks something like ?taxonomie=term&amp;taxonomie2=term1&amp;taxonomie2=term2</p>
<p>Any idea how i can generate a dynamic query_post based upon this?<br />
Ive done it before with normal posts + tags, but never with custom posttypes + taxonomies + terms!</p>
<p>Any help would be apriciated!</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10428#respond' onclick='return addComment.moveForm("div-comment-10428", "10428", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-10468" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10468" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/d89a60edf623078f82d13ad04c42a6ca?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">maar</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10468">
		<time itemprop="dateCreated" datetime="2012-01-29T21:25:57+00:00">January 29, 2012 at 9:25 pm</time></a>	</div>

	<div itemprop="text"><p>i use the code above to exclude one term from a custom taxonomy (with a NOT IN operator) but than my pagination doesn&#8217;t work, it shows me always the same posts on every page&#8230; how can i fix that? thanks very much</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10468#respond' onclick='return addComment.moveForm("div-comment-10468", "10468", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="comment-10469" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10469" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/d89a60edf623078f82d13ad04c42a6ca?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">maar</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10469">
		<time itemprop="dateCreated" datetime="2012-01-29T21:47:15+00:00">January 29, 2012 at 9:47 pm</time></a>	</div>

	<div itemprop="text"><p>&#8230;&#8230;&#8230;i have one custom post type &#8216;mag_article&#8217;(magazine) and 2 custom taxonomies (mag_article_category and mag_column), with several terms per each taxonomy. what i am trying is to show on the homepage 20 articles from both taxonomies except those who have the term (&#8216;travelogues&#8217;) under the mag_article_category.. the code above works fine but the pagination doesn&#8217;t. thanks again.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10469#respond' onclick='return addComment.moveForm("div-comment-10469", "10469", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-10581" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10581" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/8adf40d2c9b9074df0f407588af1ff74?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">David</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10581">
		<time itemprop="dateCreated" datetime="2012-02-28T15:27:52+00:00">February 28, 2012 at 3:27 pm</time></a>	</div>

	<div itemprop="text"><p>Very useful post, thanks. I have a quick question, if you wouldn&#8217;t mind &#8211; I&#8217;m a designer more than a programmer, so I&#8217;m trying to work this out.</p>
<p> I have a custom post type (artists), with 2 taxonomies &#8211; countries and years. If I set up a taxonomy-countries.php template, it&#8217;ll return all the entries for the country selected in the URL. Can I add a query to this template to show only the results that are also match a particular year in the years taxonomy?</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10581#respond' onclick='return addComment.moveForm("div-comment-10581", "10581", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="pingback even thread-even depth-1" id="comment-10613" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10613" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
		<cite itemprop="name"><a itemprop='url' href='http://wpsmith.net/2011/custom-post-types/understanding-custom-post-types-custom-post-types-and-custom-taxonomies/' rel='external nofollow' class='url'>WPSmith | Custom Post Types and Custom Taxonomies</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10613">
		<time itemprop="dateCreated" datetime="2012-03-02T10:31:29+00:00">March 2, 2012 at 10:31 am</time></a>	</div>

	<div itemprop="text"><p>[...] Otto does a great job of explaining some of the additions to the taxonomy system in WordPress 3.1. I’ve been using this article as a reference for the past few days. &#8230; View this Bookmark [...]</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10613#respond' onclick='return addComment.moveForm("div-comment-10613", "10613", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 parent" id="comment-10646" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10646" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/cc22b6d0ce75926999a7b158d016025e?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">Gregory</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10646">
		<time itemprop="dateCreated" datetime="2012-03-14T04:51:44+00:00">March 14, 2012 at 4:51 am</time></a>	</div>

	<div itemprop="text"><p>hello Otto.</p>
<p>is this code from your Useful Gallery Example correct?</p>
<pre class="brush: php; title: ; notranslate" title="">
$galleryquery['tax_query'] = array(
    'tax_query' =&gt; array(
        'relation' =&gt; 'OR',
</pre>
<p>I would have expected:</p>
<pre class="brush: php; title: ; notranslate" title="">
$galleryquery['tax_query'] = array(
        'relation' =&gt; 'OR',
</pre>
<p>cheers,<br />
Gregory</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10646#respond' onclick='return addComment.moveForm("div-comment-10646", "10646", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment byuser comment-author-otto bypostauthor even depth-2 parent" id="comment-10650" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10650" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/0994d5e2e158a24ba8017c2525d78263?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://ottodestruct.com' rel='external nofollow' class='url'>Otto</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10650">
		<time itemprop="dateCreated" datetime="2012-03-14T07:24:19+00:00">March 14, 2012 at 7:24 am</time></a>	</div>

	<div itemprop="text"><p>Edit: My bad. The examples are NOW correct as given. Fixed. <img src="http://ottopress.com/wp-content/plugins/classic-smilies/img/icon_smile.gif" alt=":)" class="wp-smiley" /> </p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10650#respond' onclick='return addComment.moveForm("div-comment-10650", "10650", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment odd alt depth-3" id="comment-10652" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10652" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/cc22b6d0ce75926999a7b158d016025e?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">Gregory</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10652">
		<time itemprop="dateCreated" datetime="2012-03-14T08:13:11+00:00">March 14, 2012 at 8:13 am</time></a>	</div>

	<div itemprop="text"><p>Otto, cool. thanks for that. lots to learn.</p>
<p>so the tax_query array can be combined with other associative array items in a query array. I wonder if conflicts could be created if search criteria existed both within the tax_query and within the query array itself. I&#8217;ll have to play around and see what happens.</p>
<p>thanks again. GREAT article!</p>
<p>cheers,<br />
Gregory</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10652#respond' onclick='return addComment.moveForm("div-comment-10652", "10652", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment even depth-3 parent" id="comment-10653" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10653" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/cc22b6d0ce75926999a7b158d016025e?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">Gregory</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10653">
		<time itemprop="dateCreated" datetime="2012-03-14T08:19:47+00:00">March 14, 2012 at 8:19 am</time></a>	</div>

	<div itemprop="text"><p>hi again. sorry. I&#8217;m not very familiar with this and it&#8217;s confusing me.</p>
<p>why are the following two examples different?</p>
<pre class="brush: php; title: ; notranslate" title="">
$myquery['tax_query'] = array(
    'relation' =&gt; 'OR',
</pre>
<pre class="brush: php; title: ; notranslate" title="">
$galleryquery['tax_query'] = array(
    'tax_query' =&gt; array(
        'relation' =&gt; 'OR',
</pre>
<p>cheers,<br />
Gregory</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10653#respond' onclick='return addComment.moveForm("div-comment-10653", "10653", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment byuser comment-author-otto bypostauthor odd alt depth-4 parent" id="comment-10654" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10654" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/0994d5e2e158a24ba8017c2525d78263?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://ottodestruct.com' rel='external nofollow' class='url'>Otto</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10654">
		<time itemprop="dateCreated" datetime="2012-03-14T09:00:42+00:00">March 14, 2012 at 9:00 am</time></a>	</div>

	<div itemprop="text"><p>My mistake, I misread the original question.</p>
<p>You&#8217;re correct, there is an extra taxquery bit there that doesn&#8217;t need to be there. I&#8217;ll correct the post.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10654#respond' onclick='return addComment.moveForm("div-comment-10654", "10654", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment even depth-5 parent" id="comment-10655" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10655" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/cc22b6d0ce75926999a7b158d016025e?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">Gregory</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10655">
		<time itemprop="dateCreated" datetime="2012-03-14T09:47:59+00:00">March 14, 2012 at 9:47 am</time></a>	</div>

	<div itemprop="text"><p>$galleryquery line #14. there&#8217;s an extra closing ) there.</p>
<p>and since my comments no longer bring anything to the table, please delete them <img src="http://ottopress.com/wp-content/plugins/classic-smilies/img/icon_smile.gif" alt=":-)" class="wp-smiley" /> </p>
<p>cheers,<br />
Gregory</p>
<p>p.s. what are you using for &#8216;Notify me&#8217; functionality?</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10655#respond' onclick='return addComment.moveForm("div-comment-10655", "10655", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment byuser comment-author-otto bypostauthor odd alt depth-6" id="comment-10656" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10656" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/0994d5e2e158a24ba8017c2525d78263?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://ottodestruct.com' rel='external nofollow' class='url'>Otto</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10656">
		<time itemprop="dateCreated" datetime="2012-03-14T09:51:00+00:00">March 14, 2012 at 9:51 am</time></a>	</div>

	<div itemprop="text"><p>I use the Subscriptions functionality in the Jetpack plugin.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10656#respond' onclick='return addComment.moveForm("div-comment-10656", "10656", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 parent" id="comment-10647" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10647" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/0fa3e5ac33cd6d38d7fde8479a3dbcd8?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://www.babyuniverse.com.au' rel='external nofollow' class='url'>Richard</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10647">
		<time itemprop="dateCreated" datetime="2012-03-14T05:45:25+00:00">March 14, 2012 at 5:45 am</time></a>	</div>

	<div itemprop="text"><p>Hi,</p>
<p>I have a site with Taxonomy for State (Eg Victoria, Qeensland ETC) this taxonomy is called listing_state.</p>
<p>I also have a taxonomy called membership_type which can be Free Member or Paid &lt;e,ber. These 2 taxconomies are for a post type called listings</p>
<p>If I click on the link for Queensland it brings the results as expected sorted by post date using taxonomy-listing_state.php template. How would I sort the list so the Paid Memberships show before the Free memberships.</p>
<p>I am using Genesis and Lifestyle theme</p>
<p>Thanks Richard</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10647#respond' onclick='return addComment.moveForm("div-comment-10647", "10647", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment odd alt depth-2" id="comment-10649" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10649" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/cc22b6d0ce75926999a7b158d016025e?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">Gregory</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10649">
		<time itemprop="dateCreated" datetime="2012-03-14T06:48:11+00:00">March 14, 2012 at 6:48 am</time></a>	</div>

	<div itemprop="text"><p>don&#8217;t know if this helps:</p>
<blockquote cite="http://codex.wordpress.org/Class_Reference/WP_Query#Order_.26_Orderby_Parameters"><p>
<b> Multiple &#8216;orderby&#8217; values</b><br />
Display pages ordered by &#8216;title&#8217; and &#8216;menu_order&#8217;. (title is dominant):</p>
<pre class="brush: php; title: ; notranslate" title="">
$query = new WP_Query( array( 'post_type' =&gt; 'page', 'orderby' =&gt; 'title menu_order', 'order' =&gt; 'ASC' ) );
</pre>
</blockquote>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10649#respond' onclick='return addComment.moveForm("div-comment-10649", "10649", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1 parent" id="comment-10671" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10671" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/404fd76e7fceebe4ba747bf8f28eb15d?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://genius-loci.it' rel='external nofollow' class='url'>Andrea Vischi</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10671">
		<time itemprop="dateCreated" datetime="2012-03-17T13:38:42+00:00">March 17, 2012 at 1:38 pm</time></a>	</div>

	<div itemprop="text"><p>This query don&#8217;t work correctly regardless documentation o tax_query described.<br />
I think that don&#8217;t work the IN operator in tour-scenery. It consider the two values concatenated by the AND.<br />
 operator.</p>
<p>I want all posts of walking-hiking category AND small-groups type AND (italys-coasts-and-islands OR divine-countryside) scenery.</p>
<p>[tax_query] =&gt; Array<br />
        (<br />
            [relation] =&gt; AND<br />
            [0] =&gt; Array<br />
                (<br />
                    [taxonomy] =&gt; category<br />
                    [field] =&gt; slug<br />
                    [terms] =&gt; Array<br />
                        (<br />
                            [0] =&gt; walking-hiking<br />
                        )</p>
<p>                    [operator] =&gt; IN<br />
                )</p>
<p>            [1] =&gt; Array<br />
                (<br />
                    [taxonomy] =&gt; tour-type<br />
                    [field] =&gt; slug<br />
                    [terms] =&gt; Array<br />
                        (<br />
                            [0] =&gt; small-groups<br />
                        )</p>
<p>                    [operator] =&gt; IN<br />
                )</p>
<p>            [2] =&gt; Array<br />
                (<br />
                    [taxonomy] =&gt; tour-scenery<br />
                    [field] =&gt; slug<br />
                    [terms] =&gt; Array<br />
                        (<br />
                            [0] =&gt; italys-coasts-and-islands,divine-countryside<br />
                        )</p>
<p>                    [operator] =&gt; IN<br />
                )</p>
<p>        )</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10671#respond' onclick='return addComment.moveForm("div-comment-10671", "10671", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment odd alt depth-2" id="comment-10672" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10672" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/cc22b6d0ce75926999a7b158d016025e?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">Gregory</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10672">
		<time itemprop="dateCreated" datetime="2012-03-17T20:31:13+00:00">March 17, 2012 at 8:31 pm</time></a>	</div>

	<div itemprop="text"><p>I know very little about wp and php, but shouldn&#8217;t the AND/IN relation/operators in your code be strings?</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10672#respond' onclick='return addComment.moveForm("div-comment-10672", "10672", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment byuser comment-author-otto bypostauthor even depth-2 parent" id="comment-10673" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10673" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/0994d5e2e158a24ba8017c2525d78263?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://ottodestruct.com' rel='external nofollow' class='url'>Otto</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10673">
		<time itemprop="dateCreated" datetime="2012-03-17T22:53:15+00:00">March 17, 2012 at 10:53 pm</time></a>	</div>

	<div itemprop="text"><p>Your tour-scenery part is wrong. Those terms should be an array of two items, instead you have both terms as a single string separated by a comma. That&#8217;s why you are getting incorrect results.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10673#respond' onclick='return addComment.moveForm("div-comment-10673", "10673", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment odd alt depth-3" id="comment-10676" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10676" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/404fd76e7fceebe4ba747bf8f28eb15d?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">Andrea Vischi</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10676">
		<time itemprop="dateCreated" datetime="2012-03-18T04:36:46+00:00">March 18, 2012 at 4:36 am</time></a>	</div>

	<div itemprop="text"><p>Thank you so much. I watched and covered the code so many times and I have not seen this gross error. I have mixed syntax tax_query with the result of print_r.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10676#respond' onclick='return addComment.moveForm("div-comment-10676", "10676", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="pingback even thread-even depth-1" id="comment-10701" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10701" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
		<cite itemprop="name"><a itemprop='url' href='http://designpx.com/news/new-3-1-features/' rel='external nofollow' class='url'>Exciting New WordPress 3.1 Features</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10701">
		<time itemprop="dateCreated" datetime="2012-03-29T14:47:20+00:00">March 29, 2012 at 2:47 pm</time></a>	</div>

	<div itemprop="text"><p>[...] OR that have the &#8220;images&#8221; post format. Very powerful, very cool.Read more: Otto on WordPress, WordPress Codex.Super Admin Network DashboardIf you use WordPress Multisite you will see a new [...]</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10701#respond' onclick='return addComment.moveForm("div-comment-10701", "10701", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-10704" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10704" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/6bbdb6c5b85226961ca41f9572aaeabd?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://importantcoupon.com/' rel='external nofollow' class='url'>Important Coupon</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10704">
		<time itemprop="dateCreated" datetime="2012-03-31T19:01:00+00:00">March 31, 2012 at 7:01 pm</time></a>	</div>

	<div itemprop="text"><p>Hi Otto,</p>
<p>I&#8217;m running coupon site on WordPress. I&#8217;m posting different offers link in taxonomy named &#8216;store&#8217;. I want to show most recent post of each taxonomy named &#8216;store&#8217; on my homepage. I tried my best to build that query but could not succeeded.</p>
<p>Kindly guide me how do i build this query for my site.</p>
<p>My website url is <a href="http://importantcoupon.com/" rel="nofollow">http://importantcoupon.com/</a></p>
<p>Thanks for your kind help.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10704#respond' onclick='return addComment.moveForm("div-comment-10704", "10704", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="comment-10710" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10710" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/4f7dbd6f90e404e5d09fcd5fb75cb945?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">Haluk Karamete</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10710">
		<time itemprop="dateCreated" datetime="2012-04-04T12:06:27+00:00">April 4, 2012 at 12:06 pm</time></a>	</div>

	<div itemprop="text"><p>Hi Otto,</p>
<p>You ended up with a note on &#8220;Speed Concerns&#8221; where you say &#8220;complex queries are going to be slower. &#8230;. each taxonomy you add is the equivalent of adding a JOIN. While the relevant tables are indexed, joins are still slower than non-joins. So it won’t always be a good idea to build out highly complex queries.&#8221;</p>
<p>That confuses the hell out of me. </p>
<p>What do you mean by a complex query? Everything is relative right? Here, I got no guide. Maybe this question clear it up a little. </p>
<p>Look, I can have one taxonomy called &#8220;category&#8221;, ( the built in category taxonomy that comes with wp ), and have 3 top level elements in there as &#8220;media&#8221;, &#8220;audience&#8221;, and &#8220;featured&#8221;. Under the &#8220;media&#8221;, I can have &#8220;videos&#8221;, &#8220;audios&#8221;, &#8220;photos&#8221; and under the &#8220;audience&#8221;, I can have &#8220;for beginners&#8221;, &#8220;for intermediates&#8221;, &#8220;for advanced&#8221; and under the &#8220;FEATURED&#8221;, I can have &#8220;main_headlines&#8221;, &#8220;must_see&#8221;, &#8220;worth_a_look&#8221;. All that under one taxonomy, that is the &#8220;category&#8221; taxonomy. With this I can do efficient queries like &#8220;give me all videos for beginners that are featured as must_see and the tag is php&#8221;. that&#8217;s one way to do it. </p>
<p>now, let&#8217;s put this into perspective&#8230;</p>
<p>I can implement the same site with 3 taxonomies. ( Don&#8217;t just say, why cause there are merits in doing so. ) </p>
<p>Yes, I can have three custom taxonomies that are &#8220;media&#8221;, &#8220;audience&#8221;, and &#8220;featured&#8221; and I totally ignore the built-in category taxonomy. With this in mind, I can implement a site just like that. The same query above, would this time result crossing 3 custom taxonomies plus the tag taxonomy. Now we are talking 4 joins right? </p>
<p>As to why would I want to go with the 3 custom taxonomy or what the merit is?  Well, you definitely get a much better UI in the admin dashboard when classifying your posts. Each taxonomy has its own little island so to speak so you find things more clearly.  In the single join approach, you have to sift thru lots of category terms and this will be a problem as your category list continue to grow. </p>
<p>Now you tell me what&#8217;s a complex query? Is the 4 join considered enough complex so we live with the long category box? Or is it really not big of a deal therefore it should be implemented as such? Ofcourse, for a site that does not have must traffic, WHO CARES? The question is being asked for a site that need to serve 100K page views per day on a $10,000 budget server. Now, What do you do here?</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10710#respond' onclick='return addComment.moveForm("div-comment-10710", "10710", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="pingback odd alt thread-odd thread-alt depth-1" id="comment-10838" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-10838" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
		<cite itemprop="name"><a itemprop='url' href='http://itsonlybarney.com/updated-website/' rel='external nofollow' class='url'>Updated Website - Itsonlybarney</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-10838">
		<time itemprop="dateCreated" datetime="2012-05-15T08:27:36+00:00">May 15, 2012 at 8:27 am</time></a>	</div>

	<div itemprop="text"><p>[...] aware I use Genesis here on Itsonlybarney.com and I added the necessary code based on Otto&#8216;s example code to exclude the Link post format from the loop here on the [...]</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=10838#respond' onclick='return addComment.moveForm("div-comment-10838", "10838", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="pingback even thread-even depth-1" id="comment-11130" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11130" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
		<cite itemprop="name"><a itemprop='url' href='http://pt.wordpress.org/2012/08/07/um-orador-de-peso-no-wordcamp-lisboa-2012-cristi-burca-scribu/' rel='external nofollow' class='url'>WordPress | Portugal &raquo; Um orador de peso no WordCamp Lisboa 2012: Cristi Burcă (scribu)</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11130">
		<time itemprop="dateCreated" datetime="2012-08-07T09:38:00+00:00">August 7, 2012 at 9:38 am</time></a>	</div>

	<div itemprop="text"><p>[...] a possibilidade de ordenar colunas de listas no painel e também com as novas funcionalidades de queries de taxonomias e de metadados. Além disso é ainda muito possível que estejam a usar um ou mais plugins da [...]</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11130#respond' onclick='return addComment.moveForm("div-comment-11130", "11130", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-11200" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11200" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/d4b33fbcebee6b6cd76af15cb4e7f690?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">YEmi</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11200">
		<time itemprop="dateCreated" datetime="2012-08-31T12:50:18+00:00">August 31, 2012 at 12:50 pm</time></a>	</div>

	<div itemprop="text"><p>How do i display all terms of custom taxonomy &#8216;industry&#8217;, and list all the titles of custom post types &#8216;merchants&#8217; under each taxonomy term.</p>
<p>I also want to display the post image and excerpts.</p>
<p>Please help a newbiw out.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11200#respond' onclick='return addComment.moveForm("div-comment-11200", "11200", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="pingback even thread-even depth-1" id="comment-11283" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11283" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
		<cite itemprop="name"><a itemprop='url' href='http://stephanieleary.com/2012/10/how-to-do-damn-near-anything-with-wordpress/' rel='external nofollow' class='url'>How to do damn near anything with WordPress &ndash; Stephanie Leary</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11283">
		<time itemprop="dateCreated" datetime="2012-10-07T10:08:34+00:00">October 7, 2012 at 10:08 am</time></a>	</div>

	<div itemprop="text"><p>[...] Advanced taxonomy queries [...]</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11283#respond' onclick='return addComment.moveForm("div-comment-11283", "11283", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-11308" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11308" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/78e5bfe9998552dd99963575d434b4ec?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">Doug</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11308">
		<time itemprop="dateCreated" datetime="2012-10-15T22:33:06+00:00">October 15, 2012 at 10:33 pm</time></a>	</div>

	<div itemprop="text"><p>I&#8217;ve been reading on this from the original forum post that started the bug fix, and I am still not clear on whether advanced taxonomy queries can be done with custom post types. I&#8217;m trying to query a custom post type with a tag and the solution continues to elude. Is this addressed somewhere? Thanks for your time.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11308#respond' onclick='return addComment.moveForm("div-comment-11308", "11308", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 parent" id="comment-11377" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11377" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/aa10deab2ca576d17c6a3b44d20e04d7?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">Vietnamese</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11377">
		<time itemprop="dateCreated" datetime="2012-11-13T00:45:12+00:00">November 13, 2012 at 12:45 am</time></a>	</div>

	<div itemprop="text"><pre class="brush: php; title: ; notranslate" title="">
$myquery['tax_query'] = array(
                    array(
                        'taxonomy' =&gt; 'product-categories',
                        'terms' =&gt; array('ruou-whisky','ruou-cognac'),
                        'field' =&gt; 'slug',
                        'orderby' =&gt; 'rand',
                        'showposts' =&gt; 6 
                    ),                    
            );
</pre>
<p>I tried with &#8216;showposts&#8217; and &#8216;orderby&#8217; but it doesn’t work.<br />
Can you help me ?</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11377#respond' onclick='return addComment.moveForm("div-comment-11377", "11377", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment byuser comment-author-otto bypostauthor odd alt depth-2" id="comment-11380" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11380" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/0994d5e2e158a24ba8017c2525d78263?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://ottodestruct.com' rel='external nofollow' class='url'>Otto</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11380">
		<time itemprop="dateCreated" datetime="2012-11-13T08:50:30+00:00">November 13, 2012 at 8:50 am</time></a>	</div>

	<div itemprop="text"><p>Move the orderby and showposts outside the inner array, and into the $myquery array itself.</p>
<pre class="brush: php; title: ; notranslate" title="">
$myquery['tax_query'] = array(
                    array(
                        'taxonomy' =&gt; 'product-categories',
                        'terms' =&gt; array('ruou-whisky','ruou-cognac'),
                        'field' =&gt; 'slug',
                    ),                    
            );
$myquery['orderby'] = 'rand';
$myquery['showposts'] = 6;
</pre>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11380#respond' onclick='return addComment.moveForm("div-comment-11380", "11380", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="comment-11566" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11566" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/7b9e4e6b13ff500f8888a1b5856e0df1?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">Jim Wagner</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11566">
		<time itemprop="dateCreated" datetime="2013-01-22T18:38:47+00:00">January 22, 2013 at 6:38 pm</time></a>	</div>

	<div itemprop="text"><p>Otto, I&#8217;ve been looking everywhere for an answer to this question.  I have not found any plugins that would solve my problem and I&#8217;ve been Google searching to no avail, which surprises me, since it seems like a pretty straightforward thing to do.</p>
<p>I&#8217;ve created a custom taxonomy called &#8220;imagetags&#8221; using the following code:</p>
<p><code><br />
// Register Custom Taxonomy<br />
function custom_imagetags_taxonomy()  {<br />
  $labels = array(<br />
    'name'                       =&gt; _x( 'Image Tags', 'Taxonomy General Name', 'text_domain' ),<br />
    'singular_name'              =&gt; _x( 'Image Tag', 'Taxonomy Singular Name', 'text_domain' ),<br />
    'menu_name'                  =&gt; __( 'Image Tags', 'text_domain' ),<br />
    'all_items'                  =&gt; __( 'All Image Tags', 'text_domain' ),<br />
    'parent_item'                =&gt; __( 'Parent Image Tag', 'text_domain' ),<br />
    'parent_item_colon'          =&gt; __( 'Parent Image Tag:', 'text_domain' ),<br />
    'new_item_name'              =&gt; __( 'New Image Tag', 'text_domain' ),<br />
    'add_new_item'               =&gt; __( 'Add New Image Tag', 'text_domain' ),<br />
    'edit_item'                  =&gt; __( 'Edit Image Tag', 'text_domain' ),<br />
    'update_item'                =&gt; __( 'Update Image Tag', 'text_domain' ),<br />
    'separate_items_with_commas' =&gt; __( 'Separate Image Tags with Commas', 'text_domain' ),<br />
    'search_items'               =&gt; __( 'Search Image Tags', 'text_domain' ),<br />
    'add_or_remove_items'        =&gt; __( 'Add or Remove Image Tags', 'text_domain' ),<br />
    'choose_from_most_used'      =&gt; __( 'Choose From Popular Image Tags', 'text_domain' ),<br />
  );</p>
<p>  $rewrite = array(<br />
    'slug'                       =&gt; 'imagetags',<br />
    'with_front'                 =&gt; true,<br />
    'hierarchical'               =&gt; false,<br />
  );</p>
<p>  $args = array(<br />
    'labels'                     =&gt; $labels,<br />
    'hierarchical'               =&gt; false,<br />
    'public'                     =&gt; true,<br />
    'show_ui'                    =&gt; true,<br />
    'show_admin_column'          =&gt; true,<br />
    'show_in_nav_menus'          =&gt; true,<br />
    'show_tagcloud'              =&gt; true,<br />
    'rewrite'                    =&gt; $rewrite,<br />
  );</p>
<p>  register_taxonomy( 'imagetags', 'attachment', $args );<br />
}</p>
<p>// Hook into the 'init' action<br />
add_action( 'init', 'custom_imagetags_taxonomy', 0 );<br />
</code></p>
<p>This creates an &#8220;imagetags&#8221; meta box where users can create taxonomy terms for later sorting images.</p>
<p>Here&#8217;s my question:</p>
<p>What would be the appropriate way to create a loop on a page template I&#8217;m calling taxonomy-imagetags.php?</p>
<p>Nothing I&#8217;ve tried seems to work.  Instead of listing all my attempts, I&#8217;m wondering if there is a custom query that would show image attachments based on terms created in the &#8220;imagetags&#8221; meta box.</p>
<p>Would be a very generous bit of help, Otto.  Thanks in advance.</p>
<p>Jim</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11566#respond' onclick='return addComment.moveForm("div-comment-11566", "11566", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1 parent" id="comment-11628" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11628" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/42595f5c91d5dc86ad47e73286eda146?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://chazbeaner.com' rel='external nofollow' class='url'>Charles</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11628">
		<time itemprop="dateCreated" datetime="2013-02-14T17:40:30+00:00">February 14, 2013 at 5:40 pm</time></a>	</div>

	<div itemprop="text"><p>Hey Otto &#8211; Hopefully you&#8217;re still monitoring this (and thanks for all the amazing work you do in the WordPress community). I&#8217;m having issues with a custom taxonomy query. Essentially, what I&#8217;m trying to do is execute a query for all entries into a custom post type by a specific author and with a specific tag on their author.php template. I&#8217;m using the Co-Authors Plus plugin and the author suggested using tax_query to pull author specific posts, but when combined with another taxonomy it just fails. Here is what I&#8217;d like to accomplish:</p>
<pre class="brush: php; title: ; notranslate" title="">$args = array(
	'post_type' =&gt; array(
		                    'sale',
		                    'lease'
	                		),
	'tax_query' =&gt; array(
							array(
								'taxonomy' =&gt; 'author',
								'field' =&gt; 'slug',
								'terms' =&gt; $curauth-&gt;user_login
							),
							array(
					          'taxonomy' =&gt; 'post_tag',
					          'field' =&gt; 'slug',
					          'terms' =&gt; array('sold')
					        )
						),
);
$query = new WP_Query( $args ); while($query-&gt;have_posts()) : $query-&gt;the_post();</pre>
<p>From what I understand, this should pull all entries from those custom post types by the current author with that specific tag. It works if I remove the author tax_query and vice versa, but not together. I&#8217;ve even tried using simple parameters in the main query like
<pre class="brush: php; title: ; notranslate" title="">'tag' =&gt; 'sold'</pre>
<p> and
<pre class="brush: php; title: ; notranslate" title="">'tag__in' =&gt; array(34)</pre>
<p> but those do not work either when combined with the author taxonomy.</p>
<p>Any thoughts?</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11628#respond' onclick='return addComment.moveForm("div-comment-11628", "11628", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment byuser comment-author-otto bypostauthor even depth-2 parent" id="comment-11630" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11630" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/0994d5e2e158a24ba8017c2525d78263?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://ottodestruct.com' rel='external nofollow' class='url'>Otto</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11630">
		<time itemprop="dateCreated" datetime="2013-02-14T17:45:30+00:00">February 14, 2013 at 5:45 pm</time></a>	</div>

	<div itemprop="text"><p>Do a var_dump on the $query after you create it, then look at the actual SQL it generates. It&#8217;s easier to debug something that way than to try to guess at what it&#8217;s doing.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11630#respond' onclick='return addComment.moveForm("div-comment-11630", "11630", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment odd alt depth-3" id="comment-11631" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11631" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/42595f5c91d5dc86ad47e73286eda146?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://chazbeaner.com' rel='external nofollow' class='url'>Charles</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11631">
		<time itemprop="dateCreated" datetime="2013-02-14T18:31:07+00:00">February 14, 2013 at 6:31 pm</time></a>	</div>

	<div itemprop="text"><p>Thanks for the quick response, I appreciate it. Good call on the var_dump, however&#8230; I&#8217;m still in the same situation, if not more confused. I checked the output for every author on the site and the SQL is there for all but two of them. I have double-checked to make sure that there are entries that would show up for the specified query, but still nothing. I&#8217;ve also just realized that tax_query for the author taxonomy using $curauth-&gt;user_login actually doesn&#8217;t work at all for these two, but it does for everyone else.</p>
<p>So, I&#8217;ve now narrowed it down to the fact that $curauth-&gt;user_login doesn&#8217;t work once the query starts for just these two users.</p>
<p>Have you ever seen an issue with slug length and tax_query? Otherwise&#8230; I&#8217;m at a loss.</p>
<p>Here are the pages if this piques your curiosity:</p>
<p><a href="http://sandbox.theagencyre.com/agent/hana-cha/" rel="nofollow">Not Working</a><br />
<a href="http://sandbox.theagencyre.com/agent/edward-fitz/" rel="nofollow">Not Working</a></p>
<p><a href="http://sandbox.theagencyre.com/agent/alejandro-aldrete/" rel="nofollow">Working</a><br />
<a href="http://sandbox.theagencyre.com/agent/mauricio-umansky/" rel="nofollow">Working</a></p>
<p>Again, I appreciate your time.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11631#respond' onclick='return addComment.moveForm("div-comment-11631", "11631", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment even depth-3" id="comment-11632" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11632" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/42595f5c91d5dc86ad47e73286eda146?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://chazbeaner.com' rel='external nofollow' class='url'>Charles</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11632">
		<time itemprop="dateCreated" datetime="2013-02-15T13:50:36+00:00">February 15, 2013 at 1:50 pm</time></a>	</div>

	<div itemprop="text"><p>Just in case you or anyone else runs into this issue: I found a solution, although rather inelegant and not something I&#8217;d like to use long term. Submitted to github here:</p>
<p><a href="https://github.com/Automattic/Co-Authors-Plus/issues/107" rel="nofollow">https://github.com/Automattic/Co-Authors-Plus/issues/107</a></p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11632#respond' onclick='return addComment.moveForm("div-comment-11632", "11632", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-11710" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11710" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/2245d066447c5ab02a5e38b80415dd9c?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">Adem</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11710">
		<time itemprop="dateCreated" datetime="2013-03-18T17:11:04+00:00">March 18, 2013 at 5:11 pm</time></a>	</div>

	<div itemprop="text"><p>Hey Otto,</p>
<p>I&#8217;ve got a custom post type for training courses. For those courses I&#8217;ve got taxonomies of &#8220;qualification-level&#8221;, &#8220;training-country&#8221; and &#8220;worker-cardre&#8221;.</p>
<p>I&#8217;m trying to retrieve posts based on a keyword that matches in any of the taxonomies</p>
<p>eg. for the keyword of &#8220;Australia&#8221; it should return posts that match &#8220;Australia&#8221; for &#8220;qualification-level&#8221; OR &#8220;training-country&#8221; OR &#8220;worker-cardre&#8221;. The code I&#8217;m using for the tax_query is below:</p>
<p><code><br />
$args = array();<br />
$args['post_type'] = "training";<br />
$args['showposts'] = 15;<br />
$args['paged'] = $paged;<br />
$args['orderby'] = "title";<br />
$args['order'] = "ASC";<br />
if( ! empty( $_SESSION['keywords'] ) ) {<br />
    $args['tax_query'] = array(<br />
    'relation' =&gt; 'OR',<br />
    array(<br />
    'taxonomy' =&gt; 'qualification-level',<br />
    'terms' =&gt; array($_SESSION['keywords']),<br />
    'field' =&gt; 'slug',<br />
    ),<br />
    array(<br />
    'taxonomy' =&gt; 'training-country',<br />
    'terms' =&gt; array($_SESSION['keywords']),<br />
    'field' =&gt; 'slug',<br />
    ),<br />
    array(<br />
    'taxonomy' =&gt; 'worker-cadre',<br />
    'terms' =&gt; array($_SESSION['keywords']),<br />
    'field' =&gt; 'slug',<br />
    ),<br />
    );<br />
}<br />
$search_query = new WP_Query($args);<br />
</code></p>
<p>t is currently returning all results, even those that don&#8217;t match the keyword (eg, Vietnam).</p>
<p>I&#8217;ve also tried with the <code>'operator' =&gt; 'IN'</code> for each but that doesn&#8217;t seem to work either (still shows all results)</p>
<p>Any chance you can help?</p>
<p>Thanks.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11710#respond' onclick='return addComment.moveForm("div-comment-11710", "11710", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="comment-11756" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11756" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/24265b54781fec8f7dfa070bbf933cf3?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">Claudiu</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11756">
		<time itemprop="dateCreated" datetime="2013-04-09T12:26:01+00:00">April 9, 2013 at 12:26 pm</time></a>	</div>

	<div itemprop="text"><p>Hi Otto</p>
<p>How can I implement a multiple search plugin if I have more than 4 taxonomy types and I&#8217;d like to be able to select a few taxonomies from first type and use AND operator, a few from second type and use OR operator and from the 4th to have again AND operator and between all taxonomy types to have an AND operator. Is that possible. I&#8217;m asking because as I can see, only one array is used to manage multiple taxonomies and IN operator is not useful enough for my needs.</p>
<p>Thank you</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11756#respond' onclick='return addComment.moveForm("div-comment-11756", "11756", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 parent" id="comment-11803" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11803" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/d5f174702f740d835b8689eed785c950?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">sdesign</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11803">
		<time itemprop="dateCreated" datetime="2013-04-24T10:04:39+00:00">April 24, 2013 at 10:04 am</time></a>	</div>

	<div itemprop="text"><p>I am trying to show posts from posts within one category as well as several other post types from withing one category all on one page. I have the below code and it works but pagination does not work any help would be appreciated.</p>
<p> &#8216;OR&#8217;,<br />
    array(<br />
        &#8216;taxonomy&#8217; =&gt; &#8216;category&#8217;,<br />
        &#8216;terms&#8217; =&gt; array(&#8216;outdoor-recreation&#8217;),<br />
        &#8216;field&#8217; =&gt; &#8216;slug&#8217;,<br />
    ),<br />
    array(<br />
        &#8216;taxonomy&#8217; =&gt; &#8216;outtake_category&#8217;,<br />
        &#8216;terms&#8217; =&gt; array(&#8216;outdoor-recreation&#8217;),<br />
        &#8216;field&#8217; =&gt; &#8216;slug&#8217;,<br />
    ),<br />
	array(<br />
        &#8216;taxonomy&#8217; =&gt; &#8216;story_category&#8217;,<br />
        &#8216;terms&#8217; =&gt; array(&#8216;outdoor-recreation&#8217;),<br />
        &#8216;field&#8217; =&gt; &#8216;slug&#8217;,<br />
    ),<br />
);<br />
query_posts($myquery);<br />
?&gt;</p>
<p>		&lt;div  id=&#8221;post-&#8221;&gt;</p>
<p>&lt;h2 id=&quot;post-&#8221;&gt;&lt;a href=&quot;&#8221;&gt;</p>
<p>&lt;?php<br />
if ( has_post_thumbnail()) {<br />
  echo &#039;<a>ID) . &#8216;&#8221; &gt;&#8217;;<br />
  the_post_thumbnail();<br />
  echo &#8216;</a>&#8216;;<br />
}<br />
?&gt;<!-- end featured image --></p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11803#respond' onclick='return addComment.moveForm("div-comment-11803", "11803", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment byuser comment-author-otto bypostauthor even depth-2 parent" id="comment-11807" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11807" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/0994d5e2e158a24ba8017c2525d78263?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://ottodestruct.com' rel='external nofollow' class='url'>Otto</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11807">
		<time itemprop="dateCreated" datetime="2013-04-25T11:21:45+00:00">April 25, 2013 at 11:21 am</time></a>	</div>

	<div itemprop="text"><p>Pagination doesn&#8217;t work because you&#8217;re using query_posts. There&#8217;s better ways to change the main post query, like using the pre_get_posts filter: <a href="http://codex.wordpress.org/Plugin_API/Action_Reference/pre_get_posts" rel="nofollow">http://codex.wordpress.org/Plugin_API/Action_Reference/pre_get_posts</a></p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11807#respond' onclick='return addComment.moveForm("div-comment-11807", "11807", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment odd alt depth-3" id="comment-11808" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11808" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/d5f174702f740d835b8689eed785c950?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">Sdesign</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11808">
		<time itemprop="dateCreated" datetime="2013-04-25T11:59:03+00:00">April 25, 2013 at 11:59 am</time></a>	</div>

	<div itemprop="text"><p>Does the pre_get_post alow for pagination? I am having a hard time figuring out how to set up the code using the pre_get_post to try it out</p>
<p>Thank you</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11808#respond' onclick='return addComment.moveForm("div-comment-11808", "11808", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="comment-11831" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11831" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/bc3a4edeb9cc4d2e0c050762f0cf2e4f?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">valuser</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11831">
		<time itemprop="dateCreated" datetime="2013-05-13T06:21:34+00:00">May 13, 2013 at 6:21 am</time></a>	</div>

	<div itemprop="text"><p>Many thanks for really comprehensive posts!</p>
<p>Is it possible to use the Operator &#8216;Not In&#8217; with &#8216;taxonomy&#8217; =&gt; &#8216;post_tag&#8217;. It appears to work perfectly with categories.</p>
<p>Have tried to add the following (not a coder) to functions.php but i just get white screen. </p>
<pre class="brush: php; title: ; notranslate" title="">function xclude_tag($query) {
if ( $query-&gt;is_home ) {
$query-&gt;set(array(
          'taxonomy' =&gt; 'post_tag',
	'field' =&gt; 'slug',
          'terms' =&gt; array('xhidex'),
          'operator' =&gt; 'NOT IN'
        )
)
}
  return $query;
}
add_filter('pre_get_posts', 'xclude_tag');</pre>
<p>Any obervations most welcome!</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11831#respond' onclick='return addComment.moveForm("div-comment-11831", "11831", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-11846" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11846" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/9bd334119659586654909fc34cdfe5b1?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://devedge-internet-marketing.com/' rel='external nofollow' class='url'>Kevin</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11846">
		<time itemprop="dateCreated" datetime="2013-05-28T17:37:25+00:00">May 28, 2013 at 5:37 pm</time></a>	</div>

	<div itemprop="text"><p>Great article Otto. Very clear and well explained.</p>
<p>Searching high and low for an answer to the following.</p>
<p>I have a custom search box that takes a user input keyword(s). Then it limits the results to a custom post type (using post_type in the query args). That part works great.</p>
<p>My confusion is how to use the search query to also parse the custom taxonomy category names. In addition, I have a number of custom meta fields added to the custom post type, and I&#8217;d like to search for the keyword in the meta values.</p>
<p>For example: User searches for &#8220;Advertising&#8221;</p>
<p>This should match any posts:<br />
- in the &#8220;Marketing &amp; Advertising&#8221; category of my custom taxonomy.<br />
or<br />
- that contain &#8220;advertising&#8221; in the meta values<br />
or<br />
- that contain &#8220;advertising&#8221; in the standard post fields (title and content).</p>
<p>Any insights or help?</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11846#respond' onclick='return addComment.moveForm("div-comment-11846", "11846", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="comment-11972" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11972" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/4905ffc63698f3379438f9d5ffba499f?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">Carrie</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11972">
		<time itemprop="dateCreated" datetime="2013-08-24T13:41:58+00:00">August 24, 2013 at 1:41 pm</time></a>	</div>

	<div itemprop="text"><p>Hi, Great website. I need help with this. I am using Car demon, and I want to grab all vehicles where condition is &#8220;NEW&#8221;,  body_style is &#8220;FOO&#8221;, and year is &#8220;2012&#8243; and can be order by year or style.  I have been drafting multiple queries but Im a bit stuck! Some data is in the wp_postmeta(year) and the rest can be found in taxonomy/terms (vehicle_condition / New respectively)</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11972#respond' onclick='return addComment.moveForm("div-comment-11972", "11972", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-11973" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-11973" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/4905ffc63698f3379438f9d5ffba499f?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">Carrie</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-11973">
		<time itemprop="dateCreated" datetime="2013-08-25T23:35:52+00:00">August 25, 2013 at 11:35 pm</time></a>	</div>

	<div itemprop="text"><p>Here is my code<br />
$args = array(<br />
    &#8216;post_type&#8217;         =&gt; &#8216;cars_for_sale&#8217;,<br />
    &#8216;post_status&#8217;       =&gt; &#8216;publish&#8217;,</p>
<p>    &#8216;tax_query&#8217;         =&gt; array(<br />
        array(<br />
            &#8216;taxonomy&#8217;  =&gt; &#8216;name&#8217;,<br />
            &#8216;field&#8217;     =&gt; &#8216;slug&#8217;,<br />
            &#8216;terms&#8217;     =&gt; array(&#8216;New&#8217;, &#8216;Fifth Truck&#8217;, &#8217;2013&#8242;),<br />
            &#8216;operator&#8217;  =&gt; &#8216;AND&#8217;<br />
        )<br />
    )<br />
);<br />
Order by Price desc, year asc</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=11973#respond' onclick='return addComment.moveForm("div-comment-11973", "11973", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="comment-12056" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-12056" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/0d11e9c341712a5f28b7faad466a7fe6?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">Aniket</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-12056">
		<time itemprop="dateCreated" datetime="2013-10-07T07:46:38+00:00">October 7, 2013 at 7:46 am</time></a>	</div>

	<div itemprop="text"><p>Hi, great post! i want to create a search form having 2 inputs. 1-drop down and 2-text input, having a common submit button. If 1 option is selected from the drop down menu, keeping the text input field empty, then the search should be made based on drop down menu. and vice versa. If both the fields are mentioned, i want the search form to produce results according to the input text.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=12056#respond' onclick='return addComment.moveForm("div-comment-12056", "12056", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-12127" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-12127" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/574d19678cf8618867a34511cccc0bf9?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">amir</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-12127">
		<time itemprop="dateCreated" datetime="2013-11-02T14:19:10+00:00">November 2, 2013 at 2:19 pm</time></a>	</div>

	<div itemprop="text"><p>Hello my friends<br />
I have a problem with viper and same theme<br />
i use viper theme, that is  ECommerce theme and free theme .<br />
When a product is finish in store, I can not delete  product page for Google indexing .<br />
So , i should remove the product only of home page .<br />
But plugins not support to &#8216;product&#8217; and &#8216;department&#8217; options &#8220;taxonomy-department&#8221;.<br />
this plugins (wp-exclude-from-homepage.1.1.2  and wp-exclude-from-homepage.1.1.2 ) support for normal category but not support &#8216;department and other taxonomy &#8216; !!!<br />
I want for example the products in &#8220;finish&#8221; categories  are not displayed on my home page<br />
Purpose of &#8220;categories&#8221;  is &#8220;product &gt; department &gt; finish&#8221; in my theme  .</p>
<p>Dear friends can you suggest a way for help me ?<br />
Please explain to me as a beginner. </p>
<p>thank you</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=12127#respond' onclick='return addComment.moveForm("div-comment-12127", "12127", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="pingback even thread-even depth-1" id="comment-12198" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-12198" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
		<cite itemprop="name"><a itemprop='url' href='http://10up.com/blog/wordpress-mixed-relationship-taxonomy-queries/' rel='external nofollow' class='url'>Mixed relationship taxonomy queries in WordPress | 10up</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-12198">
		<time itemprop="dateCreated" datetime="2013-12-16T17:25:07+00:00">December 16, 2013 at 5:25 pm</time></a>	</div>

	<div itemprop="text"><p>[&#8230;] of 5, or games that can help with focus or help with reading skills or have a recommended age of 5. Otto has a great write-up for getting started with taxonomy queries, where he also [&#8230;]</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=12198#respond' onclick='return addComment.moveForm("div-comment-12198", "12198", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="pingback odd alt thread-odd thread-alt depth-1" id="comment-12218" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-12218" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
		<cite itemprop="name"><a itemprop='url' href='http://brandonmoeller.com/blog/2014/01/03/reducing-duplicity-in-the-homepage-loop-while-using-the-ephemera-widget-on-your-twentyfourteen-child-theme/' rel='external nofollow' class='url'>Reducing duplicity in the homepage loop while using the ephemera widget on the twentyfourteen child theme | Brandon Moeller</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-12218">
		<time itemprop="dateCreated" datetime="2014-01-05T01:26:39+00:00">January 5, 2014 at 1:26 am</time></a>	</div>

	<div itemprop="text"><p>[&#8230;] homepage loop what to display by telling it what NOT to display (as suggested by Roy Scribner and Otto); but this didn&#8217;t work, because the twentyfourteen theme takes a different approach to doing [&#8230;]</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=12218#respond' onclick='return addComment.moveForm("div-comment-12218", "12218", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="pingback even thread-even depth-1" id="comment-12244" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-12244" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
		<cite itemprop="name"><a itemprop='url' href='http://ryanpadraigkelly244.wordpress.com/2014/01/17/ryan-padraig-kelly-wordpress-4/' rel='external nofollow' class='url'>Ryan Padraig Kelly WordPress | ryanpadraigkelly244</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-12244">
		<time itemprop="dateCreated" datetime="2014-01-17T15:02:44+00:00">January 17, 2014 at 3:02 pm</time></a>	</div>

	<div itemprop="text"><p>[&#8230;] WordPress 3.1: Advanced Taxonomy Queries » Otto on WordPress [&#8230;]</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=12244#respond' onclick='return addComment.moveForm("div-comment-12244", "12244", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 parent" id="comment-12305" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-12305" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/1609cc286d0ca8fdfb09357c9074dc40?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://www.diarioesnoticia.com/' rel='external nofollow' class='url'>Juan</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-12305">
		<time itemprop="dateCreated" datetime="2014-03-04T10:39:21+00:00">March 4, 2014 at 10:39 am</time></a>	</div>

	<div itemprop="text"><p>Hi there i&#8217;m having a problem with taxonomy, custom post and category.</p>
<p>I create a custom post type that allows categories, post_tags and a new taxonomy (created only for this type of post).</p>
<p>I do a several test and found that when i add a category evaluation, like &#8220;cat&#8221;=&gt;$wp_query-&gt;get(&#8216;cat&#8217;) or somethig like array(&#8216;taxonomy&#8217; =&gt; &#8216;category&#8217;,&#8217;field&#8217; =&gt; &#8216;term_id&#8217;,&#8217;terms&#8217; =&gt; $wp_query-&gt;get(&#8216;cat&#8217;)) it changes the post_type from my custom post to post</p>
<p>This is my args for the new WP_query<br />
<code><br />
$args_ads=array(<br />
	'post_status' =&gt; 'publish',<br />
	//'cat'=&gt;$wp_query-&gt;get('cat'),<br />
	'tax_query' =&gt; array(<br />
		array('taxonomy' =&gt; 'ubicaciones','field' =&gt; 'slug','terms' =&gt; 'ub-categoria','operator'=&gt; 'IN'),<br />
		array('taxonomy' =&gt; 'category','field' =&gt; 'term_id','terms' =&gt; $wp_query-&gt;get('cat'),'operator'=&gt; 'IN')<br />
	),<br />
	'post_type' =&gt; array('libreria'),<br />
	'orderby' =&gt; 'rand');<br />
$query_ads = new WP_Query($args_ads);</code></p>
<p>This is the query i get when i do a var_dump in the request field</p>
<p><code>SELECT SQL_CALC_FOUND_ROWS  wp_posts.ID FROM wp_posts  INNER JOIN wp_term_relationships ON (wp_posts.ID = wp_term_relationships.object_id) INNER JOIN wp_term_relationships AS tt1 ON (wp_posts.ID = tt1.object_id) WHERE 1=1  AND ( wp_term_relationships.term_taxonomy_id IN (74) AND tt1.term_taxonomy_id IN (7) ) AND wp_posts.post_type = 'post' AND (wp_posts.post_status = 'publish') GROUP BY wp_posts.ID ORDER BY RAND() DESC LIMIT 0, 15</code></p>
<p>The only way that i found to solve my problem is remove the category evaluation in the query and allowing the query bring me ALL the results and inside the loop check if is it in that particular category. The problem for that is if i have over 200 custom post or maybe more (right now the site have 10.000 regular post) it will be insane to do it inside the loop.</p>
<p>Some happens the same?</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=12305#respond' onclick='return addComment.moveForm("div-comment-12305", "12305", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment byuser comment-author-otto bypostauthor even depth-2" id="comment-12307" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-12307" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/0994d5e2e158a24ba8017c2525d78263?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://ottodestruct.com' rel='external nofollow' class='url'>Otto</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-12307">
		<time itemprop="dateCreated" datetime="2014-03-04T12:11:23+00:00">March 4, 2014 at 12:11 pm</time></a>	</div>

	<div itemprop="text"><p>Do you have this in the register_post_type function call?</p>
<pre class="brush: php; title: ; notranslate" title="">
'taxonomies' =&gt; array( 'category', 'post_tag' ),
</pre>
<p>In order to query by a taxonomy, a post type needs to be explicitly told that it can support that taxonomy.</p>
<p>Also, in a query, the post_type should not be an array unless you have more than one of them. Simplify and just use post_type => &#8216;libreria&#8217; instead of wrapping it in a needless array.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=12307#respond' onclick='return addComment.moveForm("div-comment-12307", "12307", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1 parent" id="comment-12468" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-12468" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/5889902f05997e1cfb1df07df41d2ebb?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">henrik</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-12468">
		<time itemprop="dateCreated" datetime="2014-07-16T02:08:29+00:00">July 16, 2014 at 2:08 am</time></a>	</div>

	<div itemprop="text"><p>hi otto,<br />
thanks for your code and explanations.<br />
i used the case of getting posts from certain categories ANS certain tags.<br />
unfortunatly the array of tags does&#8217;nt work, meaning only the first tag in the list is detected.</p>
<p>see taxonomy &#8220;orte&#8221;. here only posts from the fist tag -&gt; &#8220;tag1&#8243; are shown together with the first category.<br />
<code><br />
 'AND',<br />
              array(<br />
                  'taxonomy' =&gt; 'category',<br />
                  'terms' =&gt; array('cat1', 'cat2', 'cat3'),<br />
                  'field' =&gt; 'slug',<br />
              ),<br />
              array(<br />
                  'taxonomy' =&gt; 'orte',<br />
                  'terms' =&gt; array('tag1','tag2','tag3','tag4'),<br />
                  'field' =&gt; 'slug',<br />
              ),<br />
          );<br />
          query_posts($myquery);<br />
          ?&gt;<br />
</code></p>
<p>is there something wrong in the code?</p>
<p>thanks for your help.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=12468#respond' onclick='return addComment.moveForm("div-comment-12468", "12468", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment even depth-2 parent" id="comment-12469" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-12469" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/5889902f05997e1cfb1df07df41d2ebb?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">henrik</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-12469">
		<time itemprop="dateCreated" datetime="2014-07-16T02:10:41+00:00">July 16, 2014 at 2:10 am</time></a>	</div>

	<div itemprop="text"><p>here a better version of the code.</p>
<pre class="brush: php; title: ; notranslate" title="">
&amp;amp;lt;?php
          $myquery['tax_query'] = array(
          		'relation' =&amp;amp;gt; 'AND',
              array(
                  'taxonomy' =&amp;amp;gt; 'category',
                  'terms' =&amp;amp;gt; array('cat1', 'cat2', 'cat3'),
                  'field' =&amp;amp;gt; 'slug',
              ),
              array(
                  'taxonomy' =&amp;amp;gt; 'orte',
                  'terms' =&amp;amp;gt; array('tag1','tag2','tag3','tag4'),
                  'field' =&amp;amp;gt; 'slug',
              ),
          );
          query_posts($myquery);
          ?&amp;amp;gt;

 </pre>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=12469#respond' onclick='return addComment.moveForm("div-comment-12469", "12469", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment byuser comment-author-otto bypostauthor odd alt depth-3 parent" id="comment-12470" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-12470" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://0.gravatar.com/avatar/0994d5e2e158a24ba8017c2525d78263?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name"><a itemprop='url' href='http://ottodestruct.com' rel='external nofollow' class='url'>Otto</a></cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-12470">
		<time itemprop="dateCreated" datetime="2014-07-16T03:08:27+00:00">July 16, 2014 at 3:08 am</time></a>	</div>

	<div itemprop="text"><p>I don&#8217;t know what &#8220;orte&#8221; is, but an array of tags works just fine, like any other array of terms. Maybe you need to specify an operator there to get the results you&#8217;re looking for.</p>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=12470#respond' onclick='return addComment.moveForm("div-comment-12470", "12470", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	<ul class="children">
	<li class="comment even depth-4" id="comment-12471" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-12471" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/5889902f05997e1cfb1df07df41d2ebb?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">henrik</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-12471">
		<time itemprop="dateCreated" datetime="2014-07-16T04:41:29+00:00">July 16, 2014 at 4:41 am</time></a>	</div>

	<div itemprop="text"><p>thanks for your answer.<br />
&#8220;orte&#8221; is the german word for &#8220;places&#8221;, my own custom taxonomy.<br />
i tried before with different operators, but it did not help.</p>
<p>what helped now for me, is changing from slug to term_id.<br />
now the array works for me.</p>
<p>for example:</p>
<pre class="brush: php; title: ; notranslate" title="">
'field' =&amp;amp;gt; 'term_id',
 'terms' =&amp;amp;gt; array('251','375','249'),
</pre>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=12471#respond' onclick='return addComment.moveForm("div-comment-12471", "12471", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-12479" itemprop="comment" itemscope itemtype="http://schema.org/Comment">
		<div id="div-comment-12479" class="comment-body">
		<div class="comment-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
	<img alt='' src='http://1.gravatar.com/avatar/57a24cd097db5fbe5e9051e6bfd921d6?s=48&amp;d=retro&amp;r=X' class='avatar avatar-48 photo' height='48' width='48' />	<cite itemprop="name">Mac</cite> <span class="says">says:</span>	</div>

	<div class="comment-meta commentmetadata"><a itemprop="url" href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#comment-12479">
		<time itemprop="dateCreated" datetime="2014-07-21T03:22:09+00:00">July 21, 2014 at 3:22 am</time></a>	</div>

	<div itemprop="text"><p>Is it possible to use tax_query to retrieve posts of the same taxonomy.</p>
<pre class="brush: php; title: ; notranslate" title="">
echo GeoMashup::map( array(
	'map_content' =&amp;amp;gt; 'global',
        'tax_query' =&amp;amp;gt; array(
                'relation' =&amp;amp;gt; 'AND',
		array(
			'taxonomy' =&amp;amp;gt; 'post_tag',
			'field' =&amp;amp;gt; 'slug',			
                        'terms' =&amp;amp;gt; 'cebu'
		     ),
		array(
			'taxonomy' =&amp;amp;gt; 'post_tag',
			'field' =&amp;amp;gt; 'slug',			
                        'terms' =&amp;amp;gt; 'budget hotel',
                        'operator' =&amp;amp;gt; 'IN',
                      )
 	                    )
) ); 
?&amp;amp;gt;
</pre>
</div>

	<div class="reply">
	<a class='comment-reply-link' href='/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/?replytocom=12479#respond' onclick='return addComment.moveForm("div-comment-12479", "12479", "respond", "331")'>Reply to this comment</a>	</div>
		</div>
	</li><!-- #comment-## -->
	</ol>
	<div class="navigation" style="clear:both">
		<div class="alignleft"><a href="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-1/#comments" >&laquo; Older Comments</a></div>
		<div class="alignright"></div>
	</div>
	<div style="clear:both"></div> 								<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://ottopress.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																										<div id="gravbox"></div><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input x-autocompletetype="name-full" id="author" name="author" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input x-autocompletetype="email" id="email" name="email" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" /></p>
												<p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea></p>						<p class="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:  <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></p><p class="form-allowed-tags">Need to post PHP code? Wrap it in <code>[php]</code> and <code>[/php]</code> tags.						<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='331' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="2b36d96bce" /></p><p class="comment-subscription-form"><input type="checkbox" name="subscribe_comments" id="subscribe_comments" value="subscribe" style="width: auto; -moz-appearance: checkbox; -webkit-appearance: checkbox;" /> <label class="subscribe-label" id="subscribe-label" for="subscribe_comments">Notify me of follow-up comments by email.</label></p><p class="comment-subscription-form"><input type="checkbox" name="subscribe_blog" id="subscribe_blog" value="subscribe" style="width: auto; -moz-appearance: checkbox; -webkit-appearance: checkbox;" /> <label class="subscribe-label" id="subscribe-blog-label" for="subscribe_blog">Notify me of new posts by email.</label></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="128"/></p>					</form>
							</div><!-- #respond -->
			</div>

	
	</div>

	<div id="sidebar">
		<ul>
			
			<li id="paypal-donate" class="widget widget_wpaypal"><h2 class="widgettitle">Buy Otto a Beer</h2>
<div style="margin-top:5px;margin-bottom:5px;text-align:left;">
		<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
		<p><input type="hidden" name="cmd" value="_xclick" />
		<input type="hidden" name="business" value="otto@ottodestruct.com" />
		<input type="hidden" name="item_name" value="Donation to Otto on WordPress" />
		<input type="hidden" name="item_number" value="0" />
		<input type="hidden" name="notify_url" value="" />
		<input type="hidden" name="no_shipping" value="1" /><input type="hidden" name="return" value="http://ottopress.com" />
		<input type="hidden" name="no_note" value="1" />
		<input type="hidden" name="tax" value="0" />
		<input type="hidden" name="bn" value="PP-DonationsBF" />
		<input type="hidden" name="on0" value="Website" />
		Currency: <br />
		<select id="currency_code" name="currency_code">
		<option value="USD">U.S. Dollars</option>
		<option value="AUD">Australian Dollars</option>
		<option value="CAD">Canadian Dollars</option>
		<option value="EUR">Euros</option>
		<option value="GBP">Pounds Sterling</option>
		<option value="JPY">Yen</option></select></p>
		<p>Amount: <br /><input type="text" name="amount" size="16" title="The amount you wish to donate" value="5.00" /></p>
		<p>Website(Optional): <br /><input type="text" size="16" title="Your website (will be displayed)" name="os0" value="" /></p><p><input class="ppimg" type="image" src="https://www.paypal.com/en_US/i/btn/x-click-but21.gif" name="submit" style="border:0;" alt="Make payments with PayPal - fast, free and secure" /></p></form></div></li>
<li id="text-7" class="widget widget_text">			<div class="textwidget">Hey, I also take Bitcoins! Send them to: </br>
<a href="bitcoin:1ottoqnFyTtaB6GiJZxMQ79rsSqBL2ZBg">
<img src="https://chart.googleapis.com/chart?chs=150x150&cht=qr&chl=bitcoin:1ottoqnFyTtaB6GiJZxMQ79rsSqBL2ZBg" /><br />
1ottoqnFyTtaB6GiJZxMQ79rsSqBL2ZBg</a></div>
		</li>
<li id="text-5" class="widget widget_text"><h2 class="widgettitle">Subscribe!</h2>
			<div class="textwidget"><!-- <a href="https://plus.google.com/111166992820603637934?prsrc=3" style="cursor:pointer;display:inline-block;text-decoration:none;color:#333;font:13px/16px arial,sans-serif;"><span style="display:inline-block;font-weight:bold;vertical-align:top;margin-right:5px;margin-top:8px;">Otto on WordPress</span><span style="display:inline-block;vertical-align:top;margin-right:15px;margin-top:8px;">on</span><img src="https://ssl.gstatic.com/images/icons/gplus-32.png" alt="" style="border:0;width:32px;height:32px;"/></a>
-->
<div class="g-plus" data-href="https://plus.google.com/111166992820603637934?rel=publisher" data-width="250" data-height="131" data-theme="light"></div>
</div>
		</li>
<li id="blog_subscription-3" class="widget jetpack_subscription_widget"><h2 class="widgettitle"><label for="subscribe-field"></label></h2>

		<form action="#" method="post" accept-charset="utf-8" id="subscribe-blog-blog_subscription-3">
			<p id="subscribe-text">Enter your email address to subscribe to this blog and receive notifications of new posts by email.</p><p>Join 331 other subscribers</p>

			<p id="subscribe-email"><input type="text" name="email" value="Email Address" id="subscribe-field" onclick="if ( this.value == 'Email Address' ) { this.value = ''; }" onblur="if ( this.value == '' ) { this.value = 'Email Address'; }" /></p>

			<p id="subscribe-submit">
				<input type="hidden" name="action" value="subscribe" />
				<input type="hidden" name="source" value="http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/comment-page-2/" />
				<input type="hidden" name="sub-type" value="widget" />
				<input type="hidden" name="redirect_fragment" value="blog_subscription-3" />
								<input type="submit" value="Subscribe" name="jetpack_subscriptions_widget" />
			</p>
		</form>

		
</li>
<li id="text-3" class="widget widget_text"><h2 class="widgettitle">Email Me</h2>
			<div class="textwidget"><ul><li><span class="vcard microid-mailto+http:sha1:23e9670868f6d2b16fe1f6b3db80c8f0423a082a">
<span style="display:none;">
<span class="adr">
 <span class="locality">Memphis</span>,
 <span class="region">TN</span>
 <span class="postal-code">38103</span>
 <span class="country-name">U.S.A.</span>
</span>
<a class="url fn" href="http://ottodestruct.com">Otto</a>
<span class="uid">240cf86e-5cad-11dc-8314-0800200c9a66</span>
</span>
<a class="email" href="mailto:otto@ottodestruct.com">otto@ottodestruct.com</a></span></li></ul>
<a rel="author" href="https://plus.google.com/100201852715113506716?rel=author">
  <img src="https://ssl.gstatic.com/images/icons/gplus-16.png" width="16" height="16">
</a>
</a>
<!-- 

This rant is hidden in HTML comments. If I pointed you to it, then you probably emailed me about the fact that my email address is in plaintext directly above this comment. If you happened to run across it because you just like looking at HTML comments, well, easter egg! :)

YES, that is a bare mailto: href above. 
YES, that is my real email address. 
And YES, it's intentional.

Obfuscating your email address on the web is stupid. 

Firstly, hiding your email address doesn't prevent spam. Spammers get addresses in bulk from mailing lists and websites and other sources. Sure, some scrapers exist, but they are by far the minority of the sources for email lists.

Secondly, hiding your email address ruins the whole point of email. The purpose of publishing my email address is so that anybody, and I do mean *anybody*, can email me. Before the days of cell phones, your phone number and physical address used to be published in a big book that everybody received, for free, on a semi-annual basis. It had distinctive yellow pages in it. Your contact information is not, and never was supposed to be, private information. Treating it as such is stupid.

Thirdly, I have great spam protection. For one, I use GMail, which has frankly incredible filtering because of the volume of mail they deal with. For another, I use various sets of filters to categorize incoming mail into various categories of things. Hell, I can even run statistics on it, if I want. This is a much better solution than continually giving out fake email addresses, or using +stuff to figure out who sent what where... I'd prefer to simply let my filters deal with it instead. 

Finally, if you're one of those systems that scours the web and/or social networks for visible email addresses and then automatically emails that person to let them know that their address is visible, then by all means please just fuck off and die. You're part of the problem. On the other hand, if you're just a regular guy with good intentions, then this doesn't apply to you. :)

Just my 2 cents.

--></div>
		</li>
<li id="categories-2" class="widget widget_categories"><h2 class="widgettitle">Categories</h2>
		<ul>
	<li class="cat-item cat-item-573"><a href="http://ottopress.com/category/code/" title="View all posts filed under Code">Code</a>
</li>
	<li class="cat-item cat-item-574"><a href="http://ottopress.com/category/other/" title="View all posts filed under Other">Other</a>
</li>
	<li class="cat-item cat-item-575"><a href="http://ottopress.com/category/rants/" title="View all posts filed under Rants">Rants</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://ottopress.com/category/uncategorized/" title="View all posts filed under Uncategorized">Uncategorized</a>
</li>
	<li class="cat-item cat-item-576"><a href="http://ottopress.com/category/wordpress/" title="View all posts filed under WordPress">WordPress</a>
</li>
		</ul>
</li>
<li id="archives-2" class="widget widget_archive"><h2 class="widgettitle">Archives</h2>
		<ul>
	<li><a href='http://ottopress.com/2014/02/'>February 2014</a></li>
	<li><a href='http://ottopress.com/2013/11/'>November 2013</a></li>
	<li><a href='http://ottopress.com/2013/10/'>October 2013</a></li>
	<li><a href='http://ottopress.com/2013/06/'>June 2013</a></li>
	<li><a href='http://ottopress.com/2013/03/'>March 2013</a></li>
	<li><a href='http://ottopress.com/2012/11/'>November 2012</a></li>
	<li><a href='http://ottopress.com/2012/09/'>September 2012</a></li>
	<li><a href='http://ottopress.com/2012/08/'>August 2012</a></li>
	<li><a href='http://ottopress.com/2012/07/'>July 2012</a></li>
	<li><a href='http://ottopress.com/2012/05/'>May 2012</a></li>
	<li><a href='http://ottopress.com/2012/02/'>February 2012</a></li>
	<li><a href='http://ottopress.com/2012/01/'>January 2012</a></li>
	<li><a href='http://ottopress.com/2011/12/'>December 2011</a></li>
	<li><a href='http://ottopress.com/2011/11/'>November 2011</a></li>
	<li><a href='http://ottopress.com/2011/10/'>October 2011</a></li>
	<li><a href='http://ottopress.com/2011/09/'>September 2011</a></li>
	<li><a href='http://ottopress.com/2011/08/'>August 2011</a></li>
	<li><a href='http://ottopress.com/2011/07/'>July 2011</a></li>
	<li><a href='http://ottopress.com/2011/06/'>June 2011</a></li>
	<li><a href='http://ottopress.com/2011/05/'>May 2011</a></li>
	<li><a href='http://ottopress.com/2011/04/'>April 2011</a></li>
	<li><a href='http://ottopress.com/2011/03/'>March 2011</a></li>
	<li><a href='http://ottopress.com/2011/02/'>February 2011</a></li>
	<li><a href='http://ottopress.com/2011/01/'>January 2011</a></li>
	<li><a href='http://ottopress.com/2010/12/'>December 2010</a></li>
	<li><a href='http://ottopress.com/2010/11/'>November 2010</a></li>
	<li><a href='http://ottopress.com/2010/10/'>October 2010</a></li>
	<li><a href='http://ottopress.com/2010/09/'>September 2010</a></li>
	<li><a href='http://ottopress.com/2010/08/'>August 2010</a></li>
	<li><a href='http://ottopress.com/2010/06/'>June 2010</a></li>
	<li><a href='http://ottopress.com/2010/05/'>May 2010</a></li>
	<li><a href='http://ottopress.com/2010/04/'>April 2010</a></li>
	<li><a href='http://ottopress.com/2010/03/'>March 2010</a></li>
	<li><a href='http://ottopress.com/2010/02/'>February 2010</a></li>
	<li><a href='http://ottopress.com/2009/11/'>November 2009</a></li>
	<li><a href='http://ottopress.com/2009/09/'>September 2009</a></li>
	<li><a href='http://ottopress.com/2008/09/'>September 2008</a></li>
		</ul>
</li>
		<li id="recent-posts-2" class="widget widget_recent_entries">		<h2 class="widgettitle">Recent Posts</h2>
		<ul>
					<li>
				<a href="http://ottopress.com/2014/better-know-a-vulnerability-cross-site-request-forgery-csrf/">Better Know a Vulnerability: Cross Site Request Forgery (CSRF)</a>
						</li>
					<li>
				<a href="http://ottopress.com/2013/better-know-a-vulnerability-sql-injection/">Better Know a Vulnerability: SQL Injection</a>
						</li>
					<li>
				<a href="http://ottopress.com/2013/language-packs-101-prepwork/">Language Packs 101 &#8211; Prepwork</a>
						</li>
					<li>
				<a href="http://ottopress.com/2013/slides-a-presentation-theme/">Slides: A Presentation Theme</a>
						</li>
					<li>
				<a href="http://ottopress.com/2013/im-not-a-fan-of-orange/">I&#8217;m not a fan of orange&#8230;</a>
						</li>
				</ul>
		</li>
<li id="text-6" class="widget widget_text"><h2 class="widgettitle">WP Core Contributions</h2>
			<div class="textwidget"><p>
<a href='http://core.trac.wordpress.org/changeset/28072'>[28072]</a> - <a href='http://core.trac.wordpress.org/ticket/19393'>#19393</a><br />
<a href='http://core.trac.wordpress.org/changeset/27522'>[27522]</a> - <a href='http://core.trac.wordpress.org/ticket/19889'>#19889</a><br />
<a href='http://core.trac.wordpress.org/changeset/27399'>[27399]</a> - <a href='http://core.trac.wordpress.org/ticket/25665'>#25665</a><br />
<a href='http://core.trac.wordpress.org/changeset/26978'>[26978]</a> - <a href='http://core.trac.wordpress.org/ticket/23149'>#23149</a><br />
<a href='http://core.trac.wordpress.org/changeset/26711'>[26711]</a> - <a href='http://core.trac.wordpress.org/ticket/21442'>#21442</a><br />
<a href='http://core.trac.wordpress.org/changeset/26072'>[26072]</a> - <a href='http://core.trac.wordpress.org/ticket/25858'>#25858</a><br />
<a href='http://core.trac.wordpress.org/changeset/22152'>[22152]</a> - <a href='http://core.trac.wordpress.org/ticket/21914'>#21914</a><br />
<a href='http://core.trac.wordpress.org/changeset/22026'>[22026]</a> - <a href='http://core.trac.wordpress.org/ticket/22002'>#22002</a><br />
<a href='http://core.trac.wordpress.org/changeset/21839'>[21839]</a> - <a href='http://core.trac.wordpress.org/ticket/16996'>#16996</a><br />
<a href='http://core.trac.wordpress.org/changeset/21802'>[21802]</a> - <a href='http://core.trac.wordpress.org/ticket/18674'>#18674</a><br />
<a href='http://core.trac.wordpress.org/changeset/21776'>[21776]</a> - <a href='http://core.trac.wordpress.org/ticket/13729'>#13729</a><br />
<a href='http://core.trac.wordpress.org/changeset/21609'>[21609]</a> - <a href='http://core.trac.wordpress.org/ticket/19324'>#19324</a><br />
<a href='http://core.trac.wordpress.org/changeset/20916'>[20916]</a> - <a href='http://core.trac.wordpress.org/ticket/20448'>#20448</a><br />
<a href='http://core.trac.wordpress.org/changeset/20784'>[20784]</a> - <a href='http://core.trac.wordpress.org/ticket/20448'>#20448</a><br />
<a href='http://core.trac.wordpress.org/changeset/20783'>[20783]</a> - <a href='http://core.trac.wordpress.org/ticket/20448'>#20448</a><br />
<a href='http://core.trac.wordpress.org/changeset/20267'>[20267]</a> - <a href='http://core.trac.wordpress.org/ticket/13774'>#13774</a><br />
<a href='http://core.trac.wordpress.org/changeset/19721'>[19721]</a> - <a href='http://core.trac.wordpress.org/ticket/19626'>#19626</a><br />
<a href='http://core.trac.wordpress.org/changeset/19003'>[19003]</a> - <a href="http://core.trac.wordpress.org/ticket/17406">#17406</a><br />
<a href='http://core.trac.wordpress.org/changeset/18741'>[18741]</a> - <a href="http://core.trac.wordpress.org/ticket/15473">#15473</a><br />
<a href='http://core.trac.wordpress.org/changeset/18602'>[18602]</a> - <a href="http://core.trac.wordpress.org/ticket/18230">#18230</a><br />
<a href='http://core.trac.wordpress.org/changeset/18541'>[18541]</a> - <a href="http://core.trac.wordpress.org/ticket/16687">#16687</a><br />
<a href='http://core.trac.wordpress.org/changeset/18205'>[18205]</a> - <a href="http://core.trac.wordpress.org/ticket/17148">#17148</a><br />
<a href='http://core.trac.wordpress.org/changeset/17254'>[17254]</a> - <a href="http://core.trac.wordpress.org/ticket/16192">#16192</a><br />
<a href='http://core.trac.wordpress.org/changeset/16555'>[16555]</a> - <a href="http://core.trac.wordpress.org/ticket/12891">#12891</a><br />
<a href='http://core.trac.wordpress.org/changeset/16284'>[16284]</a> - <a href="http://core.trac.wordpress.org/ticket/13324">#13324</a><br />
<a href='http://core.trac.wordpress.org/changeset/13420'>[13420]</a> - <a href="http://core.trac.wordpress.org/ticket/12291">#12291</a><br />
<a href='http://core.trac.wordpress.org/changeset/12581'>[12581]</a> - <a href="http://core.trac.wordpress.org/ticket/7225">#7225</a><br />
<a href='http://core.trac.wordpress.org/changeset/11738'>[11738]</a> - <a href="http://core.trac.wordpress.org/ticket/10145">#10145</a><br />
<a href='http://core.trac.wordpress.org/changeset/11329'>[11329]</a> - <a href="http://core.trac.wordpress.org/ticket/3962">#3962</a><br />
<a href='http://core.trac.wordpress.org/changeset/10962'>[10962]</a> - <a href="http://core.trac.wordpress.org/ticket/3962">#3962</a><br />
<a href='http://core.trac.wordpress.org/changeset/10757'>[10757]</a> - <a href="http://core.trac.wordpress.org/ticket/3962">#3962</a><br />
<a href='http://core.trac.wordpress.org/changeset/10753'>[10753]</a> - <a href="http://core.trac.wordpress.org/ticket/3962">#3962</a><br />
<a href='http://core.trac.wordpress.org/changeset/10252'>[10252]</a> - <a href="http://core.trac.wordpress.org/ticket/6791">#6791</a><br />
<a href='http://core.trac.wordpress.org/changeset/9276'>[9276]</a> - <a href="http://core.trac.wordpress.org/ticket/7124">#7124</a><br />
<a href='http://core.trac.wordpress.org/changeset/9209'>[9209]</a> - <a href="http://core.trac.wordpress.org/ticket/7901">#7901</a><br />
<a href='http://core.trac.wordpress.org/changeset/9207'>[9207]</a> - <a href="http://core.trac.wordpress.org/ticket/7635">#7635</a><br />
<a href='http://core.trac.wordpress.org/changeset/9139'>[9139]</a> - <a href="http://core.trac.wordpress.org/ticket/7847">#7847</a><br />
<a href='http://core.trac.wordpress.org/changeset/9089'>[9089]</a> - <a href="http://core.trac.wordpress.org/ticket/7772">#7772</a><br />
<a href='http://core.trac.wordpress.org/changeset/8968'>[8968]</a> - <a href="http://core.trac.wordpress.org/ticket/7761">#7761</a><br />
<a href='http://core.trac.wordpress.org/changeset/8285'>[8285]</a> - <a href="http://core.trac.wordpress.org/ticket/6879">#6879</a><br />
<a href='http://core.trac.wordpress.org/changeset/8208'>[8208]</a> - <a href="http://core.trac.wordpress.org/ticket/4448">#4448</a><br />
<a href='http://core.trac.wordpress.org/changeset/8132'>[8132]</a> - <a href="http://core.trac.wordpress.org/ticket/4954">#4954</a><br />
<a href='http://core.trac.wordpress.org/changeset/8131'>[8131]</a> - <a href="http://core.trac.wordpress.org/ticket/6590">#6590</a><br />
<a href='http://core.trac.wordpress.org/changeset/7869'>[7869]</a> - <a href="http://core.trac.wordpress.org/ticket/6513">#6513</a><br />
<a href='http://core.trac.wordpress.org/changeset/7647'>[7647]</a> - <a href="http://core.trac.wordpress.org/ticket/6608">#6608</a><br />
<a href='http://core.trac.wordpress.org/changeset/7461'>[7461]</a> - <a href="http://core.trac.wordpress.org/ticket/6339">#6339</a><br />
<a href='http://core.trac.wordpress.org/changeset/6873'>[6873]</a> - <a href="http://core.trac.wordpress.org/ticket/4986">#4986</a><br />
<a href='http://core.trac.wordpress.org/changeset/6760'>[6760]</a> - <a href="http://core.trac.wordpress.org/ticket/4617">#4617</a><br />
<a href='http://core.trac.wordpress.org/changeset/6616'>[6616]</a> - <a href="http://core.trac.wordpress.org/ticket/5155">#5155</a><br />
<a href='http://core.trac.wordpress.org/changeset/6439'>[6439]</a> - <a href="http://core.trac.wordpress.org/ticket/2805">#2805</a><br />
<a href='http://core.trac.wordpress.org/changeset/6091'>[6091]</a> - <a href="http://core.trac.wordpress.org/ticket/4182">#4182</a><br />
<a href='http://core.trac.wordpress.org/changeset/6086'>[6086]</a> - <a href="http://core.trac.wordpress.org/ticket/4946">#4946</a><br />
<a href='http://core.trac.wordpress.org/changeset/5986'>[5986]</a> - <a href="http://core.trac.wordpress.org/ticket/4873">#4873</a><br />
<a href='http://core.trac.wordpress.org/changeset/5982'>[5982]</a> - <a href="http://core.trac.wordpress.org/ticket/4800">#4800</a><br />
<a href='http://core.trac.wordpress.org/changeset/5958'>[5958]</a> - <a href="http://core.trac.wordpress.org/ticket/4625">#4625</a><br />
<a href='http://core.trac.wordpress.org/changeset/5920'>[5920]</a> - <a href="http://core.trac.wordpress.org/ticket/4703">#4703</a><br />
<a href='http://core.trac.wordpress.org/changeset/5910'>[5910]</a> - <a href="http://core.trac.wordpress.org/ticket/4654">#4654</a><br />
<a href='http://core.trac.wordpress.org/changeset/5881'>[5881]</a> - <a href="http://core.trac.wordpress.org/ticket/4704">#4704</a><br />
<a href='http://core.trac.wordpress.org/changeset/5857'>[5857]</a> - <a href="http://core.trac.wordpress.org/ticket/4625">#4625</a><br />
<a href='http://core.trac.wordpress.org/changeset/5848'>[5848]</a> - <a href="http://core.trac.wordpress.org/ticket/4499">#4499</a><br />
<a href='http://core.trac.wordpress.org/changeset/5845'>[5845]</a> - <a href="http://core.trac.wordpress.org/ticket/4547">#4547</a><br />
<a href='http://core.trac.wordpress.org/changeset/5317'>[5317]</a> - <a href="http://core.trac.wordpress.org/ticket/4169">#4169</a><br />
<a href='http://core.trac.wordpress.org/changeset/5154'>[5154]</a> - <a href="http://core.trac.wordpress.org/ticket/4057">#4057</a><br />
<a href='http://core.trac.wordpress.org/changeset/5151'>[5151]</a> - <a href="http://core.trac.wordpress.org/ticket/4057">#4057</a><br />
<a href='http://core.trac.wordpress.org/changeset/5104'>[5104]</a> - <a href="http://core.trac.wordpress.org/ticket/3790">#3790</a><br />
<a href='http://core.trac.wordpress.org/changeset/4964'>[4964]</a> - <a href="http://core.trac.wordpress.org/ticket/3898">#3898</a><br />
</p></div>
		</li>
		</ul>
	</div>

</div>
<div id="footer">
<div style="float:left;"><a href="http://internetdefenseleague.org"><img src="http://internetdefenseleague.org/images/badges/final/footer_badge.png" alt="Member of The Internet Defense League" /></a></div>
<a href="http://ottopress.com/feed/">Entries (RSS)</a> and <a href="http://ottopress.com/comments/feed/">Comments (RSS)</a>.<br />
<span about="http://ottodestruct.com/" xmlns:cc="http://creativecommons.org/ns#">
This page, by <a property="cc:attributionName" rel="cc:attributionURL" href="http://ottodestruct.com/">Otto</a>, is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike License</a>.</span><br />
Powered by <a href="http://wordpress.org/" title="Powered by WordPress.">WordPress</a>.<br />
<img alt='css.php' src="http://ottopress.com/wp-content/plugins/cookies-for-comments/css.php?k=c6a73cb029f035cdaa9e9e8336d25169&amp;o=i&amp;t=1197008651" width='1' height='1' />	<div style="display:none">
	<div class="grofile-hash-map-35dc4e1789f9d16a41f512d674277018">
	</div>
	<div class="grofile-hash-map-0994d5e2e158a24ba8017c2525d78263">
	</div>
	<div class="grofile-hash-map-2a3f5bdeeedc622d7b798f6675e8b14d">
	</div>
	<div class="grofile-hash-map-14f1821194a56b9e0013e7cc32772ea3">
	</div>
	<div class="grofile-hash-map-d676f3728384b7f0ad416c4e9317fc6c">
	</div>
	<div class="grofile-hash-map-a58f31f33f9180e183a8bf1c8156c0dd">
	</div>
	<div class="grofile-hash-map-573ac69a7840213ea66229492828e4e8">
	</div>
	<div class="grofile-hash-map-3d7257483a77db85ca8920a66ebad5e9">
	</div>
	<div class="grofile-hash-map-bd1b0c0fd53cf1879636a1ae3c8ae013">
	</div>
	<div class="grofile-hash-map-c69513a092b95babdf1421378047307e">
	</div>
	<div class="grofile-hash-map-d1c0c22eb9004b76970776ba46b197ad">
	</div>
	<div class="grofile-hash-map-06c2eec18ebfce35272d88249c0260d2">
	</div>
	<div class="grofile-hash-map-58b9030d47f39898ecbf3aea001a2c39">
	</div>
	<div class="grofile-hash-map-d89a60edf623078f82d13ad04c42a6ca">
	</div>
	<div class="grofile-hash-map-8adf40d2c9b9074df0f407588af1ff74">
	</div>
	<div class="grofile-hash-map-cc22b6d0ce75926999a7b158d016025e">
	</div>
	<div class="grofile-hash-map-0fa3e5ac33cd6d38d7fde8479a3dbcd8">
	</div>
	<div class="grofile-hash-map-404fd76e7fceebe4ba747bf8f28eb15d">
	</div>
	<div class="grofile-hash-map-6bbdb6c5b85226961ca41f9572aaeabd">
	</div>
	<div class="grofile-hash-map-4f7dbd6f90e404e5d09fcd5fb75cb945">
	</div>
	<div class="grofile-hash-map-d4b33fbcebee6b6cd76af15cb4e7f690">
	</div>
	<div class="grofile-hash-map-78e5bfe9998552dd99963575d434b4ec">
	</div>
	<div class="grofile-hash-map-aa10deab2ca576d17c6a3b44d20e04d7">
	</div>
	<div class="grofile-hash-map-7b9e4e6b13ff500f8888a1b5856e0df1">
	</div>
	<div class="grofile-hash-map-42595f5c91d5dc86ad47e73286eda146">
	</div>
	<div class="grofile-hash-map-2245d066447c5ab02a5e38b80415dd9c">
	</div>
	<div class="grofile-hash-map-24265b54781fec8f7dfa070bbf933cf3">
	</div>
	<div class="grofile-hash-map-d5f174702f740d835b8689eed785c950">
	</div>
	<div class="grofile-hash-map-f5ddd4f5224c3ba3d9447e4ced920c2d">
	</div>
	<div class="grofile-hash-map-bc3a4edeb9cc4d2e0c050762f0cf2e4f">
	</div>
	<div class="grofile-hash-map-9bd334119659586654909fc34cdfe5b1">
	</div>
	<div class="grofile-hash-map-4905ffc63698f3379438f9d5ffba499f">
	</div>
	<div class="grofile-hash-map-0d11e9c341712a5f28b7faad466a7fe6">
	</div>
	<div class="grofile-hash-map-574d19678cf8618867a34511cccc0bf9">
	</div>
	<div class="grofile-hash-map-1609cc286d0ca8fdfb09357c9074dc40">
	</div>
	<div class="grofile-hash-map-5889902f05997e1cfb1df07df41d2ebb">
	</div>
	<div class="grofile-hash-map-57a24cd097db5fbe5e9051e6bfd921d6">
	</div>
	</div>
<script type='text/javascript' src='http://ottopress.com/wp-content/plugins/akismet/_inc/form.js?ver=3.0.1'></script>
<script type='text/javascript' src='http://ottopress.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9'></script>
<script type='text/javascript' src='http://ottopress.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPhp.js?ver=3.0.9'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://ottopress.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://ottopress.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<link rel='stylesheet' id='gplus-css'  href='http://ottopress.com/wp-content/plugins/jetpack/modules/gplus-authorship/style.css?ver=3.9.1' type='text/css' media='all' />
<link rel='stylesheet' id='yarppRelatedCss-css'  href='http://ottopress.com/wp-content/plugins/yet-another-related-posts-plugin/style/related.css?ver=3.9.1' type='text/css' media='all' />
<script type='text/javascript' src='http://ottopress.com/wp-includes/js/comment-reply.js?ver=3.9.1'></script>
<script type='text/javascript' src='http://ottopress.com/wp-content/plugins/jetpack/modules/photon/photon.js?ver=20130122'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201430'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var mejsL10n = {"language":"en-US","strings":{"Close":"Close","Fullscreen":"Fullscreen","Download File":"Download File","Download Video":"Download Video","Play\/Pause":"Play\/Pause","Mute Toggle":"Mute Toggle","None":"None","Turn off Fullscreen":"Turn off Fullscreen","Go Fullscreen":"Go Fullscreen","Unmute":"Unmute","Mute":"Mute","Captions\/Subtitles":"Captions\/Subtitles"}};
var _wpmejsSettings = {"pluginPath":"\/wp-includes\/js\/mediaelement\/"};
/* ]]> */
</script>
<script type='text/javascript' src='http://ottopress.com/wp-includes/js/mediaelement/mediaelement-and-player.min.js?ver=2.14.2'></script>
<script type='text/javascript' src='http://ottopress.com/wp-includes/js/mediaelement/wp-mediaelement.js?ver=3.9.1'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?ver=2014Julaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://ottopress.com/wp-content/plugins/jetpack/modules/wpgroho.js?ver=3.9.1'></script>
<script type='text/javascript' src='//apis.google.com/js/plusone.js?ver=3.9.1'></script>

	<script src="http://stats.wordpress.com/e-201430.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:3.0.2',blog:'12342457',post:'331',tz:'-5'});
	var load_cmc = function(){linktracker_init(12342457,331,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script></div></div>

<script type="text/javascript">
    window._idl = {};
    _idl.variant = "modal";
    (function() {
        var idl = document.createElement('script');
        idl.type = 'text/javascript';
        idl.async = true;
        idl.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'members.internetdefenseleague.org/include/?url=' + (_idl.url || '') + '&campaign=' + (_idl.campaign || '') + '&variant=' + (_idl.variant || 'banner');
        document.getElementsByTagName('body')[0].appendChild(idl);
    })();
</script>

</body>
</html>
	
