http://www.fabytes.com/fab/2014/06/20/protonmail-jssecurity-review/
HTTP/1.1 200 OK
Date: Thu, 24 Jul 2014 14:42:22 GMT
Content-Type: text/html; charset=UTF-8
Content-Length: 95563
Connection: close
Server: Apache/2
X-Powered-By: PHP/5.3.13
X-Pingback: http://www.fabytes.com/fab/xmlrpc.php
Link: <http://wp.me/p32w9r-5R>; rel=shortlink
Accept-Ranges: bytes
Age: 0

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" prefix="og: http://ogp.me/ns#">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="distribution" content="global" />

<!-- Note: If you have your Privacy Settings in WP Admin set to block search engines, WP will override this! -->
<meta name="robots" content="all" />



<title>Protonmail security review - &mdash; </title>


<meta name="DC.title" content="Protonmail security review - &mdash; " />

<link rel="canonical" href="http://www.fabytes.com/fab/2014/06/20/protonmail-jssecurity-review/" />

<link rel="stylesheet" href="http://www.fabytes.com/fab/wp-content/themes/black-hat/style.css" type="text/css" media="screen, projection" />
<link rel="stylesheet" href="http://www.fabytes.com/fab/wp-content/themes/black-hat/print.css" type="text/css" media="print" />

<link href="http://www.fabytes.com/fab/wp-content/themes/black-hat/left.css" rel="stylesheet" type="text/css" />
<meta name="keywords" content="" />

<link rel="alternate" type="application/rss+xml" title="RDF/RSS 1.0 for: " href="http://www.fabytes.com/fab/feed/rdf/" />
<link rel="alternate" type="application/rss+xml" title="RSS 2.0 for: " href="http://www.fabytes.com/fab/feed/" />
<link rel="alternate" type="text/xml" title="RSS .92 for: " href="http://www.fabytes.com/fab/feed/rss/" />
<link rel="alternate" type="application/atom+xml" title="Atom 0.3 for: " href="http://www.fabytes.com/fab/feed/atom/" />
<link rel="alternate" type="application/rss+xml" title="All Comments (RSS) for: " href="http://www.fabytes.com/fab/comments/feed/" />

<link rel="alternate" type="application/rss+xml" title="Comments for: Protonmail security review" href="http://www.fabytes.com/fab/?feed=rss2&amp;p=363" />



<link rel="pingback" href="http://www.fabytes.com/fab/xmlrpc.php" />

	<link rel='archives' title='July 2014' href='http://www.fabytes.com/fab/2014/07/' />
	<link rel='archives' title='June 2014' href='http://www.fabytes.com/fab/2014/06/' />
	<link rel='archives' title='April 2014' href='http://www.fabytes.com/fab/2014/04/' />
	<link rel='archives' title='March 2014' href='http://www.fabytes.com/fab/2014/03/' />
	<link rel='archives' title='December 2013' href='http://www.fabytes.com/fab/2013/12/' />
	<link rel='archives' title='April 2013' href='http://www.fabytes.com/fab/2013/04/' />
	<link rel='archives' title='February 2013' href='http://www.fabytes.com/fab/2013/02/' />
	<link rel='archives' title='January 2013' href='http://www.fabytes.com/fab/2013/01/' />



<!-- This site is optimized with the Yoast WordPress SEO plugin v1.5.3.3 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="description" content="Protonmail security review: Review of the javascript code and the security offered by the new protonmail service"/>
<link rel="canonical" href="http://www.fabytes.com/fab/2014/06/20/protonmail-jssecurity-review/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Protonmail security review -" />
<meta property="og:description" content="Protonmail security review: Review of the javascript code and the security offered by the new protonmail service" />
<meta property="og:url" content="http://www.fabytes.com/fab/2014/06/20/protonmail-jssecurity-review/" />
<meta property="article:section" content="Security" />
<meta property="article:published_time" content="2014-06-20T22:13:18+00:00" />
<meta property="article:modified_time" content="2014-07-11T21:00:15+00:00" />
<meta property="og:updated_time" content="2014-07-11T21:00:15+00:00" />
<meta property="og:image" content="http://www.fabytes.com/fab/wp-content/uploads/2014/06/MailPage-300x192.jpg" />
<meta property="og:image" content="http://www.fabytes.com/fab/wp-content/uploads/2014/06/CodeJS-300x197.jpg" />
<meta property="og:image" content="http://www.fabytes.com/fab/wp-content/uploads/2014/06/SendMail-300x94.jpg" />
<meta property="og:image" content="http://www.fabytes.com/fab/wp-content/uploads/2014/06/mail-300x87.png" />
<meta property="og:image" content="http://www.fabytes.com/fab/wp-content/uploads/2014/06/Screenshot-21.06.2014-021025.png" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:site" content="@fabytes"/>
<meta name="twitter:creator" content="@fabytes"/>
<!-- / Yoast WordPress SEO plugin. -->

<script type="text/javascript">
(function() {
	var s = document.createElement('SCRIPT'), s1 = document.getElementsByTagName('SCRIPT')[0];
	s.type = 'text/javascript';
	s.async = true;
	s.src = '//widgets.digg.com/buttons.js';
	s1.parentNode.insertBefore(s, s1);
})();
</script>
<link rel="alternate" type="application/rss+xml" title=" &raquo; Protonmail security review Comments Feed" href="http://www.fabytes.com/fab/2014/06/20/protonmail-jssecurity-review/feed/" />
<link rel='stylesheet' id='twiget-widget-css-css'  href='http://www.fabytes.com/fab/wp-content/plugins/twiget/css/twiget.css?ver=3.9.1' type='text/css' media='all' />
<link rel='stylesheet' id='dcwp_plugin_admin_dcscf_css-css'  href='http://www.fabytes.com/fab/wp-content/plugins/slick-contact-forms/css/admin.css?ver=3.9.1' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack-subscriptions-css'  href='http://www.fabytes.com/fab/wp-content/plugins/jetpack/modules/subscriptions/subscriptions.css?ver=3.9.1' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-css'  href='http://www.fabytes.com/fab/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=2.6.5' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-neon-css'  href='http://www.fabytes.com/fab/wp-content/plugins/crayon-syntax-highlighter/themes/neon/neon.css?ver=2.6.5' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='http://www.fabytes.com/fab/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=2.6.5' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack-widgets-css'  href='http://www.fabytes.com/fab/wp-content/plugins/jetpack/modules/widgets/widgets.css?ver=20121003' type='text/css' media='all' />
<link rel='stylesheet' id='sharedaddy-css'  href='http://www.fabytes.com/fab/wp-content/plugins/jetpack/modules/sharedaddy/sharing.css?ver=3.0.2' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='http://www.fabytes.com/fab/wp-content/plugins/jetpack/_inc/genericons/genericons.css?ver=3.0.3' type='text/css' media='all' />
<script type='text/javascript' src='http://www.fabytes.com/fab/wp-includes/js/jquery/jquery.js?ver=1.11.0'></script>
<script type='text/javascript' src='http://www.fabytes.com/fab/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var TwigetArgs = {"via":"via twigetTweetClient","LessThanMin":"less than a minute ago","AboutAMin":"about a minute ago","MinutesAgo":"twigetRelTime minutes ago","AnHourAgo":"about an hour ago","HoursAgo":"about twigetRelTime hours ago","OneDayAgo":"1 day ago","DaysAgo":"twigetRelTime days ago","isSSL":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.fabytes.com/fab/wp-content/plugins/twiget/js/twiget.js?ver=3.9.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.6.5","is_admin":"0","ajaxurl":"http:\/\/www.fabytes.com\/fab\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.fabytes.com/fab/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=2.6.5'></script>
<script type='text/javascript' src='http://www.fabytes.com/fab/wp-content/plugins/slick-contact-forms/js/jquery.slick.contact.1.3.2.js?ver=3.9.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.fabytes.com/fab/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.fabytes.com/fab/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 3.9.1" />
<link rel='shortlink' href='http://wp.me/p32w9r-5R' />

	<link rel="stylesheet" href="http://www.fabytes.com/fab/wp-content/plugins/slick-contact-forms/skin.php?widget_id=2&amp;skin=black" type="text/css" media="screen"  />
	<link rel="stylesheet" href="http://www.fabytes.com/fab/wp-content/plugins/slick-contact-forms/css/form.css" type="text/css" media="screen"  />		<link rel="stylesheet" id="custom-css-css" type="text/css" href="http://www.fabytes.com/fab/?custom-css=1&#038;csblog=1&#038;cscache=6&#038;csrev=54" />
		
<!--[if IE]>
    <style type="text/css">
    #sidebar ul li ul li {
        border:1px solid #242323;
    }
    .iffy {padding-bottom:5px;}
    .related {
        border:1px solid #c4c3c3;
        background-color:#242323;
        padding:12px;
        margin-bottom: 50px;
    }
    </style>
<![endif]-->

<link rel="shortcut icon" href="http://www.fabytes.com/fab/wp-content/themes/black-hat/images/favicon.ico" />
<link rel="apple-touch-icon" href="http://www.fabytes.com/fab/wp-content/themes/black-hat/images/apple-touch-icon.png"/>
<script language="javascript" type="text/javascript">
	sfHover = function() {
		var sfEls = document.getElementById("menu").getElementsByTagName("LI");
		for (var i=0; i<sfEls.length; i++) {
			sfEls[i].onmouseover=function() {
				this.className+=" sfhover";
			}
			sfEls[i].onmouseout=function() {
				this.className=this.className.replace(new RegExp(" sfhover\\b"), "");
			}
		}
	}
	if (window.attachEvent) window.attachEvent("onload", sfHover);
</script>
</head>
<body class="wordpress y2014 m07 d24 h14 single postid-363 s-y2014 s-m06 s-d20 s-h22 s-category-security s-author-ragnar0k">

<div id="wrapper" class="hfeed">

	<div id="access">
			</div><!-- #access -->

	<div id="header">
		<h1 id="blog-title"><a href="http://www.fabytes.com/fab/" title="" rel="home"></a></h1>
		<div id="blog-description">Security, electronics, coding and stuff</div>
	</div><!--  #header -->

	<div id="allowed">
		<div id="menu"><div class="page-navi"><ul><li ><a href="http://www.fabytes.com/fab/">Home</a></li><li class="page_item page-item-56"><a href="http://www.fabytes.com/fab/about-me/">About me</a></li><li class="page_item page-item-59"><a href="http://www.fabytes.com/fab/projects/">ANNFiD</a></li></ul></div>
</div>	</div><!-- #allowed -->

	<div id="container">
		<div id="content">
            <div class="navigationpage">
                 <div class="alignleftnav">&laquo; <a href="http://www.fabytes.com/fab/2014/07/08/why-facebook-experiment-doesnt-surprise-me/" rel="next">Why Facebook experiment doesn&#8217;t surprise me</a></div>
                 <div class="alignrightnav"><a href="http://www.fabytes.com/fab/2014/06/11/neural-networks-anger/" rel="prev">Neural networks: anger!</a> &raquo;</div>
            <div class="clear"></div>
            </div>


			<div id="post-363" class="hentry p1 post publish author-ragnar0k category-security tag- y2014 m06 d20 h22">
				<h2 class="entry-title"><a href="http://www.fabytes.com/fab/2014/06/20/protonmail-jssecurity-review/" title="Permalink to Protonmail security review" rel="bookmark">Protonmail security review</a></h2>
				<div class="entry-meta">
					<span class="author vcard">Posted by <a class="url fn n" href="http://www.fabytes.com/fab/author/ragnar0k/" title="View all posts by ragnar0k">ragnar0k</a> on </span><abbr class="published" title="2014-06-20T22:13:18+0000">June 20, 2014 &#8211; 10:13 pm</abbr> &nbsp; &nbsp; &nbsp; 				</div>
				<div class="entry-categ">
					<span class="cat-links">Filed under <a href="http://www.fabytes.com/fab/category/security/" title="View all posts in Security" rel="category tag">Security</a></span>
									</div>				
				<div class="entry-content">
<p><strong>Note</strong>: Protonmail is still in beta, so things might change</p>
<p>Protonmail promises to deliver security to the mail world, accessible without any kind of monitoring from their side. As I write, <a href="https://www.indiegogo.com/projects/protonmail/">their project on indiegogo.com</a> has 27 days to go and already reached 128% of the goal.<br />
So, after all the media coverage received by Protonmail, is it really going to be the next alternative to gmail?<br />
But most importantly, is it as secure as it is advertised?<br />
Let&#8217;s look into some of its features&#8230;</p>
<p><a href="http://www.fabytes.com/fab/wp-content/uploads/2014/06/MailPage.jpg"><img class="alignnone  wp-image-373" src="http://www.fabytes.com/fab/wp-content/uploads/2014/06/MailPage-300x192.jpg" alt="MailPage" width="373" height="239" /></a></p>
<p>&nbsp;</p>
<p>The interface is very simple, no fuss. Gladly, no advertising so far based on “anonymous data” collected from our mail context. That is a good start I think.<br />
As promised, the javascript side is not compressed, leaving a bit of transparency to the user, but I&#8217;ll get to it in a bit&#8230;</p>
<p><a href="http://www.fabytes.com/fab/wp-content/uploads/2014/06/CodeJS.jpg"><img class="alignnone  wp-image-371" src="http://www.fabytes.com/fab/wp-content/uploads/2014/06/CodeJS-300x197.jpg" alt="CodeJS" width="362" height="238" /></a><br />
The interface to compose mails is also very simple; would be comparable to any standard webmail client, if it wasn&#8217;t for the encryption features on the right:</p>
<p><a href="http://www.fabytes.com/fab/wp-content/uploads/2014/06/SendMail.jpg"><img class="alignnone  wp-image-374" src="http://www.fabytes.com/fab/wp-content/uploads/2014/06/SendMail-300x94.jpg" alt="SendMail" width="440" height="138" /></a><br />
We can encrypt the mail and give it an expiration. I am not quite sure why would an email expire when saving the contents for offline reading would be very easy, but let&#8217;s move on&#8230;</p>
<p>Debugging a little bit, seems clear that we use our public key client side to encrypt our mail:</p><!-- Crayon Syntax Highlighter v2.6.5 -->

		<div id="crayon-53d11b4dccfca989400308" class="crayon-syntax crayon-theme-neon crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
function encryptMessage(message, randomKey) {

	message = encode_utf8_base64(message);
	// padding 
    var residual = message.length % 32;
	if((residual) != 0) {
		for(var i = 0; i &lt; 32 - residual; i++) {
			message = message + ' ';
		}
	}
	var cipher = openpgp.crypto.cfb.encrypt(openpgp.crypto.getPrefixRandom("aes256"), "aes256", message, randomKey, true);
	cipher = encode_utf8_base64(cipher);
	return cipher;
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-53d11b4dccfca989400308-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccfca989400308-2">2</div><div class="crayon-num" data-line="crayon-53d11b4dccfca989400308-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccfca989400308-4">4</div><div class="crayon-num" data-line="crayon-53d11b4dccfca989400308-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccfca989400308-6">6</div><div class="crayon-num" data-line="crayon-53d11b4dccfca989400308-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccfca989400308-8">8</div><div class="crayon-num" data-line="crayon-53d11b4dccfca989400308-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccfca989400308-10">10</div><div class="crayon-num" data-line="crayon-53d11b4dccfca989400308-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccfca989400308-12">12</div><div class="crayon-num" data-line="crayon-53d11b4dccfca989400308-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccfca989400308-14">14</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-53d11b4dccfca989400308-1"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">encryptMessage</span><span class="crayon-sy">(</span><span class="crayon-v">message</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">randomKey</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccfca989400308-2">&nbsp;</div><div class="crayon-line" id="crayon-53d11b4dccfca989400308-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">message</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">encode_utf8_base64</span><span class="crayon-sy">(</span><span class="crayon-v">message</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccfca989400308-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// padding </span></div><div class="crayon-line" id="crayon-53d11b4dccfca989400308-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">residual</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-cn">32</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccfca989400308-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">residual</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-53d11b4dccfca989400308-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">32</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">residual</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccfca989400308-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">message</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">' '</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53d11b4dccfca989400308-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccfca989400308-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-53d11b4dccfca989400308-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">cipher</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">openpgp</span><span class="crayon-sy">.</span><span class="crayon-v">crypto</span><span class="crayon-sy">.</span><span class="crayon-v">cfb</span><span class="crayon-sy">.</span><span class="crayon-e">encrypt</span><span class="crayon-sy">(</span><span class="crayon-v">openpgp</span><span class="crayon-sy">.</span><span class="crayon-v">crypto</span><span class="crayon-sy">.</span><span class="crayon-e">getPrefixRandom</span><span class="crayon-sy">(</span><span class="crayon-s">"aes256"</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"aes256"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">randomKey</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccfca989400308-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cipher</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">encode_utf8_base64</span><span class="crayon-sy">(</span><span class="crayon-v">cipher</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53d11b4dccfca989400308-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">cipher</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccfca989400308-14"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0074 seconds] -->
<p></p>
<p>So, the base encryption is AES256. </p>
<p>I believe arguments are then built within #totalpackage and sent (where the pgp part is added for *@protonmail.ch emails):</p>
<p></p><!-- Crayon Syntax Highlighter v2.6.5 -->

		<div id="crayon-53d11b4dccffa539389470" class="crayon-syntax crayon-theme-neon crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
function packageLooper(emailArray, type) {
  var counter = emailArray.length;
  if(counter == 0) return 0;

  for(var index=0; index&lt;counter; index++) {

    // message body
    var messageBody = $('textarea[name="MessageBody"]').val();
    if(messageBody.trim().length &lt; 1) messageBody = 'Empty message body.';        

    if (isEmailAddressPM(emailArray[index])) { // inside
      var publicKey = getPublicKey(emailArray[index]);
      if(publicKey != 0) {
        var tp = $('#totalPackage').val();
        var randomKey = generateRandomKey();
        var encryptedMessageBody = encryptMessage(messageBody, randomKey);
        var encryptedRandomKey = pgpEncrypt(randomKey, publicKey);
        var encryptedPackage = generateEmailPM(encryptedMessageBody, encryptedRandomKey);
        $('#totalPackage').val(tp+';{'+emailArray[index]+', '+type+', '+encryptedPackage+'}');  
      }
    }
    else if (emailArray[index].trim()!='') {
      if ($('#encOutside').is(':checked')) { // outside encrypted
        messageBody = encryptMessage(messageBody, openpgp.crypto.hash.sha256($('#outsidePw').val()));
        var tp = $('#totalPackage').val();
        $('#totalPackage').val(tp+';{'+emailArray[index]+', '+type+', '+messageBody+'}');       
      }
      else { // outside not encrypted
        var tp = $('#totalPackage').val();
        //$('#totalPackage').val(tp+';{'+emailArray[index]+', '+type+', '+messageBody+'}'); 
        $('#totalPackage').val(tp+';{'+emailArray[index]+', '+type+', out not encrypted'+'}'); 
      }     
    }
  } 
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-53d11b4dccffa539389470-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccffa539389470-2">2</div><div class="crayon-num" data-line="crayon-53d11b4dccffa539389470-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccffa539389470-4">4</div><div class="crayon-num" data-line="crayon-53d11b4dccffa539389470-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccffa539389470-6">6</div><div class="crayon-num" data-line="crayon-53d11b4dccffa539389470-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccffa539389470-8">8</div><div class="crayon-num" data-line="crayon-53d11b4dccffa539389470-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccffa539389470-10">10</div><div class="crayon-num" data-line="crayon-53d11b4dccffa539389470-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccffa539389470-12">12</div><div class="crayon-num" data-line="crayon-53d11b4dccffa539389470-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccffa539389470-14">14</div><div class="crayon-num" data-line="crayon-53d11b4dccffa539389470-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccffa539389470-16">16</div><div class="crayon-num" data-line="crayon-53d11b4dccffa539389470-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccffa539389470-18">18</div><div class="crayon-num" data-line="crayon-53d11b4dccffa539389470-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccffa539389470-20">20</div><div class="crayon-num" data-line="crayon-53d11b4dccffa539389470-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccffa539389470-22">22</div><div class="crayon-num" data-line="crayon-53d11b4dccffa539389470-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccffa539389470-24">24</div><div class="crayon-num" data-line="crayon-53d11b4dccffa539389470-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccffa539389470-26">26</div><div class="crayon-num" data-line="crayon-53d11b4dccffa539389470-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccffa539389470-28">28</div><div class="crayon-num" data-line="crayon-53d11b4dccffa539389470-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccffa539389470-30">30</div><div class="crayon-num" data-line="crayon-53d11b4dccffa539389470-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccffa539389470-32">32</div><div class="crayon-num" data-line="crayon-53d11b4dccffa539389470-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dccffa539389470-34">34</div><div class="crayon-num" data-line="crayon-53d11b4dccffa539389470-35">35</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-53d11b4dccffa539389470-1"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">packageLooper</span><span class="crayon-sy">(</span><span class="crayon-v">emailArray</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccffa539389470-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">counter</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">emailArray</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53d11b4dccffa539389470-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">counter</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccffa539389470-4">&nbsp;</div><div class="crayon-line" id="crayon-53d11b4dccffa539389470-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">index</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">index</span><span class="crayon-o">&lt;</span><span class="crayon-v">counter</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">index</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccffa539389470-6">&nbsp;</div><div class="crayon-line" id="crayon-53d11b4dccffa539389470-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// message body</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccffa539389470-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">messageBody</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'textarea[name="MessageBody"]'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">val</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53d11b4dccffa539389470-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">messageBody</span><span class="crayon-sy">.</span><span class="crayon-e">trim</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e ">messageBody</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'Empty message body.'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccffa539389470-10">&nbsp;</div><div class="crayon-line" id="crayon-53d11b4dccffa539389470-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">isEmailAddressPM</span><span class="crayon-sy">(</span><span class="crayon-v">emailArray</span><span class="crayon-sy">[</span><span class="crayon-v">index</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// inside</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccffa539389470-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">publicKey</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getPublicKey</span><span class="crayon-sy">(</span><span class="crayon-v">emailArray</span><span class="crayon-sy">[</span><span class="crayon-v">index</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53d11b4dccffa539389470-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">publicKey</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccffa539389470-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">tp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#totalPackage'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">val</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53d11b4dccffa539389470-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">randomKey</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">generateRandomKey</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccffa539389470-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">encryptedMessageBody</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">encryptMessage</span><span class="crayon-sy">(</span><span class="crayon-v">messageBody</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">randomKey</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53d11b4dccffa539389470-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">encryptedRandomKey</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">pgpEncrypt</span><span class="crayon-sy">(</span><span class="crayon-v">randomKey</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">publicKey</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccffa539389470-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">encryptedPackage</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">generateEmailPM</span><span class="crayon-sy">(</span><span class="crayon-v">encryptedMessageBody</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">encryptedRandomKey</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53d11b4dccffa539389470-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#totalPackage'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">val</span><span class="crayon-sy">(</span><span class="crayon-v">tp</span><span class="crayon-o">+</span><span class="crayon-s">';{'</span><span class="crayon-o">+</span><span class="crayon-v">emailArray</span><span class="crayon-sy">[</span><span class="crayon-v">index</span><span class="crayon-sy">]</span><span class="crayon-o">+</span><span class="crayon-s">', '</span><span class="crayon-o">+</span><span class="crayon-v">type</span><span class="crayon-o">+</span><span class="crayon-s">', '</span><span class="crayon-o">+</span><span class="crayon-v">encryptedPackage</span><span class="crayon-o">+</span><span class="crayon-s">'}'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccffa539389470-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-53d11b4dccffa539389470-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccffa539389470-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">emailArray</span><span class="crayon-sy">[</span><span class="crayon-v">index</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-e">trim</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">!=</span><span class="crayon-s">''</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-53d11b4dccffa539389470-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#encOutside'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-st">is</span><span class="crayon-sy">(</span><span class="crayon-s">':checked'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// outside encrypted</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccffa539389470-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">messageBody</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">encryptMessage</span><span class="crayon-sy">(</span><span class="crayon-v">messageBody</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">openpgp</span><span class="crayon-sy">.</span><span class="crayon-v">crypto</span><span class="crayon-sy">.</span><span class="crayon-v">hash</span><span class="crayon-sy">.</span><span class="crayon-e">sha256</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#outsidePw'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">val</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53d11b4dccffa539389470-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">tp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#totalPackage'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">val</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccffa539389470-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#totalPackage'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">val</span><span class="crayon-sy">(</span><span class="crayon-v">tp</span><span class="crayon-o">+</span><span class="crayon-s">';{'</span><span class="crayon-o">+</span><span class="crayon-v">emailArray</span><span class="crayon-sy">[</span><span class="crayon-v">index</span><span class="crayon-sy">]</span><span class="crayon-o">+</span><span class="crayon-s">', '</span><span class="crayon-o">+</span><span class="crayon-v">type</span><span class="crayon-o">+</span><span class="crayon-s">', '</span><span class="crayon-o">+</span><span class="crayon-v">messageBody</span><span class="crayon-o">+</span><span class="crayon-s">'}'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-53d11b4dccffa539389470-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccffa539389470-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// outside not encrypted</span></div><div class="crayon-line" id="crayon-53d11b4dccffa539389470-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">tp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#totalPackage'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">val</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccffa539389470-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//$('#totalPackage').val(tp+';{'+emailArray[index]+', '+type+', '+messageBody+'}'); </span></div><div class="crayon-line" id="crayon-53d11b4dccffa539389470-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#totalPackage'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">val</span><span class="crayon-sy">(</span><span class="crayon-v">tp</span><span class="crayon-o">+</span><span class="crayon-s">';{'</span><span class="crayon-o">+</span><span class="crayon-v">emailArray</span><span class="crayon-sy">[</span><span class="crayon-v">index</span><span class="crayon-sy">]</span><span class="crayon-o">+</span><span class="crayon-s">', '</span><span class="crayon-o">+</span><span class="crayon-v">type</span><span class="crayon-o">+</span><span class="crayon-s">', out not encrypted'</span><span class="crayon-o">+</span><span class="crayon-s">'}'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccffa539389470-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-53d11b4dccffa539389470-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dccffa539389470-34"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-53d11b4dccffa539389470-35"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0176 seconds] -->
<p>Then the draft is created:</p><!-- Crayon Syntax Highlighter v2.6.5 -->

		<div id="crayon-53d11b4dcd007555637480" class="crayon-syntax crayon-theme-neon crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
function buildDraftOutbox() {
  if (validate()) {
    var messageBody = $('textarea[name="MessageBody"]').val();
    if(messageBody.trim().length &lt; 1) messageBody = 'Empty message body.';
    var publicKey = $('#sender_publicKey').val();
    var randomKey = generateRandomKey();
    var encryptedMessageBody = encryptMessage(messageBody, randomKey);
    var encryptedRandomKey = pgpEncrypt(randomKey, publicKey);
    var encryptedPackage = generateEmailPM(encryptedMessageBody, encryptedRandomKey);
    $('#outboxPackage').val(encryptedPackage);  
  }
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-53d11b4dcd007555637480-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dcd007555637480-2">2</div><div class="crayon-num" data-line="crayon-53d11b4dcd007555637480-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dcd007555637480-4">4</div><div class="crayon-num" data-line="crayon-53d11b4dcd007555637480-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dcd007555637480-6">6</div><div class="crayon-num" data-line="crayon-53d11b4dcd007555637480-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dcd007555637480-8">8</div><div class="crayon-num" data-line="crayon-53d11b4dcd007555637480-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dcd007555637480-10">10</div><div class="crayon-num" data-line="crayon-53d11b4dcd007555637480-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dcd007555637480-12">12</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-53d11b4dcd007555637480-1"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">buildDraftOutbox</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dcd007555637480-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">validate</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-53d11b4dcd007555637480-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">messageBody</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'textarea[name="MessageBody"]'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">val</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dcd007555637480-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">messageBody</span><span class="crayon-sy">.</span><span class="crayon-e">trim</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e ">messageBody</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'Empty message body.'</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53d11b4dcd007555637480-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">publicKey</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#sender_publicKey'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">val</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dcd007555637480-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">randomKey</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">generateRandomKey</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53d11b4dcd007555637480-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">encryptedMessageBody</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">encryptMessage</span><span class="crayon-sy">(</span><span class="crayon-v">messageBody</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">randomKey</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dcd007555637480-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">encryptedRandomKey</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">pgpEncrypt</span><span class="crayon-sy">(</span><span class="crayon-v">randomKey</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">publicKey</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53d11b4dcd007555637480-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">encryptedPackage</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">generateEmailPM</span><span class="crayon-sy">(</span><span class="crayon-v">encryptedMessageBody</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">encryptedRandomKey</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dcd007555637480-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#outboxPackage'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">val</span><span class="crayon-sy">(</span><span class="crayon-v">encryptedPackage</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-53d11b4dcd007555637480-11"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dcd007555637480-12"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0063 seconds] -->
<p>This is good news – they are using the openpgp.js library to encrypt the messages, so it really happens all on the client side. Ok, but actually, this can be done using thunderbird too or most mail clients. That said, having it javascript based will give me the opportunity to have my pgp data always with me, even on someone else&#8217;s device.</p>
<p>Anyway, I clicked in the beginning to send the document encrypted externally. It seems to me that this part:</p><!-- Crayon Syntax Highlighter v2.6.5 -->

		<div id="crayon-53d11b4dcd011293699512" class="crayon-syntax crayon-theme-neon crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
    else if (emailArray[index].trim()!='') {
      if ($('#encOutside').is(':checked')) { // outside encrypted
        messageBody = encryptMessage(messageBody, openpgp.crypto.hash.sha256($('#outsidePw').val()));
        var tp = $('#totalPackage').val();
        $('#totalPackage').val(tp+';{'+emailArray[index]+', '+type+', '+messageBody+'}');       
      }</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-53d11b4dcd011293699512-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dcd011293699512-2">2</div><div class="crayon-num" data-line="crayon-53d11b4dcd011293699512-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dcd011293699512-4">4</div><div class="crayon-num" data-line="crayon-53d11b4dcd011293699512-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-53d11b4dcd011293699512-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-53d11b4dcd011293699512-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">emailArray</span><span class="crayon-sy">[</span><span class="crayon-v">index</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-e">trim</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">!=</span><span class="crayon-s">''</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dcd011293699512-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#encOutside'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-st">is</span><span class="crayon-sy">(</span><span class="crayon-s">':checked'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// outside encrypted</span></div><div class="crayon-line" id="crayon-53d11b4dcd011293699512-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">messageBody</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">encryptMessage</span><span class="crayon-sy">(</span><span class="crayon-v">messageBody</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">openpgp</span><span class="crayon-sy">.</span><span class="crayon-v">crypto</span><span class="crayon-sy">.</span><span class="crayon-v">hash</span><span class="crayon-sy">.</span><span class="crayon-e">sha256</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#outsidePw'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">val</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dcd011293699512-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">tp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#totalPackage'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">val</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53d11b4dcd011293699512-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#totalPackage'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">val</span><span class="crayon-sy">(</span><span class="crayon-v">tp</span><span class="crayon-o">+</span><span class="crayon-s">';{'</span><span class="crayon-o">+</span><span class="crayon-v">emailArray</span><span class="crayon-sy">[</span><span class="crayon-v">index</span><span class="crayon-sy">]</span><span class="crayon-o">+</span><span class="crayon-s">', '</span><span class="crayon-o">+</span><span class="crayon-v">type</span><span class="crayon-o">+</span><span class="crayon-s">', '</span><span class="crayon-o">+</span><span class="crayon-v">messageBody</span><span class="crayon-o">+</span><span class="crayon-s">'}'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-53d11b4dcd011293699512-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0065 seconds] -->
<p>is responsible for encrypting outbound messages. It looks to me this will encrypt only the message with an hashed AES256 pass (see encryptMessage function in the code above). Keep this in mind, we will get into it in a bit.</p>
<p>We then receive the email from protonmail. Obviously no receiver PK is checked since we don&#8217;t know it (and I can&#8217;t find a way to add them)</p>
<p><a href="http://www.fabytes.com/fab/wp-content/uploads/2014/06/mail.png"><img class="alignnone  wp-image-372" src="http://www.fabytes.com/fab/wp-content/uploads/2014/06/mail-300x87.png" alt="mail" width="462" height="134" /></a></p>
<p>The question at this point is&#8230;</p>
<p><strong>Are external mails kept just encrypted using a sha256 of our password using AES256?</strong><br />
It might seem like an OK solution now, but I bet in 5 years time hacking a sha256 won&#8217;t take so long. Even now with supercomputers won&#8217;t take long to break this SHA256. I personally don&#8217;t think at this stage protonmail offers an adequately secure external email.</p>
<p>In addition to that, answering to external emails now is impossible, but this might change.</p>
<p>Now, let&#8217;s forget about the AES256 scenario for a while. What are the other issues?<br />
Well, there are no signature and no certificate authorities here, so anybody with access to the mail and the password (let&#8217;s assume someone is sniffing chats + mails) can actually get the data.<br />
Ultimately, not using public keys, will lead to an additional exchange of keys, which in turn leads to a less secure solution.</p>
<p>All in all, this is a well thought system, though I think little privacy is offered with externally encrypted emails (which &#8211; in theory &#8211; can be decrypted by the server owners), and even our local emails might not stand the test of times (also, how scalable is it? Will we be able in the future to change algorithms without rebuilding the whole inbox?)</p>
<p>Never the less, my support goes to the guys, it is a great step forward to what we had before and even though there is room for improvement (and well, it is always possible my analysis has some flaws so welcome to comment) this I think is one way to make cryptography really accessible to anyone.</p>
<p>&#8230;Just one last heads-up. There are some pretty heavy limitations (in particular if you are used to Gmail space):<br />
<a href="http://www.fabytes.com/fab/wp-content/uploads/2014/06/Screenshot-21.06.2014-021025.png"><img src="http://www.fabytes.com/fab/wp-content/uploads/2014/06/Screenshot-21.06.2014-021025.png" alt="Screenshot - 21.06.2014 - 02:10:25" width="236" height="170" class="alignnone size-full wp-image-391" /></a></p>
<div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-official sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-facebook"><div class="like_button"><iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.fabytes.com%2Ffab%2F2014%2F06%2F20%2Fprotonmail-jssecurity-review%2F&amp;layout=button_count&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;height=21&amp;locale=en_US&amp;width=90" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:96px; height:21px;" allowTransparency="true"></iframe></div></li><li class="share-twitter"><div class="twitter_button"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url=http%3A%2F%2Fwww.fabytes.com%2Ffab%2F2014%2F06%2F20%2Fprotonmail-jssecurity-review%2F&#038;counturl=http%3A%2F%2Fwww.fabytes.com%2Ffab%2F2014%2F06%2F20%2Fprotonmail-jssecurity-review%2F&#038;count=horizontal&#038;text=Protonmail%20security%20review%3A&#038;via=fabytes" style="width:101px; height:20px;"></iframe></div></li><li class="share-google-plus-1"><div class="googleplus1_button"><div class="g-plus" data-action="share" data-annotation="bubble" data-href="http://www.fabytes.com/fab/2014/06/20/protonmail-jssecurity-review/"></div></div></li><li class="share-linkedin"><div class="linkedin_button"><script type="in/share" data-url="http://www.fabytes.com/fab/2014/06/20/protonmail-jssecurity-review/" data-counter="right"></script></div></li><li class="share-email"><a rel="nofollow" class="share-email sd-button" href="http://www.fabytes.com/fab/2014/06/20/protonmail-jssecurity-review/?share=email" title="Click to email this to a friend"><span>Email</span></a></li><li class="share-print"><a rel="nofollow" class="share-print sd-button" href="http://www.fabytes.com/fab/2014/06/20/protonmail-jssecurity-review/#print" title="Click to print"><span>Print</span></a></li><li><a href="#" class="sharing-anchor sd-button share-more"><span>More</span></a></li><li class="share-end"></li></ul><div class="sharing-hidden"><div class="inner" style="display: none;"><ul><li class="share-digg"><div class="digg_button"><a rel="nofollow" class="DiggThisButton DiggCompact share-digg sd-button" href="http://digg.com/submit?url=http%3A%2F%2Fwww.fabytes.com%2Ffab%2F2014%2F06%2F20%2Fprotonmail-jssecurity-review%2F&amp;title=Protonmail%20security%20review" title="Click to Digg this post"><span>Digg</span></a></div></li><li class="share-reddit"><div class="reddit_button"><iframe src="http://www.reddit.com/static/button/button1.html?width=120&amp;url=http%3A%2F%2Fwww.fabytes.com%2Ffab%2F2014%2F06%2F20%2Fprotonmail-jssecurity-review%2F&amp;title=Protonmail%20security%20review" height="22" width="120" scrolling="no" frameborder="0"></iframe></div></li><li class="share-end"></li><li class="share-tumblr"><a target="" href="http://www.tumblr.com/share/link/?url=http%3A%2F%2Fwww.fabytes.com%2Ffab%2F2014%2F06%2F20%2Fprotonmail-jssecurity-review%2F&name=Protonmail%20security%20review" title="Share on Tumblr" style="display:inline-block; text-indent:-9999px; overflow:hidden; width:62px; height:20px; background:url('//platform.tumblr.com/v1/share_2.png') top left no-repeat transparent;">Share on Tumblr</a></li><li class="share-stumbleupon"><div class="stumbleupon_button"><iframe src="http://www.stumbleupon.com/badge/embed/1/?url=http%3A%2F%2Fwww.fabytes.com%2Ffab%2F2014%2F06%2F20%2Fprotonmail-jssecurity-review%2F&amp;title=Protonmail%20security%20review" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:74px; height: 18px;" allowTransparency="true"></iframe></div></li><li class="share-end"></li><li class="share-pinterest"><div class="pinterest_button"><a href="http://pinterest.com/pin/create/button/?url=http%3A%2F%2Fwww.fabytes.com%2Ffab%2F2014%2F06%2F20%2Fprotonmail-jssecurity-review%2F&#038;description=Protonmail%20security%20review" data-pin-do="buttonBookmark" ><img src="//assets.pinterest.com/images/pidgets/pinit_fg_en_rect_gray_20.png" /></a></div></li><li class="share-pocket"><div class="pocket_button"><a href="https://getpocket.com/save" class="pocket-btn" data-lang="en" data-save-url="http://www.fabytes.com/fab/2014/06/20/protonmail-jssecurity-review/" data-pocket-count="horizontal" >Pocket</a></div></li><li class="share-end"></li><li class="share-end"></li></ul></div></div></div></div></div>				</div>
                <!--
                <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://www.fabytes.com/fab/2014/06/20/protonmail-jssecurity-review/"
    dc:identifier="http://www.fabytes.com/fab/2014/06/20/protonmail-jssecurity-review/"
    dc:title="Protonmail security review"
    trackback:ping="http://www.fabytes.com/fab/2014/06/20/protonmail-jssecurity-review/trackback/" />
</rdf:RDF>                -->
				<div class="entry-footer">
					<img src="http://www.fabytes.com/fab/wp-content/themes/black-hat/images/comm_rss_icon.png" alt="" border="0" style="vertical-align:middle; float:none;" />
					<a href="http://www.fabytes.com/fab/2014/06/20/protonmail-jssecurity-review/feed/" title="Comments RSS to Protonmail security review" rel="alternate" type="application/rss+xml">Comments RSS Feed</a> <span>&nbsp;</span>					
					<img src="http://www.fabytes.com/fab/wp-content/themes/black-hat/images/comments_icon.png" alt="" border="0" style="vertical-align:middle; float:none;" />
					<a class="comment-link" href="#respond" title="Post a comment">Post a comment</a> <span>&nbsp;</span>					<img src="http://www.fabytes.com/fab/wp-content/themes/black-hat/images/trackback_icon.png" alt="" border="0" style="vertical-align:middle; float:none;" />
					<a class="trackback-link" href="http://www.fabytes.com/fab/2014/06/20/protonmail-jssecurity-review/trackback/" title="Trackback URL for your post" rel="trackback">Trackback URL</a>					<span>&nbsp;</span>





				</div>
			</div><!-- .post -->
            
            
							
			<div id="comments">

<!-- You can start editing here. -->
			<!-- If comments are open, but there are no comments. -->
	 


	<div id="respond">

	<h3>Post a Comment</h3>

	<div class="cancel-comment-reply">
		<small><a rel="nofollow" id="cancel-comment-reply-link" href="/fab/2014/06/20/protonmail-jssecurity-review/#respond" style="display:none;">Click here to cancel reply.</a></small>
	</div>

	
	<div class="formcontainer">	
		<form action="http://www.fabytes.com/fab/wp-comments-post.php" method="post" id="commentform">

		
			<p id="comment-notes">Your email is <em>never</em> published nor shared. Required fields are marked <span class="required">*</span></p>
            
            <div class="form-label"><label for="author">Name</label> <span class="required">*</span></div>
            <div class="form-input"><input id="author" name="author" type="text" value="" maxlength="20" tabindex="3" /></div>

            <div class="form-label"><label for="email">Email</label> <span class="required">*</span></div>
            <div class="form-input"><input id="email" name="email" type="text" value="" maxlength="50" tabindex="4" /></div>

            <div class="form-label"><label for="url">Website</label></div>
            <div class="form-input"><input id="url" name="url" type="text" value="" maxlength="50" tabindex="5" /></div>

		
		<!--<p><small><strong>XHTML:</strong> You can use these tags: <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code class=&quot;&quot; title=&quot;&quot; data-url=&quot;&quot;&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; &lt;pre class=&quot;&quot; title=&quot;&quot; data-url=&quot;&quot;&gt; &lt;span class=&quot;&quot; title=&quot;&quot; data-url=&quot;&quot;&gt; </code></small></p>-->

        <div class="form-label"><label for="comment">Comment</label></div>
        <div class="form-textarea"><textarea id="comment" name="comment" tabindex="6"></textarea></div>
        
        <div class="form-submit">
            <input id="submit" name="submit" type="submit" value="Post Comment" tabindex="7" />
            <input type='hidden' name='comment_post_ID' value='363' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
        </div>

        <p class="cptch_block"><label>CAPTCHA * (mandatory, to avoid spam)<span class="required"> </span></label><br />		<input type="hidden" name="cptch_result" value="Do4=" />
		<input type="hidden" name="cptch_time" value="1406212939" />
		<input type="hidden" value="Version: 2.4" />
		4 &#43; <input id="cptch_input" type="text" autocomplete="off" name="cptch_number" value="" maxlength="2" size="2" aria-required="true" required="required" style="margin-bottom:0;display:inline;font-size: 12px;width: 40px;" /> =  &#101;&#105;ght	</p><p class="comment-subscription-form"><input type="checkbox" name="subscribe_comments" id="subscribe_comments" value="subscribe" style="width: auto; -moz-appearance: checkbox; -webkit-appearance: checkbox;" /> <label class="subscribe-label" id="subscribe-label" for="subscribe_comments">Notify me of follow-up comments by email.</label></p><p class="comment-subscription-form"><input type="checkbox" name="subscribe_blog" id="subscribe_blog" value="subscribe" style="width: auto; -moz-appearance: checkbox; -webkit-appearance: checkbox;" /> <label class="subscribe-label" id="subscribe-blog-label" for="subscribe_blog">Notify me of new posts by email.</label></p>
		</form><!-- #commentform -->
	</div><!-- .formcontainer -->
		</div>
			</div><!-- #comments -->

		</div><!-- #content -->
		
	<div id="sidebar">
		<ul class="xoxo">

			<li class="widget">
				<h3>Subscribe</h3>
                <p style="margin:8px auto; text-align:center">
                
                                            <a href="http://www.fabytes.com/fab/feed/rss/"><img style="float:none" src="http://www.fabytes.com/fab/wp-content/themes/black-hat/images/rss_feed.gif" alt="" title="Subscribe to " /></a>
                                    
                
                                                        
                
                </p>
			</li>
            
                                        

<li id="text-8" class="widget widget_text"><h3 class='widgettitle'>Donate :)</h3>
			<div class="textwidget"><Center>
...Bitcoins<br>
<div style="float: left; display: inline; word-break: break-all; word-wrap: break-word;">
1HiXxyae9BZVLrNERA8wiRibKMyyfiwCuV</div><br>
<img src="http://www.fabytes.com/fab/wp-content/uploads/2014/03/qt_bc.jpg" alt="QR code"> <br>
<br>
...Or paypal</center><br>
<Center><form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="QG9TRKQCZAVCU">
<input type="image" src="https://www.paypalobjects.com/en_US/CH/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form></Center>
<br><center>




</div>
		</li>
		<div class="dcjq-contact" id="dc_jqslickcontact_widget-2-item">
		
		
			<form class="slick-form" method="post" action="http://www.fabytes.com/fab/wp-content/plugins/slick-contact-forms/slick_mail.php">
			  <fieldset>
			    <ol>
				  <li class="comment-row">Anything you want - just please no viagra or cialis.</li>									  <li class="input-row">
				    <label for="input1">Name</label>
					<input class="required defaultText text-input" id="input1" name="input1" value="" title="Name" />
					<input type="hidden" name="valid1" value="1" />
				  </li>
				    									  <li class="input-row">	
				    <label for="input2">Email</label>
					<input class="required email defaultText text-input" id="input2" name="input2" value="" title="Email" />
					<input type="hidden" name="valid2" value="2" />
				  </li>
				  				  				  				  <li class="text-row">	
				    <label for="dcscf-comments"></label>
					<textarea id="dcscf-comments" name="comments" class="required defaultText text-area" rows="6" title=""></textarea>
				  </li>
				  				  <li class="nocomment">
					<label for="nocomment">Leave This Field Empty</label>
					<input id="nocomment" value="" name="nocomment" />
				  </li>
				  				  <li class="button-row">
					<input type="submit" name="submit" value="Submit" class="btn-submit" />
					<input type="hidden" name="key" value="04e4f71488733cc4e1f33bbbfb670dcb" /><input type="hidden" name="label1" value="Name" /><input type="hidden" name="label2" value="Email" /><input type="hidden" name="tabText" value="Contact Me" /><input type="hidden" name="emailTo" value="&#102;&#97;&#98;&#64;&#102;&#97;&#98;&#121;&#116;&#101;&#115;&#46;&#99;&#111;&#109;" /><input type="hidden" name="action" value="submit" /><input type="hidden" name="v_error" id="v-error" value="Required" /><input type="hidden" name="v_email" id="v-email" value="Enter a valid email" />				  </li>
				</ol>
			  </fieldset>
			  <div class="slick-response"></div>
			</form>
		<div class="dc-corner"><span></span></div>		</div>
		<li id="twiget-widget-2" class="widget twiget-widget"><h3 class='widgettitle'>Latest tweets</h3>
		<div class="twiget-feed">
			
            <ul id="tweet-wrap-twiget-widget-2" class="tweet-wrap">
            	<li><img src="http://www.fabytes.com/fab/wp-content/plugins/twiget/images/ajax-loader.gif" width="16" height="16" alt="" /> Loading tweets...</li>
            </ul>
            
            <p id="tweet-bio-twiget-widget-2" class="tweet-bio"></p>
            <p class="twigetfollow">
            	<a href="https://twitter.com/fabytes" class="twitter-follow-button" data-show-count="false" data-width="100%" data-align="right">Follow @fabytes</a>
				<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if( !d.getElementById(id) ){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
            </p>
            
			<script type="text/javascript">
                jQuery(document).ready(function($) {
                    var tweetOptions = {
                            screen_name: 		'fabytes',
                            count: 				5,
                            include_rts: 		true,
							exclude_replies: 	false,
							widget_id:			'twiget-widget-2'
                    };
                    $.post( 'http://www.fabytes.com/fab/?twiget-get-tweets=1', tweetOptions, function(data){
                        TwigetTwitter( data, 'tweet-wrap-twiget-widget-2', 'tweet-bio-twiget-widget-2', {
						   newwindow:true,profilepic:true,						});
                    }, 'json');
                });
            </script>
            		</div><!-- .twiget-feed -->
        </li>
        <li id="calendar-3" class="widget widget_calendar"><h3 class='widgettitle'>Posts</h3>
<div id="calendar_wrap"><table id="wp-calendar">
	<caption>June 2014</caption>
	<thead>
	<tr>
		<th scope="col" title="Monday">M</th>
		<th scope="col" title="Tuesday">T</th>
		<th scope="col" title="Wednesday">W</th>
		<th scope="col" title="Thursday">T</th>
		<th scope="col" title="Friday">F</th>
		<th scope="col" title="Saturday">S</th>
		<th scope="col" title="Sunday">S</th>
	</tr>
	</thead>

	<tfoot>
	<tr>
		<td colspan="3" id="prev"><a href="http://www.fabytes.com/fab/2014/04/" title="View posts for April 2014">&laquo; Apr</a></td>
		<td class="pad">&nbsp;</td>
		<td colspan="3" id="next"><a href="http://www.fabytes.com/fab/2014/07/" title="View posts for July 2014">Jul &raquo;</a></td>
	</tr>
	</tfoot>

	<tbody>
	<tr>
		<td colspan="6" class="pad">&nbsp;</td><td>1</td>
	</tr>
	<tr>
		<td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td>
	</tr>
	<tr>
		<td>9</td><td>10</td><td><a href="http://www.fabytes.com/fab/2014/06/11/" title="Neural networks: anger!">11</a></td><td>12</td><td>13</td><td>14</td><td>15</td>
	</tr>
	<tr>
		<td>16</td><td>17</td><td>18</td><td>19</td><td><a href="http://www.fabytes.com/fab/2014/06/20/" title="Protonmail security review">20</a></td><td>21</td><td>22</td>
	</tr>
	<tr>
		<td>23</td><td>24</td><td>25</td><td>26</td><td>27</td><td>28</td><td>29</td>
	</tr>
	<tr>
		<td>30</td>
		<td class="pad" colspan="6">&nbsp;</td>
	</tr>
	</tbody>
	</table></div></li>
<li id="categories-3" class="widget widget_categories"><h3 class='widgettitle'>Categories</h3>
		<ul>
	<li class="cat-item cat-item-13"><a href="http://www.fabytes.com/fab/category/arduino/" title="View all posts filed under Arduino">Arduino</a>
</li>
	<li class="cat-item cat-item-17"><a href="http://www.fabytes.com/fab/category/forensics/" title="View all posts filed under Forensics">Forensics</a>
</li>
	<li class="cat-item cat-item-10"><a href="http://www.fabytes.com/fab/category/generic/" title="View all posts filed under Generic">Generic</a>
</li>
	<li class="cat-item cat-item-16"><a href="http://www.fabytes.com/fab/category/neural-networks/" title="View all posts filed under Neural networks">Neural networks</a>
</li>
	<li class="cat-item cat-item-15"><a href="http://www.fabytes.com/fab/category/security/" title="View all posts filed under Security">Security</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://www.fabytes.com/fab/category/uncategorized/" title="View all posts filed under Uncategorized">Uncategorized</a>
</li>
	<li class="cat-item cat-item-14"><a href="http://www.fabytes.com/fab/category/video-games/" title="View all posts filed under Video Games">Video Games</a>
</li>
		</ul>
</li>
		</ul>
	</div><!-- #primary .sidebar -->        <div class="clear"></div>
	</div><!-- #container -->

<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["trackPageView"]);
  _paq.push(["enableLinkTracking"]);

  (function() {
    var u=(("https:" == document.location.protocol) ? "https" : "http") + "://fabytescom.ipage.com/PWK/";
    _paq.push(["setTrackerUrl", u+"piwik.php"]);
    _paq.push(["setSiteId", "2"]);
    var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
    g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Piwik Code -->

	<div id="footer">
		<p><a href="#"><img src="http://www.fabytes.com/fab/wp-content/uploads/2014/06/Fabytes.png" alt="" class="left" style="vertical-align:middle" height="30" width="200" /></a></p><br />
       If you want to support this site, feel free to share the posts, and, why not, donate something :D<br />
       To contact me, you can use the floating form (top right)<br/>
	</div><!-- #footer -->

	<div id="theend"></div>
</div><!-- #wrapper .hfeed -->

	<div style="display:none">
	</div>
			
			<script type="text/javascript">
				jQuery(document).ready(function($){
					var config = {
						method: 'stick',
						event: 'click',
						classWrapper: 'dc-contact-stick',
						classContent: 'dc-contact-content',
						width: 260,
						location: 'right',
						align: 'top',
						speedContent: 600,
						speedFloat: 1500,
						offsetLocation: 50,
						offsetAlign: 50,
						autoClose: false,
						tabText: 'Contact Me',
						idWrapper: 'dc-contact-2',
						animateError: true,
						loadOpen: false,
						ajaxSubmit: true						
					};
					if(!jQuery().dcSlickContact) {
						$.getScript("http://www.fabytes.com/fab/wp-content/plugins/slick-contact-forms/js/jquery.slick.contact.1.3.2.js", function(){
							jQuery('#dc_jqslickcontact_widget-2-item').dcSlickContact(config);
						}); 
					} else {
						jQuery('#dc_jqslickcontact_widget-2-item').dcSlickContact(config);
					}
				});
				
			</script>
		
			
	<script type="text/javascript">
		WPCOM_sharing_counts = {"http:\/\/www.fabytes.com\/fab\/2014\/06\/20\/protonmail-jssecurity-review\/":363}	</script>
		<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-facebook' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-twitter' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
		});
		</script>
					<script type="text/javascript">
			  (function() {
			    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
			    po.src = 'https://apis.google.com/js/plusone.js';
			    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
			  })();
			</script>
			<script type="text/javascript">
			jQuery( document ).ready( function() {
			    jQuery.getScript( '//platform.linkedin.com/in.js?async=true', function success() {
			        IN.init();
			    });
			});
			jQuery( document.body ).on( 'post-load', function() {
				if ( typeof IN != 'undefined' )
					IN.parse();
			});
			</script>	<div id="sharing_email" style="display: none;">
		<form action="/fab/2014/06/20/protonmail-jssecurity-review/" method="post">
			<label for="target_email">Send to Email Address</label>
			<input type="email" name="target_email" id="target_email" value="" />

			
				<label for="source_name">Your Name</label>
				<input type="text" name="source_name" id="source_name" value="" />

				<label for="source_email">Your Email Address</label>
				<input type="email" name="source_email" id="source_email" value="" />

			
			
			<img style="float: right; display: none" class="loading" src="http://www.fabytes.com/fab/wp-content/plugins/jetpack/modules/sharedaddy/images/loading.gif" alt="loading" width="16" height="16" />
			<input type="submit" value="Send Email" class="sharing_send" />
			<a href="#cancel" class="sharing_cancel">Cancel</a>

			<div class="errors errors-1" style="display: none;">
				Post was not sent - check your email addresses!			</div>

			<div class="errors errors-2" style="display: none;">
				Email check failed, please try again			</div>

			<div class="errors errors-3" style="display: none;">
				Sorry, your blog cannot share posts by email.			</div>
		</form>
	</div>
<script type="text/javascript" src="//platform.tumblr.com/v1/share.js"></script>					<script type="text/javascript">
				// Pinterest shared resources
				var s = document.createElement("script");
				s.type = "text/javascript";
				s.async = true;
				s.src = window.location.protocol + "//assets.pinterest.com/js/pinit.js";
				var x = document.getElementsByTagName("script")[0];
				x.parentNode.insertBefore(s, x);
				// if 'Pin it' button has 'counts' make container wider
				jQuery(window).load( function(){ jQuery( 'li.share-pinterest a span:visible' ).closest( '.share-pinterest' ).width( '80px' ); } );
			</script>
				<script>
		// Don't use Pocket's default JS as it we need to force init new Pocket share buttons loaded via JS.
		function jetpack_sharing_pocket_init() {
			jQuery.getScript( 'https://widgets.getpocket.com/v1/j/btn.js?v=1' );
		}
		jQuery( document ).on( 'ready', jetpack_sharing_pocket_init );
		jQuery( document.body ).on( 'post-load', jetpack_sharing_pocket_init );
		</script>
		<script type='text/javascript' src='http://www.fabytes.com/fab/wp-includes/js/comment-reply.min.js?ver=3.9.1'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201430'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?ver=2014Julaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.fabytes.com/fab/wp-content/plugins/jetpack/modules/wpgroho.js?ver=3.9.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var recaptcha_options = {"lang":"en"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.fabytes.com/fab/wp-content/plugins/jetpack/modules/sharedaddy/sharing.js?ver=20121205'></script>

	<script src="http://stats.wordpress.com/e-201430.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:3.0.2',blog:'44929257',post:'363',tz:'0'});
	var load_cmc = function(){linktracker_init(44929257,363,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script>
</body>
</html>
