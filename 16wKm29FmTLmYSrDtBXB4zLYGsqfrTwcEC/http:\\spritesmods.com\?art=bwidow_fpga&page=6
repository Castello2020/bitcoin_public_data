http://spritesmods.com/?art=bwidow_fpga&page=6
HTTP/1.1 200 OK
Date: Tue, 22 Jul 2014 09:14:54 GMT
Server: Apache/2.2.22 (Debian)
X-Powered-By: PHP/5.4.4-14+deb7u12
Vary: Accept-Encoding
Content-Encoding: gzip
Content-Length: 4093
Connection: close
Content-Type: text/html

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" 
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title>Sprites mods - Black Widow in an FPGA - Power supply</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="stylesheet" type="text/css" href="style/style-new.css" />
<link rel="stylesheet" type="text/css" href="style/print.css" media="print" />
<link type="application/rss+xml" rel="alternate" title="Sprites Mods" href="http://spritesmods.com/rss.php" />
</head>
<body>

<div id="header"><span id="sitename"><span id="sitenamebig">SpritesMods</span>.com</span><h1>Black Widow in an FPGA - Power supply</h1></div>


<div id="left">
<p />
<a href="?art=main">Welcome</a><br /><ul id="mainmenu"><li><a href="?art=hardware">Hardware stuff</a><ul id="submenu"><li><a href="?art=rpi_arcade">Raspberry Pi micro arcade machine</a></li><li><a href="?art=mcportal">USB Minecraft portal</a></li><li><a href="?art=gbamidi">GameBoy Advance as a MIDI synthesizer</a></li><li><a href="?art=spitft">Connecting an LCD to a non-video-capable Linux device</a></li><li><a href="?art=lineccdts">Scanner CCD touchscreen conversion</a></li><li><a href="?art=bwidow_fpga">Black Widow in an FPGA</a></li><li><a href="?art=imx233-ws2811">WS2812 LEDs controlled by an iMX233</a></li><li><a href="?art=magnmicrobots">Duplicating the SRI magnet micro-robots</a></li><li><a href="?art=thermchromclk">Thermochromic paint clock</a></li><li><a href="?art=engarde">En Garde, a classifying capacitive touch sensor</a></li><li><a href="?art=avrfmtx">AVR-based FM-transmitter</a></li><li><a href="?art=stdalonejtag">Standalone JTAG programmer</a></li><li><a href="?art=avrcpm">CP/M on an AVR</a></li><li><a href="?art=doorbell">Wav-playing doorbell</a></li><li><a href="?art=rgbwall">Wall-lighting with RGB-leds</a></li><li><a href="?art=t5325_satapex">Adding SATA and PCIE to a HP T5325 thin client</a></li><li><a href="?art=ftdinand">FT2232H NAND flash reader</a></li><li><a href="?art=virtwiibar">Virtual Wii Sensor-bar</a></li><li><a href="?art=quizbtn">Quizshow buttons on the cheap</a></li><li><a href="?art=macsearm">Macintosh SE/arm</a></li><li><a href="?art=ledboardsolari">Solari ledboard controller</a></li><li><a href="?art=jello3dprinter">3d Jello printer</a></li><li><a href="?art=inker">Electronic Stamp</a></li><li><a href="?art=wcterror">Toilet terror alert</a></li><li><a href="?art=ledfanclock">Clock using a fan and a LED</a></li><li><a href="?art=streeplijst">Electronic beer tallier</a></li><li><a href="?art=knock2open">Knock to open</a></li><li><a href="?art=mechctr">Mechanical webpage hitcounter</a></li><li><a href="?art=ddrmat">Stealth DDR-mat</a></li><li><a href="?art=yamaharenewed">CM: Yamaha Renewed</a></li><li><a href="?art=bristlebot">Controllable bristlebot</a></li><li><a href="?art=novemini">NoveMini</a></li><li><a href="?art=xpad">Real HID for Xbox-controller</a></li><li><a href="?art=ledmatrix">96x48 LED-board</a></li><li><a href="?art=ucboost">Run an uC from an AA-battery</a></li><li><a href="?art=rocketlogger">Rocket acceleration logger</a></li><li><a href="?art=autobaud">Automatic baudrate converter</a></li><li><a href="?art=wtcpled">Temperature led for Weller WTCPs</a></li><li><a href="?art=minimalism">Electronic minimalism</a></li><li><a href="?art=rgbledlamp">RGB ledlamp</a></li><li><a href="?art=vfdcontroller">Simple VFD-controller</a></li><li><a href="?art=whiteboard">Online whiteboard</a></li></ul></li><li><a href="?art=hacks">Hacks</a></li><li><a href="?art=software">Software</a></li><li><a href="?art=consoles">Console hacking</a></li><li><a href="?art=security">Security</a></li><li><a href="?art=nabaztag">Nabaztag</a></li><li><a href="?art=about">About Spritesmods</a></li></ul></div>

<div id="right">
<div id="righttop">
<p /><a href="?art=bwidow_fpga&amp;page=1"><strong>Page 1</strong><br /></a>Intro<p /><a href="?art=bwidow_fpga&amp;page=2"><strong>Page 2</strong><br /></a>Prototyping<p /><a href="?art=bwidow_fpga&amp;page=3"><strong>Page 3</strong><br /></a>VHDL<p /><a href="?art=bwidow_fpga&amp;page=4"><strong>Page 4</strong><br /></a>Deflection amps<p /><a href="?art=bwidow_fpga&amp;page=5"><strong>Page 5</strong><br /></a>Color control, buttons, sound<p /><strong>Page 6</strong><br />Power supply<p /><a href="?art=bwidow_fpga&amp;page=7"><strong>Page 7</strong><br /></a>Building it<p /><a href="?art=bwidow_fpga&amp;page=8"><strong>Page 8</strong><br /></a>Conclusion (+ discussion / remarks)<p>
</p>
</div>
<div id="rightbottom">
<p>
Do you like my hacking? If so, please consider leaving something in the<br />
</p>
<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_donations">
<input type="hidden" name="business" value="AWHK8LYRDDS3C">
<input type="hidden" name="lc" value="GB">
<input type="hidden" name="item_name" value="Spritesmods.com">
<input type="hidden" name="no_note" value="0">
<input type="hidden" name="cn" value="Remarks">
<input type="hidden" name="no_shipping" value="1">
<input type="hidden" name="rm" value="1">
<input type="hidden" name="return" value="http://spritesmods.com/?art=main&amp;thanks=1">
<input type="hidden" name="currency_code" value="EUR">
<input type="hidden" name="bn" value="PP-DonationsBF:donate.png:NonHosted">
<input type="image" src="http://spritesmods.com/donate.png" border="0" name="submit" alt="PayPal, de veilige en complete manier van online betalen.">
<!--
<img alt="" border="0" src="https://www.paypalobjects.com/nl_NL/i/scr/pixel.gif" width="1" height="1">
-->
</form>

<p>
Or use Bitcoins:<br />
<script src="btc/coin.js"></script>
<script>
CoinWidgetCom.go({
	wallet_address: "16wKm29FmTLmYSrDtBXB4zLYGsqfrTwcEC"
	, currency: "bitcoin"
	, counter: "count"
	, alignment: "bl"
	, qrcode: true
	, auto_show: false
	, lbl_button: "Donate"
	, lbl_address: "My Bitcoin Address:"
	, lbl_count: "donations"
	, lbl_amount: "BTC"
});
</script>
</p>


<p>
<br />Current contents:
<br />EUR181 (about $240.73) and a bunch of cool hardware.
</p>


<p>
Follow Spritesmods on <a href="http://twitter.com/SpritesMods">Twitter</a>!
</p>
</div>
</div>
<div id="center">
<p><h1>Power supply
</h1>
</p>
<!-- google_ad_section_start -->
<p>
My prototype Asteroids machine needed 4 power supplies: +15V and -15V for the 
deflection amplifiers, 12VAC for the CRTs high voltage board and 5V for the FPGA
board. Getting rid of the 12VAC for the CRTs HV-board was easy: it turned out
to run just fine on 15VDC too, so I connected it to that power supply.</p>
<p>
Getting rid of the -15V and 5V power supply needed some more work. Eventually, I
found some LM2576-5.0s on a couple of broken PCBs. These are switched mode 5V
voltage regulators. For the 5V power supply, I could just build the schematic
in the datasheet. For the -15V, the datasheet also gave me a schematic I could
adapt to my uses:<br />
<a href="bwidow_fpga/schem_psu.png"><img src="bwidow_fpga/schem_psu_tmb.png"></a><br />
On the top, the 5V output, almost completely according to the reference design. On
the bottom, the negative 15V output: the LM2576 in this configuration will regulate
the negative rail until the voltage on the feedback-pin is 5 volt more than what's on
the negative line.. By using a resistor divider, we can make sure that happens when 
the output is -15V. You'd expect the divider value to be something like 1:2, but it 
seems the IC has also some internal resistors which throw off the values... so I just
fiddled with them until I got the correct voltage.
</p>
<p>
The inductor and diode used in the negative power supply schematic may be a bit 
weird. When I first built the DC-DC-converter, I used the same type of diode and 
inductor as I used in the 5V PSU, but the diode broke a few times on me and the 
inductor got way too hot. I decided to beef them up a bit and replaced them by
a more powerful Schottky-diode and a bigger coil, both ripped from a broken switching 
power supply. Unfortunately, I don't have the 
specs of the coil, but I think it's a couple of tens of uH worth of induction.
</p>
<p>
Apart from the DC-DC-converters, the schematic also contains a P-channel mosfet, plus
a transistor to control it from the FPGA. This is a part of my implementation of a 
so-called 'spot killer'. A spot killer in the original vector arcade games was a small
circuit that checked if the electron beam moved around, and if it was in the same
spot for too long, it switched it off. The reason was that having the electron beam 
on one spot for too long would burn a hole in at least the phosphorous layer that
emits the actual light.
</p>
<p>
I've implemented the spot-killer mostly in the FPGA, and in my implementation it kills
a bit more than just the spot. Experience learns that when the deflection amps are
fed with a non-varying signal, which happens when, for example, the FPGA isn't configured
yet, they get fairly hot and can break down. By switching off not only the spot, but
cutting the power supply to the complete deflection and HV circuit, I can be fairly 
sure nothing breaks when my implementation runs into a bug.
</p><!-- google_ad_section_end -->
<p>	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- singlebigad -->
	<ins class="adsbygoogle"
	     style="display:inline-block;width:728px;height:90px"
	     data-ad-client="ca-pub-6055011648930388"
	     data-ad-slot="3668631373"></ins>
	<script>
	(adsbygoogle = window.adsbygoogle || []).push({});
	</script>
	</p><p id="prevnext"><a href="?art=bwidow_fpga&amp;page=5">&laquo Prev</a>&nbsp;6&nbsp;<a href="?art=bwidow_fpga&amp;page=7">Next &raquo;</a></p><br /><div class="copy">&copy; 2006-2013 Sprite_tm - <a href="?art=contact&amp;af=Black Widow in an FPGA">Contact</a></div></div>
</body>
</html>

