http://spritesmods.com/?art=rpi_arcade&page=4
HTTP/1.1 200 OK
Date: Wed, 23 Jul 2014 23:54:08 GMT
Server: Apache/2.2.22 (Debian)
X-Powered-By: PHP/5.4.4-14+deb7u12
Vary: Accept-Encoding
Content-Encoding: gzip
Content-Length: 4298
Connection: close
Content-Type: text/html

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" 
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title>Sprites mods - Raspberry Pi micro arcade machine - Joystick, buttons, audio</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="stylesheet" type="text/css" href="style/style-new.css" />
<link rel="stylesheet" type="text/css" href="style/print.css" media="print" />
<link type="application/rss+xml" rel="alternate" title="Sprites Mods" href="http://spritesmods.com/rss.php" />
</head>
<body>

<div id="header"><span id="sitename"><span id="sitenamebig">SpritesMods</span>.com</span><h1>Raspberry Pi micro arcade machine - Joystick, buttons, audio</h1></div>


<div id="left">
<p />
<a href="?art=main">Welcome</a><br /><ul id="mainmenu"><li><a href="?art=hardware">Hardware stuff</a><ul id="submenu"><li><a href="?art=rpi_arcade">Raspberry Pi micro arcade machine</a></li><li><a href="?art=mcportal">USB Minecraft portal</a></li><li><a href="?art=gbamidi">GameBoy Advance as a MIDI synthesizer</a></li><li><a href="?art=spitft">Connecting an LCD to a non-video-capable Linux device</a></li><li><a href="?art=lineccdts">Scanner CCD touchscreen conversion</a></li><li><a href="?art=bwidow_fpga">Black Widow in an FPGA</a></li><li><a href="?art=imx233-ws2811">WS2812 LEDs controlled by an iMX233</a></li><li><a href="?art=magnmicrobots">Duplicating the SRI magnet micro-robots</a></li><li><a href="?art=thermchromclk">Thermochromic paint clock</a></li><li><a href="?art=engarde">En Garde, a classifying capacitive touch sensor</a></li><li><a href="?art=avrfmtx">AVR-based FM-transmitter</a></li><li><a href="?art=stdalonejtag">Standalone JTAG programmer</a></li><li><a href="?art=avrcpm">CP/M on an AVR</a></li><li><a href="?art=doorbell">Wav-playing doorbell</a></li><li><a href="?art=rgbwall">Wall-lighting with RGB-leds</a></li><li><a href="?art=t5325_satapex">Adding SATA and PCIE to a HP T5325 thin client</a></li><li><a href="?art=ftdinand">FT2232H NAND flash reader</a></li><li><a href="?art=virtwiibar">Virtual Wii Sensor-bar</a></li><li><a href="?art=quizbtn">Quizshow buttons on the cheap</a></li><li><a href="?art=macsearm">Macintosh SE/arm</a></li><li><a href="?art=ledboardsolari">Solari ledboard controller</a></li><li><a href="?art=jello3dprinter">3d Jello printer</a></li><li><a href="?art=inker">Electronic Stamp</a></li><li><a href="?art=wcterror">Toilet terror alert</a></li><li><a href="?art=ledfanclock">Clock using a fan and a LED</a></li><li><a href="?art=streeplijst">Electronic beer tallier</a></li><li><a href="?art=knock2open">Knock to open</a></li><li><a href="?art=mechctr">Mechanical webpage hitcounter</a></li><li><a href="?art=ddrmat">Stealth DDR-mat</a></li><li><a href="?art=yamaharenewed">CM: Yamaha Renewed</a></li><li><a href="?art=bristlebot">Controllable bristlebot</a></li><li><a href="?art=novemini">NoveMini</a></li><li><a href="?art=xpad">Real HID for Xbox-controller</a></li><li><a href="?art=ledmatrix">96x48 LED-board</a></li><li><a href="?art=ucboost">Run an uC from an AA-battery</a></li><li><a href="?art=rocketlogger">Rocket acceleration logger</a></li><li><a href="?art=autobaud">Automatic baudrate converter</a></li><li><a href="?art=wtcpled">Temperature led for Weller WTCPs</a></li><li><a href="?art=minimalism">Electronic minimalism</a></li><li><a href="?art=rgbledlamp">RGB ledlamp</a></li><li><a href="?art=vfdcontroller">Simple VFD-controller</a></li><li><a href="?art=whiteboard">Online whiteboard</a></li></ul></li><li><a href="?art=hacks">Hacks</a></li><li><a href="?art=software">Software</a></li><li><a href="?art=consoles">Console hacking</a></li><li><a href="?art=security">Security</a></li><li><a href="?art=nabaztag">Nabaztag</a></li><li><a href="?art=about">About Spritesmods</a></li></ul></div>

<div id="right">
<div id="righttop">
<p /><a href="?art=rpi_arcade&amp;page=1"><strong>Page 1</strong><br /></a>Intro<p /><a href="?art=rpi_arcade&amp;page=2"><strong>Page 2</strong><br /></a>Connecting an LCD<p /><a href="?art=rpi_arcade&amp;page=3"><strong>Page 3</strong><br /></a>A case<p /><strong>Page 4</strong><br />Joystick, buttons, audio<p /><a href="?art=rpi_arcade&amp;page=5"><strong>Page 5</strong><br /></a>Power supply<p /><a href="?art=rpi_arcade&amp;page=6"><strong>Page 6</strong><br /></a>Marquee<p /><a href="?art=rpi_arcade&amp;page=7"><strong>Page 7</strong><br /></a>End result (+ discussion / remarks)<p>
</p>
</div>
<div id="rightbottom">
<p>
Do you like my hacking? If so, please consider leaving something in the<br />
</p>
<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_donations">
<input type="hidden" name="business" value="AWHK8LYRDDS3C">
<input type="hidden" name="lc" value="GB">
<input type="hidden" name="item_name" value="Spritesmods.com">
<input type="hidden" name="no_note" value="0">
<input type="hidden" name="cn" value="Remarks">
<input type="hidden" name="no_shipping" value="1">
<input type="hidden" name="rm" value="1">
<input type="hidden" name="return" value="http://spritesmods.com/?art=main&amp;thanks=1">
<input type="hidden" name="currency_code" value="EUR">
<input type="hidden" name="bn" value="PP-DonationsBF:donate.png:NonHosted">
<input type="image" src="http://spritesmods.com/donate.png" border="0" name="submit" alt="PayPal, de veilige en complete manier van online betalen.">
<!--
<img alt="" border="0" src="https://www.paypalobjects.com/nl_NL/i/scr/pixel.gif" width="1" height="1">
-->
</form>

<p>
Or use Bitcoins:<br />
<script src="btc/coin.js"></script>
<script>
CoinWidgetCom.go({
	wallet_address: "16wKm29FmTLmYSrDtBXB4zLYGsqfrTwcEC"
	, currency: "bitcoin"
	, counter: "count"
	, alignment: "bl"
	, qrcode: true
	, auto_show: false
	, lbl_button: "Donate"
	, lbl_address: "My Bitcoin Address:"
	, lbl_count: "donations"
	, lbl_amount: "BTC"
});
</script>
</p>


<p>
<br />Current contents:
<br />EUR181 (about $240.73) and a bunch of cool hardware.
</p>


<p>
Follow Spritesmods on <a href="http://twitter.com/SpritesMods">Twitter</a>!
</p>
</div>
</div>
<div id="center">
<p><h1>Joystick, buttons, audio
</h1>
</p>
<!-- google_ad_section_start -->
<p>If I were to make a functional arcade cabinet, I'd have to do some of the boring stuff too:
an arcade cabinet doesn't consist of a processor and video hardware, but also
needs to make sound and have a way for the user to control it.</p>

<p>
First the buttons and joystick: a video game is a bit boring without
a way to control it, right? For the joystick, I had a nice Alps analog
mini-joystick, of the sort you also see in various modern gamepads. I could
just glue that into the case and be done with it. The buttons needed a bit more
work: they needed to stick out from the casing a bit without falling out when you
hold the case upside-down. I archieved that by gluing a smaller circular
cutout on top of a bigger one and then using a rotary tool to archieve a tapered
effect on the bottom:<br />
<a href="http://meuk.spritesserver.nl/foto/foto/misc15/IMG_0855_mod.JPG"><img src="http://meuk.spritesserver.nl/foto/foto/misc15/tmb-IMG_0855_mod.JPG" /></a>
</p>

<p>
I then soldered some microswitches to a piece of prototyping PCB and used some
wire and some scrap pieces of acrylic glass to hold that in place.<br />
<a href="http://meuk.spritesserver.nl/foto/foto/misc15/IMG_0859.JPG"><img src="http://meuk.spritesserver.nl/foto/foto/misc15/tmb-IMG_0859.JPG" /></a>
</p>

<p>
To interface the buttons and analog joystick to the Raspberry Pi, I used M-Joy, which
is a firmware you can burn into an ATMega8 to use it as an USB HID-based joystick.
I didn't have an ATMega8 around, so I used a <a href="http://8515.avrfreaks.net/index.php?name=PNphpBB2&file=viewtopic&t=55918&sid=1b83b77bf1e22a4a0cbdc498ab928fad">variant</a>
someone modified for the ATMega88. (Local <a href="rpi_arcade/mjoy_88_0.zip">mirror</a>)
Everything fitted neatly into the space under the buttons:<br />
<a href="http://meuk.spritesserver.nl/foto/foto/misc15/IMG_0865.JPG"><img src="http://meuk.spritesserver.nl/foto/foto/misc15/tmb-IMG_0865.JPG" /></a>
</p>



<p>For the audio portion, I decided to use the internal speakers from a broken
Dell laptop. The speakers are a whopping 2 watt and small enough to fit in the
upper part of the arcade cabinet. I got two of them so I could do stereo sound...
not that I'd think there would be much stereo left with the speakers being right
next to eachother, but because it looks right.<br />
<a href="http://meuk.spritesserver.nl/foto/foto/misc15/IMG_0866.JPG"><img src="http://meuk.spritesserver.nl/foto/foto/misc15/tmb-IMG_0866.JPG" /></a>

<p>I also needed an amplifier for the two speakers. The original laptop mainboard 
had a TI <a href="http://www.ti.com/product/tpa6017a2">TPA6017</a> 2W amplifier,
housed in a tiny TSSOP package.<br />
<a href="http://meuk.spritesserver.nl/foto/foto/misc15/IMG_0912.JPG"><img src="http://meuk.spritesserver.nl/foto/foto/misc15/tmb-IMG_0912.JPG" /></a>
</p>

<p>
This part needs only a few caps as external components, and I could easily desolder
it using a hot-air gun. The disadvantage is that it's
really small, so I decided to dead-bug it on a bit of prototyping board, with the
needed SMD-capacitors on the bottom of the PCB. <br />
<a href="http://meuk.spritesserver.nl/foto/foto/misc15/IMG_0916.JPG"><img src="http://meuk.spritesserver.nl/foto/foto/misc15/tmb-IMG_0916.JPG" /></a><br />
I basically followed the reference circuit as shown in the datasheet to build
the amp, so I won't bother you with badly-drawn schematics for it. There's one thing
I couldn't really do, though: the metal pad in the center of the bottom (now top)
should be connected to a ground plane on the PCB, to work as a heat sink. My deadbug
implementation doesn't really have that, so I must be careful not to drive the amp 
too hard.
</p>

<p>
Finally, I glued the speakers in the case and put the amp on top of them. Now my
arcade cabinet had a few watts to announce its presence!<br />
<a href="http://meuk.spritesserver.nl/foto/foto/misc15/IMG_0869.JPG"><img src="http://meuk.spritesserver.nl/foto/foto/misc15/tmb-IMG_0869.JPG" /></a>
</p>

<!-- google_ad_section_end -->
<p>	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- singlebigad -->
	<ins class="adsbygoogle"
	     style="display:inline-block;width:728px;height:90px"
	     data-ad-client="ca-pub-6055011648930388"
	     data-ad-slot="3668631373"></ins>
	<script>
	(adsbygoogle = window.adsbygoogle || []).push({});
	</script>
	</p><p id="prevnext"><a href="?art=rpi_arcade&amp;page=3">&laquo Prev</a>&nbsp;4&nbsp;<a href="?art=rpi_arcade&amp;page=5">Next &raquo;</a></p><br /><div class="copy">&copy; 2006-2013 Sprite_tm - <a href="?art=contact&amp;af=Raspberry Pi micro arcade machine">Contact</a></div></div>
</body>
</html>

