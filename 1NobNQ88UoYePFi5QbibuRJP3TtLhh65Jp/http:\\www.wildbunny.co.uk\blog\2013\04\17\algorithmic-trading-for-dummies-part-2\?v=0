http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/?v=0
HTTP/1.0 200 OK
Date: Wed, 23 Jul 2014 01:13:54 GMT
Server: Apache/2.2.15 (CentOS)
X-Powered-By: PHP/5.3.3
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
Pragma: no-cache
Set-Cookie: PHPSESSID=5lltcaaf3787piglq125praak1; path=/
X-Pingback: http://www.wildbunny.co.uk/blog/xmlrpc.php
Link: <http://www.wildbunny.co.uk/blog/?p=2125>; rel=shortlink
Vary: Accept-Encoding
Content-Encoding: gzip
Content-Length: 27464
Connection: close
Content-Type: text/html; charset=UTF-8

<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<title>Algorithmic trading for dummies &#8211; part 2 | Wildbunny blog</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="stylesheet" type="text/css" media="all" href="http://www.wildbunny.co.uk/blog/wp-content/themes/twentyten/style.css?v=0" />
<link rel="pingback" href="http://www.wildbunny.co.uk/blog/xmlrpc.php" />

<!-- BEGIN Metadata added by Add-Meta-Tags WordPress plugin
Get the plugin at: http://www.g-loaded.eu/2006/01/05/add-meta-tags-wordpress-plugin/ -->
<meta name="description" content="Hi and welcome back to my blog! This is a follow up to my previous article which introduced some of the basic concepts in trading and how they related to MetaTrader 4, which I'll be using in this series of posts. Here is a link to the previous article if you've not read it already." />
<meta name="keywords" content="algorithmic trading, finance, algo, ea, finance, metatrader, mql4, mt4, trading algorithm" />
<meta name="blogcatalog" content="9BC10671562" />
<div id="ScribCode634274886"></div>
<!-- END Metadata added by Add-Meta-Tags WordPress plugin -->

<link rel="alternate" type="application/rss+xml" title="Wildbunny blog &raquo; Feed" href="http://www.wildbunny.co.uk/blog/feed/" />
<link rel="alternate" type="application/rss+xml" title="Wildbunny blog &raquo; Comments Feed" href="http://www.wildbunny.co.uk/blog/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Wildbunny blog &raquo; Algorithmic trading for dummies &#8211; part 2 Comments Feed" href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/feed/" />
<link rel='stylesheet' id='bm-author-donations-style-css'  href='http://www.wildbunny.co.uk/blog/wp-content/plugins/bitmate-author-donations/style.css?ver=3.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='cntctfrm_stylesheet-css'  href='http://www.wildbunny.co.uk/blog/wp-content/plugins/contact-form-plugin/css/style.css?ver=3.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='cookielawinfo-style-css'  href='http://www.wildbunny.co.uk/blog/wp-content/plugins/cookie-law-info/css/cli-style.css?ver=3.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='cookielawinfo-table-style-css'  href='http://www.wildbunny.co.uk/blog/wp-content/plugins/cookie-law-info/css/cli-tables.css?ver=3.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='oikCSS-css'  href='http://www.wildbunny.co.uk/blog/wp-content/plugins/oik/oik.css?ver=3.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='bwlinkCSS-css'  href='http://www.wildbunny.co.uk/blog/wp-content/plugins/oik/bwlink.css?ver=3.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='wp125style-css'  href='http://www.wildbunny.co.uk/blog/wp-content/plugins/wp125/wp125.css?ver=3.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='thsp-sticky-header-plugin-styles-css'  href='http://www.wildbunny.co.uk/blog/wp-content/plugins/sticky-header/css/public.css?ver=1.0.0' type='text/css' media='all' />
<link rel='stylesheet' id='wp-syntax-css-css'  href='http://www.wildbunny.co.uk/blog/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='featured-post-css-css'  href='http://www.wildbunny.co.uk/blog/wp-content/plugins/featured-post-with-thumbnail/featured-post.css?ver=3.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='ws-plugin--s2member-css'  href='http://www.wildbunny.co.uk/blog/wp-content/plugins/s2member/s2member-o.php?ws_plugin__s2member_css=1&#038;qcABC=1&#038;ver=140105-140105-2848662513' type='text/css' media='all' />
<link rel='stylesheet' id='mr_social_sharing-css'  href='http://www.wildbunny.co.uk/blog/wp-content/plugins/social-sharing-toolkit/style.css?ver=3.8.2' type='text/css' media='all' />
<script type='text/javascript' src='http://www.wildbunny.co.uk/blog/wp-content/plugins/swfobj/swfobject.js?ver=2.2'></script>
<script type='text/javascript' src='http://www.wildbunny.co.uk/blog/wp-includes/js/comment-reply.min.js?ver=3.8.2'></script>
<script type='text/javascript' src='http://www.wildbunny.co.uk/blog/wp-includes/js/jquery/jquery.js?ver=1.10.2'></script>
<script type='text/javascript' src='http://www.wildbunny.co.uk/blog/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://www.wildbunny.co.uk/blog/wp-content/plugins/cookie-law-info/js/jquery.cookie.js?ver=3.8.2'></script>
<script type='text/javascript' src='http://www.wildbunny.co.uk/blog/wp-content/plugins/cookie-law-info/js/cookielawinfo.js?ver=3.8.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var StickyHeaderParams = {"show_at":"200","hide_if_narrower":"600"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.wildbunny.co.uk/blog/wp-content/plugins/sticky-header/js/public.js?ver=1.0.0'></script>
<script type='text/javascript' src='http://www.wildbunny.co.uk/blog/wp-content/plugins/social-sharing-toolkit/script.js?ver=3.8.2'></script>
<script type='text/javascript' src='http://www.wildbunny.co.uk/blog/wp-content/plugins/social-sharing-toolkit/googleplus.js.php?lang=en_US&#038;ver=3.8.2'></script>
<script type='text/javascript' src='http://apis.google.com/js/plusone.js?ver=3.8.2'></script>
<script type='text/javascript' src='http://connect.facebook.net/en_US/all.js?ver=3.8.2#xfbml=1'></script>
<script type='text/javascript' src='http://platform.twitter.com/widgets.js?ver=3.8.2'></script>
<script type='text/javascript' src='http://www.wildbunny.co.uk/blog/wp-content/plugins/google-analyticator/external-tracking.min.js?ver=6.2'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.wildbunny.co.uk/blog/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.wildbunny.co.uk/blog/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Algorithmic trading for dummies' href='http://www.wildbunny.co.uk/blog/2013/03/15/algorithmic-trading-for-dummies/' />
<link rel='next' title='What is a Bitcoin?' href='http://www.wildbunny.co.uk/blog/2014/03/03/what-is-a-bitcoin/' />
<meta name="generator" content="WordPress 3.8.2" />
<link rel='canonical' href='http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/' />
<link rel='shortlink' href='http://www.wildbunny.co.uk/blog/?p=2125' />
<script type="text/javascript" src="http://www.wildbunny.co.uk/blog/wp-content/plugins/follow-me/js/bubble.js"></script>
<link rel="stylesheet" type="text/css" href="http://www.wildbunny.co.uk/blog/wp-content/plugins/follow-me/css/style.css" />
<style type="text/css">
<!-- Silverlight WordPress Plugin -->
#silverlightControlHost{height:100%;}
</style>
<!-- Protected by WP-SpamFree v2.1.1.2 :: JS BEGIN -->
<script type="text/javascript" src="http://www.wildbunny.co.uk/blog/wp-content/plugins/wp-spamfree/js/wpsfv2-js.php"></script> 
<!-- Protected by WP-SpamFree v2.1.1.2 :: JS END -->

		<style type="text/css">
			#thsp-sticky-header {
				background-color: #181818;
			}
			#thsp-sticky-header,
			#thsp-sticky-header a {
				color: #f9f9f9 !important;
			}
											</style>
	<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #EAEAEA; }
</style>
<!-- Google Analytics Tracking by Google Analyticator 6.2: http://ronaldheft.com/code/analyticator/ -->
<script type="text/javascript">window.google_analytics_uacct = "ca-pub-4897461488762721";</script>
<script type="text/javascript">
	var analyticsFileTypes = [''];
	var analyticsEventTracking = 'enabled';
</script>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-16999711-1']);
	_gaq.push(['_trackPageview']);
	_gaq.push(['_trackPageLoadTime']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
</head>

<body class="single single-post postid-2125 single-format-standard custom-background">
<div id="wrapper" class="hfeed">
	<div id="header">
		<div id="masthead">
			<div id="branding" role="banner">
								<div id="site-title">
					<span>
						<a href="http://www.wildbunny.co.uk/blog/" title="Wildbunny blog" rel="home">Wildbunny blog</a>
					</span>
				</div>
				<div id="site-description">Developer knowledge centre</div>

										<img src="http://www.wildbunny.co.uk/blog/wp-content/uploads/2011/02/bunnyWP1.gif" width="940" height="198" alt="" />
								</div><!-- #branding -->

			<div id="access" role="navigation">
			  				<div class="skip-link screen-reader-text"><a href="#content" title="Skip to content">Skip to content</a></div>
								<div class="menu-header"><ul id="menu-flowhub-header" class="menu"><li id="menu-item-272" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-272"><a href="/blog/">All articles</a></li>
<li id="menu-item-1302" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1302"><a href="http://www.wildbunny.co.uk/blog/vector-maths-a-primer-for-games-programmers/">Vector maths</a></li>
<li id="menu-item-319" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-319"><a href="http://www.wildbunny.co.uk/blog/contact-me/">Contact me</a></li>
<li id="menu-item-2072" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2072"><a href="http://www.wildbunny.co.uk/blog/hire-me/">Hire me</a></li>
<li id="menu-item-446" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-446"><a href="http://www.wildbunny.co.uk/blog/membership-sign-up-page/">Subscribe!</a></li>
<li id="menu-item-466" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-466"><a href="http://www.wildbunny.co.uk/blog/welcome-to-our-members-area/">Members</a></li>
<li id="menu-item-1183" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1183"><a href="/blog/buy-source-code">Buy source-code</a></li>
<li id="menu-item-1694" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1694"><a href="http://www.wildbunny.co.uk/blog/privacy-policy/">Privacy policy</a></li>
</ul></div>			</div><!-- #access -->
		</div><!-- #masthead -->
	</div><!-- #header -->

	<div id="main">

		<div id="container">
			<div id="content" role="main">


				<div id="nav-above" class="navigation">
					<div class="nav-previous"><a href="http://www.wildbunny.co.uk/blog/2013/03/15/algorithmic-trading-for-dummies/" rel="prev"><span class="meta-nav">&larr;</span> Algorithmic trading for dummies</a></div>
					<div class="nav-next"><a href="http://www.wildbunny.co.uk/blog/2014/03/03/what-is-a-bitcoin/" rel="next">What is a Bitcoin? <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-above -->

				<div id="post-2125" class="post-2125 post type-post status-publish format-standard hentry category-algorithmic-trading category-finance tag-algo tag-ea tag-finance-2 tag-metatrader tag-mql4 tag-mt4 tag-trading-algorithm">
					<h1 class="entry-title">Algorithmic trading for dummies &#8211; part 2</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted on</span> <a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/" title="4:10 pm" rel="bookmark"><span class="entry-date">April 17, 2013</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="http://www.wildbunny.co.uk/blog/author/paulfirth/" title="View all posts by Paul Firth">Paul Firth</a></span>					</div><!-- .entry-meta -->

					<div class="entry-content">
						<img width="150" height="96" src="http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/04/stop-loss-150x96.jpg" class="attachment-single-post-thumbnail wp-post-image" alt="stop-loss" />						
				<!-- Social Sharing Toolkit v2.0.4 | http://www.marijnrongen.com/wordpress-plugins/social_sharing_toolkit/ -->
				<div class="mr_social_sharing_wrapper"><span class="mr_social_sharing"><script type="text/javascript">
							  reddit_url = "http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/";
							  reddit_title = "Algorithmic trading for dummies – part 2";
							</script>
							<script type="text/javascript" src="http://www.reddit.com/static/button/button1.js"></script></span><span class="mr_social_sharing"><a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/" data-count="horizontal" data-text="Algorithmic trading for dummies – part 2">Tweet</a></span><span class="mr_social_sharing"><iframe src="https://www.facebook.com/plugins/like.php?locale=en_US&amp;href=http%3A%2F%2Fwww.wildbunny.co.uk%2Fblog%2F2013%2F04%2F17%2Falgorithmic-trading-for-dummies-part-2%2F&amp;layout=button_count&amp;show_faces=false&amp;width=90px&amp;height=21px" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:90px; height:21px;" allowTransparency="true"></iframe></span><span class="mr_social_sharing"><div id="fb-root"></div><fb:send href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/" font=""></fb:send></span><span class="mr_social_sharing"><g:plusone size="medium" href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/"></g:plusone></span><span class="mr_social_sharing"><a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fwww.wildbunny.co.uk%2Fblog%2F2013%2F04%2F17%2Falgorithmic-trading-for-dummies-part-2%2F&amp;title=Algorithmic+trading+for+dummies+%E2%80%93+part+2" target="_blank" class="mr_social_sharing_popup_link"><img src="http://www.wildbunny.co.uk/blog/wp-content/plugins/social-sharing-toolkit/images/buttons/stumbleupon.png" alt="Submit to StumbleUpon" title="Submit to StumbleUpon"/></a></span></div><p>Hi and welcome back to my blog!</p>
<p>This is a follow up to my previous article which introduced some of the basic concepts in trading and how they related to MetaTrader 4, which I&#8217;ll be using in this series of posts. <a href="http://www.wildbunny.co.uk/blog/2013/03/15/algorithmic-trading-for-dummies/">Here is a link</a> to the previous article if you&#8217;ve not read it already.</p>
<p>I&#8217;ll be walking through the creation of a basic trading algorithm from the initial stages of development, from being highly unprofitable, through to one producing nearly 100% return on investment over the course of 1 simulated year.</p>
<h2>Recap</h2>
<p>In the last article we finished up by creating a &#8216;hello world&#8217; program in MQL4. In this one I want to introduce the trading functions, but first of all we should create some general helper functions which will aid our programming and debugging.</p>
<h2>Helpers</h2>
<p>MT4 (or MT5, for that matter) has no debugger in the strategy tester, which makes our lives that little bit more difficult as programmers. It means we have to resort to using the <em>Print()</em> function a lot when trying to determine the cause of a problem; this is unavoidable. </p>
<p><strong>Asserts</strong></p>
<p>However, one thing we can do is to use <strong>Asserts</strong>; borrowed from conventional programming, an <em>Assert</em> is a piece of code which will check the validity of a given statement and then halt the program and print a message if that statement is false.</p>
<p>Here is an example:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="c" style="font-family:monospace;"><span style="color: #993333;">int</span> error <span style="color: #339933;">=</span> OrderReliableLastErr<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
Assert<span style="color: #009900;">&#40;</span>error <span style="color: #339933;">==</span> <span style="color: #0000dd;">0</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;BuyAtMarketPrice(): error, server returned error code &quot;</span> <span style="color: #339933;">+</span> error<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></td></tr></table></div>

<p>In this example, the assert is checking that the function <em>OrderReliableLastErr()</em> returned 0, i.e. there was no error. If there were an error (in this case, a non-zero return value), the program would halt and the message would be displayed in the Journal for us to inspect.</p>
<p>Here is the implementation for Assert in MQL4:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="c" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">/*
	Check the given condition and stop execution if not met, outputting the given error
*/</span>
<span style="color: #993333;">void</span> Assert<span style="color: #009900;">&#40;</span>bool condition<span style="color: #339933;">,</span> string msg<span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#123;</span>
	<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span>condition<span style="color: #009900;">&#41;</span>
	<span style="color: #009900;">&#123;</span>
		Print<span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;ASSERT FAIL! &quot;</span> <span style="color: #339933;">+</span> msg<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
		Comment<span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;Fatal error occured! Please check journal&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
		gError <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">true</span><span style="color: #339933;">;</span>
	<span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span></pre></td></tr></table></div>

<p>You&#8217;ll notice that not only is the message <em>Print()</em>ed, but also a warning is displayed on screen using the <a href="http://docs.mql4.com/common/Comment">Comment()</a> function of MQL4; this alerts the user more clearly to the problem.</p>
<p>An assert should be used to detect completely invalid and unexpected behaviour and not just for all errors because the program cannot continue operation after an assert has fired.</p>
<p>One caveat of this method is it&#8217;s reliance on the global variable gError. gError is used so that the main part of the program which runs every tick can detect the firing of the assert and stop any further operation. In an ideal world, the assert would simply stop the strategy tester, but unfortunately there is no way to do this from code.</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="c" style="font-family:monospace;">bool gError <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">false</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #666666; font-style: italic;">//+------------------------------------------------------------------+</span>
<span style="color: #666666; font-style: italic;">//| expert start function                                            |</span>
<span style="color: #666666; font-style: italic;">//+------------------------------------------------------------------+</span>
<span style="color: #993333;">int</span> start<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#123;</span>
	<span style="color: #666666; font-style: italic;">//----</span>
	<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span>gError<span style="color: #009900;">&#41;</span>
	<span style="color: #009900;">&#123;</span>
		<span style="color: #666666; font-style: italic;">// normal operation</span>
		...
	<span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span></pre></td></tr></table></div>

<p><strong>Once per bar</strong></p>
<p>Recall that in MT4 the price-series data in the chart is divided up into bars which are spaced at regular intervals. In our programs it is often beneficial to be able to tell when the start of a bar occurs, because MT4 will call our <em>start()</em> function for every single tick and there might be 10s, 100s or 1000s of ticks per bar depending on the chosen time-frame.</p>
<p>Unfortunately the only way to do this reliably both in the strategy tester and during live testing is to use another global variable:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="c" style="font-family:monospace;"><span style="color: #009900;">&#93;</span>
datetime gOldTime<span style="color: #339933;">=</span><span style="color: #0000dd;">0</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #808080; font-style: italic;">/*
*/</span>
bool NewBar<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#123;</span>
	bool new <span style="color: #339933;">=</span> Time<span style="color: #009900;">&#91;</span><span style="color: #0000dd;">0</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">!=</span> gOldTime<span style="color: #339933;">;</span>
	gOldTime <span style="color: #339933;">=</span> Time<span style="color: #009900;">&#91;</span><span style="color: #0000dd;">0</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span>
	<span style="color: #b1b100;">return</span> <span style="color: #009900;">&#40;</span>new<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span>
&nbsp;
<span style="color: #666666; font-style: italic;">//+------------------------------------------------------------------+</span>
<span style="color: #666666; font-style: italic;">//| expert start function                                            |</span>
<span style="color: #666666; font-style: italic;">//+------------------------------------------------------------------+</span>
<span style="color: #993333;">int</span> start<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#123;</span>
	<span style="color: #666666; font-style: italic;">//----</span>
	<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span>gError<span style="color: #009900;">&#41;</span>
	<span style="color: #009900;">&#123;</span>
		<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span>NewBar<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span>
		<span style="color: #009900;">&#123;</span>
			<span style="color: #666666; font-style: italic;">// normal operation</span>
			...
		<span style="color: #009900;">&#125;</span>
	<span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span></pre></td></tr></table></div>

<p>This function must only be called once per update, as each call modifies the global variable so successive calls made after the first during one update will return false incorrectly. Nevertheless, this is still a very useful function when used correctly.</p>
<p><strong>Equality of prices vs floating point</strong></p>
<p>When specifying prices to the MT4 API, one has to take into consideration the broker&#8217;s supported number of decimal places. For example, with a 5 digit broker it is unacceptable to submit <strong>1.213201</strong> as a price because there are too many decimal places. MT4 will throw a runtime error. What&#8217;s required is to use the function <a href="http://docs.mql4.com/convert/NormalizeDouble">NormaliseDouble()</a> on any prices you submit which are not from a MQL4 built-in variable, such as Ask or Bid.</p>
<p>Furthermore, when comparing two different prices it pays to use a function like this:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="c" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">/*
	Are the two specified prices equal in the broker's eyes?
*/</span>
bool PricesEqual<span style="color: #009900;">&#40;</span><span style="color: #993333;">double</span> a<span style="color: #339933;">,</span> <span style="color: #993333;">double</span> b<span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#123;</span>
	<span style="color: #b1b100;">return</span> <span style="color: #009900;">&#40;</span>NormalizeDouble<span style="color: #009900;">&#40;</span>a<span style="color: #339933;">-</span>b<span style="color: #339933;">,</span> Digits<span style="color: #009900;">&#41;</span> <span style="color: #339933;">==</span> <span style="color: #0000dd;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span></pre></td></tr></table></div>

<p>This helps rule out problems with prices being un-equal when compared using a floating point comparison, but being equal after being &#8216;normalised&#8217;.</p>
<div style="width: 320px" class="wp-caption aligncenter"><a href="http://www.plus500.co.uk/?id=83954&#038;pl=2"><img src="http://cdn.plus500.com/Media/Logos/310x80/5207.gif" width="310" height="80" class /></a><p class="wp-caption-text">Example forex broker (Affiliated)</p></div>
<h2>Access to MT4 data</h2>
<p>MT4 provides access to it&#8217;s data and functions via MQL4, here is a quick summary:</p>
<p><strong>Time-series</strong></p>
<p><a href="http://docs.mql4.com/predefined/variables/open">Open</a>, <a href="http://docs.mql4.com/predefined/variables/high">High</a>, <a href="http://docs.mql4.com/predefined/variables/low">Low</a>, <a href="http://docs.mql4.com/predefined/variables/close">Close</a>, <a href="http://docs.mql4.com/predefined/variables/volume">Volume</a> and <a href="http://docs.mql4.com/predefined/variables/time">Time</a> price-series data are all available to access in MT4 as global arrays.</p>
<blockquote><p>Note: the use of the word global here refers to the scope of accessibility. MT4 has special variables which <a href="http://docs.mql4.com/globals">the documentation refers to as global variables</a>, which are used to hold data between invocations of MT4.</p></blockquote>
<p>They are indexed by bar, with 0 being the most recent bar.</p>
<p>Current <a href="http://docs.mql4.com/predefined/variables/bid">Bid</a> and <a href="http://docs.mql4.com/predefined/variables/ask">Ask</a> prices are also available as global variables, but only the most recent values.</p>
<p>For a full list of global MQL4 variables, please check the <a href="http://docs.mql4.com/predefined/variables">reference documentation here</a>.</p>
<p><strong>Indicators</strong></p>
<p>MQL4 also provides full access to all the built-in indicators and also access to any custom ones. Here is an example of getting the value of a moving average:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="c" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">// double iMA(	string symbol, int timeframe, int period, int ma_shift, int ma_method, int applied_price, int shift)</span>
<span style="color: #993333;">double</span> ma <span style="color: #339933;">=</span> iMA<span style="color: #009900;">&#40;</span>Symbol<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> <span style="color: #0000dd;">0</span><span style="color: #339933;">,</span> <span style="color: #0000dd;">14</span><span style="color: #339933;">,</span> <span style="color: #0000dd;">0</span><span style="color: #339933;">,</span> MODE_SMA<span style="color: #339933;">,</span> PRICE_OPEN<span style="color: #339933;">,</span> <span style="color: #0000dd;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></td></tr></table></div>

<p><a href="http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/04/ma.jpg"><img src="http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/04/ma.jpg" alt="" title="ma" width="640" height="317" class="aligncenter size-full wp-image-2128" /></a></p>
<p>This one line call evaluates the moving average indicator for:</p>
<ul>
<li>The current symbol (i.e. the asset which the EA is running on, such as <em>EURUSD</em>)</li>
<li>The current time-frame (the time-frame the EA is running on, such as <em>M1</em>, <em>M5</em> etc)</li>
<li>Using a period of 14 bars</li>
<li>With no visual offset (where the curve is actually drawn in the strategy tester, shifted into the past or future by a number of bars)</li>
<li>Using simple moving average in the calculations</li>
<li>Working on <em>Open</em> prices only</li>
<li>Using the current bar (bar 0) in the calculations.</li>
</ul>
<p><a href="http://docs.mql4.com/indicators/iMA">Here is the documentation</a> for the moving average indicator.</p>
<p>The documentation not only provides information about how to call these indicators, it also provides <a href="http://ta.mql4.com/indicators">a very useful technical analysis of how they work</a> and why you&#8217;d want to use them.</p>
<h2>Actual trading functions &#8211; basic terminology</h2>
<p>Before we can move on into the actual trading functions, we must cover the trading terminology which you will encounter almost right away when trying to trade, either by writing a program or manually in the MT4 interface.</p>
<p><strong>Slippage</strong></p>
<p>Due to the fact that your broker is probably located far away from you, actual trading operations are performed by sending a request over the internet. This request takes some amount of time to arrive at the broker and this delay can have consequences when considering orders placed for instant execution, such as market orders.</p>
<p>When submitting a market order to buy, for example you will always be buying at the current <em>Ask</em> price. However, what that current <em>Ask</em> price is at your broker may be different from the one you&#8217;ve got in MT4 running on your local machine. The slippage parameter allows you to mitigate this potential difference by permitting the actual buying price to be different by some number of points.</p>
<blockquote><p>Of point of interest here is that slippage is something which could easily be manipulated by an unscrupulous broker in order to increase their profits by giving you an unfavourable price. Look for reviews of brokers which talk about the amount of slippage customers are experiencing when choosing a broker.</p></blockquote>
<p>Simply setting this to zero will work in the strategy tester, but when it comes to live testing it may result in &#8216;requote&#8217; errors.</p>
<p><strong>Stop-loss</strong></p>
<p>When you enter a trade, you expect the market to move in your favour before you can then close the trade in profit (either manually, or by using take-profit). However, if the market doesn&#8217;t move in your favour, stop-loss allows you to control the maximum amount you can lose in each trade. It is specified as a simple price.</p>
<p><a href="http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/04/stop-loss.jpg"><img src="http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/04/stop-loss.jpg" alt="" title="stop-loss" width="200" height="128" class="aligncenter size-full wp-image-2133" /></a></p>
<blockquote><p>In the above example a buy was made at 1.37657 with a stop-loss set at 1.36654 and price is currently at 1.37317 heading down towards the stop-loss.</p></blockquote>
<p>You might argue that Stop-losses are unnecessary because you can close the trade manually, which is true except for the case of interrupted connection to your broker, like a power-cut &#8211; you need some level of protection to prevent unbounded losses.</p>
<p>For <strong>buy</strong> orders, stop-loss must be positioned <strong>below</strong> the buying price and for <strong>sell</strong> orders <strong>above</strong> the selling price (at a distance of some broker-specific number of points).</p>
<p>Setting a stop loss correctly is a tricky process &#8211; the closer you set it to the price, the higher the probability it will be hit, but the further away you put it the more you can potentially lose if your accuracy is insufficient.</p>
<p><strong>Take-profit</strong></p>
<p>In order to close a trade in profit, the alternative to manual closing (and useful for the same reasons as the stop-loss is) is to use take-profit. Take-profit works exactly like stop-loss; it&#8217;s specified as a simple price and represents the amount of profit you&#8217;d be happy to accept for a given trade. </p>
<p>For <strong>buy</strong> orders, take-profit must be positioned <strong>above</strong> the buying price and for <strong>sell</strong> orders <strong>below</strong> the selling price (at a distance of some broker-specific number of points).</p>
<p><a href="http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/04/take-profit.jpg"><img src="http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/04/take-profit.jpg" alt="" title="take-profit" width="219" height="123" class="aligncenter size-full wp-image-2135" /></a></p>
<blockquote><p>In the above example a sell was made at 1.34720 with a take-profit at 1.34232 and price is currently at 1.34572 heading down towards the take-profit.</p></blockquote>
<p><strong>Stop-levels</strong></p>
<p>In the take-profit and stop-loss definitions, you&#8217;ll notice that I mentioned there is a broker-defined minimum distance at which both take-profit and stop-loss must be set &#8211; this is called the <em>stop-level</em> and is defined in <em>Points</em>. It is actually a limitation placed on all pending orders (orders destined for the order-book). Take-profit and stop-loss are actually just pending-orders which are created and closed automatically by your broker.</p>
<p>You can find the stop-level like this:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="c" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">/*
	Buy at the current market price
*/</span>
<span style="color: #993333;">int</span> BuyAtMarketPrice<span style="color: #009900;">&#40;</span><span style="color: #993333;">double</span> lotSize<span style="color: #339933;">,</span> <span style="color: #993333;">double</span> slippage<span style="color: #339933;">,</span> <span style="color: #993333;">double</span> sl<span style="color: #339933;">=</span><span style="color: #0000dd;">0</span><span style="color: #339933;">,</span> <span style="color: #993333;">double</span> tp<span style="color: #339933;">=</span><span style="color: #0000dd;">0</span><span style="color: #339933;">,</span> string comment<span style="color: #339933;">=</span><span style="color: #ff0000;">&quot;&quot;</span><span style="color: #339933;">,</span> bool ecn<span style="color: #339933;">=</span><span style="color: #000000; font-weight: bold;">false</span><span style="color: #339933;">,</span> string symbol<span style="color: #339933;">=</span><span style="color: #ff0000;">&quot;&quot;</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#123;</span>
        <span style="color: #666666; font-style: italic;">// find the broker's stop level</span>
	<span style="color: #993333;">int</span> stopPoints <span style="color: #339933;">=</span> MarketInfo<span style="color: #009900;">&#40;</span>Symbol<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> MODE_STOPLEVEL<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #666666; font-style: italic;">// convert to a price</span>
        <span style="color: #993333;">double</span> stopPrice <span style="color: #339933;">=</span> stopPoints<span style="color: #339933;">*</span>Point<span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #666666; font-style: italic;">// make sure the stop loss and take profit are positioned correctly</span>
	Assert<span style="color: #009900;">&#40;</span>NormalizeDouble<span style="color: #009900;">&#40;</span>Bid <span style="color: #339933;">-</span> sl<span style="color: #339933;">,</span> Digits<span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;=</span> stopPrice  <span style="color: #339933;">||</span> sl <span style="color: #339933;">==</span> <span style="color: #0000dd;">0</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;BuyAtMarketPrice(): stop loss too close to price&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
	Assert<span style="color: #009900;">&#40;</span>NormalizeDouble<span style="color: #009900;">&#40;</span>tp <span style="color: #339933;">-</span> Bid<span style="color: #339933;">,</span> Digits<span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;=</span> stopPrice <span style="color: #339933;">||</span> tp <span style="color: #339933;">==</span> <span style="color: #0000dd;">0</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;BuyAtMarketPrice(): take profit too close to price&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        ...
<span style="color: #009900;">&#125;</span></pre></td></tr></table></div>

<p>There is also a further restriction on all pending orders, that they may not be placed &#8216;inside&#8217; the current spread. So even if your broker has a stop-level of 0, you still cannot place any pending orders (including take-profit and stop-loss) anywhere between the Ask and Bid prices.</p>
<p>The full set of rules regarding orders and stop-levels is given in the following documentation:</p>
<p><a href="http://book.mql4.com/appendix/limits">Requirements and Limitations in Making Trades</a></p>
<p><strong>Lot-size</strong></p>
<p>In forex, trading volume is specified in fractional units called a lot. One standard lot is usually 100,000 base currency units (for example in USDJPY that would be $100,000) although this is a broker specific quantity. You can determine your broker&#8217;s lot-size like this:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="c" style="font-family:monospace;"><span style="color: #993333;">double</span> lotSize <span style="color: #339933;">=</span> MarketInfo<span style="color: #009900;">&#40;</span>Symbol<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> MODE_LOTSIZE<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></td></tr></table></div>

<p>Since most people don&#8217;t have $100,000 lying around with which to trade, luckily you can specify fractional lot sizes. The lowest allowed by your broker can be determined like this:</p>
<!-- Easy AdSense V2.79 -->
<!-- Post[count: 1] -->
<div class="ezAdsense adsense adsense-midtext" style="text-align:center;margin:12px; "><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- medi -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-4897461488762721"
     data-ad-slot="9797433564"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
<div class="wp_syntax"><table><tr><td class="code"><pre class="c" style="font-family:monospace;"><span style="color: #993333;">double</span> minLotSize <span style="color: #339933;">=</span> MarketInfo<span style="color: #009900;">&#40;</span>Symbol<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> MODE_MINLOT<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></td></tr></table></div>

<p><strong>Leverage</strong></p>
<p>For some reason MT4 has a minimum specifiable lot size of 0.01 (regardless of a broker&#8217;s own minimum), which equates to $1000. Again, $1000 <strong>per trade</strong> seems like it might be out of the reach of most people in the world and far too risky in the first place. The reason for the huge lot-size is historical; retail forex trading is only a fairly recent development, it used to be that only banks and huge financial institutions could trade and they were only interested in moving huge amounts of money.</p>
<p>Using leverage is the only way you can really trade in retail forex, unless you are very rich. Leverage is a bit like a loan; the broker takes your initial deposit as payment (say $1000), and if their leverage is 1:100 would allow you to trade in units of up to $100,000, or one standard lot. Now, this seems extremely risky because you could potentially then <strong>lose more than you actually deposited</strong>. This is where the choice of broker becomes extremely important &#8211; it is perfectly possible for a broker to prevent you from losing more than you deposited (by initiating a margin-call and auto-closing your orders if they are losing sufficiently) and indeed, some brokers will do that (Oanda, for instance). But of course, some will not so it really pays to read the terms and conditions.</p>
<p><a href="http://www.babypips.com/school/lots-leverage-and-profit-and-loss.html">Here is a great description of how leverage works from babypips.com</a>.</p>
<p><strong>Margin-call</strong></p>
<p>A margin-call used to mean a guy on the end of a phone telling you that all your deals were bad and about to cost you a lot of money. Now it&#8217;s completely automated &#8211; if you&#8217;ve made a bad deal and your open trades lose more than a certain amount your broker will auto-close your trades to prevent unbounded loss. This is called a margin-call. As I mentioned above it&#8217;s very important to chose a broker who will prevent you losing more than your initial deposit.</p>
<p><a href="http://www.babypips.com/school/margin-leverage-possible-deadly-combination.html">Another babypips.com definition is here</a></p>
<h2>Actual trading functions</h2>
<p>Ok, lets cover the way you actually perform trading operations in MQL4. </p>
<p>MQL4 provides access to a whole host of different trading functions which you can see all of here: <a href="http://docs.mql4.com/trading">MQL4 Trading functions</a>. I&#8217;m going to introduce the most simple two functions: market orders buy, sell and close.</p>
<p><a href="http://docs.mql4.com/trading/OrderSend">OrderSend()</a> and <a href="http://docs.mql4.com/trading/OrderClose">OrderClose()</a> provide access to this functionality.</p>
<p><strong>OrderSend</strong></p>
<p>At first, the <em>OrderSend</em> function seems quite daunting, with 11 separate parameters to pass. In reality it&#8217;s actually quite simple though, thankfully!</p>
<p>Here is the prototype:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="c" style="font-family:monospace;"><span style="color: #993333;">int</span> OrderSend<span style="color: #009900;">&#40;</span>	string symbol<span style="color: #339933;">,</span> <span style="color: #993333;">int</span> cmd<span style="color: #339933;">,</span> <span style="color: #993333;">double</span> volume<span style="color: #339933;">,</span> <span style="color: #993333;">double</span> price<span style="color: #339933;">,</span> <span style="color: #993333;">int</span> slippage<span style="color: #339933;">,</span> <span style="color: #993333;">double</span> stoploss<span style="color: #339933;">,</span> <span style="color: #993333;">double</span> takeprofit<span style="color: #339933;">,</span> string comment<span style="color: #339933;">=</span>NULL<span style="color: #339933;">,</span> <span style="color: #993333;">int</span> magic<span style="color: #339933;">=</span><span style="color: #0000dd;">0</span><span style="color: #339933;">,</span> datetime expiration<span style="color: #339933;">=</span><span style="color: #0000dd;">0</span><span style="color: #339933;">,</span> color arrow_color<span style="color: #339933;">=</span>CLR_NONE<span style="color: #009900;">&#41;</span></pre></td></tr></table></div>

<p>Lets run through the parameters.</p>
<ul>
<li><strong>symbol</strong> &#8211; The symbol to trade, use <a href="http://docs.mql4.com/windows/Symbol">Symbol()</a> for the current one</li>
<li><strong>cmd</strong> &#8211; The actual type of trade to make, <a href="http://docs.mql4.com/constants/trading">here is a full list</a></li>
<li><strong>volume</strong> &#8211; The lot-size of the trade, in fractional lots</li>
<li><strong>price </strong>- The price at which to trade, for market orders this must be Bid or Ask depending on the type of order</li>
<li><strong>slippage</strong> &#8211; The number of points of slippage to accept from your broker</li>
<li><strong>stoploss</strong> &#8211; The price at which to set the stop-loss, can be 0 for no stop-loss</li>
<li><strong>takeprofit</strong> &#8211; The price at which to set the take-profit, can be 0 for no take-profit</li>
<li><strong>comment</strong> &#8211; (optional), a comment to place on the order which will be visible when hovering over the order in the MT4 interface</li>
<li><strong>magic</strong> &#8211; (optional), a magic number is something which allows an EA to uniquely distinguish its own orders for any manually placed orders, or orders from other EAs running on the same account</li>
<li><strong>expiration</strong> (optional), an expiration time for pending orders &#8211; this is not supported by some brokers</li>
<li><strong>arrow_color</strong> (optional), the colour which the trades will appear in the MT4 interface</li>
</ul>
<p><strong>Placing a buy/sell market order</strong></p>
<p>Here is an example of placing a buy-order, with no take-profit or stop-loss for 0.1 lots and accepting 0 points of slippage:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="c" style="font-family:monospace;"><span style="color: #993333;">int</span> buyTicket <span style="color: #339933;">=</span> OrderSend<span style="color: #009900;">&#40;</span>Symbol<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> OP_BUY<span style="color: #339933;">,</span> <span style="color:#800080;">0.1</span><span style="color: #339933;">,</span> Ask<span style="color: #339933;">,</span> <span style="color: #0000dd;">0</span><span style="color: #339933;">,</span> <span style="color: #0000dd;">0</span><span style="color: #339933;">,</span> <span style="color: #0000dd;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
Assert<span style="color: #009900;">&#40;</span>buyTicket <span style="color: #339933;">!=</span> <span style="color: #339933;">-</span><span style="color: #0000dd;">1</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;Fatal error sending buy order!&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></td></tr></table></div>

<p>An example of a sell-order:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="c" style="font-family:monospace;"><span style="color: #993333;">int</span> sellTicket <span style="color: #339933;">=</span> OrderSend<span style="color: #009900;">&#40;</span>Symbol<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> OP_SELL<span style="color: #339933;">,</span> <span style="color:#800080;">0.1</span><span style="color: #339933;">,</span> Bid<span style="color: #339933;">,</span> <span style="color: #0000dd;">0</span><span style="color: #339933;">,</span> <span style="color: #0000dd;">0</span><span style="color: #339933;">,</span> <span style="color: #0000dd;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
Assert<span style="color: #009900;">&#40;</span>sellTicket<span style="color: #339933;">!=</span> <span style="color: #339933;">-</span><span style="color: #0000dd;">1</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;Fatal error sending sell order!&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></td></tr></table></div>

<p>As you can see, the <em>OrderSend()</em> function returns a ticket which uniquely identifies the trade, or -1 for failure. This ticket is useful for when we need to close the trade, or for identifying if the trade is in profit or loss.</p>
<p><strong>Closing a buy/sell market order</strong></p>
<p>Closing an order is done using the <em>OrderClose()</em> function. Here is the prototype:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="c" style="font-family:monospace;">bool OrderClose<span style="color: #009900;">&#40;</span><span style="color: #993333;">int</span> ticket<span style="color: #339933;">,</span> <span style="color: #993333;">double</span> lots<span style="color: #339933;">,</span> <span style="color: #993333;">double</span> price<span style="color: #339933;">,</span> <span style="color: #993333;">int</span> slippage<span style="color: #339933;">,</span> color Color<span style="color: #339933;">=</span>CLR_NONE<span style="color: #009900;">&#41;</span></pre></td></tr></table></div>

<p>Lets run through the parameters:</p>
<ul>
<li><strong>ticket</strong> &#8211; Ticket number of the order, returned by the OrderSend() function</li>
<li><strong>lots</strong> &#8211; Fractional number of lots to close in this order (it is possible to close less volume than you initially ordered, this is called a partial close)</li>
<li><strong>price</strong> &#8211; Price at which to close the order, for market orders this must be Bid or Ask depending on the type</li>
<li><strong>slippage</strong> &#8211; The amount of slippage to accept from the broker</li>
<li><strong>Color</strong> &#8211; The colour for the closing arrow drawn on the chart in MT4</li>
</ul>
<blockquote><p>It is worth explaining how closing an order works behind the scenes to understand why the slippage parameter is necessary. When an order is closed, the broker enters an order into the market of the opposite type to which was initially opened. Recall back to the last article where I explained that in forex, every buy must be closed with a sell? This is the implementation of that fact. And because of this, we must suffer the dreaded slippage of the broker once again.</p></blockquote>
<p>Here is an example of the usage of <em>OrderClose()</em>:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="c" style="font-family:monospace;">bool success <span style="color: #339933;">=</span> OrderClose<span style="color: #009900;">&#40;</span>buyTicket<span style="color: #339933;">,</span> <span style="color:#800080;">0.1</span><span style="color: #339933;">,</span> Bid<span style="color: #339933;">,</span> <span style="color: #0000dd;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
Assert<span style="color: #009900;">&#40;</span>success<span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;Fatal error closing buy order&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></td></tr></table></div>

<p>And similarly for a sell order:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="c" style="font-family:monospace;">bool success <span style="color: #339933;">=</span> OrderClose<span style="color: #009900;">&#40;</span>sellTicket<span style="color: #339933;">,</span> <span style="color:#800080;">0.1</span><span style="color: #339933;">,</span> Ask<span style="color: #339933;">,</span> <span style="color: #0000dd;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
Assert<span style="color: #009900;">&#40;</span>success<span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;Fatal error closing sell order&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></td></tr></table></div>

<h2>Our first trading algorithm</h2>
<p>Ok, so now we actually have learned everything we need to create the most basic trading algorithm (EA in MT4 terminology).</p>
<p><strong>Buying and selling at random</strong></p>
<p>The trading methodology will be to simply buy and sell at random, wait a random amount of time and then close the order. There will be a maximum of one order opened at any one time and the maximum amount of time to wait before closing will be specified as a user parameter.</p>
<p>Here is the realised EA:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="c" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//+------------------------------------------------------------------+</span>
<span style="color: #666666; font-style: italic;">//|                                              BuySellAtRandom.mq4 |</span>
<span style="color: #666666; font-style: italic;">//|                                                    Wildbunny Ltd |</span>
<span style="color: #666666; font-style: italic;">//|                                      http://wildbunny.co.uk/blog |</span>
<span style="color: #666666; font-style: italic;">//+------------------------------------------------------------------+</span>
<span style="color: #339933;">#property copyright &quot;Wildbunny Ltd&quot;</span>
<span style="color: #339933;">#property link      &quot;http://wildbunny.co.uk/blog&quot;</span>
&nbsp;
<span style="color: #666666; font-style: italic;">//--- input parameters</span>
<span style="color: #000000; font-weight: bold;">extern</span> <span style="color: #993333;">int</span>       OrderCloseMaxMinutes<span style="color: #339933;">=</span><span style="color: #0000dd;">2000</span><span style="color: #339933;">;</span>
&nbsp;
bool gError<span style="color: #339933;">=</span><span style="color: #000000; font-weight: bold;">false</span><span style="color: #339933;">;</span>
datetime gOldTime<span style="color: #339933;">=</span><span style="color: #0000dd;">0</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #808080; font-style: italic;">/*
	Check the given condition and stop execution if not met, outputting the given error
*/</span>
<span style="color: #993333;">void</span> Assert<span style="color: #009900;">&#40;</span>bool condition<span style="color: #339933;">,</span> string msg<span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#123;</span>
	<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span>condition<span style="color: #009900;">&#41;</span>
	<span style="color: #009900;">&#123;</span>
		Print<span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;ASSERT FAIL! &quot;</span> <span style="color: #339933;">+</span> msg<span style="color: #339933;">,</span> <span style="color: #000000; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
		Comment<span style="color: #009900;">&#40;</span><span style="color: #ff0000;">&quot;Fatal error occured! Please check journal&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
		gError <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">true</span><span style="color: #339933;">;</span>
	<span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span>
&nbsp;
<span style="color: #808080; font-style: italic;">/*
*/</span>
bool NewBar<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#123;</span>
	bool new <span style="color: #339933;">=</span> Time<span style="color: #009900;">&#91;</span><span style="color: #0000dd;">0</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">!=</span> gOldTime<span style="color: #339933;">;</span>
	gOldTime <span style="color: #339933;">=</span> Time<span style="color: #009900;">&#91;</span><span style="color: #0000dd;">0</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span>
	<span style="color: #b1b100;">return</span> <span style="color: #009900;">&#40;</span>new<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span>
&nbsp;
<span style="color: #666666; font-style: italic;">//+------------------------------------------------------------------+</span>
<span style="color: #666666; font-style: italic;">//| expert initialization function                                   |</span>
<span style="color: #666666; font-style: italic;">//+------------------------------------------------------------------+</span>
<span style="color: #993333;">int</span> init<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#123;</span>
	<span style="color: #666666; font-style: italic;">//----</span>
&nbsp;
	<span style="color: #666666; font-style: italic;">//----</span>
	<span style="color: #b1b100;">return</span><span style="color: #009900;">&#40;</span><span style="color: #0000dd;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span>
<span style="color: #666666; font-style: italic;">//+------------------------------------------------------------------+</span>
<span style="color: #666666; font-style: italic;">//| expert deinitialization function                                 |</span>
<span style="color: #666666; font-style: italic;">//+------------------------------------------------------------------+</span>
<span style="color: #993333;">int</span> deinit<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#123;</span>
	<span style="color: #666666; font-style: italic;">//----</span>
&nbsp;
	<span style="color: #666666; font-style: italic;">//----</span>
	<span style="color: #b1b100;">return</span><span style="color: #009900;">&#40;</span><span style="color: #0000dd;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span>
<span style="color: #666666; font-style: italic;">//+------------------------------------------------------------------+</span>
<span style="color: #666666; font-style: italic;">//| expert start function                                            |</span>
<span style="color: #666666; font-style: italic;">//+------------------------------------------------------------------+</span>
<span style="color: #993333;">int</span> start<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#123;</span>
	<span style="color: #666666; font-style: italic;">//----</span>
	<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span>gError <span style="color: #339933;">&amp;&amp;</span> NewBar<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span>
	<span style="color: #009900;">&#123;</span>
		<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span>OrdersTotal<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">==</span> <span style="color: #0000dd;">0</span><span style="color: #009900;">&#41;</span>
		<span style="color: #009900;">&#123;</span>
			<span style="color: #993333;">int</span> ticket<span style="color: #339933;">;</span>
&nbsp;
			<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span>MathRand<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">%</span><span style="color:#800080;">2</span> <span style="color: #339933;">==</span> <span style="color: #0000dd;">0</span><span style="color: #009900;">&#41;</span>
			<span style="color: #009900;">&#123;</span>
				ticket <span style="color: #339933;">=</span> OrderSend<span style="color: #009900;">&#40;</span>Symbol<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> OP_BUY<span style="color: #339933;">,</span> <span style="color:#800080;">0.1</span><span style="color: #339933;">,</span> Ask<span style="color: #339933;">,</span> <span style="color: #0000dd;">0</span><span style="color: #339933;">,</span> <span style="color: #0000dd;">0</span><span style="color: #339933;">,</span> <span style="color: #0000dd;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
				Assert<span style="color: #009900;">&#40;</span>ticket <span style="color: #339933;">!=</span> <span style="color: #339933;">-</span><span style="color: #0000dd;">1</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;Failed sending buy order!&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
			<span style="color: #009900;">&#125;</span>
			<span style="color: #b1b100;">else</span>
			<span style="color: #009900;">&#123;</span>
				ticket <span style="color: #339933;">=</span> OrderSend<span style="color: #009900;">&#40;</span>Symbol<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> OP_SELL<span style="color: #339933;">,</span> <span style="color:#800080;">0.1</span><span style="color: #339933;">,</span> Bid<span style="color: #339933;">,</span> <span style="color: #0000dd;">0</span><span style="color: #339933;">,</span> <span style="color: #0000dd;">0</span><span style="color: #339933;">,</span> <span style="color: #0000dd;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
				Assert<span style="color: #009900;">&#40;</span>ticket <span style="color: #339933;">!=</span> <span style="color: #339933;">-</span><span style="color: #0000dd;">1</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;Failed sending sell order!&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
			<span style="color: #009900;">&#125;</span>
		<span style="color: #009900;">&#125;</span>
		<span style="color: #b1b100;">else</span> <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span>OrderSelect<span style="color: #009900;">&#40;</span>OrdersTotal<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">-</span><span style="color: #0000dd;">1</span><span style="color: #339933;">,</span> SELECT_BY_POS<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span>
		<span style="color: #009900;">&#123;</span>
			<span style="color: #993333;">int</span> minutesSinceOrder <span style="color: #339933;">=</span> <span style="color: #009900;">&#40;</span>Time<span style="color: #009900;">&#91;</span><span style="color: #0000dd;">0</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">-</span> OrderOpenTime<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">/</span> <span style="color: #0000dd;">60</span><span style="color: #339933;">;</span>
			<span style="color: #993333;">int</span> randomMinutes <span style="color: #339933;">=</span> MathRand<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">%</span> OrderCloseMaxMinutes<span style="color: #339933;">;</span>
&nbsp;
			<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span>minutesSinceOrder <span style="color: #339933;">&gt;</span> randomMinutes<span style="color: #009900;">&#41;</span>
			<span style="color: #009900;">&#123;</span>
				bool success <span style="color: #339933;">=</span> OrderClose<span style="color: #009900;">&#40;</span>OrderTicket<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> OrderLots<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> OrderClosePrice<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> <span style="color: #0000dd;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
				Assert<span style="color: #009900;">&#40;</span>success<span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;Failed closing order!&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
			<span style="color: #009900;">&#125;</span>
		<span style="color: #009900;">&#125;</span>
	<span style="color: #009900;">&#125;</span>
&nbsp;
	<span style="color: #666666; font-style: italic;">//----</span>
	<span style="color: #b1b100;">return</span><span style="color: #009900;">&#40;</span><span style="color: #0000dd;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span>
<span style="color: #666666; font-style: italic;">//+------------------------------------------------------------------+</span></pre></td></tr></table></div>

<p>Compile the EA, and then set the following settings in the strategy tester:</p>
<ul>
<li>Time-frame H1</li>
<li>For the period 2011-2012</li>
<li>Initial deposit of 2000</li>
</ul>
<p>Hit start and then you should be presented with a report similar to this:</p>
<p><a href="http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/04/buysellrandomreport.jpg"><img src="http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/04/buysellrandomreport.jpg" alt="" title="buysellrandomreport" width="640" height="520" class="aligncenter size-full wp-image-2143" /></a></p>
<p>It contains very important information such as total profit/loss, draw-down, number of trades etc. Lets run through what they mean:</p>
<ul>
<li><strong>Bars in test</strong> &#8211; the number of bars in the chosen time-frame, in the above case hour bars</li>
<li><strong>Mismatched chart errors</strong> &#8211; any errors which occurred due to bad back-test data</li>
<li><strong>Initial deposit</strong> &#8211; the initial simulated deposit</li>
<li><strong>Total net profit</strong> &#8211; the net profit of the simulation</li>
<li><strong>Profit factor</strong> &#8211; the ratio between gross profit and loss, 1:1 would be 1.0, higher numbers indicate profitability and the higher the better</li>
<li><strong>Absolute drawdown</strong> &#8211; the maximum amount which the initial balance was reduced by, the lower the better</li>
<li><strong>Total trades</strong> &#8211; total number of trades performed</li>
<li><strong>Ticks modelled</strong> &#8211; the number of calls to your start() function</li>
<li><strong>Modelling quality</strong> &#8211; an estimate of the reliability of the simulation, very important &#8211; more on this in a later article</li>
<li><strong>Gross profit/loss</strong> &#8211; the gross profit/loss of the simulation</li>
<li><strong>Expected payoff</strong> &#8211; the average profit/loss factor for one individual trade</li>
<li><strong>Maximal drawdown</strong> &#8211; the largest difference in the profit graph from the highest peak to the lowest trough, the lower the better</li>
<li><strong>Relative drawdown</strong> &#8211; the draw down percentage in relation to the account balance at the time, the lower the better</li>
<li><strong>Short/long positions won</strong> &#8211; the percentage of sells/buys which resulted in profit, the higher the better</li>
<li><strong>Profit trades</strong> &#8211; the percentage of all trades which resulted in profit, the higher the better</li>
<li><strong>Largest profit/loss trade</strong> &#8211; largest single profit/loss trade</li>
<li><strong>Average profit/loss trade</strong> &#8211; the average over all profit/loss trades</li>
<li><strong>Maximum consecutive wins/losses</strong> &#8211; number of consecutive trades which were profitable/lossy</li>
<li><strong>Maximal consecutive profit/loss</strong> &#8211; the maximal amount of consecutive profit/loss over all trades</li>
<li><strong>Consecutive wins/losses</strong> &#8211; the actual number of consecutive trades which were profitable/lossy</li>
</ul>
<p><strong>Most important parts in the report</strong></p>
<p>The most important parts of the report are the net profit, the draw-down and the average profit/loss. Net profit should obviously be higher than 0, preferably a lot higher, while relative draw-down should be as close to zero as possible. </p>
<p>Analysing the inherent risk is an extremely important factor for any investor and each EA is a potential investment opportunity. One way to calculate risk is to look at the average profit/loss ratio in the report.</p>
<p>In the above example the risk/reward ratio is <strong>1.05:1</strong>, calculated as:</p>
<p><code>risk reward = average loss / average profit</code></p>
<p>This risk/reward ratio is quite good in general as we don&#8217;t risk much more than we can earn for each individual trade. However, this is not the full story of course. What is also necessary to consider is the profit factor, which in this case is less than 1, indicating an unprofitable system. So we have a low risk (on a trade by trade basis) unprofitable system, with very high draw-down!</p>
<p>So in summary, this EA is low profit and high-risk (because of the huge draw-down) &#8211; the worst of both worlds!</p>
<h2>Analysis</h2>
<p>Lets explore the results of this EA. Trading at random should result in an EA which is break-even if it wasn&#8217;t for one important factor: the spread. Every time a trade is made (opened and then closed) we have to pay the cost of the spread to the broker. The higher the number of trades, the more spreads you will have to pay.</p>
<div id="attachment_2169" style="width: 558px" class="wp-caption aligncenter"><a href="http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/04/spreadExample.png"><img src="http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/04/spreadExample.png" alt="" title="spreadExample" width="548" height="154" class="size-full wp-image-2169" /></a><p class="wp-caption-text">An example of paying the spread; equal movements in price result in only break-even in one direction and increased loss in the other</p></div>
<p>This is visible in the following example if we increase the number of trades by waiting only 1 bar before closing each trade:</p>
<p><a href="http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/04/buysellrandomreportLeastTime.jpg"><img src="http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/04/buysellrandomreportLeastTime.jpg" alt="" title="buysellrandomreportLeastTime" width="640" height="516" class="aligncenter size-full wp-image-2150" /></a></p>
<p>In fact, the account value went to zero in much less than 1 year. In general, the fewer the number of trades were used to reach a given profit, the more efficient the EA since the amount of spread paid will be less.</p>
<h2>Improvements</h2>
<p>What if we change the EA to attempt to lock in profits once they occur? Looking at the original report, the average profit is $36.08 so what if we add some code to create a stop-loss at break-even (the order open price) once the profit reaches this level in any order?</p>
<p><strong>Stop loss to break-even</strong></p>
<p><a href="http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/04/buysellrandomreportBreakEven.jpg"><img src="http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/04/buysellrandomreportBreakEven.jpg" alt="" title="buysellrandomreportBreakEven" width="640" height="511" class="aligncenter size-full wp-image-2158" /></a></p>
<p>Ok, so an improvement was made &#8211; the EA is now in profit by $392 and the draw-down has decreased to 65%. A couple of interesting points to note are the way the average winning percentage has changed along with the average loss per trade. The EA now wins <strong>54%</strong> of the time (compared to 51%) and the risk reward ratio has changed to <strong>1.14:1</strong> because the average profit trade decreased to $33.01.</p>
<p>By moving the stop-loss to break-even once we are in profit, the chances of the trade being a winner naturally increase, but the average amount won will decrease because there is more likelihood that the stop-loss will be triggered before the profit could rise back up to the level it might have otherwise had with the original method of closing trades.</p>
<p>This is an important point to understand in general: <strong>the closer a stop-loss is to the current price, the more likely it is to be hit.</strong></p>
<p><strong>Partial close at average profit</strong></p>
<p>Ok, so what if we also close half of the order when we reach the average profit level? Recall that it is possible to close a smaller fraction of lots than were initially opened in the order.</p>
<p><a href="http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/04/buysellrandomreportPartialClose50.jpg"><img src="http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/04/buysellrandomreportPartialClose50.jpg" alt="" title="buysellrandomreportPartialClose50" width="640" height="513" class="aligncenter size-full wp-image-2159" /></a></p>
<p>A big improvement &#8211; now we have nearly 100% profit (compared to the initial investment) and the draw-down has reduced to 44%. However, the risk-reward ratio is now <strong>1.58:1</strong> but the average winning percentage is up to 64%.</p>
<p>The partial close allows 50% of the original order to behave as it would have in the previous version, while also taking an immediate profit. The effect of this is to increase the winning percentage since the closed portion of the order was winning and the existing portion will also be winning since it starts off in profit and has stop-loss at break-even. Higher winning percentage doesn&#8217;t always translate to higher profit &#8211; the average loss will likely increase to compensate since we&#8217;re taking less profit by closing half the order &#8216;early&#8217; compared to the original algorithm.</p>
<p>At this stage we&#8217;re reaching the point where we&#8217;ve extracted as much as we could from the initial strategy. By opening the trades completely at random and only concentrating on how trades are closed we have seen how it is possible to tune an EA from an initially terrible result to a much better one.</p>
<p>However, it should be noted that it wouldn&#8217;t be wise to trade with this EA because of the high draw-down and the short testing period involved. Also the EA is paying a lot in the cost of spreads due to the high number of trades (approximately $2000 in total on spreads alone).</p>
<h2>Next time</h2>
<p>That&#8217;s all for this article!</p>
<p>In the next article I&#8217;m going to cover some of the different trading techniques (trailing-stop, grids, averaging, martingale etc) and the risks and benefit of each one.</p>
<p>If you&#8217;d like to show your appreciation for this article and help ensure I&#8217;m able to write more like this, you can purchase the source code for all the examples in this article; they come with full rights to use however you please even in commercial products. Please do not trade using these EAs however, they are for education purposes only!</p>
<p>USD 9.99<br />
<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
 <input type="hidden" name="business" value="paypal@wildbunny.co.uk" />
 <input type="hidden" name="cmd" value="_xclick" />
 <!-- Instant Payment Notification & Return Page Details -->
 <input type="hidden" name="notify_url" value="http://www.wildbunny.co.uk/blog/?s2member_paypal_notify=1" />
 <input type="hidden" name="cancel_return" value="http://www.wildbunny.co.uk/blog/" />
 <input type="hidden" name="return" value="http://www.wildbunny.co.uk/blog/?s2member_paypal_return=1" />
 <input type="hidden" name="rm" value="2" />
 <!-- Configures Basic Checkout Fields -->
 <input type="hidden" name="lc" value="" />
 <input type="hidden" name="no_shipping" value="1" />
 <input type="hidden" name="no_note" value="1" />
 <input type="hidden" name="custom" value="www.wildbunny.co.uk" />
 <input type="hidden" name="currency_code" value="USD" />
 <input type="hidden" name="page_style" value="paypal" />
 <input type="hidden" name="charset" value="utf-8" />
 <input type="hidden" name="item_name" value="Source code for algorithmic trading for dummies - part 2" />
 <input type="hidden" name="item_number" value="sp:2172:72" />
 <input type="hidden" name="amount" value="9.99" />
 <!-- Configures s2Member's Unique Invoice ID/Code  -->
 <input type="hidden" name="invoice" value="53cf0c52e3e3f~54.227.56.174" />
 <!-- Associates Purchase With A User/Member (when/if applicable) -->
 <input type="hidden" name="on0" value="Originating Domain" />
 <input type="hidden" name="os0" value="www.wildbunny.co.uk" />
 <!-- Identifies The Customer's IP Address For Tracking -->
 <input type="hidden" name="on1" value="Customer IP Address" />
 <input type="hidden" name="os1" value="54.227.56.174" />
 <!-- Displays The PayPal Image Button -->
 <input type="image" src="https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif" style="width:auto; height:auto; border:0;" alt="PayPal" />
</form></p>
<p>Cheers, Paul.</p>

				<!-- Social Sharing Toolkit v2.0.4 | http://www.marijnrongen.com/wordpress-plugins/social_sharing_toolkit/ -->
				<div class="mr_social_sharing_wrapper"><span class="mr_social_sharing"><script type="text/javascript">
							  reddit_url = "http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/";
							  reddit_title = "Algorithmic trading for dummies – part 2";
							</script>
							<script type="text/javascript" src="http://www.reddit.com/static/button/button1.js"></script></span><span class="mr_social_sharing"><a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/" data-count="horizontal" data-text="Algorithmic trading for dummies – part 2">Tweet</a></span><span class="mr_social_sharing"><iframe src="https://www.facebook.com/plugins/like.php?locale=en_US&amp;href=http%3A%2F%2Fwww.wildbunny.co.uk%2Fblog%2F2013%2F04%2F17%2Falgorithmic-trading-for-dummies-part-2%2F&amp;layout=button_count&amp;show_faces=false&amp;width=90px&amp;height=21px" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:90px; height:21px;" allowTransparency="true"></iframe></span><span class="mr_social_sharing"><div id="fb-root"></div><fb:send href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/" font=""></fb:send></span><span class="mr_social_sharing"><g:plusone size="medium" href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/"></g:plusone></span><span class="mr_social_sharing"><a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fwww.wildbunny.co.uk%2Fblog%2F2013%2F04%2F17%2Falgorithmic-trading-for-dummies-part-2%2F&amp;title=Algorithmic+trading+for+dummies+%E2%80%93+part+2" target="_blank" class="mr_social_sharing_popup_link"><img src="http://www.wildbunny.co.uk/blog/wp-content/plugins/social-sharing-toolkit/images/buttons/stumbleupon.png" alt="Submit to StumbleUpon" title="Submit to StumbleUpon"/></a></span></div><span style="clear:both;display:none;"><img src="http://www.wildbunny.co.uk/blog/wp-content/plugins/wp-spamfree/img/wpsf-img.php" width="0" height="0" alt="" style="border-style:none;width:0px;height:0px;display:none;" /></span>											</div><!-- .entry-content -->

					<div id="entry-author-info">
						<div id="author-avatar">
							<img alt='' src='http://0.gravatar.com/avatar/e19935619bbfb2c4d003acdb0669ca46?s=60&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />						</div><!-- #author-avatar -->
						<div id="author-description">
							<h2>About Paul Firth</h2>
							A games industry veteran of ten years, seven of which spent at Sony Computer Entertainment Europe, he has had key technical roles on triple-A titles like the Bafta Award Winning Little Big Planet (PSP), 24: The Game (PS2), special effects work on Heavenly Sword (PS3), some in-show graphics on the BBC�s version of Robot Wars, the TV show, as well as a few more obscure projects.
&nbsp;
Now joint CEO of Wildbunny, he is able to give himself hiccups simply by coughing.
&nbsp;
1NobNQ88UoYePFi5QbibuRJP3TtLhh65Jp							<div id="author-link">
								<a href="http://www.wildbunny.co.uk/blog/author/paulfirth/">
									View all posts by Paul Firth <span class="meta-nav">&rarr;</span>								</a>
							</div><!-- #author-link	-->
						</div><!-- #author-description -->
					</div><!-- #entry-author-info -->

					<div class="entry-utility">
						This entry was posted in <a href="http://www.wildbunny.co.uk/blog/category/finance/algorithmic-trading/" title="View all posts in Algorithmic trading" rel="category tag">Algorithmic trading</a>, <a href="http://www.wildbunny.co.uk/blog/category/finance/" title="View all posts in Finance" rel="category tag">Finance</a> and tagged <a href="http://www.wildbunny.co.uk/blog/tag/algo/" rel="tag">algo</a>, <a href="http://www.wildbunny.co.uk/blog/tag/ea/" rel="tag">EA</a>, <a href="http://www.wildbunny.co.uk/blog/tag/finance-2/" rel="tag">finance</a>, <a href="http://www.wildbunny.co.uk/blog/tag/metatrader/" rel="tag">MetaTrader</a>, <a href="http://www.wildbunny.co.uk/blog/tag/mql4/" rel="tag">MQL4</a>, <a href="http://www.wildbunny.co.uk/blog/tag/mt4/" rel="tag">MT4</a>, <a href="http://www.wildbunny.co.uk/blog/tag/trading-algorithm/" rel="tag">trading algorithm</a>. Bookmark the <a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/" title="Permalink to Algorithmic trading for dummies &#8211; part 2" rel="bookmark">permalink</a>.											</div><!-- .entry-utility -->
				</div><!-- #post-## -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://www.wildbunny.co.uk/blog/2013/03/15/algorithmic-trading-for-dummies/" rel="prev"><span class="meta-nav">&larr;</span> Algorithmic trading for dummies</a></div>
					<div class="nav-next"><a href="http://www.wildbunny.co.uk/blog/2014/03/03/what-is-a-bitcoin/" rel="next">What is a Bitcoin? <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
			<div id="comments">


			<h3 id="comments-title">15 Responses to <em>Algorithmic trading for dummies &#8211; part 2</em></h3>


			<ol class="commentlist">
					<li class="comment even thread-even depth-1" id="li-comment-2340">
		<div id="comment-2340">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/f7377101e954a103f898f23d951d45f6?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Jon</cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/comment-page-1/#comment-2340">
			May 9, 2013 at 6:31 am</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>Very nice articles you are submitting<br />
Do you have any article on HFT intraday trading or some advice on that topic ?</p>
</div>

		<div class="reply">
			<a class='comment-reply-link' href='/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/?v=0&#038;replytocom=2340#respond' onclick='return addComment.moveForm("comment-2340", "2340", "respond", "2125")'>Reply</a>		</div><!-- .reply -->
	</div><!-- #comment-##  -->

	<ul class="children">
	<li class="comment byuser comment-author-paulfirth bypostauthor odd alt depth-2" id="li-comment-2341">
		<div id="comment-2341">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/e19935619bbfb2c4d003acdb0669ca46?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://www.wildbunny.co.uk' rel='external nofollow' class='url'>Paul Firth</a></cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/comment-page-1/#comment-2341">
			May 9, 2013 at 8:07 am</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>Hi Jon,</p>
<p>HFT at it&#8217;s most extreme requires a very fast trade execution speed which can really only be achieved by the big players using colocation &#8211; that side of things is out of reach of the retail trader who must settle for less frequency. Something to bare in mind is that the more trades you make, the more spreads you pay so it can be less efficient to trade more often (especially using market orders). Another factor which can hinder the HFT retail trader is the broker itself, which (if they decide you are using too much of their network bandwidth) can start lagging your connection to compensate.</p>
<p>Hope that helps!</p>
<p>Cheers, Paul.</p>
</div>

		<div class="reply">
			<a class='comment-reply-link' href='/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/?v=0&#038;replytocom=2341#respond' onclick='return addComment.moveForm("comment-2341", "2341", "respond", "2125")'>Reply</a>		</div><!-- .reply -->
	</div><!-- #comment-##  -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-2461">
		<div id="comment-2461">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/3ada2afc9e9db49adfd47eaea72342a8?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">J</cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/comment-page-1/#comment-2461">
			May 23, 2013 at 2:23 pm</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>I am running though this article using the (bought) source code examples and I&#8217;m wondering about how you are generating the informative strategy report screen shots you got in your article? I can get the same information by browsing though the tabs in the Strategy Tester but I would much rather have it all in one image/pdf for quick overview.</p>
<p>Also, on another note.. I can&#8217;t get Oanda history data from before 2011.12.19 which is a bit odd/disconcerting to say the least..</p>
</div>

		<div class="reply">
			<a class='comment-reply-link' href='/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/?v=0&#038;replytocom=2461#respond' onclick='return addComment.moveForm("comment-2461", "2461", "respond", "2125")'>Reply</a>		</div><!-- .reply -->
	</div><!-- #comment-##  -->

	<ul class="children">
	<li class="comment byuser comment-author-paulfirth bypostauthor odd alt depth-2" id="li-comment-2462">
		<div id="comment-2462">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/e19935619bbfb2c4d003acdb0669ca46?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://www.wildbunny.co.uk' rel='external nofollow' class='url'>Paul Firth</a></cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/comment-page-1/#comment-2462">
			May 23, 2013 at 2:25 pm</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>Hi there,</p>
<p>Just right click and save report, it will save a web-page which contains all the nice info <img src="http://www.wildbunny.co.uk/blog/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /> </p>
<p>Cheers, Paul.</p>
</div>

		<div class="reply">
			<a class='comment-reply-link' href='/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/?v=0&#038;replytocom=2462#respond' onclick='return addComment.moveForm("comment-2462", "2462", "respond", "2125")'>Reply</a>		</div><!-- .reply -->
	</div><!-- #comment-##  -->

	<ul class="children">
	<li class="comment even depth-3" id="li-comment-2465">
		<div id="comment-2465">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/3ada2afc9e9db49adfd47eaea72342a8?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">J</cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/comment-page-1/#comment-2465">
			May 23, 2013 at 8:45 pm</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>Thanks, it is these small things that really helps when getting started with new languages/environments! Also I&#8217;ve noticed that the &#8220;modelling quality&#8221; for the same historical period on Oanda seem to oscillate quite a bit which again affect Net Profit.. makes me wonder about acquiring higher quality data for testing against.</p>
</div>

		<div class="reply">
			<a class='comment-reply-link' href='/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/?v=0&#038;replytocom=2465#respond' onclick='return addComment.moveForm("comment-2465", "2465", "respond", "2125")'>Reply</a>		</div><!-- .reply -->
	</div><!-- #comment-##  -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1" id="li-comment-2624">
		<div id="comment-2624">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/4e2275ab6049357ae784a16b9bdbc57c?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">QuantHFTer</cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/comment-page-1/#comment-2624">
			June 11, 2013 at 12:14 pm</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>First, thank you for your nice concise tutorial. It was really helpful for someone just started learning to code like me. I waiting for your third part. </p>
<p>Also, i have a suggestion that you can make the donation amount so small so this will encourage many to donate and support your wonderful articles.</p>
</div>

		<div class="reply">
			<a class='comment-reply-link' href='/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/?v=0&#038;replytocom=2624#respond' onclick='return addComment.moveForm("comment-2624", "2624", "respond", "2125")'>Reply</a>		</div><!-- .reply -->
	</div><!-- #comment-##  -->

	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-2754">
		<div id="comment-2754">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/f85e393645de842ff00ce3d72ac20da9?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Andrew</cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/comment-page-1/#comment-2754">
			July 6, 2013 at 2:25 pm</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>Hi<br />
Great article!<br />
Has  MT4 the same function range as MT5? (Seems nobody is using mt5 ?)<br />
Seems v5 not compatible to 4<br />
can i use it for stocks + other (options,&#8230;) ?<br />
Is there a way to access the order book ?<br />
-&gt; is there a known interface/possibility to add additional code or is it<br />
easier to use another traderSW?<br />
thanks Andrew</p>
</div>

		<div class="reply">
			<a class='comment-reply-link' href='/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/?v=0&#038;replytocom=2754#respond' onclick='return addComment.moveForm("comment-2754", "2754", "respond", "2125")'>Reply</a>		</div><!-- .reply -->
	</div><!-- #comment-##  -->

	<ul class="children">
	<li class="comment byuser comment-author-paulfirth bypostauthor odd alt depth-2" id="li-comment-2758">
		<div id="comment-2758">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/e19935619bbfb2c4d003acdb0669ca46?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://www.wildbunny.co.uk' rel='external nofollow' class='url'>Paul Firth</a></cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/comment-page-1/#comment-2758">
			July 6, 2013 at 7:32 pm</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>Hi Andrew,</p>
<p>MT4/5 are both designed for retail forex trading rather than stocks; the reason being that in MT4/5 you can never actually own the thing you are buying or selling because it always gets converted back into the currency you started with. Obv with stocks and shares you actually need to own them after you buy them, so it&#8217;s not really suited for the purpose.</p>
<p>I&#8217;m not sure what the alternative is actually&#8230; if you find one, let me know!</p>
<p>Cheers, Paul.</p>
</div>

		<div class="reply">
			<a class='comment-reply-link' href='/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/?v=0&#038;replytocom=2758#respond' onclick='return addComment.moveForm("comment-2758", "2758", "respond", "2125")'>Reply</a>		</div><!-- .reply -->
	</div><!-- #comment-##  -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-2844">
		<div id="comment-2844">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/99f94d9735b66899b332e9ffc424c01a?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Kevin Rea</cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/comment-page-1/#comment-2844">
			July 14, 2013 at 7:37 pm</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>I downloaded Metatrader but it appears that USDINR is not an option.<br />
Anyone know how to create algorithms to trade the rupee?</p>
</div>

		<div class="reply">
			<a class='comment-reply-link' href='/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/?v=0&#038;replytocom=2844#respond' onclick='return addComment.moveForm("comment-2844", "2844", "respond", "2125")'>Reply</a>		</div><!-- .reply -->
	</div><!-- #comment-##  -->

	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3079">
		<div id="comment-3079">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/2ae54a981707a83ac8e6416bcdc897ce?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Ardin</cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/comment-page-1/#comment-3079">
			August 15, 2013 at 1:22 pm</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>Hi,</p>
<p>Your article is an enlightenment. Thank you.<br />
I noticed that your modelling quality is 99.90%. It&#8217;s so great. Do you have it from Oanda or downloaded the tick data somewhere else? My broker tick data only provide me 25.00% modelling quality.</p>
</div>

		<div class="reply">
			<a class='comment-reply-link' href='/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/?v=0&#038;replytocom=3079#respond' onclick='return addComment.moveForm("comment-3079", "3079", "respond", "2125")'>Reply</a>		</div><!-- .reply -->
	</div><!-- #comment-##  -->

	<ul class="children">
	<li class="comment byuser comment-author-paulfirth bypostauthor even depth-2" id="li-comment-3080">
		<div id="comment-3080">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/e19935619bbfb2c4d003acdb0669ca46?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://www.wildbunny.co.uk' rel='external nofollow' class='url'>Paul Firth</a></cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/comment-page-1/#comment-3080">
			August 15, 2013 at 1:24 pm</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>Hi Ardin,</p>
<p>All MT4 brokers give you only 25% unfortunately. In order to get 99% you need to download it yourself &#8211; look into a free program called TickstoryLite. It&#8217;s quite an involved process, so read up on it well, but it pays off <img src="http://www.wildbunny.co.uk/blog/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /> </p>
<p>Cheers, Paul.</p>
</div>

		<div class="reply">
			<a class='comment-reply-link' href='/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/?v=0&#038;replytocom=3080#respond' onclick='return addComment.moveForm("comment-3080", "3080", "respond", "2125")'>Reply</a>		</div><!-- .reply -->
	</div><!-- #comment-##  -->

	<ul class="children">
	<li class="comment odd alt depth-3" id="li-comment-3081">
		<div id="comment-3081">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/2ae54a981707a83ac8e6416bcdc897ce?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Ardin</cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/comment-page-1/#comment-3081">
			August 15, 2013 at 1:25 pm</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>Thank you for your response. You&#8217;re good guy.</p>
</div>

		<div class="reply">
			<a class='comment-reply-link' href='/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/?v=0&#038;replytocom=3081#respond' onclick='return addComment.moveForm("comment-3081", "3081", "respond", "2125")'>Reply</a>		</div><!-- .reply -->
	</div><!-- #comment-##  -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-3654">
		<div id="comment-3654">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/c67621a97d2bc633ba06c9c85486b307?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://www.ast.cam.ac.uk/~ccrowe' rel='external nofollow' class='url'>Chris Crowe</a></cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/comment-page-1/#comment-3654">
			February 20, 2014 at 5:15 pm</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>Thanks for the great write-up, I&#8217;ve learned a great deal from your two lessons and am getting to grips with the code. I&#8217;ve encountered a small bug which perhaps only occurs with newer releases. In your basic demo code, I had to change &#8216;new&#8217; to something else, as MQ4 seems to think that &#8216;new&#8217; is some sort of global variable, so won&#8217;t allow it as a name. I changed it to:<br />
<code><br />
bool anew = Time[0] != gOldTime;<br />
	gOldTime = Time[0];<br />
	return (anew);<br />
</code></p>
<p>and it compiles without hiccup.</p>
</div>

		<div class="reply">
			<a class='comment-reply-link' href='/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/?v=0&#038;replytocom=3654#respond' onclick='return addComment.moveForm("comment-3654", "3654", "respond", "2125")'>Reply</a>		</div><!-- .reply -->
	</div><!-- #comment-##  -->

	<ul class="children">
	<li class="comment byuser comment-author-paulfirth bypostauthor odd alt depth-2" id="li-comment-3655">
		<div id="comment-3655">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/e19935619bbfb2c4d003acdb0669ca46?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://www.wildbunny.co.uk' rel='external nofollow' class='url'>Paul Firth</a></cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/comment-page-1/#comment-3655">
			February 20, 2014 at 5:21 pm</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>Thanks Chris <img src="http://www.wildbunny.co.uk/blog/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /> </p>
</div>

		<div class="reply">
			<a class='comment-reply-link' href='/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/?v=0&#038;replytocom=3655#respond' onclick='return addComment.moveForm("comment-3655", "3655", "respond", "2125")'>Reply</a>		</div><!-- .reply -->
	</div><!-- #comment-##  -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-3656">
		<div id="comment-3656">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/d4d27198909003ed0edbe16983b17795?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Paddy</cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/comment-page-1/#comment-3656">
			February 22, 2014 at 6:51 am</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>I would like to bring your attention to a deviation from your code samples.</p>
<p>When I create a new EA there is no &#8216;int Start()&#8217; function in the blank template; however there is a &#8216;void onTick()&#8217; function which appears to provide the functionality that you described. </p>
<p>As it is now declared as void, it cannot return a value. Therefore the new code for the HelloWorld example had to be modified to:</p>
<p><code><br />
//+------------------------------------------------------------------+<br />
//| Expert tick function                                             |<br />
//+------------------------------------------------------------------+<br />
void OnTick()<br />
  {<br />
//---<br />
         Print("Hello World");<br />
         return;<br />
  }<br />
//+------------------------------------------------------------------+<br />
</code></p>
<p>Perhaps there has been some update on MQL4?</p>
<p>Thank you for your posts on algo trading. They have really eased the learning curve for me!!</p>
<p>Cheers</p>
</div>

		<div class="reply">
			<a class='comment-reply-link' href='/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/?v=0&#038;replytocom=3656#respond' onclick='return addComment.moveForm("comment-3656", "3656", "respond", "2125")'>Reply</a>		</div><!-- .reply -->
	</div><!-- #comment-##  -->

	</li><!-- #comment-## -->
			</ol>



								<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/?v=0#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://www.wildbunny.co.uk/blog/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																			<p class="comment-notes">Your email address will not be published. Required fields are marked <span class="required">*</span></p>							<p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" /></p>
												<p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea></p>						<p class="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:  <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></p>						<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='2125' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
							<script type='text/javascript'>
	<!--
	refJS = escape( document[ 'referrer' ] );
	document.write("<input type='hidden' name='refJS' value='"+refJS+"'>");
	// -->
	</script>
	<p style="font-size:9px;clear:both;">WP-SpamFree by <a rel="nofollow" href="http://www.polepositionmarketing.com/library/wp-spamfree/" title="WP-SpamFree WordPress Anti-Spam Plugin" >Pole Position Marketing</a>

					</form>
							</div><!-- #respond -->
			
</div><!-- #comments -->


			</div><!-- #content -->
		</div><!-- #container -->


		<div id="primary" class="widget-area" role="complementary">
			<ul class="xoxo">

<li id="search-3" class="widget-container widget_search"><h3 class="widget-title">Search</h3><form role="search" method="get" id="searchform" class="searchform" action="http://www.wildbunny.co.uk/blog/">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s" />
					<input type="submit" id="searchsubmit" value="Search" />
				</div>
			</form></li><li id="categories-3" class="widget-container widget_categories"><h3 class="widget-title">Choose a category</h3><select name='cat' id='cat' class='postform' >
	<option value='-1'>Select Category</option>
	<option class="level-0" value="104">Algorithmic trading&nbsp;&nbsp;(4)</option>
	<option class="level-0" value="7">Animal Army&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="35">AS3&nbsp;&nbsp;(19)</option>
	<option class="level-0" value="44">Beginner&nbsp;&nbsp;(3)</option>
	<option class="level-0" value="114">Bitcoin&nbsp;&nbsp;(4)</option>
	<option class="level-0" value="6">Business&nbsp;&nbsp;(7)</option>
	<option class="level-0" value="73">Chip tunes&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="71">Circles&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="40">Collision Detection&nbsp;&nbsp;(8)</option>
	<option class="level-0" value="53">Developer love&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="117">Entity systems&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="103">Finance&nbsp;&nbsp;(6)</option>
	<option class="level-0" value="101">Full games&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="67">Geometry&nbsp;&nbsp;(9)</option>
	<option class="level-0" value="58">Graphics&nbsp;&nbsp;(9)</option>
	<option class="level-0" value="100">JSON&nbsp;&nbsp;(4)</option>
	<option class="level-0" value="42">Ladders and AI&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="96">learning-to-program&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="28">Making angry birds&nbsp;&nbsp;(2)</option>
	<option class="level-0" value="47">Micro-transactions&nbsp;&nbsp;(3)</option>
	<option class="level-0" value="90">Multi-player&nbsp;&nbsp;(2)</option>
	<option class="level-0" value="72">Music&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="118">Optimisation&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="41">Parallax and Tiles&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="65">paypal&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="97">Physics&nbsp;&nbsp;(8)</option>
	<option class="level-0" value="36">Platform game&nbsp;&nbsp;(5)</option>
	<option class="level-0" value="68">Polygons&nbsp;&nbsp;(2)</option>
	<option class="level-0" value="98">Portals&nbsp;&nbsp;(2)</option>
	<option class="level-0" value="52">Promotion&nbsp;&nbsp;(2)</option>
	<option class="level-0" value="93">Self improvement&nbsp;&nbsp;(4)</option>
	<option class="level-0" value="66">Server side&nbsp;&nbsp;(7)</option>
	<option class="level-0" value="99">Silverlight&nbsp;&nbsp;(5)</option>
	<option class="level-0" value="45">Stencyl&nbsp;&nbsp;(2)</option>
	<option class="level-0" value="5">Technical&nbsp;&nbsp;(28)</option>
	<option class="level-0" value="1">Uncategorized&nbsp;&nbsp;(1)</option>
</select>

<script type='text/javascript'>
/* <![CDATA[ */
	var dropdown = document.getElementById("cat");
	function onCatChange() {
		if ( dropdown.options[dropdown.selectedIndex].value > 0 ) {
			location.href = "http://www.wildbunny.co.uk/blog/?cat="+dropdown.options[dropdown.selectedIndex].value;
		}
	}
	dropdown.onchange = onCatChange;
/* ]]> */
</script>

</li>			</ul>
		</div><!-- #primary .widget-area -->


		<div id="secondary" class="widget-area" role="complementary">
			<ul class="xoxo">
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"><div style="text-align:center">About the author</div></h3><div class="ub-grav" style="margin:5px 5px 0px 5px;text-align:center;"><img alt='' src='http://0.gravatar.com/avatar/e19935619bbfb2c4d003acdb0669ca46?s=128&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D128&amp;r=G' class='avatar avatar-128 photo' height='128' width='128' /></div>A games industry veteran of ten years, seven of which spent at Sony Computer Entertainment Europe, he has had key technical roles on triple-A titles like the Bafta Award Winning Little Big Planet (PSP), 24: The Game (PS2), special effects work on Heavenly Sword (PS3), some in-show graphics on the BBC�s version of Robot Wars, the TV show, as well as a few more obscure projects.
&nbsp;
Now joint CEO of Wildbunny, he is able to give himself hiccups simply by coughing.
&nbsp;
1NobNQ88UoYePFi5QbibuRJP3TtLhh65Jp
</li><li id="widget_featured-posts-2" class="widget-container widget_featured-posts"><h3 class="widget-title">Featured Posts</h3>	
	<ul id="yiw-featured-post">
	   <li>
	       <a href="http://www.wildbunny.co.uk/blog/2012/11/01/10-steps-to-becoming-a-better-programmer/" class="featured-thumb">
	                      <img src="http://www.wildbunny.co.uk/blog/wp-content/plugins/featured-post-with-thumbnail/scripts/timthumb.php?src=http://www.wildbunny.co.uk/blog/wp-content/uploads/2012/11/stencylRules.png&amp;h=200&amp;w=200&amp;zc=1" class="alignleft" alt="10 steps to becoming a better programmer" />
           
	       	       </a>
           
           <h4 class="featured-title">
	           <a href="http://www.wildbunny.co.uk/blog/2012/11/01/10-steps-to-becoming-a-better-programmer/">10 steps to becoming a better programmer</a>
	       </h4>
	   </li>
	   <li>
	       <a href="http://www.wildbunny.co.uk/blog/2011/03/25/speculative-contacts-an-continuous-collision-engine-approach-part-1/" class="featured-thumb">
	                      <img src="http://www.wildbunny.co.uk/blog/wp-content/plugins/featured-post-with-thumbnail/scripts/timthumb.php?src=http://www.wildbunny.co.uk/blog/wp-content/uploads/2011/03/toi1.png&amp;h=200&amp;w=200&amp;zc=1" class="alignleft" alt="Speculative Contacts &#8211; a continuous collision engine approach" />
           
	       	       </a>
           
           <h4 class="featured-title">
	           <a href="http://www.wildbunny.co.uk/blog/2011/03/25/speculative-contacts-an-continuous-collision-engine-approach-part-1/">Speculative Contacts &#8211; a continuous collision engine approach</a>
	       </h4>
	   </li>
	   <li>
	       <a href="http://www.wildbunny.co.uk/blog/2011/12/11/how-to-make-a-2d-platform-game-part-1/" class="featured-thumb">
	                      <img src="http://www.wildbunny.co.uk/blog/wp-content/plugins/featured-post-with-thumbnail/scripts/timthumb.php?src=http://www.wildbunny.co.uk/blog/wp-content/uploads/2011/12/giantStar.png&amp;h=200&amp;w=200&amp;zc=1" class="alignleft" alt="How to make a 2d Platform Game &#8211; part 1" />
           
	       	       </a>
           
           <h4 class="featured-title">
	           <a href="http://www.wildbunny.co.uk/blog/2011/12/11/how-to-make-a-2d-platform-game-part-1/">How to make a 2d Platform Game &#8211; part 1</a>
	       </h4>
	   </li>
	   <li>
	       <a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/" class="featured-thumb">
	                      <img src="http://www.wildbunny.co.uk/blog/wp-content/plugins/featured-post-with-thumbnail/scripts/timthumb.php?src=http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/04/stop-loss.jpg&amp;h=200&amp;w=200&amp;zc=1" class="alignleft" alt="Algorithmic trading for dummies &#8211; part 2" />
           
	       	       </a>
           
           <h4 class="featured-title">
	           <a href="http://www.wildbunny.co.uk/blog/2013/04/17/algorithmic-trading-for-dummies-part-2/">Algorithmic trading for dummies &#8211; part 2</a>
	       </h4>
	   </li>
	   <li>
	       <a href="http://www.wildbunny.co.uk/blog/2012/01/06/how-to-make-games/" class="featured-thumb">
	                      <img src="http://www.wildbunny.co.uk/blog/wp-content/plugins/featured-post-with-thumbnail/scripts/timthumb.php?src=http://www.wildbunny.co.uk/blog/wp-content/uploads/2011/12/flashLogo.png&amp;h=200&amp;w=200&amp;zc=1" class="alignleft" alt="How to make games" />
           
	       	       </a>
           
           <h4 class="featured-title">
	           <a href="http://www.wildbunny.co.uk/blog/2012/01/06/how-to-make-games/">How to make games</a>
	       </h4>
	   </li>
	</ul>
	
	</li><li id="advanced-featured-page-widget-3" class="widget-container widget_advanced-featured-page-widget"><h3 class="widget-title">Tutorials with code to buy</h3><div class="post-2295 page type-page status-publish hentry"><a href="http://www.wildbunny.co.uk/blog/buy-multiplayer-asteroids-engine/" title="Buy multiplayer asteroids engine" class="alignnone"><img width="200" height="200" src="http://www.wildbunny.co.uk/blog/wp-content/uploads/2014/05/multiplayer.jpg" class="attachment-200 by 200 image" alt="multiplayer" /></a></div><!--end post_class()-->

</li><li id="advanced-featured-page-widget-2" class="widget-container widget_advanced-featured-page-widget"><div class="post-2299 page type-page status-publish hentry"><a href="http://www.wildbunny.co.uk/blog/buy-angrybirds-alike-engine/" title="Buy Angrybirds-alike engine" class="alignnone"><img width="200" height="200" src="http://www.wildbunny.co.uk/blog/wp-content/uploads/2014/05/birds.jpg" class="attachment-200 by 200 image" alt="birds" /></a></div><!--end post_class()-->

</li><li id="advanced-featured-page-widget-4" class="widget-container widget_advanced-featured-page-widget"><div class="post-2301 page type-page status-publish hentry"><a href="http://www.wildbunny.co.uk/blog/buy-platform-game-engine/" title="Buy platform game engine" class="alignnone"><img width="200" height="200" src="http://www.wildbunny.co.uk/blog/wp-content/uploads/2014/05/platform.png" class="attachment-200 by 200 image" alt="platform" /></a></div><!--end post_class()-->

</li><li id="wp125" class="widget-container wp125_write_ads_widget">
<h3 class="widget-title">Affiliates</h3><div id="wp125adwrap_1c">
<div class="wp125ad odd"><a href="index.php?adclick=10" title="plus500" rel="nofollow"target='_blank'><img src="http://www.wildbunny.co.uk/blog/wp-content/uploads/2013/03/plus500-200x200.gif" alt="plus500" /></a></div>
<div class="wp125ad even"><a href="https://www.cavirtex.com/Z/50680" title="cavirtex" rel="nofollow"target='_blank'><img src="http://www.wildbunny.co.uk/blog/wp-content/uploads/2014/03/caVirtex.gif" alt="cavirtex" /></a></div>
<div class="wp125ad odd"><a href="http://www.freelancer.co.uk/affiliates/wildbunny2/" title="freelancer" rel="nofollow"target='_blank'><img src="/images/freelancer.png" alt="freelancer" /></a></div>
<div class="wp125ad even"><a href="http://www.shareasale.com/r.cfm?b=531904&u=949687&m=41388&urllink=&afftrack=" title="wp engine" rel="nofollow"target='_blank'><img src="http://www.shareasale.com/image/41388/sas_banner_250x250.jpg" alt="wp engine" /></a></div>
<div class="wp125ad odd"><a href="http://www.wildbunny.co.uk/blog/advertise-here/" rel="nofollow"target='_blank'><img src="http://www.wildbunny.co.uk/images/blankAdvert.png" alt="" /></a></div>
</div>
</li><li id="ezadswidget-4" class="widget-container ezAdsWidget"><h3 class="widget-title">My MetaTrader 5 products</h3><!-- Easy AdSense V2.79 -->
<!-- Widg[count: 2] -->
<div class="ezAdsense adsense adsense-widget"><div style="text-align:center;margin:0px; "><div style="width:350px">
<a target="_blank" href="http://mql5.com/dzz" title="Download VWAP technical indicator from MQL5 Market"><img src="http://www.mql5.com/en/market/widget/925/mid" alt="Buy VWAP customer indicator in the store selling algo trading systems" width="400" height="60"></a>
<a target="_blank" href="http://mql5.com/e08" title="Download Average Spread technical indicator from MQL5 Market"><img src="http://www.mql5.com/en/market/widget/951/mid" alt="Buy Average Spread customer indicator in the store selling algo trading systems" width="400" height="60"></a>
<a target="_blank" href="http://mql5.com/e09" title="Download Bid Ask Volumes technical indicator from MQL5 Market"><img src="http://www.mql5.com/en/market/widget/950/mid" alt="Buy Bid Ask Volumes customer indicator in the store selling algo trading systems" width="400" height="60"></a>
<a target="_blank" href="http://mql5.com/po9" title="Download Market Activity technical indicator from MQL5 Market"><img src="http://www.mql5.com/en/market/widget/963/mid" alt="Buy Market Activity customer indicator in the store selling algo trading systems" width="400" height="60"></a>
<a target="_blank" href="http://mql5.com/poa" title="Download Precision Scalper trading system from MQL5 Market"><img src="http://www.mql5.com/en/market/widget/972/mid" alt="Buy Precision Scalper trading application in the store of automated robot systems" width="400" height="60"></a>
</div></div></div></li>			</ul>
		</div><!-- #secondary .widget-area -->

	</div><!-- #main -->

	<div id="footer" role="contentinfo">
		<div id="colophon">



			<div id="site-info">
				<a href="http://www.wildbunny.co.uk/blog/" title="Wildbunny blog" rel="home">
					Wildbunny blog				</a>
			</div><!-- #site-info -->

			<div id="site-generator">
								<a href="http://wordpress.org/"
						title="Semantic Personal Publishing Platform" rel="generator">
					Proudly powered by WordPress.				</a>
			</div><!-- #site-generator -->

		</div><!-- #colophon -->
	</div><!-- #footer -->

</div><!-- #wrapper -->

		
		<script type="text/javascript">
			//<![CDATA[
			jQuery(document).ready(function() {
				var a = '<div id="cookie-law-info-bar"><span>This website uses cookies to improve your experience. We\'ll assume you\'re ok with this, but you can opt-out if you wish.<a href=\"#\" id=\"cookie_action_close_header\"  class=\"medium cli-plugin-button cli-plugin-main-button\" >Accept</a> <a href=\"http://www.wildbunny.co.uk/blog/privacy-policy/\" id=\"CONSTANT_OPEN_URL\" target=\"_new\"  class=\"cli-plugin-main-link\"  >Read More</a></span></div>';
				var b = '{"animate_speed_hide":"500","animate_speed_show":"500","background":"#fff","border":"#444","border_on":true,"button_1_button_colour":"#000","button_1_button_hover":"#000000","button_1_link_colour":"#fff","button_1_as_button":true,"button_2_button_colour":"#333","button_2_button_hover":"#292929","button_2_link_colour":"#444","button_2_as_button":false,"font_family":"inherit","notify_animate_hide":true,"notify_animate_show":false,"notify_div_id":"#cookie-law-info-bar","notify_position_horizontal":"right","notify_position_vertical":"bottom","showagain_tab":false,"showagain_background":"#fff","showagain_border":"#000","showagain_div_id":"#cookie-law-info-again","showagain_x_position":"50%","text":"#000"}';
				cli_show_cookiebar(a,b);
				
							});
			//]]>
		</script>
		
		 
			<a id="FollowMeTabLeftLg" onClick="showFollowMe()" href="#" style="border-bottom:none;"><img src="http://www.wildbunny.co.uk/blog/wp-content/plugins/follow-me/images/leftlg.gif" border="0" /></a>	

<div id="FollowMeBubbleBG" style="visibility:hidden;"></div>
<div id="FollowMeBubble" style="visibility:hidden;border-bottom:none;">


<div class="top" style="background-image:url('http://www.wildbunny.co.uk/blog/wp-content/plugins/follow-me/images/followme_top.gif');width:329px;height:60px;float:left;display:block;border-bottom:none;">
<a id="close" onClick="hideFollowMe()" href="#" style="border-bottom:none"><img src="http://www.wildbunny.co.uk/blog/wp-content/plugins/follow-me/images/close.png" border="0" /> </a>
<!-- <a id="grab" target="_blank" title="grab this" href="http://www.ignitesocialmedia.com/tools/follow-me/"><span>grab this</span></a>--></div>
<div class="mid" style="background-image:url('http://www.wildbunny.co.uk/blog/wp-content/plugins/follow-me/images/followme_mid.gif');width:329px;background-repeat:repeat-y;float:left;">
<div id="stretch">
<span><a title="
Twitter" target="_blank" href="http://twitter.com/paul_m_firth" rel="me"><img width="32px" src="http://www.wildbunny.co.uk/blog/wp-content/plugins/follow-me/images/
twitter.png" border="0" alt="
Twitter" /> 
Twitter</a></span>
<span><a title="
Facebook" target="_blank" href="http://www.facebook.com/WildbunnyLtd" rel="me"><img width="32px" src="http://www.wildbunny.co.uk/blog/wp-content/plugins/follow-me/images/
facebook.png" border="0" alt="
Facebook" /> 
Facebook</a></span>
<span><a title="
RSS" target="_blank" href="http://wildbunny.co.uk/blog/feed" rel="me"><img width="32px" src="http://www.wildbunny.co.uk/blog/wp-content/plugins/follow-me/images/
rss.png" border="0" alt="
RSS" /> 
RSS</a></span>
</div></div>
<div class="bottom" style="background-image:url('http://www.wildbunny.co.uk/blog/wp-content/plugins/follow-me/images/followme_bottom.gif');height:34px;width:329px;clear:both;float:left;">
<a id="grab" target="_blank" title="grab this" style="border-bottom:none;" href="http://www.ignitesocialmedia.com/tools/follow-me/"><span>grab this</span></a>
</div>
<div class="grab" style="width:329px;clear:both;float:left;"><a style="border-bottom:none;" href="http://www.ignitesocialmedia.com/tools/follow-me/"><img src="http://www.wildbunny.co.uk/blog/wp-content/plugins/follow-me/images/followme_grab.gif" /></a></div>
</div>







<div id="thsp-sticky-header">
	<div id="thsp-sticky-header-inner">
		<div id="thsp-sticky-header-title">
			<a href="http://www.wildbunny.co.uk/blog" title="Developer knowledge centre">Wildbunny blog</a>
		</div>
		
		<ul id="thsp-sticky-header-menu" class="menu"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-272"><a href="/blog/">All articles</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1302"><a href="http://www.wildbunny.co.uk/blog/vector-maths-a-primer-for-games-programmers/">Vector maths</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-319"><a href="http://www.wildbunny.co.uk/blog/contact-me/">Contact me</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2072"><a href="http://www.wildbunny.co.uk/blog/hire-me/">Hire me</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-446"><a href="http://www.wildbunny.co.uk/blog/membership-sign-up-page/">Subscribe!</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-466"><a href="http://www.wildbunny.co.uk/blog/welcome-to-our-members-area/">Members</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1183"><a href="/blog/buy-source-code">Buy source-code</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1694"><a href="http://www.wildbunny.co.uk/blog/privacy-policy/">Privacy policy</a></li>
</ul>	</div><!-- #thsp-sticky-header-inner -->
</div><!-- #thsp-sticky-header --><script type='text/javascript' src='http://www.wildbunny.co.uk/blog/wp-content/plugins/s2member/s2member-o.php?ws_plugin__s2member_js_w_globals=1&#038;qcABC=1&#038;ver=140105-140105-2848662513'></script>
</body>
</html>

