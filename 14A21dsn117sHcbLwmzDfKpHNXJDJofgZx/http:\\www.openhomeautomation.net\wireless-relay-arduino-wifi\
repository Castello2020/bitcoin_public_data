http://www.openhomeautomation.net/wireless-relay-arduino-wifi/
HTTP/1.1 200 OK
Server: Apache
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
Pragma: no-cache
X-Pingback: http://www.openhomeautomation.net/xmlrpc.php
Link: <http://www.openhomeautomation.net/?p=829>; rel=shortlink
Set-Cookie: PHPSESSID=e342dcdba33bcc3a602cdf6c8b62b4dd; path=/
Host-Header: 192fc2e7e50945beb8231a492d6a8024
Content-Type: text/html; charset=UTF-8
X-Url: /wireless-relay-arduino-wifi/
X-Host: www.openhomeautomation.net
Content-Length: 200911
Accept-Ranges: bytes
Date: Wed, 23 Jul 2014 09:31:11 GMT
Connection: close
X-Forwarded-For: 54.227.25.58
X-Cache: SGCACHE-MISS



<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#" class=" html_stretched responsive responsive_large  html_header_top html_logo_left html_main_nav_header html_menu_right html_large html_header_sticky html_header_shrinking html_header_topbar_active html_mobile_menu_phone html_disabled html_entry_id_829 ">
<head>
<meta charset="UTF-8" />

<!-- page title, displayed in your browser bar -->
<title>Wireless Relay Control with Arduino &amp; the CC3000 WiFi chip - Open Home Automation</title>

<link rel="icon" href="http://openhomeautomation.net/wp-content/uploads/2013/04/favicon1.png" type="image/png">
<!-- add feeds, pingback and stuff-->
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="alternate" type="application/rss+xml" title="Open Home Automation RSS2 Feed" href="http://www.openhomeautomation.net/feed/" />
<link rel="pingback" href="http://www.openhomeautomation.net/xmlrpc.php" />

<!-- mobile setting -->
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<!-- Scripts/CSS and wp_head hook -->

<!-- This site is optimized with the Yoast WordPress SEO plugin v1.5.4.2 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/" />
<link rel="author" href="https://plus.google.com/109985391079420750676"/>
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Wireless Relay Control with Arduino &amp; the CC3000 WiFi chip - Open Home Automation" />
<meta property="og:description" content="Controlling relays is a central piece in any home automation system. With them, you can easily switch on and off any electrical device in your home, like lights. This project is the second part of a series showing you how to use Arduino &amp; the CC3000 WiFi chip for home automation purposes. The first part &hellip;" />
<meta property="og:url" content="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/" />
<meta property="og:site_name" content="Open Home Automation" />
<meta property="article:section" content="Arduino" />
<meta property="article:section" content="Tutorials" />
<meta property="article:section" content="WiFi" />
<meta property="article:published_time" content="2013-09-04T16:58:44+00:00" />
<meta property="article:modified_time" content="2014-05-19T19:23:55+00:00" />
<meta property="og:updated_time" content="2014-05-19T19:23:55+00:00" />
<meta property="og:image" content="http://openhomeautomation.net/wp-content/uploads/2013/09/IMG_7517-300x200.jpg" />
<meta property="og:image" content="http://openhomeautomation.net/wp-content/uploads/2013/09/cc3000_relay_bb.jpg" />
<meta property="og:image" content="http://www.openhomeautomation.net/wp-content/uploads/2013/09/Screen-Shot-2014-05-04-at-09.45.30.png" />
<!-- / Yoast WordPress SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="Open Home Automation &raquo; Feed" href="http://www.openhomeautomation.net/feed/" />
<link rel="alternate" type="application/rss+xml" title="Open Home Automation &raquo; Comments Feed" href="http://www.openhomeautomation.net/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Open Home Automation &raquo; Wireless Relay Control with Arduino &amp; the CC3000 WiFi chip Comments Feed" href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/feed/" />

<!-- google webfont font replacement -->
<link rel='stylesheet' id='avia-google-webfont' href='//fonts.googleapis.com/css?family=Open+Sans:400,600' type='text/css' media='all'/> 
<link rel='stylesheet' id='mediaelement-css'  href='http://www.openhomeautomation.net/wp-includes/js/mediaelement/mediaelementplayer.min.css?ver=2.13.0' type='text/css' media='all' />
<link rel='stylesheet' id='wp-mediaelement-css'  href='http://www.openhomeautomation.net/wp-includes/js/mediaelement/wp-mediaelement.css?ver=3.9.1' type='text/css' media='all' />
<link rel='stylesheet' id='avia-woocommerce-css-css'  href='http://www.openhomeautomation.net/wp-content/themes/enfold/config-woocommerce/woocommerce-mod.css?ver=3.9.1' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-css'  href='http://www.openhomeautomation.net/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=2.6.5' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-classic-css'  href='http://www.openhomeautomation.net/wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=2.6.5' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='http://www.openhomeautomation.net/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=2.6.5' type='text/css' media='all' />
<link rel='stylesheet' id='bm-author-donations-style-css'  href='http://www.openhomeautomation.net/wp-content/plugins/bitmate-author-donations/style.css?ver=3.9.1' type='text/css' media='all' />
<link rel='stylesheet' id='woothemes-sensei-frontend-css'  href='http://www.openhomeautomation.net/wp-content/plugins/woothemes-sensei/assets/css/frontend.css?ver=1.5.3' type='text/css' media='screen' />
<link rel='stylesheet' id='avia-grid-css'  href='http://www.openhomeautomation.net/wp-content/themes/enfold/css/grid.css?ver=2' type='text/css' media='all' />
<link rel='stylesheet' id='avia-base-css'  href='http://www.openhomeautomation.net/wp-content/themes/enfold/css/base.css?ver=2' type='text/css' media='all' />
<link rel='stylesheet' id='avia-layout-css'  href='http://www.openhomeautomation.net/wp-content/themes/enfold/css/layout.css?ver=2' type='text/css' media='all' />
<link rel='stylesheet' id='avia-scs-css'  href='http://www.openhomeautomation.net/wp-content/themes/enfold/css/shortcodes.css?ver=2' type='text/css' media='all' />
<link rel='stylesheet' id='avia-prettyP-css'  href='http://www.openhomeautomation.net/wp-content/themes/enfold/js/prettyPhoto/css/prettyPhoto.css?ver=1' type='text/css' media='screen' />
<link rel='stylesheet' id='avia-media-css'  href='http://www.openhomeautomation.net/wp-content/themes/enfold/js/mediaelement/skin-1/mediaelementplayer.css?ver=1' type='text/css' media='screen' />
<link rel='stylesheet' id='avia-print-css'  href='http://www.openhomeautomation.net/wp-content/themes/enfold/css/print.css?ver=1' type='text/css' media='print' />
<link rel='stylesheet' id='avia-dynamic-css'  href='http://www.openhomeautomation.net/wp-content/uploads/dynamic_avia/enfold.css?ver=1' type='text/css' media='all' />
<link rel='stylesheet' id='avia-custom-css'  href='http://www.openhomeautomation.net/wp-content/themes/enfold/css/custom.css?ver=2' type='text/css' media='all' />
<link rel='stylesheet' id='mab-base-style-css'  href='http://www.openhomeautomation.net/wp-content/plugins/magic-action-box/assets/css/magic-action-box-styles.css?ver=3.9.1' type='text/css' media='all' />
<link rel='stylesheet' id='mab-preconfigured-style-dark-css'  href='http://www.openhomeautomation.net/wp-content/plugins/magic-action-box/styles/dark/style.css?ver=2.14.1' type='text/css' media='all' />
<link rel='stylesheet' id='mab-actionbox-style-331-css'  href='http://www.openhomeautomation.net/wp-content/uploads/magic-action-box/actionbox-331.css?ver=1367730000' type='text/css' media='all' />
<link rel='stylesheet' id='mab-custom-buttons-css-css'  href='http://www.openhomeautomation.net/wp-content/uploads/magic-action-box/custom-buttons.css?ver=3.9.1' type='text/css' media='all' />
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-content/plugins/powerpress/player.min.js?ver=3.9.1'></script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-includes/js/jquery/jquery.js?ver=1.11.0'></script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-content/plugins/powerpress/powerpress-mejs.js?ver=3.9.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.6.5","is_admin":"0","ajaxurl":"http:\/\/www.openhomeautomation.net\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=2.6.5'></script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-content/themes/enfold/js/avia-compat.js?ver=2'></script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-content/plugins/magic-action-box/assets/js/actionbox-helper.js?ver=3.9.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.openhomeautomation.net/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.openhomeautomation.net/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 3.9.1" />
<meta name="generator" content="WooCommerce 2.1.12" />
<link rel='shortlink' href='http://www.openhomeautomation.net/?p=829' />

	<script type="text/javascript" src="http://www.google.com/jsapi"></script>
	<script type="text/javascript">
		var arrAffiliates = {
			'com'   : 'openhomeautomation-20',
			'co.uk'	: 'openhomeaut09-21',
			'de'	: 'openhomeauto-21',
			'fr'	: 'openhomeautomation-21',
			'ca'	: 'openhomeauto-20',
			'co.jp'	: '',
			'jp'	: '',
			'it'	: 'openhomeaut08-21',
			'cn'	: '',
			'es'	: 'openhomeau028-21',
			'in'	: ''
		};
		var strUrlAjax = 'http://www.openhomeautomation.net/wp-content/plugins/amazon-affiliate-link-localizer/ajax.php';
	</script>
	<script type="text/javascript" src="http://www.openhomeautomation.net/wp-content/plugins/amazon-affiliate-link-localizer/js/amazon_linker.min.js?v=1.9"></script>			<link rel='alternate' type='application/rss+xml' title="Forums RSS" href="http://www.openhomeautomation.net/wp-content/plugins/mingle-forum/feed.php?topic=all" /> <script type="text/javascript"><!--
function powerpress_pinw(pinw){window.open('http://www.openhomeautomation.net/?powerpress_pinw='+pinw, 'PowerPressPlayer','toolbar=0,status=0,resizable=1,width=460,height=320');	return false;}
powerpress_url = 'http://www.openhomeautomation.net/wp-content/plugins/powerpress/';
//-->
</script>
<link rel="author" href="https://plus.google.com/+openhomeautomation/posts"/><!--[if lt IE 9]><script src="http://www.openhomeautomation.net/wp-content/themes/enfold/js/html5shiv.js"></script><![endif]--><style type="text/css" id="syntaxhighlighteranchor"></style>


<!--
Debugging Info for Theme support: 

Theme: Enfold
Version: 2.8.1
Installed: enfold
AviaFramework Version: 1.9.1
AviaBuilder Version: 0.7
ML:128-PU:67-PLA:20
-->

<style type='text/css'>
@font-face {font-family: 'entypo-fontello'; font-weight: normal; font-style: normal;
src: url('http://www.openhomeautomation.net/wp-content/themes/enfold/config-templatebuilder/avia-template-builder/assets/fonts/entypo-fontello.eot?v=3');
src: url('http://www.openhomeautomation.net/wp-content/themes/enfold/config-templatebuilder/avia-template-builder/assets/fonts/entypo-fontello.eot?v=3#iefix') format('embedded-opentype'), 
url('http://www.openhomeautomation.net/wp-content/themes/enfold/config-templatebuilder/avia-template-builder/assets/fonts/entypo-fontello.woff?v=3') format('woff'), 
url('http://www.openhomeautomation.net/wp-content/themes/enfold/config-templatebuilder/avia-template-builder/assets/fonts/entypo-fontello.ttf?v=3') format('truetype'), 
url('http://www.openhomeautomation.net/wp-content/themes/enfold/config-templatebuilder/avia-template-builder/assets/fonts/entypo-fontello.svg?v=3#entypo-fontello') format('svg');
} #top .avia-font-entypo-fontello, body .avia-font-entypo-fontello, html body [data-av_iconfont='entypo-fontello']:before{ font-family: 'entypo-fontello'; }
</style>
</head>




<body id="top" class="single single-post postid-829 single-format-standard stretched open_sans " itemscope="itemscope" itemtype="https://schema.org/WebPage" >

	<div id='wrap_all'>

	

<header id='header' class=' header_color light_bg_color mobile_slide_out av_header_top av_logo_left av_main_nav_header av_menu_right av_large av_header_sticky av_header_shrinking av_header_stretch_disabled av_mobile_menu_phone'  role="banner" itemscope="itemscope" itemtype="https://schema.org/WPHeader" >

<a id="advanced_menu_toggle" href="#" aria-hidden='true' data-av_icon='' data-av_iconfont='entypo-fontello'></a><a id="advanced_menu_hide" href="#" 	aria-hidden='true' data-av_icon='' data-av_iconfont='entypo-fontello'></a>		<div id='header_meta' class='container_wrap container_wrap_meta  av_icon_active_left av_extra_header_active av_secondary_right av_entry_id_829'>
		
			      <div class='container'>
			      <ul class='noLightbox social_bookmarks icon_count_6'><li class='social_bookmarks_twitter av-social-link-twitter social_icon_1'><a target='_blank' href='https://twitter.com/OpenHomeAuto' aria-hidden='true' data-av_icon='' data-av_iconfont='entypo-fontello' title='Twitter'><span class='avia_hidden_link_text'>Twitter</span></a></li><li class='social_bookmarks_gplus av-social-link-gplus social_icon_2'><a target='_blank' href='https://plus.google.com/+openhomeautomation/posts' aria-hidden='true' data-av_icon='' data-av_iconfont='entypo-fontello' title='Gplus'><span class='avia_hidden_link_text'>Gplus</span></a></li><li class='social_bookmarks_facebook av-social-link-facebook social_icon_3'><a target='_blank' href='https://www.facebook.com/OpenHomeAutomation' aria-hidden='true' data-av_icon='' data-av_iconfont='entypo-fontello' title='Facebook'><span class='avia_hidden_link_text'>Facebook</span></a></li><li class='social_bookmarks_youtube av-social-link-youtube social_icon_4'><a target='_blank' href='http://www.youtube.com/openhomeautomation' aria-hidden='true' data-av_icon='' data-av_iconfont='entypo-fontello' title='Youtube'><span class='avia_hidden_link_text'>Youtube</span></a></li><li class='social_bookmarks_linkedin av-social-link-linkedin social_icon_5'><a target='_blank' href='https://www.linkedin.com/company/open-home-automation' aria-hidden='true' data-av_icon='' data-av_iconfont='entypo-fontello' title='Linkedin'><span class='avia_hidden_link_text'>Linkedin</span></a></li><li class='social_bookmarks_rss av-social-link-rss social_icon_6'><a  href='http://www.openhomeautomation.net/feed/' aria-hidden='true' data-av_icon='' data-av_iconfont='entypo-fontello' title='Rss'><span class='avia_hidden_link_text'>Rss</span></a></li></ul>			      </div>
		</div>




		<div  id='header_main' class='container_wrap container_wrap_logo'>
	
        <ul class = 'cart_dropdown' data-success='was added to the cart'><li class='cart_dropdown_first'><a class='cart_dropdown_link' href='http://www.openhomeautomation.net/cart/'><span class='avia_hidden_link_text'>Cart</span><span aria-hidden='true' data-av_icon='' data-av_iconfont='entypo-fontello'></span></a><!--<span class='cart_subtotal'><span class="amount">&#36;0.00</span></span>--><div class='dropdown_widget dropdown_widget_cart'><div class='avia-arrow'></div><div class="widget_shopping_cart_content"></div></div></li></ul>	
				 <div class='container'>
		
						<strong class='logo'><a href='http://www.openhomeautomation.net/'><img height='100' width='300' src='http://openhomeautomation.net/wp-content/uploads/2013/04/oha_short.png' alt='Open Home Automation' /></a></strong><nav class='main_menu' data-selectname='Select a page'  role="navigation" itemscope="itemscope" itemtype="https://schema.org/SiteNavigationElement" ><div class="avia-menu av-main-nav-wrap"><ul id="avia-menu" class="menu av-main-nav"><li id="menu-item-59" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-top-level "><a href="http://openhomeautomation.net/"><span class="avia-bullet"></span><span class="avia-menu-text">Home</span><span class="avia-menu-fx"><span class="avia-arrow-wrap"><span class="avia-arrow"></span></span></span></a></li>
<li id="menu-item-57" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-top-level "><a href="http://www.openhomeautomation.net/about/"><span class="avia-bullet"></span><span class="avia-menu-text">About</span><span class="avia-menu-fx"><span class="avia-arrow-wrap"><span class="avia-arrow"></span></span></span></a></li>
<li id="menu-item-876" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-top-level "><a href="http://www.openhomeautomation.net/blog/"><span class="avia-bullet"></span><span class="avia-menu-text">Blog</span><span class="avia-menu-fx"><span class="avia-arrow-wrap"><span class="avia-arrow"></span></span></span></a></li>
<li id="menu-item-58" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-top-level "><a href="http://www.openhomeautomation.net/start-here/"><span class="avia-bullet"></span><span class="avia-menu-text">Start here</span><span class="avia-menu-fx"><span class="avia-arrow-wrap"><span class="avia-arrow"></span></span></span></a></li>
<li id="menu-item-728" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-top-level "><a href="http://www.openhomeautomation.net/store/"><span class="avia-bullet"></span><span class="avia-menu-text">Store</span><span class="avia-menu-fx"><span class="avia-arrow-wrap"><span class="avia-arrow"></span></span></span></a></li>
<li id="menu-item-1235" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-top-level "><a href="http://www.openhomeautomation.net/services/"><span class="avia-bullet"></span><span class="avia-menu-text">Services</span><span class="avia-menu-fx"><span class="avia-arrow-wrap"><span class="avia-arrow"></span></span></span></a></li>
<li id="menu-item-827" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-mega-parent  menu-item-top-level "><a href="http://www.openhomeautomation.net/resources/"><span class="avia-bullet"></span><span class="avia-menu-text">Resources</span><span class="avia-menu-fx"><span class="avia-arrow-wrap"><span class="avia-arrow"></span></span></span></a></li>
<li id="menu-item-search" class="noMobile menu-item menu-item-search-dropdown">
							<a href="?s=" rel="nofollow" data-avia-search-tooltip="

&lt;form action=&quot;http://www.openhomeautomation.net/&quot; id=&quot;searchform&quot; method=&quot;get&quot; class=&quot;&quot;&gt;
	&lt;div&gt;
		&lt;input type=&quot;submit&quot; value=&quot;&quot; id=&quot;searchsubmit&quot; class=&quot;button avia-font-entypo-fontello&quot; /&gt;
		&lt;input type=&quot;text&quot; id=&quot;s&quot; name=&quot;s&quot; value=&quot;&quot; placeholder='Search' /&gt;
			&lt;/div&gt;
&lt;/form&gt;" aria-hidden='true' data-av_icon='' data-av_iconfont='entypo-fontello'><span class="avia_hidden_link_text">Search</span></a>
	        		   </li></ul></div></nav>						
		        <!-- end container-->
		        </div>

		<!-- end container_wrap-->
		</div>
		
		<div class='header_bg'></div>

<!-- end header -->
</header>
	
	<div id='main' data-scroll-offset='116'>

	<div class='stretch_full container_wrap alternate_color light_bg_color title_container'><div class='container'><strong class='main-title entry-title'><a href='http://www.openhomeautomation.net/blog/' rel='bookmark' title='Permanent Link: Blog'  itemprop="headline" >Blog</a></strong><div class="breadcrumb breadcrumbs avia-breadcrumbs"><div class="breadcrumb-trail" xmlns:v="http://rdf.data-vocabulary.org/#"><span class="trail-before"><span class="breadcrumb-title">You are here:</span></span> <span typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="http://www.openhomeautomation.net" title="Open Home Automation"  class="trail-begin">Home</a></span> <span class="sep">/</span> <span typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="http://www.openhomeautomation.net/blog/" title="Blog">Blog</a></span> <span class="sep">/</span> <span typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="http://www.openhomeautomation.net/category/arduino/">Arduino</a></span> <span class="sep">/</span> <span typeof="v:Breadcrumb"><span class="trail-end">Wireless Relay Control with Arduino &#038; the CC3000 WiFi chip</span></span></div></div></div></div>
		<div class='container_wrap container_wrap_first main_color sidebar_right'>

			<div class='container template-blog template-single-blog '>

				<main class='content units nine alpha '  role="main" itemprop="mainContentOfPage" itemscope="itemscope" itemtype="https://schema.org/Blog" >

                    <article class='post-829 post type-post status-publish format-standard hentry category-arduino category-tutorials category-wifi post-entry post-entry-type-standard post-entry-829 post-loop-1 post-parity-odd post-entry-last single-big '  itemscope="itemscope" itemtype="https://schema.org/BlogPosting" itemprop="blogPost" ><div class='blog-meta'></div><div class='entry-content-wrapper clearfix standard-content'><header class="entry-content-header"><h1 class='post-title entry-title'  itemprop="headline" >	<a href='http://www.openhomeautomation.net/wireless-relay-arduino-wifi/' rel='bookmark' title='Permanent Link: Wireless Relay Control with Arduino &#038; the CC3000 WiFi chip'>Wireless Relay Control with Arduino &#038; the CC3000 WiFi chip			<span class='post-format-icon minor-meta'></span>	</a></h1><span class='post-meta-infos'><time class='date-container minor-meta updated'  itemprop="datePublished" datetime="2013-09-04T16:58:44+00:00" >September 4, 2013</time><span class='text-sep text-sep-date'>/</span><span class='comment-container minor-meta'><a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comments" class="comments-link"  title="Comment on Wireless Relay Control with Arduino &amp; the CC3000 WiFi chip">43 Comments</a></span><span class='text-sep text-sep-comment'>/</span><span class="blog-categories minor-meta">in <a href="http://www.openhomeautomation.net/category/arduino/" rel="tag">Arduino</a>, <a href="http://www.openhomeautomation.net/category/tutorials/" rel="tag">Tutorials</a>, <a href="http://www.openhomeautomation.net/category/wifi/" rel="tag">WiFi</a> </span><span class="text-sep text-sep-cat">/</span><span class="blog-author minor-meta">by <span class="entry-author-link"  itemprop="name" ><span class="vcard author"><span class="fn"><a href="http://www.openhomeautomation.net/author/admin/" title="Posts by Marco Schwartz" rel="author">Marco Schwartz</a></span></span></span></span></span></header><div class="entry-content"  itemprop="text" ><p><a href="http://openhomeautomation.net/wp-content/uploads/2013/09/IMG_7517.jpg"><img class="alignleft size-medium wp-image-840" src="http://openhomeautomation.net/wp-content/uploads/2013/09/IMG_7517-300x200.jpg" alt="IMG_7517" width="300" height="200" /></a>Controlling relays is a central piece in any home automation system. With them, you can easily switch on and off any electrical device in your home, like lights. This project is the second part of a series showing you how to use Arduino &amp; the CC3000 WiFi chip for home automation purposes. The first part was dedicated to <a href="http://openhomeautomation.net/arduino-wifi-cc3000/">how to read data wirelessly from a temperature &amp; humidity sensor</a>.</p>
<p>In this project, we are going to see how to wirelessly control a relay from your computer or your smartphone, to build a wireless-controlled light switch for example.  To make things more efficient, we are going to create a small web server running on the Arduino board, that will receive the commands coming from your computer. As usual, the whole code for this project can be found inside <a href="https://github.com/openhomeautomation/arduino-relay-wifi-server">our GitHub repository</a>. Let’s dive in !</p>
<p><span id="more-829"></span></p>
<h3>Hardware requirements</h3>
<p>The whole project is based on the Arduino platform, so of course you will need an Arduino board. I really recommend using the <a href="http://www.amazon.com/gp/product/B006GX8IAY/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B006GX8IAY&amp;linkCode=as2&amp;tag=openhomeautomation-20">Arduino Uno</a> board for this project, as it is the only board that is currently compatible with the CC3000 library at the time this article was written.</p>
<p>Then, you need the CC3000 chip. As in the previous article, I recommend using the <a href="http://www.amazon.com/gp/product/B00H232MUE/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B00H232MUE&amp;linkCode=as2&amp;tag=openhomeautomation-20">Adafruit CC3000 breakout board</a>, which is the only one I tested that worked without problem. It is nice and compact, has voltage regulators onboard, as well as an onboard antenna. You can also make your own breakout board, as there are many PCB layout available online.</p>
<p>You also need a relay and some components around it. I used a <a href="http://www.amazon.com/gp/product/B009T2M012/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B009T2M012&amp;linkCode=as2&amp;tag=nevjusfin-20">5V relay</a> for this project, so it can directly be connected to the Arduino Uno board. You also need a <a href="http://www.amazon.com/gp/product/B00ATNGEQW/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B00ATNGEQW&amp;linkCode=as2&amp;tag=nevjusfin-20">standard rectifier diode</a> to protect the relay, and <a href="http://www.amazon.com/gp/product/B004UMA60S/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B004UMA60S&amp;linkCode=as2&amp;tag=nevjusfin-20">one LED</a> &amp; a <a href="http://www.amazon.com/gp/product/B00B5LNEF6/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B00B5LNEF6&amp;linkCode=as2&amp;tag=nevjusfin-20">220 Ohm resistor</a> to test if the relay is working correctly.</p>
<p>Finally, you need a <a href="http://www.amazon.com/gp/product/B008A9UORM/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B008A9UORM&amp;linkCode=as2&amp;tag=nevjusfin-20">breadboard and some jumper wires</a> to make the connections between the different parts.</p>
<h3>Software requirements</h3>
<p>For this project, you just need the usual <a href="http://arduino.cc/en/main/software">Arduino IDE</a>, the <a href="https://github.com/adafruit/Adafruit_CC3000_Library">Adafruit’s CC3000 library</a>, and the <a href="https://github.com/adafruit/CC3000_MDNS">CC3000 MDNS library</a>. We are also going to use the <a href="https://github.com/marcoschwartz/aREST">aREST library</a> to send commands to the relay via WiFi. To install a library, just download the required folder, and put it into your /Arduino/libraries/ folder.</p>
<p>You will also need a web server running on your computer. I recommend using <a href="http://www.mamp.info/en/index.html">MAMP</a> for OS X, <a href="http://www.easyphp.org/">EasyPHP</a> for Windows, and <a href="https://help.ubuntu.com/community/ApacheMySQLPHP">visiting this page</a> for Linux.</p>
<h3>Hardware configuration</h3>
<p>The hardware configuration for this project is actually not that complicated, thanks to the good informations that you will find on the CC3000 breakout board. Connect the IRQ pin of the CC3000 board to pin number 3 of the Arduino board, VBAT to pin 5, and CS to pin 10. Then, you need to connect the SPI pins to the Arduino board: MOSI, MISO, and CLK go to pins 11,12, and 13, respectively. Finally, take care of the power supply: Vin goes to the Arduino 5V, and GND to GND.</p>
<p>Let’s now connect the relay. After placing the relay on the breadboard, you can start identifying the two important parts on your relay: the coil part which command the relay, and the switch part where we will attach the LED. First, connect pin number 8 of the Arduino board to one pin of the coil, and the other pin to the ground of the Arduino board. You also have to place the rectifier diode (anode connected to the ground pin) over the pins of the coil to protect your circuit when the relay is switching.</p>
<p>Then, connect the +5V of the Arduino board to the common pin of the relay’s switch. Finally, connect one of the other pin of the switch (usually, the one which is not connected when the relay is off) to the LED in series with the 220 Ohm resistor, and connect the other side of the LED to the ground of the Arduino board.</p>
<p>The following picture summarizes the hardware connections:</p>
<p><a href="http://openhomeautomation.net/wp-content/uploads/2013/09/cc3000_relay_bb.jpg"><img class="aligncenter size-full wp-image-936" src="http://openhomeautomation.net/wp-content/uploads/2013/09/cc3000_relay_bb.jpg" alt="cc3000_relay_bb" width="800" height="465" /></a></p>
<h3>Testing individual components</h3>
<p>I detailed the configuration of the CC3000 breakout board in a <a href="http://openhomeautomation.net/arduino-wifi-cc3000/">previous article</a>, so we are simply going to test the relay in this part. But don’t worry, we are going to see the CC3000 &amp; WiFi configuration again when testing the whole system.</p>
<p>You can test the relay with the following sketch:</p><!-- Crayon Syntax Highlighter v2.6.5 -->

		<div id="crayon-53cf80dede001224395107" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 16px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 16px !important;">
const int relay_pin = 8; // Relay pin

void setup() {
  Serial.begin(9600);
  pinMode(relay_pin,OUTPUT);
}

void loop() {

  // Activate relay
  digitalWrite(relay_pin, HIGH);

  // Wait for 1 second
  delay(1000);

   // Deactivate relay
  digitalWrite(relay_pin, LOW);

  // Wait for 1 second
  delay(1000);
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-53cf80dede001224395107-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede001224395107-2">2</div><div class="crayon-num" data-line="crayon-53cf80dede001224395107-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede001224395107-4">4</div><div class="crayon-num" data-line="crayon-53cf80dede001224395107-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede001224395107-6">6</div><div class="crayon-num" data-line="crayon-53cf80dede001224395107-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede001224395107-8">8</div><div class="crayon-num" data-line="crayon-53cf80dede001224395107-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede001224395107-10">10</div><div class="crayon-num" data-line="crayon-53cf80dede001224395107-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede001224395107-12">12</div><div class="crayon-num" data-line="crayon-53cf80dede001224395107-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede001224395107-14">14</div><div class="crayon-num" data-line="crayon-53cf80dede001224395107-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede001224395107-16">16</div><div class="crayon-num" data-line="crayon-53cf80dede001224395107-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede001224395107-18">18</div><div class="crayon-num" data-line="crayon-53cf80dede001224395107-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede001224395107-20">20</div><div class="crayon-num" data-line="crayon-53cf80dede001224395107-21">21</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-line" id="crayon-53cf80dede001224395107-1"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">relay_pin</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">8</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// Relay pin</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede001224395107-2">&nbsp;</div><div class="crayon-line" id="crayon-53cf80dede001224395107-3"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">setup</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede001224395107-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">Serial</span><span class="crayon-sy">.</span><span class="crayon-e">begin</span><span class="crayon-sy">(</span><span class="crayon-cn">9600</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53cf80dede001224395107-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">pinMode</span><span class="crayon-sy">(</span><span class="crayon-v">relay_pin</span><span class="crayon-sy">,</span><span class="crayon-v">OUTPUT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede001224395107-6"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-53cf80dede001224395107-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede001224395107-8"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">loop</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-53cf80dede001224395107-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede001224395107-10"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Activate relay</span></div><div class="crayon-line" id="crayon-53cf80dede001224395107-11"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">digitalWrite</span><span class="crayon-sy">(</span><span class="crayon-v">relay_pin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">HIGH</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede001224395107-12">&nbsp;</div><div class="crayon-line" id="crayon-53cf80dede001224395107-13"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Wait for 1 second</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede001224395107-14"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">delay</span><span class="crayon-sy">(</span><span class="crayon-cn">1000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53cf80dede001224395107-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede001224395107-16"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Deactivate relay</span></div><div class="crayon-line" id="crayon-53cf80dede001224395107-17"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">digitalWrite</span><span class="crayon-sy">(</span><span class="crayon-v">relay_pin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">LOW</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede001224395107-18">&nbsp;</div><div class="crayon-line" id="crayon-53cf80dede001224395107-19"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Wait for 1 second</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede001224395107-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">delay</span><span class="crayon-sy">(</span><span class="crayon-cn">1000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53cf80dede001224395107-21"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0036 seconds] -->
<p>The code is pretty self-explanatory, you can just upload it to the board and the relay should switch states every seconds, and the LED should switch on and off accordingly.</p>
<h3>Putting it all together</h3>
<p>Let’s now control the relay wirelessly using the CC3000 WiFi chip. The software for this project is based on the TCP protocol, just like the WiFi weather station project I mentioned before. However, for this project, the Arduino board will be running a small web server, so we can &#8220;listen&#8221; for commands coming from the computer. We will first take care of the Arduino sketch, and then we will see how to write the server-side code and create a nice interface.</p>
<p>First, the Arduino sketch. The goal here is to connect to your WiFi network, create a web server, check if there are incoming TCP connections, and then change the state of the relay accordingly. I will only put the important parts of the code in this article, you can find the whole code <a href="https://github.com/openhomeautomation/arduino-relay-wifi-server">here</a>. You need to import the right libraries:</p><!-- Crayon Syntax Highlighter v2.6.5 -->

		<div id="crayon-53cf80dede00f924157668" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 16px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 16px !important;">
#include &lt;Adafruit_CC3000.h&gt;
#include &lt;SPI.h&gt;
#include &lt;CC3000_MDNS.h&gt;
#include &lt;Ethernet.h&gt;
#include &lt;aREST.h&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-53cf80dede00f924157668-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede00f924157668-2">2</div><div class="crayon-num" data-line="crayon-53cf80dede00f924157668-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede00f924157668-4">4</div><div class="crayon-num" data-line="crayon-53cf80dede00f924157668-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-line" id="crayon-53cf80dede00f924157668-1"><span class="crayon-p">#include &lt;Adafruit_CC3000.h&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede00f924157668-2"><span class="crayon-p">#include &lt;SPI.h&gt;</span></div><div class="crayon-line" id="crayon-53cf80dede00f924157668-3"><span class="crayon-p">#include &lt;CC3000_MDNS.h&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede00f924157668-4"><span class="crayon-p">#include &lt;Ethernet.h&gt;</span></div><div class="crayon-line" id="crayon-53cf80dede00f924157668-5"><span class="crayon-p">#include &lt;aREST.h&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p>Then, you need to define inside the code what is specific to your configuration: WiFi name &amp; password, and the port for the TCP communications (I used 80 here):</p><!-- Crayon Syntax Highlighter v2.6.5 -->

		<div id="crayon-53cf80dede017215432274" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 16px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 16px !important;">
// WiFi network (change with your settings !)
#define WLAN_SSID       "yourNetwork"       // cannot be longer than 32 characters!
#define WLAN_PASS       "yourPassword"
#define WLAN_SECURITY   WLAN_SEC_WPA2 // This can be WLAN_SEC_UNSEC, WLAN_SEC_WEP, WLAN_SEC_WPA or WLAN_SEC_WPA2

// The port to listen for incoming TCP connections 
#define LISTEN_PORT 80</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-53cf80dede017215432274-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede017215432274-2">2</div><div class="crayon-num" data-line="crayon-53cf80dede017215432274-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede017215432274-4">4</div><div class="crayon-num" data-line="crayon-53cf80dede017215432274-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede017215432274-6">6</div><div class="crayon-num" data-line="crayon-53cf80dede017215432274-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-line" id="crayon-53cf80dede017215432274-1"><span class="crayon-c">// WiFi network (change with your settings !)</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede017215432274-2"><span class="crayon-p">#define WLAN_SSID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "yourNetwork"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // cannot be longer than 32 characters!</span></div><div class="crayon-line" id="crayon-53cf80dede017215432274-3"><span class="crayon-p">#define WLAN_PASS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "yourPassword"</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede017215432274-4"><span class="crayon-p">#define WLAN_SECURITY&nbsp;&nbsp; WLAN_SEC_WPA2 // This can be WLAN_SEC_UNSEC, WLAN_SEC_WEP, WLAN_SEC_WPA or WLAN_SEC_WPA2</span></div><div class="crayon-line" id="crayon-53cf80dede017215432274-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede017215432274-6"><span class="crayon-c">// The port to listen for incoming TCP connections </span></div><div class="crayon-line" id="crayon-53cf80dede017215432274-7"><span class="crayon-p">#define LISTEN_PORT 80</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p>We can then create the CC3000 instance, server and aREST instance:</p><!-- Crayon Syntax Highlighter v2.6.5 -->

		<div id="crayon-53cf80dede01f460269008" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 16px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 16px !important;">
// Server instance
Adafruit_CC3000_Server restServer(LISTEN_PORT);

// DNS responder instance
MDNSResponder mdns;

// Create aREST instance
aREST rest = aREST();</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-53cf80dede01f460269008-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede01f460269008-2">2</div><div class="crayon-num" data-line="crayon-53cf80dede01f460269008-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede01f460269008-4">4</div><div class="crayon-num" data-line="crayon-53cf80dede01f460269008-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede01f460269008-6">6</div><div class="crayon-num" data-line="crayon-53cf80dede01f460269008-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede01f460269008-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-line" id="crayon-53cf80dede01f460269008-1"><span class="crayon-c">// Server instance</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede01f460269008-2"><span class="crayon-e">Adafruit_CC3000_Server </span><span class="crayon-e">restServer</span><span class="crayon-sy">(</span><span class="crayon-v">LISTEN_PORT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53cf80dede01f460269008-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede01f460269008-4"><span class="crayon-c">// DNS responder instance</span></div><div class="crayon-line" id="crayon-53cf80dede01f460269008-5"><span class="crayon-e">MDNSResponder </span><span class="crayon-v">mdns</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede01f460269008-6">&nbsp;</div><div class="crayon-line" id="crayon-53cf80dede01f460269008-7"><span class="crayon-c">// Create aREST instance</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede01f460269008-8"><span class="crayon-e">aREST </span><span class="crayon-v">rest</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">aREST</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>In the setup() part of the sketch, we can now connect the CC3000 chip to the network:</p><!-- Crayon Syntax Highlighter v2.6.5 -->

		<div id="crayon-53cf80dede025952937141" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 16px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 16px !important;">
cc3000.connectToAP(WLAN_SSID, WLAN_PASS, WLAN_SECURITY);</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-53cf80dede025952937141-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-line" id="crayon-53cf80dede025952937141-1"><span class="crayon-v">cc3000</span><span class="crayon-sy">.</span><span class="crayon-e">connectToAP</span><span class="crayon-sy">(</span><span class="crayon-v">WLAN_SSID</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">WLAN_PASS</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">WLAN_SECURITY</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p>Now you can ask, how will the computer know where to send the data ? One way would be to run the sketch once, then get the IP address of the CC3000 board, and modify the server code again. But we can do better, and that&#8217;s where the CC3000 MDNS library comes into play. We will basically assign a fixed name to our CC3000 board with this library, so we can write down this name directly into the server code. This is done with this piece of code:</p><!-- Crayon Syntax Highlighter v2.6.5 -->

		<div id="crayon-53cf80dede02c049782689" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 16px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 16px !important;">
if (!mdns.begin("arduino", cc3000)) {
    while(1);
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-53cf80dede02c049782689-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede02c049782689-2">2</div><div class="crayon-num" data-line="crayon-53cf80dede02c049782689-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-line" id="crayon-53cf80dede02c049782689-1"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">mdns</span><span class="crayon-sy">.</span><span class="crayon-e">begin</span><span class="crayon-sy">(</span><span class="crayon-s">"arduino"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cc3000</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede02c049782689-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">while</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53cf80dede02c049782689-3"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>We also need to listen for incoming connections:</p><!-- Crayon Syntax Highlighter v2.6.5 -->

		<div id="crayon-53cf80dede033831974695" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 16px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 16px !important;">
restServer.begin();</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-53cf80dede033831974695-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-line" id="crayon-53cf80dede033831974695-1"><span class="crayon-v">restServer</span><span class="crayon-sy">.</span><span class="crayon-e">begin</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>Now, we will code the loop() function of the sketch that will be continuously executed. We first have to update the mDNS server:</p><!-- Crayon Syntax Highlighter v2.6.5 -->

		<div id="crayon-53cf80dede039067885440" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 16px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 16px !important;">
mdns.update();</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-53cf80dede039067885440-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-line" id="crayon-53cf80dede039067885440-1"><span class="crayon-v">mdns</span><span class="crayon-sy">.</span><span class="crayon-e">update</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>The server running on the Arduino board will basically wait for incoming connections &amp; handle the requests:</p><!-- Crayon Syntax Highlighter v2.6.5 -->

		<div id="crayon-53cf80dede040985556440" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 16px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 16px !important;">
Adafruit_CC3000_ClientRef client = restServer.available();
rest.handle(client);</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-53cf80dede040985556440-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede040985556440-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-line" id="crayon-53cf80dede040985556440-1"><span class="crayon-e">Adafruit_CC3000_ClientRef </span><span class="crayon-v">client</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">restServer</span><span class="crayon-sy">.</span><span class="crayon-e">available</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede040985556440-2"><span class="crayon-v">rest</span><span class="crayon-sy">.</span><span class="crayon-e">handle</span><span class="crayon-sy">(</span><span class="crayon-v">client</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p>Then, the server side. The main part will be an HTML file, called interface.html, which will host two buttons to command the relay:</p><!-- Crayon Syntax Highlighter v2.6.5 -->

		<div id="crayon-53cf80dede046701383030" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 16px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 16px !important;">
&lt;div class="relayBlock"&gt;&lt;span class="relayTitle"&gt;Relay&lt;/span&gt;
    &lt;button class="btn btn-block btn-lg btn-primary" type="button" id="1" onClick="relayClick(this.id)"&gt;On&lt;/button&gt;
    &lt;button class="btn btn-block btn-lg btn-danger" type="button" id="2" onClick="relayClick(this.id)"&gt;Off&lt;/button&gt;
&lt;/div&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-53cf80dede046701383030-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede046701383030-2">2</div><div class="crayon-num" data-line="crayon-53cf80dede046701383030-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede046701383030-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-line" id="crayon-53cf80dede046701383030-1"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"relayBlock"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"relayTitle"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Relay</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede046701383030-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"btn btn-block btn-lg btn-primary"</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"button"</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"1"</span><span class="crayon-h"> </span><span class="crayon-v">onClick</span><span class="crayon-o">=</span><span class="crayon-s">"relayClick(this.id)"</span><span class="crayon-o">&gt;</span><span class="crayon-v">On</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-53cf80dede046701383030-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"btn btn-block btn-lg btn-danger"</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"button"</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"2"</span><span class="crayon-h"> </span><span class="crayon-v">onClick</span><span class="crayon-o">=</span><span class="crayon-s">"relayClick(this.id)"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Off</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede046701383030-4"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0028 seconds] -->
<p>The buttons are linked to some JavaScript code, that will call a PHP file that will communicate with the Arduino board. I won&#8217;t get into the details of JavaScript, but if you want to learn more about this language, I recommend following the <a href="http://click.linksynergy.com/link?id=3rziCtUCdbo&amp;offerid=323058.8324&amp;type=2&amp;murl=https%3A%2F%2Fwww.udemy.com%2Fbeginning-javascript%2F">JavaScript for Beginners course</a> on Udemy. This is the code for the JavaScript file, which is basically the function called when a button is clicked:</p><!-- Crayon Syntax Highlighter v2.6.5 -->

		<div id="crayon-53cf80dede04d157784906" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 16px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 16px !important;">
function relayClick(clicked_id){

    if (clicked_id == "1"){
        $.get( "update_relay.php", {
        command: "/digital/8/1"} );  
    } 

    if (clicked_id == "2"){
        $.get( "update_relay.php", {
        ommand: "/digital/8/0"} );  
    }
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-53cf80dede04d157784906-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede04d157784906-2">2</div><div class="crayon-num" data-line="crayon-53cf80dede04d157784906-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede04d157784906-4">4</div><div class="crayon-num" data-line="crayon-53cf80dede04d157784906-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede04d157784906-6">6</div><div class="crayon-num" data-line="crayon-53cf80dede04d157784906-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede04d157784906-8">8</div><div class="crayon-num" data-line="crayon-53cf80dede04d157784906-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede04d157784906-10">10</div><div class="crayon-num" data-line="crayon-53cf80dede04d157784906-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede04d157784906-12">12</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-line" id="crayon-53cf80dede04d157784906-1"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">relayClick</span><span class="crayon-sy">(</span><span class="crayon-v">clicked_id</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede04d157784906-2">&nbsp;</div><div class="crayon-line" id="crayon-53cf80dede04d157784906-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">clicked_id</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">"1"</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede04d157784906-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">"update_relay.php"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-53cf80dede04d157784906-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">command</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"/digital/8/1"</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede04d157784906-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-53cf80dede04d157784906-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede04d157784906-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">clicked_id</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">"2"</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-53cf80dede04d157784906-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">"update_relay.php"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede04d157784906-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ommand</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"/digital/8/0"</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-53cf80dede04d157784906-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede04d157784906-12"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0029 seconds] -->
<p>This PHP code is stored in the curl.php file, and we get the desired command from the interface with:</p><!-- Crayon Syntax Highlighter v2.6.5 -->

		<div id="crayon-53cf80dede054123590103" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 16px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 16px !important;">
$command = $_GET['command'];</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-53cf80dede054123590103-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-line" id="crayon-53cf80dede054123590103-1"><span class="crayon-sy">$</span><span class="crayon-v">command</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">_GET</span><span class="crayon-sy">[</span><span class="crayon-s">'command'</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p>Then, the code establishes the connection with the Arduino board with:</p><!-- Crayon Syntax Highlighter v2.6.5 -->

		<div id="crayon-53cf80dede05b673385547" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 16px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 16px !important;">
$service_url = 'http://arduino.local'. $command;
$curl = curl_init($service_url);</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-53cf80dede05b673385547-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede05b673385547-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-line" id="crayon-53cf80dede05b673385547-1"><span class="crayon-sy">$</span><span class="crayon-v">service_url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'http://arduino.local'</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">command</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede05b673385547-2"><span class="crayon-sy">$</span><span class="crayon-v">curl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">curl_init</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">service_url</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>The PHP code then sends the request to the server:</p><!-- Crayon Syntax Highlighter v2.6.5 -->

		<div id="crayon-53cf80dede061879486561" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 16px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 16px !important;">
curl_setopt($curl, CURLOPT_IPRESOLVE, CURL_IPRESOLVE_V4 ); 
$curl_response = curl_exec($curl);
curl_close($curl);</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-53cf80dede061879486561-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53cf80dede061879486561-2">2</div><div class="crayon-num" data-line="crayon-53cf80dede061879486561-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 16px !important;"><div class="crayon-line" id="crayon-53cf80dede061879486561-1"><span class="crayon-e">curl_setopt</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">curl</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">CURLOPT_IPRESOLVE</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">CURL_IPRESOLVE</span><span class="crayon-sy">_</span>V4<span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-53cf80dede061879486561-2"><span class="crayon-sy">$</span><span class="crayon-v">curl_response</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">curl_exec</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">curl</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53cf80dede061879486561-3"><span class="crayon-e">curl_close</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">curl</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0015 seconds] -->
<p>I also added some CSS to make things look a bit better. The complete code for this project can be found on <a href="https://github.com/openhomeautomation/arduino-relay-wifi-server">our GitHub repository</a>.</p>
<p>Finally, it’s time to test everything. Make sure your web server is running on your computer. At this point, you can also upload the Arduino sketch to the board and open the serial monitor. Then, simply open the file interface.html on your local server (make sure you are accessing the folder from localhost) and press any button you want. On the Arduino side, you should see that the board is connecting to your WiFi network, getting an IP, and then waiting for incoming connections. Try now to press a button on the web interface: it should change the state of the relay nearly instantly. This is what you should see inside your browser:</p>
<p><a href="http://www.openhomeautomation.net/wp-content/uploads/2013/09/Screen-Shot-2014-05-04-at-09.45.30.png"><img class="aligncenter wp-image-1842 size-full" src="http://www.openhomeautomation.net/wp-content/uploads/2013/09/Screen-Shot-2014-05-04-at-09.45.30.png" alt="Screen Shot 2014-05-04 at 09.45.30" width="365" height="85" /></a></p>
<p>In case this doesn&#8217;t work, it could be that your computer doesn&#8217;t support the mDNS server (that allow the access to the Arduino board using the arduino.local name). But no worries: the sketch will actually print out the IP address of the CC3000 chip every time it starts. If you are having problems with the project, simply copy this IP address and replace the arduino.local with this IP address inside the PHP file.</p>
<p>Finally, you can also use your smartphone or tablet to use your WiFi-controlled relay. Simply enter the local IP address of your computer (where the web server is running) on your mobile device browser (and don’t forget the port, for example 192.168.0.4:80), and navigate in your project’s folder. You should see the exact same interface, and be able to control the relay from your device! If you managed to get it working, bravo, you just built a WiFi-controlled light switch! Of course, you can control much more than lights with this project. Just make sure your relay supports the power required for the device you want to control, and you&#8217;re good to go!</p>
<p><strong>Update 04/05/14:</strong> The project was updated and is now using the aREST library. It greatly simplified the code and made the project works more reliably. Let me know if you encounter any issues with the new code!</p>
<p>This is the list of the components that were used in this project:</p>
<ul>
<li><a href="http://www.amazon.com/gp/product/B006GX8IAY/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B006GX8IAY&amp;linkCode=as2&amp;tag=openhomeautomation-20">Arduino Uno</a></li>
<li><a href="http://www.amazon.com/gp/product/B00H232MUE/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B00H232MUE&amp;linkCode=as2&amp;tag=openhomeautomation-20">Adafruit CC3000 breakout board</a></li>
<li><a href="http://www.amazon.com/gp/product/B009T2M012/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B009T2M012&amp;linkCode=as2&amp;tag=nevjusfin-20">5V relay</a></li>
<li><a href="http://www.amazon.com/gp/product/B00ATNGEQW/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B00ATNGEQW&amp;linkCode=as2&amp;tag=nevjusfin-20">Rectifier diode</a></li>
<li><a href="http://www.amazon.com/gp/product/B004UMA60S/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B004UMA60S&amp;linkCode=as2&amp;tag=nevjusfin-20">LED</a></li>
<li><a href="http://www.amazon.com/gp/product/B00B5LNEF6/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B00B5LNEF6&amp;linkCode=as2&amp;tag=nevjusfin-20">220 Ohm</a></li>
<li><a href="http://www.amazon.com/gp/product/B008A9UORM/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B008A9UORM&amp;linkCode=as2&amp;tag=nevjusfin-20">Breadboard and some jumper wires</a></li>
</ul>

<div id="mab-3312" class="magic-action-box mab-type-optin mab-id-331 mabstyle-dark use-mab-button-default mab-fields-layout-default" data-mabid="331" data-trackid="331" data-type="optin" data-track="1"  >
	<div class="mab-pad mab-wrap  mab-aside-type-none">
				<div class="mab-content">
						<div class="mab-heading">Receive the latest news about home automation</div>
									<div class="mab-subheading">Over 100 home automation enthusiasts already joined our list !</div>
									<div class="mab-main-copy"><p>Do you want to receive the latest news about open-source hardware and home automation ? Then join our mailing list today by entering your name and email below. It is 100% free and you can unsubscribe at any time if you're not satisfied.</p>
</div>
						<div class="mab-main-action-wrap ">
				<form method="POST" action="http://vivrepaleo.us6.list-manage.com/subscribe/post?u=c7086ad8b3ccaa53f1d3a9a8e&id=e0cb6a927f">
	<div class="mab-field mab-field-name">
				<label for="mab-name">First Name</label>
				<input type="text" id="mab-name" placeholder="Enter your name" name="FNAME" />
	</div>
	<div class="mab-field mab-field-email">
				<label for="mab-email">Email</label>
				<input type="email" id="mab-email" placeholder="Enter your email" name="EMAIL" />
	</div>
	<div class="mab-field mab-field-submit">
				<input class="mab-submit" type="submit" value=" Subscribe !" />
			</div>
	<div class="clear"></div>
</form>
			</div>
					</div>
		<div class="clear" style="clear:both;"></div>	</div>

	</div></div><footer class="entry-footer"><div class='av-share-box'><h5 class='av-share-link-description'>Share this entry</h5><ul class='av-share-box-list noLightbox'><li class='av-share-link av-social-link-facebook' ><a target='_blank' href='http://www.facebook.com/sharer.php?u=http://www.openhomeautomation.net/wireless-relay-arduino-wifi/&amp;t=Wireless%20Relay%20Control%20with%20Arduino%20%26%23038%3B%20the%20CC3000%20WiFi%20chip' aria-hidden='true' data-av_icon='' data-av_iconfont='entypo-fontello' title='' data-avia-related-tooltip='Share on Facebook'><span class='avia_hidden_link_text'>Share on Facebook</span></a></li><li class='av-share-link av-social-link-twitter' ><a target='_blank' href='http://twitter.com/home?status=Wireless%20Relay%20Control%20with%20Arduino%20%26%23038%3B%20the%20CC3000%20WiFi%20chip%20http://www.openhomeautomation.net/?p=829' aria-hidden='true' data-av_icon='' data-av_iconfont='entypo-fontello' title='' data-avia-related-tooltip='Share on Twitter'><span class='avia_hidden_link_text'>Share on Twitter</span></a></li><li class='av-share-link av-social-link-gplus' ><a target='_blank' href='https://plus.google.com/share?url=http://www.openhomeautomation.net/wireless-relay-arduino-wifi/' aria-hidden='true' data-av_icon='' data-av_iconfont='entypo-fontello' title='' data-avia-related-tooltip='Share on Google+'><span class='avia_hidden_link_text'>Share on Google+</span></a></li><li class='av-share-link av-social-link-linkedin' ><a target='_blank' href='http://linkedin.com/shareArticle?mini=true&amp;url=http://www.openhomeautomation.net/wireless-relay-arduino-wifi/&amp;title=Wireless%20Relay%20Control%20with%20Arduino%20%26%23038%3B%20the%20CC3000%20WiFi%20chip' aria-hidden='true' data-av_icon='' data-av_iconfont='entypo-fontello' title='' data-avia-related-tooltip='Share on Linkedin'><span class='avia_hidden_link_text'>Share on Linkedin</span></a></li></ul></div></footer><div class='post_delimiter'></div></div><div class='post_author_timeline'></div></article><div class='single-big'></div>


	        	
	        	
<div class='comment-entry post-entry'>

<!--<div class='comment_meta_container alpha two alpha units'>-->
<div class='comment_meta_container'>
			
			<div class='side-container-comment'>
	        		
	        		<div class='side-container-comment-inner'>
	        				        			
	        			<span class='comment-count'>43</span>
   						<span class='comment-text'>replies</span>
   						<span class='center-border center-border-left'></span>
   						<span class='center-border center-border-right'></span>
   						
	        		</div>
	        		
	        	</div>
			
			</div>

			
			<!--<div class='comment_container nine alpha units'>-->
			<div class='comment_container'>
			

			<ol class="commentlist" id="comments">
				    <li class="comment even thread-even depth-1" id="li-comment-9126">

        <div id="comment-9126">
        <article>
            <div class="gravatar">
                <img alt='ben' src='http://0.gravatar.com/avatar/ed4e218a4f08a17c9ba1bf2c2fd6e214?s=60&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >ben</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-9126">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    September 19, 2013 at 7:28 pm                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>If I understand correctly, this runs a local web server on your computer that the arduino/cc3000 connects to and pushes data onto it?</p>
<p>If so, what challenges would there be to put the webserver itself on the arduino/cc3000 itself?     Could tools like espruino and node.js help?</p>
<p>Esprinuo I believe is an opensource javascript interpreter.. which if the webserver is on a remote computer, could serve updating javascript pages for the arduino to process.</p>
<p>In the case of node.js, a webserver could be implemented in javascript, but perhaps requires more processing power.</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=9126#respond' onclick='return addComment.moveForm("comment-9126", "9126", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-9403">

        <div id="comment-9403">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-9403">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    September 24, 2013 at 10:40 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hey Ben,</p>
<p>Exactly! I guess the main challenge comes from the CC3000 library, from what I heard the Adafruit library does not yet support the web server capabilities of the CC3000 chip. But the hardware would allow it, and it works for example on the official Arduino WiFi shield, so there is nothing that would prevent that from working in the future.</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=9403#respond' onclick='return addComment.moveForm("comment-9403", "9403", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment even depth-3" id="li-comment-11704">

        <div id="comment-11704">
        <article>
            <div class="gravatar">
                <img alt='Guilherme' src='http://0.gravatar.com/avatar/029cced1e55a8a7caab0dc227c39577e?s=60&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >Guilherme</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-11704">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    October 18, 2013 at 2:10 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Doesn&#8217;t it Arduino Yun attend these necessities? In fact I just ordered one to do some experiments running ASW EC2 instances as my remote web servers.</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=11704#respond' onclick='return addComment.moveForm("comment-11704", "11704", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor odd alt depth-4" id="li-comment-12744">

        <div id="comment-12744">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-12744">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    November 5, 2013 at 9:16 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hello, the Arduino Yun would also work as well. As it&#8217;s all HTTP based communication, most of the code would probably work as well.</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=12744#respond' onclick='return addComment.moveForm("comment-12744", "12744", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment even depth-5" id="li-comment-20926">

        <div id="comment-20926">
        <article>
            <div class="gravatar">
                <img alt='Yazin' src='http://1.gravatar.com/avatar/fdc8d873ba93c727ef6e449d9a0a4d84?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >Yazin</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-20926">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    December 11, 2013 at 9:18 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Thanks for the awesome tutorial! I signed up to the mailing list so I don&#8217;t miss any more awesomeness.</p>
<p>By the by, I found this script here that runs a UDP server on the Arduino: <a href="http://www.adafruit.com/forums/viewtopic.php?f=19&#038;t=44652#p226199" rel="nofollow">http://www.adafruit.com/forums/viewtopic.php?f=19&#038;t=44652#p226199</a></p>
                                                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt depth-3" id="li-comment-73001">

        <div id="comment-73001">
        <article>
            <div class="gravatar">
                <img alt='das' src='http://0.gravatar.com/avatar/6754465a1d9e86a4e4f47921260559e7?s=60&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >das</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-73001">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    June 19, 2014 at 6:15 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hi Marco,<br />
Can rest API be used on a non local network . Lets say I have a network at work and I want to turn on a light from home &gt;?</p>
<p>I have arduino boards Mega  and a YUN so wanted to see what sort of YUN projects I could do that were handy .</p>
<p>Also I have a YUN that is a 100 m from a wifi spot . Do you think it is possible to get wifi from there or will I need to use some sort of XBEE and two ccontrolr boards at each end ?</p>
<p>Any ideas welcome &#8230;.</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=73001#respond' onclick='return addComment.moveForm("comment-73001", "73001", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor even depth-4" id="li-comment-74849">

        <div id="comment-74849">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-74849">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    June 25, 2014 at 6:56 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hello, thanks for the interesting question. For now, no it cannot. I plan to integrate web sockets in the aREST library to make these kind of things possible.</p>
<p>For your second question, I would use XBee indeed, or you would probably have to use WiFi relays in the middle which is pretty inconvenient. XBee modules have such ranges, see: <a href="https://www.sparkfun.com/products/11215" rel="nofollow">https://www.sparkfun.com/products/11215</a></p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=74849#respond' onclick='return addComment.moveForm("comment-74849", "74849", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9462">

        <div id="comment-9462">
        <article>
            <div class="gravatar">
                <img alt='Joe' src='http://1.gravatar.com/avatar/75d651d37ab6398bbeb165f7cc97fc47?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >Joe</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-9462">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    September 25, 2013 at 2:20 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hi Marco,</p>
<p>Thanks for the tutorial. I learned A LOT.</p>
<p>After loading everything up on the arduino, running the webserver, and getting to your web interface I have run into a problem. When I click on the On or Off button I end up on a 404 Page not found. It seems to be attempting to load simple_relay.php which I cannot find in the Github directory. Am I missing a file?</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=9462#respond' onclick='return addComment.moveForm("comment-9462", "9462", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-9521">

        <div id="comment-9521">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-9521">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    September 25, 2013 at 12:14 pm                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hello Joe,</p>
<p>Indeed, there was some problems with filenames, thanks for the comment! It is now fixed on the GitHub repository.</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=9521#respond' onclick='return addComment.moveForm("comment-9521", "9521", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="li-comment-19829">

        <div id="comment-19829">
        <article>
            <div class="gravatar">
                <img alt='rommel acosta' src='http://1.gravatar.com/avatar/5fc9ad4d579266d361d4808c18de0103?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >rommel acosta</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-19829">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    December 7, 2013 at 3:36 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>how can i connect 8 relay in one arduino wifi ac power controller i need it in my thesis i have no idea for that can you give  me complete instruction and materials to buy.<br />
thnks dude&#8230;.<br />
hope u reply me on that pls..</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=19829#respond' onclick='return addComment.moveForm("comment-19829", "19829", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-21591">

        <div id="comment-21591">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-21591">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    December 14, 2013 at 7:18 pm                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hello,</p>
<p>An Arduino can handle 8 relays without much problems, you will just have to modify the code to use 8 relays. For complete instructions and materials to buy, please send me an email directly.</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=21591#respond' onclick='return addComment.moveForm("comment-21591", "21591", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-24647">

        <div id="comment-24647">
        <article>
            <div class="gravatar">
                <img alt='David' src='http://1.gravatar.com/avatar/bbcce86b1a1a79eae880925a9d16c8aa?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >David</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-24647">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    December 26, 2013 at 10:51 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>In this example we have predefined SSID and Password. can&#8217;t this assigned dynamically while the device switched on .<br />
How can we tackle this problem? How can i make user configurable ssid and password.</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=24647#respond' onclick='return addComment.moveForm("comment-24647", "24647", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-26849">

        <div id="comment-26849">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-26849">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    January 2, 2014 at 11:22 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hi David,</p>
<p>It&#8217;s definitely possible to set the SSID/password while the device is connected, this feature of the CC3000 chip is called smartconfig. You can see more details here:</p>
<p><a href="http://learn.adafruit.com/adafruit-cc3000-wifi/smartconfigtest" rel="nofollow">http://learn.adafruit.com/adafruit-cc3000-wifi/smartconfigtest</a></p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=26849#respond' onclick='return addComment.moveForm("comment-26849", "26849", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment byuser comment-author-afterthought odd alt thread-even depth-1" id="li-comment-28865">

        <div id="comment-28865">
        <article>
            <div class="gravatar">
                <img alt='afterthought' src='http://1.gravatar.com/avatar/d6063df6712a1e3e0beca951f25781be?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >afterthought</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-28865">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    January 8, 2014 at 8:38 pm                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hi Marco,<br />
All parts are seemingly working-but not together.<br />
1)I placed the server.php into the &#8220;sites&#8221; folder. I ran it in the terminal. I get a &#8220;socket created,Socket bin OK waiting for data&#8221; on the terminal<br />
2) Apache,PHP,MySQL,Web sharing are on<br />
3)Arduino with your relay_upd sketch running and the Serial Monitor &#8220;Awaiting response&#8230;Time to connect,send and read 15008&#8243;<br />
4) In order to get to the relay.php I put into the browser the number from SystemPreference-&gt;Sharing-&gt;WebSharing<br />
address WHICH IS DIFFERENT FROM THE CONNECTION NUMBER ON THE Serial Monitor in its last 2 digits.(1.2 vs<br />
0.1)  I click on relay.php and I get the ON and OF Buttons and 3 warning messages.</p>
<p>When I click on the On or Off buttons-nothing happens. The serial monitor keeps sending the above described messages.</p>
<p>Please, help<br />
Thanks</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=28865#respond' onclick='return addComment.moveForm("comment-28865", "28865", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-33259">

        <div id="comment-33259">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-33259">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    January 27, 2014 at 11:27 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hello,</p>
<p>I never encountered that error, but I plan to modify the tutorial to change the communication mode to TCP so it will be much simpler to use.</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=33259#respond' onclick='return addComment.moveForm("comment-33259", "33259", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment byuser comment-author-afterthought odd alt thread-odd thread-alt depth-1" id="li-comment-29710">

        <div id="comment-29710">
        <article>
            <div class="gravatar">
                <img alt='afterthought' src='http://1.gravatar.com/avatar/d6063df6712a1e3e0beca951f25781be?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >afterthought</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-29710">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    January 11, 2014 at 10:22 pm                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hi Marco,<br />
I am still struggling to make the relay work.<br />
I put in a few Serial.println  in the middle of your Sketch:</p>
<p>Except for the first printline &#8220;rA&#8221; nothing returns from the other two. </p>
<p>This is the Serial Monitor output:</p>
<p>Started AP/SSID scan</p>
<p>Connecting to NETGEAR96&#8230;Waiting to connect&#8230;Connected to WiFi network!<br />
Requesting address from DHCP server&#8230;OK<br />
rÁ=</p>
<p>Attempting connection&#8230;<br />
Connect to 192.168.1.2:9999<br />
connected!<br />
Issuing request&#8230;<br />
Awaiting response&#8230;Time to connect, send &amp; read:<br />
15010<br />
rÁ=</p>
<p>Attempting connection&#8230;<br />
Connect to 192.168.1.2:9999<br />
connected!<br />
Issuing request&#8230;<br />
Awaiting response&#8230;Time to connect, send &amp; read:<br />
15011<br />
rÁ=</p>
<p>This is the part of your Sketch which was modified  by placing in 3 Serial.println .</p>
<p>void loop() {</p>
<p>  // Send request to get relay state<br />
  relayBuffer[0] = &#8216;r&#8217;;<br />
  Serial.println(relayBuffer);            //I put it in for checking, line 75<br />
  send_request_udp();</p>
<p>  // Change relay state accordingly<br />
  if (relayBuffer[0] == &#8217;0&#8242;) {<br />
    digitalWrite(relay_pin,LOW);<br />
    Serial.println(relay_pin);        //I put it in for checking, line 81<br />
  }</p>
<p>   if (relayBuffer[0] == &#8217;1&#8242;) {<br />
    digitalWrite(relay_pin,HIGH);<br />
    Serial.println(relay_pin);        //I put this in for checking, line 87<br />
}<br />
} </p>
<p>The &#8220;server_php&#8221; is puting out</p>
<p>Waiting for data &#8230;<br />
192.168.1.4 : 1643 &#8212; rWaiting for data &#8230;<br />
192.168.1.4 : 1644 &#8212; rWaiting for data &#8230;<br />
192.168.1.4 : 1645 &#8212; rWaiting for data &#8230;<br />
192.168.1.4 : 1709 &#8212; rWaiting for data &#8230;<br />
192.168.1.4 : 1710 &#8212; rWaiting for data &#8230;<br />
192.168.1.4 : 1711 &#8212; rWaiting for data &#8230;<br />
192.168.1.4 : 1712 &#8212; rWaiting for data &#8230;<br />
192.168.1.4 : 1713 &#8212; rWaiting for data &#8230;<br />
192.168.1.4 : 1714 &#8212; rWaiting for data &#8230;<br />
192.168.1.4 : 1715 &#8212; rWaiting for data &#8230;<br />
192.168.1.4 : 1716 &#8212; rWaiting for data &#8230;<br />
192.168.1.4 : 1717 &#8212; rWaiting for data &#8230;<br />
192.168.1.4 : 2211 &#8212; Waiting for data &#8230;<br />
192.168.1.4 : 2212 &#8212; Waiting for data &#8230;<br />
192.168.1.4 : 2213 &#8212; Waiting for data &#8230;<br />
192.168.1.4 : 2214 &#8212; Waiting for data &#8230; </p>
<p>There is nothing in the &#8220;relay_state.txt&#8221; file.</p>
<p>Where do I have the problem??? I would appreciate your help<br />
Many  thanks</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=29710#respond' onclick='return addComment.moveForm("comment-29710", "29710", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="li-comment-32624">

        <div id="comment-32624">
        <article>
            <div class="gravatar">
                <img alt='Luke' src='http://0.gravatar.com/avatar/ca98493d2f7120cdb8441cf7f4ff3398?s=60&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >Luke</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-32624">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    January 24, 2014 at 11:47 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hi Marco,</p>
<p>Your site, blog and example code is very valuable and interesting, thanks for sharing your experiences <img src="http://www.openhomeautomation.net/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /> </p>
<p>I am interested in developing a system which uses the CC3000 for bi-directional communication between the Arduino and server &#8211; for example we exchange packets with the server to send a command to the Arduino, eg switch relay state, and we send packets back to the server &#8211; for example logging temperature from sensors, both at the same time, together.</p>
<p>This sort of resembles your CC3000 weather station demonstration and your CC3000 relay control demonstration combined together into a single system with both relay and sensor.</p>
<p>I was wondering if you might have some example code or software for this sort of application, or any suggestions or comments about what I would need to look out for in order to modify your code to handle this situation in an elegant way.</p>
<p>Is it worth keeping TCP for the sensor data and UDP for the relay data, or perhaps moving both to UDP for both?</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=32624#respond' onclick='return addComment.moveForm("comment-32624", "32624", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-33248">

        <div id="comment-33248">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-33248">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    January 27, 2014 at 11:17 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hello Luke,</p>
<p>Thanks for your nice message ! I&#8217;ve developed what you mentioned indeed, I manage to have bi-directional WiFi transmission by running a server on the Arduino board with the CC3000 chip. However the code is not stable enough yet to publish a tutorial about it. I would suggest looking at the CC3000 server examples in the CC3000 library. I would also suggest to drop UDP and only use TCP, it is much easier to code and fast enough in the latest version of the WiFi library.</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=33248#respond' onclick='return addComment.moveForm("comment-33248", "33248", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="li-comment-35276">

        <div id="comment-35276">
        <article>
            <div class="gravatar">
                <img alt='Jiose' src='http://0.gravatar.com/avatar/ae4481ce78f7c70111b3f58329f62ed1?s=60&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >Jiose</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-35276">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    February 6, 2014 at 3:59 pm                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hi Marco!</p>
<p>I was just wondering how to get this work in TCP mode like the previous tutorial? It seems I am having problems with UDP connection. I&#8217;m new to this stuff so I was hoping I can figure how can I get this to work. Thanks! More power!</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=35276#respond' onclick='return addComment.moveForm("comment-35276", "35276", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-35432">

        <div id="comment-35432">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-35432">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    February 7, 2014 at 7:55 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hello,</p>
<p>There will be soon another post on the same tutorial with TCP, stay tuned !</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=35432#respond' onclick='return addComment.moveForm("comment-35432", "35432", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="li-comment-35584">

        <div id="comment-35584">
        <article>
            <div class="gravatar">
                <img alt='Brett' src='http://1.gravatar.com/avatar/3fee2376f6357def5ce11a22f25e4882?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >Brett</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-35584">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    February 8, 2014 at 1:57 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Marco,</p>
<p>Marco,</p>
<p>Do you have any experience with putting the CC3000 into &#8220;shut down&#8221; mode to save power?  I&#8217;ve read a couple articles by TI that show systems using the CC3000 running off a battery and coming out of a shutdown,where they claim the CC3000 will transition back into RX mode in less 700ms.  I don&#8217;t think the Adafruit CC3000 library supports this functionality, but was wondering if you had any suggestions?  Great tutorial!</p>
<p>Thanks!<br />
Brett</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=35584#respond' onclick='return addComment.moveForm("comment-35584", "35584", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-36648">

        <div id="comment-36648">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-36648">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    February 13, 2014 at 8:47 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hello Brett, thanks! No, I never tried out this functionality with the CC3000, but you&#8217;re right it would be great to have indeed. The only suggestion I would have is to message the Adafruit people directly to request this feature!</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=36648#respond' onclick='return addComment.moveForm("comment-36648", "36648", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="li-comment-38094">

        <div id="comment-38094">
        <article>
            <div class="gravatar">
                <img alt='John' src='http://1.gravatar.com/avatar/9ebc0aadc5728a8e8bb829d86063ffec?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >John</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-38094">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    February 20, 2014 at 7:43 pm                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hi Marco! Great tutorial!</p>
<p>When I connect to a WLAN where I use &#8220;WLAN_SEC_WPA2&#8243; all works right, but when I need to use &#8220;WLAN_SEC_WEP&#8221; I can&#8217;t connect to a WLAN. I need to do something else?</p>
<p>Thanks!</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=38094#respond' onclick='return addComment.moveForm("comment-38094", "38094", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-38791">

        <div id="comment-38791">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-38791">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    February 24, 2014 at 9:56 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hello John,</p>
<p>I don&#8217;t have much experience with WEP networks and the CC3000 chip, but I would really recommend switching to WPA2 WiFi network for more security.</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=38791#respond' onclick='return addComment.moveForm("comment-38791", "38791", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="li-comment-38684">

        <div id="comment-38684">
        <article>
            <div class="gravatar">
                <img alt='Guri' src='http://1.gravatar.com/avatar/77dad986f6159a6484c72e5ab6fd012c?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >Guri</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-38684">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    February 23, 2014 at 10:31 pm                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hello there!</p>
<p>First of all thanks for your code. I am relatively new to Arduino, so please do forgive me if I am asking some very basic questions. So far I have managed to install a server (Apache 2.2.2) and PHP. The Wifi Shield CC3000 connects to my network and then connects to DHPC Servers and even sends the data every i get the following message<br />
&#8221;<br />
Connect to xxx.xxx.xxx.xx:80<br />
Connected &amp; Data sent<br />
Closing connection</p>
<p>However, when I go to my Localhost/Relay.PHP </p>
<p>Nothing happens at all. I am not sure what am i doing wrong. Any advise/assistance will be greatly appreciated.</p>
<p>Best!</p>
<p>Guri</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=38684#respond' onclick='return addComment.moveForm("comment-38684", "38684", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-38793">

        <div id="comment-38793">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-38793">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    February 24, 2014 at 9:58 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hello Guri,</p>
<p>Thanks for your comment! By going to the relay.php file, you should at least see the two buttons of the interface. Are they not doing anything ? However, I will soon change the tutorial for a much more efficient implementation using a web server running on the Arduino board, so stay tuned !</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=38793#respond' onclick='return addComment.moveForm("comment-38793", "38793", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment even depth-3" id="li-comment-39077">

        <div id="comment-39077">
        <article>
            <div class="gravatar">
                <img alt='Guri' src='http://1.gravatar.com/avatar/77dad986f6159a6484c72e5ab6fd012c?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >Guri</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-39077">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    February 25, 2014 at 6:30 pm                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Thanks for the reply Marco!</p>
<p>I see the two buttons &#8211; Yes and No, however nothing happens. I am wondering if it is how I have placed my files? Should I declare the complete path for the repository?</p>
<p>I will be waiting for the update!</p>
<p>thanks for sharing this, its great!!</p>
<p>Best,</p>
<p>Guri</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=39077#respond' onclick='return addComment.moveForm("comment-39077", "39077", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor odd alt depth-4" id="li-comment-39237">

        <div id="comment-39237">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-39237">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    February 26, 2014 at 9:52 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hello Guri,</p>
<p>I just updated the tutorial with some new code using a web server running on the Arduino board, please try it out!</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=39237#respond' onclick='return addComment.moveForm("comment-39237", "39237", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment even depth-5" id="li-comment-39363">

        <div id="comment-39363">
        <article>
            <div class="gravatar">
                <img alt='Guri' src='http://1.gravatar.com/avatar/77dad986f6159a6484c72e5ab6fd012c?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >Guri</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-39363">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    February 26, 2014 at 11:59 pm                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Thanks Marco!</p>
<p>I am able to get to a point where I get &#8220;Listening for connections&#8230;&#8221; and then I press the &#8220;On&#8221; / &#8220;Off&#8221; button using the relay.html file (placed on my local server&gt; C:\Apache 2.2.2\htdocs I have placed the update_state.php&#8221; in the same folder but nothing happens.</p>
<p>I know I might have stretched your generosity a bit too far, but I am new to this and I am very keen on creating this wifi relay!</p>
<p>Any assistance is greatly appreciated.</p>
<p>Thanks in anticipation!</p>
<p>Best,</p>
<p>Guri</p>
                                                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
    <li class="comment odd alt depth-5" id="li-comment-40206">

        <div id="comment-40206">
        <article>
            <div class="gravatar">
                <img alt='Guri' src='http://1.gravatar.com/avatar/77dad986f6159a6484c72e5ab6fd012c?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >Guri</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-40206">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    March 3, 2014 at 7:36 pm                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Marco,</p>
<p>Please could you help me with this error message</p>
<p>&#8220;GET <a href="http://localhost/update_state.php?relayState=Off" rel="nofollow">http://localhost/update_state.php?relayState=Off</a> 500 (Internal Server Error) &#8221;</p>
<p>Thanks!</p>
<p>Guri</p>
                                                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="li-comment-46675">

        <div id="comment-46675">
        <article>
            <div class="gravatar">
                <img alt='Sam' src='http://0.gravatar.com/avatar/050abfccb071e46258fa1a57a0da4298?s=60&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >Sam</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-46675">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    March 21, 2014 at 7:12 pm                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>This is awesome!  I would rather put the page on a remote server that is always on.  Would something like Xively work for this or maybe serve the page directly on the cc3300?</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=46675#respond' onclick='return addComment.moveForm("comment-46675", "46675", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-48501">

        <div id="comment-48501">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-48501">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    March 26, 2014 at 7:50 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>I would serve the page directly on the cc3000, but it might require some intensive coding!</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=48501#respond' onclick='return addComment.moveForm("comment-48501", "48501", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="li-comment-50607">

        <div id="comment-50607">
        <article>
            <div class="gravatar">
                <img alt='Jorge Cunha' src='http://0.gravatar.com/avatar/c48112e668b8f2e98cdb51e46b0e5f0a?s=60&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >Jorge Cunha</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-50607">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    April 1, 2014 at 11:33 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hi, this example works on localhost? it&#8217;s possible to control a relay in any network i&#8217;m conected?</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=50607#respond' onclick='return addComment.moveForm("comment-50607", "50607", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-50880">

        <div id="comment-50880">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-50880">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    April 2, 2014 at 7:24 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hi Jorge, indeed this project is for localhost only. If you want to control a device from anywhere, I suggest having a look at our tutorials about the Arduino Yun !</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=50880#respond' onclick='return addComment.moveForm("comment-50880", "50880", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="li-comment-54773">

        <div id="comment-54773">
        <article>
            <div class="gravatar">
                <img alt='Matt' src='http://1.gravatar.com/avatar/9fe377d069892f43beff553192ca71bd?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >Matt</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-54773">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    April 17, 2014 at 11:58 pm                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Marco,</p>
<p>    I have a Mac OS-X running MAMP and a Adafruit CC3000 shield trying to run your sketch for the Wi-Fi relay on an Uno. I make the connection through my AP, however the connection between my Uno and the computer server does not seem to be stable. I get this output from your program on the serial interface;</p>
<p>Started AP/SSID scan<br />
Connecting to GreenOak(my wi-fi network)-waiting to connect&#8211;connected to wi-fi network!<br />
Requesting address from DHCP server&#8230;OK<br />
Listening for connections&#8230;&#8230;..<br />
(then I go to my Mac and bring up the localhost:8080/relay.html on my browser and it displays the two buttons,<br />
I push the &#8220;ON&#8221; button, and the following output occurs:)<br />
HEAD  / HTTP/1.1<br />
Content-Type:text/html<br />
On<br />
(then everything stops on the serial monitor and the Uno has to be reset to do anything else, and the relay never gets energized!).<br />
I have all the support files (html,php,jscript,jquery,) all in the MAMP/ htdocs file on my Mac and can not get this to work any further than this point. </p>
<p>Can you give me some suggestions on how to resolve this problem, so I can make the relay turn on?<br />
Any help would be vastly appreciated!!!!!<br />
Thanks,<br />
Matt</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=54773#respond' onclick='return addComment.moveForm("comment-54773", "54773", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-56218">

        <div id="comment-56218">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-56218">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    April 23, 2014 at 8:07 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hello Matt,</p>
<p>That&#8217;s a typical stability problem with the CC3000 chip &#038; Arduino, unfortunately. I tried to standardise the communications with the CC3000 chip using a REST library. You can check that here: <a href="https://github.com/marcoschwartz/aREST" rel="nofollow">https://github.com/marcoschwartz/aREST</a>. I&#8217;ll be updating this article soon using this library.</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=56218#respond' onclick='return addComment.moveForm("comment-56218", "56218", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="li-comment-60144">

        <div id="comment-60144">
        <article>
            <div class="gravatar">
                <img alt='Aadi' src='http://1.gravatar.com/avatar/5af9d00739454253d8f9bb513bef09c2?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >Aadi</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-60144">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    May 7, 2014 at 5:13 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>I have a website hosted remotely. It supports PHP. How would I be able to connect using that? I am able to connect in my house with my laptop as server..i just want to use internet now.</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=60144#respond' onclick='return addComment.moveForm("comment-60144", "60144", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-68400">

        <div id="comment-68400">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-68400">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    June 3, 2014 at 9:26 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hello Aadi,</p>
<p>That won&#8217;t work with a distant server, the aREST API is for now only compatible with devices within your local network. To control the relay from a distant website you will need to use a service like Temboo.</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=68400#respond' onclick='return addComment.moveForm("comment-68400", "68400", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="li-comment-72642">

        <div id="comment-72642">
        <article>
            <div class="gravatar">
                <img alt='golfredo' src='http://0.gravatar.com/avatar/096b6518792ec123cc8abf21b7948b39?s=60&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >golfredo</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-72642">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    June 18, 2014 at 1:08 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hello Marco, i m using one of your sketches, to send temperature readings to xively, it works just fine. but i also want to have it visualized on an LCD, (serial or not), the thing is that, when connect my lcd, i cant see the info, because on the loop, it is connecting, after a cycle it shows it but that happens every 10 seconds.</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=72642#respond' onclick='return addComment.moveForm("comment-72642", "72642", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-74846">

        <div id="comment-74846">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-74846">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    June 25, 2014 at 6:49 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hello Golfredo, good question. To achieve what you want you need to use timers except of delays. For example, execute the loop every 100 ms to refresh the LCD, and have a counter making the Xively connection every 10 seconds as before. See <a href="http://playground.arduino.cc/Code/AvoidDelay" rel="nofollow">http://playground.arduino.cc/Code/AvoidDelay</a></p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=74846#respond' onclick='return addComment.moveForm("comment-74846", "74846", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="li-comment-73161">

        <div id="comment-73161">
        <article>
            <div class="gravatar">
                <img alt='Athansios' src='http://0.gravatar.com/avatar/a9325eb72866bfe492cb5569cfab21b1?s=60&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><cite class="comment_author_name" itemprop="name" >Athansios</cite></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-73161">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    June 19, 2014 at 4:46 pm                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hello,</p>
<p>I am trying to make the example with the relay but i want to upload the html &amp; javascript files in external webserver, not local. Can you help me please?</p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=73161#respond' onclick='return addComment.moveForm("comment-73161", "73161", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-74844">

        <div id="comment-74844">
        <article>
            <div class="gravatar">
                <img alt='Marco Schwartz' src='http://1.gravatar.com/avatar/ff00bb813ba5f3567535b791f1487620?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />            </div>

            <!-- display the comment -->
            <div class='comment_content'>
                <header class="comment-header">
                    <cite class="author_name heading" itemprop="creator" itemscope="itemscope" itemtype="https://schema.org/Person" ><a href="http://www.marcoschwartz.com" ><cite class="comment_author_name" itemprop="name" >Marco Schwartz</cite></a></cite> <span class="says">says:</span>                    
                    <!-- display the comment metadata like time and date-->
                        <div class="comment-meta commentmetadata">
                            <a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-74844">
                                <time  itemprop="commentTime" itemscope="itemscope" datetime="2013-09-04T16:58:44+00:00" >
                                    June 25, 2014 at 6:38 am                                </time>
                            </a>
                        </div>
                </header>

                <!-- display the comment text -->
                <div class='comment_text entry-content-wrapper clearfix'  itemprop="commentText" >
                <p>Hello Athansios, that&#8217;s a very good point. For now it&#8217;s only local, but I plan to integrate websockets into the aREST library so it can also work with an external server. I recommend you follow updates of the blog to see when I have a new article out about this topic, or directly follow the aREST library: <a href="https://github.com/marcoschwartz/aREST/" rel="nofollow">https://github.com/marcoschwartz/aREST/</a></p>
                                <a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=74844#respond' onclick='return addComment.moveForm("comment-74844", "74844", "respond", "829")'>Reply</a>                </div>
            </div>

        </article>
    </div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
			</ol>
			<h4 id='pingback_heading'>Trackbacks &amp; Pingbacks</h4>			
			<ol class="pingbacklist">
						<li class="pingback even thread-even depth-1" id="comment-9010">
				<div id="div-comment-9010" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.adafruit.com/blog/2013/09/17/internet-of-things-to-make-wireless-relay-control-with-arduino-the-adafruit-cc3000/' rel='external nofollow' class='url'>Internet of things to make &#8211; Wireless Relay Control with Arduino &amp; the Adafruit CC3000 &laquo; adafruit industries blog</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.openhomeautomation.net/wireless-relay-arduino-wifi/#comment-9010">
			September 17, 2013 at 7:27 pm</a>		</div>

		<p>[&#8230;] Open Home Automation | Wireless Relay Control with Arduino &amp; the CC3000 WiFi chip &#8211; Open &#8230;. [&#8230;]</p>

		<div class="reply">
			<a class='comment-reply-link' href='/wireless-relay-arduino-wifi/?replytocom=9010#respond' onclick='return addComment.moveForm("div-comment-9010", "9010", "respond", "829")'>Reply</a>		</div>
				</div>
		</li><!-- #comment-## -->
			</ol>
						
			
			
			
			
</div> <!-- end grid div--><div class='comment_container nine alpha units '><h3 class='miniheading'>Leave a Reply</h3><span class='minitext'>Want to join the discussion? <br/>Feel free to contribute!</span>								<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/wireless-relay-arduino-wifi/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://www.openhomeautomation.net/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																			<p class="comment-notes">Your email address will not be published. Required fields are marked <span class="required">*</span></p>							<p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" /></p>
												<p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea></p>						<p class="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:  <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code class=&quot;&quot; title=&quot;&quot; data-url=&quot;&quot;&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; &lt;pre class=&quot;&quot; title=&quot;&quot; data-url=&quot;&quot;&gt; &lt;span class=&quot;&quot; title=&quot;&quot; data-url=&quot;&quot;&gt; </code></p>						<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='829' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="6a20fdb0a3" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="214"/></p>					</form>
							</div><!-- #respond -->
			</div>
</div>
				<!--end content-->
				</main>

				<aside class='sidebar sidebar_right  three alpha units'  role="complementary" itemscope="itemscope" itemtype="https://schema.org/WPSideBar" ><div class='inner_sidebar extralight-border'><section id="text-4" class="widget clearfix widget_text"><h3 class="widgettitle">About Me</h3>			<div class="textwidget"><img style="width: 100px; heigth: 100px; float: right; padding-left: 10px;" src="http://www.vivrepaleo.fr/wp-content/uploads/2012/05/perso1.jpg">Hello! I am Marco Schwartz, and I am passionate about home automation & open-source hardware. <a href="http://www.openhomeautomation.net/about/" style="color: blue;">Learn more about me.</a></div>
		<span class="seperator extralight-border"></span></section><section id="text-3" class="widget clearfix widget_text">			<div class="textwidget"><a href="http://openhomeautomation.net/home-automation-arduino"><img src="http://openhomeautomation.net/book_sidebar.jpg" /></a></div>
		<span class="seperator extralight-border"></span></section><section id="facebooklikebox-3" class="widget clearfix widget_FacebookLikeBox"><script src="http://connect.facebook.net/en_US/all.js#xfbml=1"></script><fb:like-box href="https://www.facebook.com/OpenHomeAutomation" width="250" show_faces="true" border_color="AAAAAA" stream="false" header="true"></fb:like-box><span class="seperator extralight-border"></span></section><section id="bm_donation_widget-2" class="widget clearfix widget_bm_donation_widget">		<div class="bitmate-donate-widget">
			<h4 class="widget-title">Donate Bitcoin</h4>
			
		<div class="bitmate-author-donation">
			<div class="bitmate-author-scan">
				<a href="bitcoin:14A21dsn117sHcbLwmzDfKpHNXJDJofgZx?label=Donation-from%3Ahttp%3A%2F%2Fwww.openhomeautomation.net%2Fwireless-relay-arduino-wifi%2F&message=Donation-from%3Ahttp%3A%2F%2Fwww.openhomeautomation.net%2Fwireless-relay-arduino-wifi%2F" title="Scan to Donate Bitcoin to Marco Schwartz"><img src="http://chart.googleapis.com/chart?chs=150x150&cht=qr&chld=H|0&chl=bitcoin:14A21dsn117sHcbLwmzDfKpHNXJDJofgZx?label=Donation-from%3Ahttp%3A%2F%2Fwww.openhomeautomation.net%2Fwireless-relay-arduino-wifi%2F&message=Donation-from%3Ahttp%3A%2F%2Fwww.openhomeautomation.net%2Fwireless-relay-arduino-wifi%2F" alt="Scan to Donate Bitcoin" /></a>
			</div>
			<div class="bitmate-author-description">
				<strong>Like this?</strong> Donate Bitcoin to <a href="http://www.openhomeautomation.net/author/admin/" title="Marco Schwartz" rel="author">Marco Schwartz</a> at:
				<br/>
				<a href="bitcoin:14A21dsn117sHcbLwmzDfKpHNXJDJofgZx?label=Donation-from%3Ahttp%3A%2F%2Fwww.openhomeautomation.net%2Fwireless-relay-arduino-wifi%2F&message=Donation-from%3Ahttp%3A%2F%2Fwww.openhomeautomation.net%2Fwireless-relay-arduino-wifi%2F" title="Donate Bitcoin to Marco Schwartz"><img src="http://www.openhomeautomation.net/wp-content/plugins/bitmate-author-donations/images/bitcoin.png" alt="Bitcoin" /> <strong>14A21dsn117sHcbLwmzDfKpHNXJDJofgZx</strong></a></a>
				<br/>
				<a href="bitcoin:14A21dsn117sHcbLwmzDfKpHNXJDJofgZx?label=Donation-from%3Ahttp%3A%2F%2Fwww.openhomeautomation.net%2Fwireless-relay-arduino-wifi%2F&message=Donation-from%3Ahttp%3A%2F%2Fwww.openhomeautomation.net%2Fwireless-relay-arduino-wifi%2F" title="Donate Bitcoin to Marco Schwartz"><img src="http://www.openhomeautomation.net/wp-content/plugins/bitmate-author-donations/images/donate.png" alt="Donate" class="bitmate-author-donate-button"/></a>
			</div>
		</div>
			</div>
		<span class="seperator extralight-border"></span></section>		<section id="recent-posts-2" class="widget clearfix widget_recent_entries">		<h3 class="widgettitle">Recent Posts</h3>		<ul>
					<li>
				<a href="http://www.openhomeautomation.net/arduino-wifi-switch/">Arduino WiFi Power Switch &#038; Energy Monitoring Device</a>
						</li>
					<li>
				<a href="http://www.openhomeautomation.net/wireless-security-camera-arduino-yun/">Wireless Security Camera with the Arduino Yun</a>
						</li>
					<li>
				<a href="http://www.openhomeautomation.net/arduino-rest/">Mix WiFi, Bluetooth and XBee in Your Home Automation Projects with a Universal REST API for Arduino</a>
						</li>
					<li>
				<a href="http://www.openhomeautomation.net/arduino-cc3000-rest/">A REST API for Arduino &#038; the CC3000 WiFi Chip</a>
						</li>
					<li>
				<a href="http://www.openhomeautomation.net/yun-weather-temboo/">Cloud-Connected Weather Station with the Arduino Yun &#038; Temboo</a>
						</li>
				</ul>
		<span class="seperator extralight-border"></span></section><section id="search-2" class="widget clearfix widget_search">

<form action="http://www.openhomeautomation.net/" id="searchform" method="get" class="">
	<div>
		<input type="submit" value="" id="searchsubmit" class="button avia-font-entypo-fontello" />
		<input type="text" id="s" name="s" value="" placeholder='Search' />
			</div>
</form><span class="seperator extralight-border"></span></section></div></aside>

			</div><!--end container-->

		</div><!-- close default .container_wrap element -->


						<div class='container_wrap footer_color' id='footer'>

					<div class='container'>

						<div class='flex_column av_one_third first el_before_av_one_third'><section id="text-5" class="widget clearfix widget_text"><h3 class="widgettitle">Discover Our Other Websites</h3>			<div class="textwidget"><div  style="text-align: left;"><a href="http://openhardwarelabs.com/">Open Hardware Labs</a> Build your business based on open-source hardware</div></div>
		<span class="seperator extralight-border"></span></section></div><div class='flex_column av_one_third el_after_av_one_third  el_before_av_one_third '><section id="text-6" class="widget clearfix widget_text">			<div class="textwidget"></div>
		<span class="seperator extralight-border"></span></section></div><div class='flex_column av_one_third el_after_av_one_third  el_before_av_one_third el_after_av_one_third el_after_av_one_third  el_before_av_one_third  el_before_av_one_third el_after_av_one_third  el_before_av_one_third '><section id="text-7" class="widget clearfix widget_text">			<div class="textwidget"></div>
		<span class="seperator extralight-border"></span></section></div>

					</div>


				<!-- ####### END FOOTER CONTAINER ####### -->
				</div>

	


			<!-- end main -->
			</div>

			
				<footer class='container_wrap socket_color' id='socket'  role="contentinfo" itemscope="itemscope" itemtype="https://schema.org/WPFooter" >
                    <div class='container'>

                        <span class='copyright'>© 2012 - 2014 Open Home Automation™ - <a href='http://www.kriesi.at'>Enfold Theme by Kriesi</a></span>

                        <nav class='sub_menu_socket'  role="navigation" itemscope="itemscope" itemtype="https://schema.org/SiteNavigationElement" ></nav>
                    </div>

	            <!-- ####### END SOCKET CONTAINER ####### -->
				</footer>


			<a class='avia-post-nav avia-post-prev without-image' href='http://www.openhomeautomation.net/arduino-wifi-cc3000/' >    <span class='label iconfont' aria-hidden='true' data-av_icon='' data-av_iconfont='entypo-fontello'></span>    <span class='entry-info-wrap'>        <span class='entry-info'>            <span class='entry-title'>Make a WiFi Weather Station With Arduino and the CC3000 chip</span>        </span>    </span></a><a class='avia-post-nav avia-post-next without-image' href='http://www.openhomeautomation.net/wireless-camera/' >    <span class='label iconfont' aria-hidden='true' data-av_icon='' data-av_iconfont='entypo-fontello'></span>    <span class='entry-info-wrap'>        <span class='entry-info'>            <span class='entry-title'>Wireless Camera with Arduino and the CC3000 WiFi chip</span>        </span>    </span></a><!-- end wrap_all --></div>


 <script type='text/javascript'>
 /* <![CDATA[ */  
var avia_framework_globals = avia_framework_globals || {};
    avia_framework_globals.frameworkUrl = 'http://www.openhomeautomation.net/wp-content/themes/enfold/framework/';
    avia_framework_globals.installedAt = 'http://www.openhomeautomation.net/wp-content/themes/enfold/';
    avia_framework_globals.ajaxurl = 'http://www.openhomeautomation.net/wp-admin/admin-ajax.php';
/* ]]> */ 
</script>
 
 <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38034246-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script><script type='text/javascript' src='http://www.openhomeautomation.net/wp-content/plugins/akismet/_inc/form.js?ver=3.0.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var mejsL10n = {"language":"en-US","strings":{"Close":"Close","Fullscreen":"Fullscreen","Download File":"Download File","Download Video":"Download Video","Play\/Pause":"Play\/Pause","Mute Toggle":"Mute Toggle","None":"None","Turn off Fullscreen":"Turn off Fullscreen","Go Fullscreen":"Go Fullscreen","Unmute":"Unmute","Mute":"Mute","Captions\/Subtitles":"Captions\/Subtitles"}};
var _wpmejsSettings = {"pluginPath":"\/wp-includes\/js\/mediaelement\/"};
var mejsL10n = {"language":"en-US","strings":{"Close":"Close","Fullscreen":"Fullscreen","Download File":"Download File","Download Video":"Download Video","Play\/Pause":"Play\/Pause","Mute Toggle":"Mute Toggle","None":"None","Turn off Fullscreen":"Turn off Fullscreen","Go Fullscreen":"Go Fullscreen","Unmute":"Unmute","Mute":"Mute","Captions\/Subtitles":"Captions\/Subtitles"}};
var _wpmejsSettings = {"pluginPath":"\/wp-includes\/js\/mediaelement\/"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-includes/js/mediaelement/mediaelement-and-player.min.js?ver=2.14.2'></script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-content/themes/enfold/config-woocommerce/woocommerce-mod.js?ver=1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wc_add_to_cart_params = {"ajax_url":"\/wp-admin\/admin-ajax.php","ajax_loader_url":"\/\/www.openhomeautomation.net\/wp-content\/plugins\/woocommerce\/assets\/images\/ajax-loader@2x.gif","i18n_view_cart":"View Cart","cart_url":"http:\/\/www.openhomeautomation.net\/cart\/","is_cart":"","cart_redirect_after_add":"yes"};
/* ]]> */
</script>
<script type='text/javascript' src='//www.openhomeautomation.net/wp-content/plugins/woocommerce/assets/js/frontend/add-to-cart.min.js?ver=2.1.12'></script>
<script type='text/javascript' src='//www.openhomeautomation.net/wp-content/plugins/woocommerce/assets/js/jquery-blockui/jquery.blockUI.min.js?ver=2.60'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var woocommerce_params = {"ajax_url":"\/wp-admin\/admin-ajax.php","ajax_loader_url":"\/\/www.openhomeautomation.net\/wp-content\/plugins\/woocommerce\/assets\/images\/ajax-loader@2x.gif"};
/* ]]> */
</script>
<script type='text/javascript' src='//www.openhomeautomation.net/wp-content/plugins/woocommerce/assets/js/frontend/woocommerce.min.js?ver=2.1.12'></script>
<script type='text/javascript' src='//www.openhomeautomation.net/wp-content/plugins/woocommerce/assets/js/jquery-cookie/jquery.cookie.min.js?ver=1.3.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wc_cart_fragments_params = {"ajax_url":"\/wp-admin\/admin-ajax.php","fragment_name":"wc_fragments"};
/* ]]> */
</script>
<script type='text/javascript' src='//www.openhomeautomation.net/wp-content/plugins/woocommerce/assets/js/frontend/cart-fragments.min.js?ver=2.1.12'></script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-content/themes/enfold/js/avia.js?ver=2'></script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-content/themes/enfold/js/shortcodes.js?ver=2'></script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-content/themes/enfold/js/prettyPhoto/js/jquery.prettyPhoto.js?ver=3.1.5'></script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-includes/js/mediaelement/wp-mediaelement.js?ver=3.9.1'></script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-includes/js/comment-reply.min.js?ver=3.9.1'></script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-content/plugins/magic-action-box/assets/js/responsive-videos.js?ver=2.14.1'></script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-includes/js/jquery/ui/jquery.ui.core.min.js?ver=1.10.4'></script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-includes/js/jquery/ui/jquery.ui.widget.min.js?ver=1.10.4'></script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-includes/js/jquery/ui/jquery.ui.tabs.min.js?ver=1.10.4'></script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-content/plugins/woothemes-sensei/assets/js/user-dashboard.min.js?ver=1.5.2'></script>
<script type='text/javascript' src='http://www.openhomeautomation.net/wp-content/plugins/woothemes-sensei/assets/js/general-frontend.min.js?ver=1.5.2'></script>
<a href='#top' title='Scroll to top' id='scroll-top-link' aria-hidden='true' data-av_icon='' data-av_iconfont='entypo-fontello'><span class="avia_hidden_link_text">Scroll to top</span></a>
<div id="fb-root"></div>
</body>
</html>

