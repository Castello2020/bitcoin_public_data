http://directed-procrastination.blogspot.com/2011_06_01_archive.html
HTTP/1.0 200 OK
Content-Type: text/html; charset=UTF-8
Expires: Tue, 22 Jul 2014 23:13:58 GMT
Date: Tue, 22 Jul 2014 23:13:58 GMT
Cache-Control: private, max-age=0
Last-Modified: Thu, 17 Jul 2014 05:14:19 GMT
ETag: "1fea6943-c7f9-4dac-8bcd-a2285bd66b86"
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Server: GSE
Alternate-Protocol: 80:quic

<!DOCTYPE html>
<html class='v2' dir='ltr' xmlns='http://www.w3.org/1999/xhtml' xmlns:b='http://www.google.com/2005/gml/b' xmlns:data='http://www.google.com/2005/gml/data' xmlns:expr='http://www.google.com/2005/gml/expr'>
<head>
<script type='text/javascript'>
/* <![CDATA[ */
    (function() {
        var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
        s.type = 'text/javascript';
        s.async = true;
        s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
        t.parentNode.insertBefore(s, t);
    })();
/* ]]> */</script>
<script src='http://cdn.mathjax.org/mathjax/latest/MathJax.js' type='text/javascript'>
MathJax.Hub.Config({
 extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js"],
 jax: ["input/TeX", "output/HTML-CSS"],
 tex2jax: {
     inlineMath: [ ['$','$'], ["\\(","\\)"] ],
     displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
     processEscapes: true
 },
 "HTML-CSS": { availableFonts: ["TeX"] }
});
</script>
<meta content='IE=EmulateIE7' http-equiv='X-UA-Compatible'/>
<meta content='width=1100' name='viewport'/>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'/>
<script type="text/javascript">(function() { var b=window,f="chrome",g="tick",k="jstiming";(function(){function d(a){this.t={};this.tick=function(a,d,c){var e=void 0!=c?c:(new Date).getTime();this.t[a]=[e,d];if(void 0==c)try{b.console.timeStamp("CSI/"+a)}catch(h){}};this[g]("start",null,a)}var a;b.performance&&(a=b.performance.timing);var n=a?new d(a.responseStart):new d;b.jstiming={Timer:d,load:n};if(a){var c=a.navigationStart,h=a.responseStart;0<c&&h>=c&&(b[k].srt=h-c)}if(a){var e=b[k].load;0<c&&h>=c&&(e[g]("_wtsrt",void 0,c),e[g]("wtsrt_","_wtsrt",h),e[g]("tbsd_","wtsrt_"))}try{a=null,
b[f]&&b[f].csi&&(a=Math.floor(b[f].csi().pageT),e&&0<c&&(e[g]("_tbnd",void 0,b[f].csi().startE),e[g]("tbnd_","_tbnd",c))),null==a&&b.gtbExternal&&(a=b.gtbExternal.pageT()),null==a&&b.external&&(a=b.external.pageT,e&&0<c&&(e[g]("_tbnd",void 0,b.external.startE),e[g]("tbnd_","_tbnd",c))),a&&(b[k].pt=a)}catch(p){}})();b.tickAboveFold=function(d){var a=0;if(d.offsetParent){do a+=d.offsetTop;while(d=d.offsetParent)}d=a;750>=d&&b[k].load[g]("aft")};var l=!1;function m(){l||(l=!0,b[k].load[g]("firstScrollTime"))}b.addEventListener?b.addEventListener("scroll",m,!1):b.attachEvent("onscroll",m);
 })();</script>
<meta content='blogger' name='generator'/>
<link href='http://directed-procrastination.blogspot.com/favicon.ico' rel='icon' type='image/x-icon'/>
<link href='http://directed-procrastination.blogspot.com/2011_06_01_archive.html' rel='canonical'/>
<link rel="alternate" type="application/atom+xml" title="directed procrastination - Atom" href="http://directed-procrastination.blogspot.com/feeds/posts/default" />
<link rel="alternate" type="application/rss+xml" title="directed procrastination - RSS" href="http://directed-procrastination.blogspot.com/feeds/posts/default?alt=rss" />
<link rel="service.post" type="application/atom+xml" title="directed procrastination - Atom" href="http://www.blogger.com/feeds/7788284466297989064/posts/default" />
<!--[if IE]><script type="text/javascript" src="https://www.blogger.com/static/v1/jsbin/1735305980-ieretrofit.js"></script>
<![endif]-->
<!--[if IE]> <script> (function() { var html5 = ("abbr,article,aside,audio,canvas,datalist,details," + "figure,footer,header,hgroup,mark,menu,meter,nav,output," + "progress,section,time,video").split(','); for (var i = 0; i < html5.length; i++) { document.createElement(html5[i]); } try { document.execCommand('BackgroundImageCache', false, true); } catch(e) {} })(); </script> <![endif]-->
<title>directed procrastination: June 2011</title>
<script type="text/javascript">
if (navigator.userAgent.indexOf('MSIE 6') == -1) {
  WebFontConfig = {
    google: { families: [ 'Droid Serif' ],
    api: '//themes.googleusercontent.com/fonts/css?kit=0AKsP294HTD-nvJgucYTaD33tNpxd7DqNl3prDFz23I'
    },
    loading: function() {
      if (window.jstiming) window.jstiming.load.tick('webfontLoading');
    },
    active: function() {
      if (window.jstiming) window.jstiming.load.tick('webfontActive');
    }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = '//ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })();
} else {
  document.documentElement.className = 'wf-inactive';
}
</script>
<style type="text/css">
.wf-inactive body, .wf-droidserif-n4-loading body, .wf-droidserif-n4-inactive body {
  font-family: serif;
}
</style>
<link type='text/css' rel='stylesheet' href='https://www.blogger.com/static/v1/widgets/1535467126-widget_css_2_bundle.css' />
<link type='text/css' rel='stylesheet' href='https://www.blogger.com/dyn-css/authorization.css?targetBlogID=7788284466297989064&zx=1fea6943-c7f9-4dac-8bcd-a2285bd66b86' />
<style id='page-skin-1' type='text/css'><!--
/*
-----------------------------------------------
Blogger Template Style
Name:     Awesome Inc.
Designer: Tina Chen
URL:      tinachen.org
----------------------------------------------- */
/* Variable definitions
====================
<Variable name="keycolor" description="Main Color" type="color" default="#ffffff"/>
<Group description="Page" selector="body">
<Variable name="body.font" description="Font" type="font"
default="normal normal 13px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="body.background.color" description="Background Color" type="color" default="#000000"/>
<Variable name="body.text.color" description="Text Color" type="color" default="#ffffff"/>
</Group>
<Group description="Links" selector=".main-inner">
<Variable name="link.color" description="Link Color" type="color" default="#888888"/>
<Variable name="link.visited.color" description="Visited Color" type="color" default="#444444"/>
<Variable name="link.hover.color" description="Hover Color" type="color" default="#cccccc"/>
</Group>
<Group description="Blog Title" selector=".header h1">
<Variable name="header.font" description="Title Font" type="font"
default="normal bold 40px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="header.text.color" description="Title Color" type="color" default="#d9d9d9" />
<Variable name="header.background.color" description="Header Background" type="color" default="transparent" />
</Group>
<Group description="Blog Description" selector=".header .description">
<Variable name="description.font" description="Font" type="font"
default="normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="description.text.color" description="Text Color" type="color"
default="#d9d9d9" />
</Group>
<Group description="Tabs Text" selector=".tabs-inner .widget li a">
<Variable name="tabs.font" description="Font" type="font"
default="normal bold 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="tabs.text.color" description="Text Color" type="color" default="#d9d9d9"/>
<Variable name="tabs.selected.text.color" description="Selected Color" type="color" default="#ffffff"/>
</Group>
<Group description="Tabs Background" selector=".tabs-outer .PageList">
<Variable name="tabs.background.color" description="Background Color" type="color" default="#141414"/>
<Variable name="tabs.selected.background.color" description="Selected Color" type="color" default="#444444"/>
<Variable name="tabs.border.color" description="Border Color" type="color" default="#000000"/>
</Group>
<Group description="Date Header" selector=".main-inner .widget h2.date-header, .main-inner .widget h2.date-header span">
<Variable name="date.font" description="Font" type="font"
default="normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="date.text.color" description="Text Color" type="color" default="#666666"/>
<Variable name="date.border.color" description="Border Color" type="color" default="#000000"/>
</Group>
<Group description="Post Title" selector="h3.post-title, h4, h3.post-title a">
<Variable name="post.title.font" description="Font" type="font"
default="normal bold 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="post.title.text.color" description="Text Color" type="color" default="#d9d9d9"/>
</Group>
<Group description="Post Background" selector=".post">
<Variable name="post.background.color" description="Background Color" type="color" default="#000000" />
<Variable name="post.border.color" description="Border Color" type="color" default="#000000" />
<Variable name="post.border.bevel.color" description="Bevel Color" type="color" default="#000000"/>
</Group>
<Group description="Gadget Title" selector="h2">
<Variable name="widget.title.font" description="Font" type="font"
default="normal bold 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="widget.title.text.color" description="Text Color" type="color" default="#d9d9d9"/>
</Group>
<Group description="Gadget Text" selector=".sidebar .widget">
<Variable name="widget.font" description="Font" type="font"
default="normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="widget.text.color" description="Text Color" type="color" default="#d9d9d9"/>
<Variable name="widget.alternate.text.color" description="Alternate Color" type="color" default="#666666"/>
</Group>
<Group description="Gadget Links" selector=".sidebar .widget">
<Variable name="widget.link.color" description="Link Color" type="color" default="#b9b9b9"/>
<Variable name="widget.link.visited.color" description="Visited Color" type="color" default="#666666"/>
<Variable name="widget.link.hover.color" description="Hover Color" type="color" default="#ffffff"/>
</Group>
<Group description="Gadget Background" selector=".sidebar .widget">
<Variable name="widget.background.color" description="Background Color" type="color" default="#141414"/>
<Variable name="widget.border.color" description="Border Color" type="color" default="#222222"/>
<Variable name="widget.border.bevel.color" description="Bevel Color" type="color" default="#000000"/>
</Group>
<Group description="Sidebar Background" selector=".column-left-inner .column-right-inner">
<Variable name="widget.outer.background.color" description="Background Color" type="color" default="transparent" />
</Group>
<Group description="Images" selector=".main-inner">
<Variable name="image.background.color" description="Background Color" type="color" default="transparent"/>
<Variable name="image.border.color" description="Border Color" type="color" default="transparent"/>
</Group>
<Group description="Feed" selector=".blog-feeds">
<Variable name="feed.text.color" description="Text Color" type="color" default="#d9d9d9"/>
</Group>
<Group description="Feed Links" selector=".blog-feeds">
<Variable name="feed.link.color" description="Link Color" type="color" default="#b9b9b9"/>
<Variable name="feed.link.visited.color" description="Visited Color" type="color" default="#666666"/>
<Variable name="feed.link.hover.color" description="Hover Color" type="color" default="#ffffff"/>
</Group>
<Group description="Pager" selector=".blog-pager">
<Variable name="pager.background.color" description="Background Color" type="color" default="#000000" />
</Group>
<Group description="Footer" selector=".footer-outer">
<Variable name="footer.background.color" description="Background Color" type="color" default="#000000" />
<Variable name="footer.text.color" description="Text Color" type="color" default="#d9d9d9" />
</Group>
<Variable name="title.shadow.spread" description="Title Shadow" type="length" default="-1px"/>
<Variable name="body.background" description="Body Background" type="background"
color="#000000"
default="$(color) none repeat scroll top left"/>
<Variable name="body.background.gradient.cap" description="Body Gradient Cap" type="url"
default="none"/>
<Variable name="tabs.background.gradient" description="Tabs Background Gradient" type="url"
default="none"/>
<Variable name="header.background.gradient" description="Header Background Gradient" type="url" default="none" />
<Variable name="header.padding.top" description="Header Top Padding" type="length" default="22px" />
<Variable name="header.margin.top" description="Header Top Margin" type="length" default="0" />
<Variable name="header.margin.bottom" description="Header Bottom Margin" type="length" default="0" />
<Variable name="widget.padding.top" description="Widget Padding Top" type="length" default="8px" />
<Variable name="widget.padding.side" description="Widget Padding Side" type="length" default="15px" />
<Variable name="widget.outer.margin.top" description="Widget Top Margin" type="length" default="0" />
<Variable name="widget.outer.background.gradient" description="Gradient" type="url" default="none" />
<Variable name="widget.border.radius" description="Gadget Border Radius" type="length" default="0" />
<Variable name="outer.shadow.spread" description="Outer Shadow Size" type="length" default="0" />
<Variable name="date.header.border.radius.top" description="Date Header Border Radius Top" type="length" default="0" />
<Variable name="date.header.position" description="Date Header Position" type="length" default="15px" />
<Variable name="date.space" description="Date Space" type="length" default="30px" />
<Variable name="date.position" description="Date Float" type="string" default="static" />
<Variable name="date.padding.bottom" description="Date Padding Bottom" type="length" default="0" />
<Variable name="date.border.size" description="Date Border Size" type="length" default="0" />
<Variable name="date.background" description="Date Background" type="background" color="transparent"
default="$(color) none no-repeat scroll top left" />
<Variable name="date.first.border.radius.top" description="Date First top radius" type="length" default="0" />
<Variable name="date.last.space.bottom" description="Date Last Space Bottom" type="length"
default="20px" />
<Variable name="date.last.border.radius.bottom" description="Date Last bottom radius" type="length" default="0" />
<Variable name="post.first.padding.top" description="First Post Padding Top" type="length" default="0" />
<Variable name="image.shadow.spread" description="Image Shadow Size" type="length" default="0"/>
<Variable name="image.border.radius" description="Image Border Radius" type="length" default="0"/>
<Variable name="separator.outdent" description="Separator Outdent" type="length" default="15px" />
<Variable name="title.separator.border.size" description="Widget Title Border Size" type="length" default="1px" />
<Variable name="list.separator.border.size" description="List Separator Border Size" type="length" default="1px" />
<Variable name="shadow.spread" description="Shadow Size" type="length" default="0"/>
<Variable name="startSide" description="Side where text starts in blog language" type="automatic" default="left"/>
<Variable name="endSide" description="Side where text ends in blog language" type="automatic" default="right"/>
<Variable name="date.side" description="Side where date header is placed" type="string" default="right"/>
<Variable name="pager.border.radius.top" description="Pager Border Top Radius" type="length" default="0" />
<Variable name="pager.space.top" description="Pager Top Space" type="length" default="1em" />
<Variable name="footer.background.gradient" description="Background Gradient" type="url" default="none" />
*/
/* Content
----------------------------------------------- */
html { font-family: Times, serif; font-size: 12pt; }
.title  { text-align: center; }
.todo   { color: red; }
.done   { color: green; }
.tag    { background-color:lightblue; font-weight:normal }
.target { }
.timestamp { color: grey }
.timestamp-kwd { color: CadetBlue }
p.verse { margin-left: 3% }
pre {
border: 1pt solid #AEBDCC;
background-color: #050505;
padding: 5pt;
font-family: courier, monospace;
font-size: 90%;
overflow:auto;
}
table { border-collapse: collapse; }
td, th { vertical-align: top; }
dt { font-weight: bold; }
div.figure { padding: 0.5em; }
div.figure p { text-align: center; }
.linenr { font-size:smaller }
.code-highlighted {background-color:#ffff00;}
.org-info-js_info-navigation { border-style:none; }
#org-info-js_console-label { font-size:10px; font-weight:bold;
white-space:nowrap; }
.org-info-js_search-highlight {background-color:#ffff00; color:#000000;
font-weight:bold; }
background-color: #b03060;
}
.org-cua-rectangle-noselect {
/* CUA-rectangle-noselect-face */
color: #ffffff;
background-color: #696969;
}
.org-cursor {
/* cursor */
background-color: #ffff00;
}
.org-custom-button {
/* custom-button */
color: #000000;
background-color: #d3d3d3;
}
.org-custom-button-mouse {
/* custom-button-mouse */
color: #000000;
background-color: #e5e5e5;
}
.org-custom-button-pressed {
/* custom-button-pressed */
color: #000000;
background-color: #d3d3d3;
}
.org-custom-button-pressed-unraised {
/* custom-button-pressed-unraised */
color: #ee82ee;
text-decoration: underline;
}
.org-custom-button-unraised {
/* custom-button-unraised */
text-decoration: underline;
}
.org-custom-changed {
/* custom-changed */
color: #ffffff;
background-color: #0000ff;
}
.org-custom-comment {
/* custom-comment */
background-color: #696969;
}
.org-custom-comment-tag {
/* custom-comment-tag */
color: #cccccc;
}
.org-custom-documentation {
}
.org-custom-face-tag {
/* custom-face-tag */
color: #add8e6;
font-weight: bold;
}
.org-custom-group-tag {
/* custom-group-tag */
color: #add8e6;
font-size: 120%;
font-weight: bold;
}
.org-custom-group-tag-1 {
/* custom-group-tag-1 */
color: #ffc0cb;
font-size: 120%;
font-weight: bold;
}
.org-custom-invalid {
/* custom-invalid */
color: #ffff00;
background-color: #ff0000;
}
.org-custom-link {
/* custom-link */
color: #00ffff;
text-decoration: underline;
}
.org-custom-modified {
/* custom-modified */
color: #ffffff;
background-color: #0000ff;
}
.org-custom-rogue {
/* custom-rogue */
color: #ffc0cb;
background-color: #000000;
}
.org-custom-saved {
/* custom-saved */
text-decoration: underline;
}
.org-custom-set {
/* custom-set */
color: #0000ff;
background-color: #ffffff;
}
.org-custom-state {
/* custom-state */
color: #32cd32;
}
.org-custom-themed {
/* custom-themed */
color: #ffffff;
background-color: #0000ff;
}
.org-custom-variable-button {
/* custom-variable-button */
font-weight: bold;
text-decoration: underline;
}
.org-custom-variable-tag {
/* custom-variable-tag */
color: #add8e6;
font-weight: bold;
}
.org-custom-visibility {
/* custom-visibility */
color: #00ffff;
font-size: 80%;
text-decoration: underline;
}
.org-default {
/* default */
color: #ffffff;
background-color: #000000;
}
.org-dired-directory {
/* dired-directory */
color: #87cefa;
}
.org-dired-flagged {
/* dired-flagged */
color: #ffc0cb;
font-weight: bold;
}
.org-dired-header {
/* dired-header */
color: #98fb98;
}
.org-dired-ignored {
/* dired-ignored */
color: #b3b3b3;
}
.org-dired-mark {
/* dired-mark */
color: #7fffd4;
}
.org-dired-marked {
/* dired-marked */
color: #ffc0cb;
font-weight: bold;
}
.org-dired-perm-write {
/* dired-perm-write */
color: #ff4500;
}
.org-dired-symlink {
/* dired-symlink */
color: #00ffff;
}
.org-dired-warning {
/* dired-warning */
color: #ffc0cb;
font-weight: bold;
}
.org-doc {
/* font-lock-doc-face */
color: #ffa07a;
}
.org-e-blog-blog {
/* e-blog-blog */
color: #00ffff;
text-decoration: underline;
}
.org-e-blog-label {
/* e-blog-label */
color: #00ff00;
}
.org-e-blog-post {
/* e-blog-post */
color: #a020f0;
}
.org-e-blog-title {
/* e-blog-title */
color: #ff0000;
}
.org-e-blog-url {
/* e-blog-url */
color: #ffa500;
}
.org-ediff-current-diff-a {
/* ediff-current-diff-A */
color: #0000cd;
font-weight: bold;
font-style: italic;
}
.org-ediff-current-diff-ancestor {
/* ediff-current-diff-Ancestor */
color: #000000;
background-color: #d02090;
}
.org-ediff-current-diff-b {
/* ediff-current-diff-B */
color: #cd00cd;
font-weight: bold;
font-style: italic;
}
.org-ediff-current-diff-c {
/* ediff-current-diff-C */
color: #00cdcd;
font-weight: bold;
font-style: italic;
}
.org-ediff-even-diff-a {
/* ediff-even-diff-A */
color: #000000;
background-color: #d3d3d3;
}
.org-ediff-even-diff-ancestor {
/* ediff-even-diff-Ancestor */
color: #ffffff;
background-color: #bebebe;
}
.org-ediff-even-diff-b {
/* ediff-even-diff-B */
color: #ffffff;
background-color: #bebebe;
}
.org-ediff-even-diff-c {
/* ediff-even-diff-C */
color: #000000;
background-color: #d3d3d3;
}
.org-ediff-fine-diff-a {
/* ediff-fine-diff-A */
color: #000080;
background-color: #87ceeb;
}
.org-ediff-fine-diff-ancestor {
/* ediff-fine-diff-Ancestor */
color: #000000;
background-color: #00ff00;
}
.org-ediff-fine-diff-b {
/* ediff-fine-diff-B */
color: #000000;
background-color: #00ffff;
}
.org-ediff-fine-diff-c {
/* ediff-fine-diff-C */
color: #000000;
background-color: #40e0d0;
}
.org-ediff-odd-diff-a {
/* ediff-odd-diff-A */
color: #ffffff;
background-color: #bebebe;
}
.org-ediff-odd-diff-ancestor {
/* ediff-odd-diff-Ancestor */
color: #00cdcd;
background-color: #666666;
}
.org-ediff-odd-diff-b {
/* ediff-odd-diff-B */
color: #000000;
background-color: #d3d3d3;
}
.org-ediff-odd-diff-c {
/* ediff-odd-diff-C */
color: #ffffff;
background-color: #bebebe;
}
.org-eldoc-highlight-function-argument {
/* eldoc-highlight-function-argument */
font-weight: bold;
}
.org-escape-glyph {
/* escape-glyph */
color: #00ffff;
}
.org-eshell-ls-archive {
/* eshell-ls-archive */
color: #da70d6;
font-weight: bold;
}
.org-eshell-ls-backup {
/* eshell-ls-backup */
color: #ffa07a;
}
.org-eshell-ls-clutter {
/* eshell-ls-clutter */
color: #ff4500;
font-weight: bold;
}
.org-eshell-ls-directory {
/* eshell-ls-directory */
color: #87ceeb;
font-weight: bold;
}
.org-eshell-ls-executable {
/* eshell-ls-executable */
color: #00ff00;
font-weight: bold;
}
.org-eshell-ls-missing {
/* eshell-ls-missing */
color: #ff0000;
font-weight: bold;
}
.org-eshell-ls-product {
/* eshell-ls-product */
color: #ffa07a;
}
.org-eshell-ls-readonly {
/* eshell-ls-readonly */
color: #ffc0cb;
}
.org-eshell-ls-special {
/* eshell-ls-special */
color: #ff00ff;
font-weight: bold;
}
.org-eshell-ls-symlink {
/* eshell-ls-symlink */
color: #00ffff;
font-weight: bold;
}
.org-eshell-ls-unreadable {
/* eshell-ls-unreadable */
color: #a9a9a9;
}
.org-eshell-prompt {
/* eshell-prompt */
color: #ffc0cb;
font-weight: bold;
}
.org-eshell-test-failed {
/* eshell-test-failed */
color: #ff4500;
font-weight: bold;
}
.org-eshell-test-ok {
/* eshell-test-ok */
color: #00ff00;
font-weight: bold;
}
.org-file-name-shadow {
/* file-name-shadow */
color: #b3b3b3;
}
.org-fixed-pitch {
}
.org-flash-paren-face-off {
}
.org-flash-paren-face-on {
}
.org-flash-paren-face-region {
}
.org-flymake-errline {
/* flymake-errline */
background-color: #8b1a1a;
}
.org-flymake-warnline {
/* flymake-warnline */
background-color: #00008b;
}
.org-flyspell-duplicate {
/* flyspell-duplicate */
color: #cdad00;
font-weight: bold;
text-decoration: underline;
}
.org-flyspell-incorrect {
/* flyspell-incorrect */
color: #ff4500;
font-weight: bold;
text-decoration: underline;
}
.org-fringe {
/* fringe */
background-color: #1a1a1a;
}
.org-function-name {
/* font-lock-function-name-face */
color: #87cefa;
}
.org-header-line {
/* header-line */
color: #333333;
background-color: #e5e5e5;
}
.org-help-argument-name {
/* help-argument-name */
font-style: italic;
}
.org-highlight {
/* highlight */
background-color: #556b2f;
}
.org-ibuffer-deletion {
/* ibuffer-deletion-face */
color: #ff0000;
}
.org-ibuffer-marked {
/* ibuffer-marked-face */
color: #00ff00;
}
.org-isearch {
/* isearch */
color: #8b2323;
background-color: #ee799f;
}
.org-isearch-fail {
/* isearch-fail */
background-color: #8b0000;
}
.org-italic {
/* italic */
font-style: italic;
}
.org-keyword {
/* font-lock-keyword-face */
color: #00ffff;
}
.org-lazy-highlight {
/* lazy-highlight */
background-color: #668b8b;
}
.org-link {
/* link */
color: #00ffff;
text-decoration: underline;
}
.org-link-visited {
/* link-visited */
color: #ee82ee;
text-decoration: underline;
}
.org-log-view-file {
/* log-view-file */
font-weight: bold;
}
.org-log-view-message {
/* log-view-message */
font-weight: bold;
}
.org-makefile-makepp-perl {
/* makefile-makepp-perl */
background-color: #00008b;
}
.org-makefile-shell {
}
.org-makefile-space {
/* makefile-space */
background-color: #ff69b4;
}
.org-makefile-targets {
/* makefile-targets */
color: #87cefa;
}
.org-match {
/* match */
background-color: #3a5fcd;
}
.org-menu {
}
.org-minibuffer-prompt {
/* minibuffer-prompt */
color: #00ffff;
}
.org-mode-line {
/* mode-line */
color: #ffff00;
background-color: #483d8b;
}
.org-mode-line-buffer-id {
/* mode-line-buffer-id */
font-weight: bold;
}
.org-mode-line-emphasis {
/* mode-line-emphasis */
font-weight: bold;
}
.org-mode-line-highlight {
}
.org-mode-line-inactive {
/* mode-line-inactive */
color: #cccccc;
background-color: #4d4d4d;
}
.org-mouse {
/* mouse */
background-color: #ffffff;
}
.org-negation-char {
}
.org-next-error {
/* next-error */
background-color: #0000ff;
}
.org-nobreak-space {
/* nobreak-space */
color: #00ffff;
text-decoration: underline;
}
.org-org-agenda-column-dateline {
/* org-agenda-column-dateline */
background-color: #4d4d4d;
}
.org-org-agenda-date {
}
.org-org-agenda-date-weekend {
/* org-agenda-date-weekend */
font-weight: bold;
}
.org-org-agenda-dimmed-todo {
/* org-agenda-dimmed-todo-face */
color: #7f7f7f;
}
.org-org-agenda-restriction-lock {
/* org-agenda-restriction-lock */
background-color: #4a708b;
}
.org-org-agenda-structure {
/* org-agenda-structure */
color: #87cefa;
}
.org-org-archived {
/* org-archived */
color: #b3b3b3;
}
.org-org-clock-overlay {
/* org-clock-overlay */
background-color: #4a708b;
}
.org-org-code {
/* org-code */
color: #b3b3b3;
}
.org-org-column {
/* org-column */
background-color: #4d4d4d;
}
.org-org-column-title {
/* org-column-title */
background-color: #4d4d4d;
font-weight: bold;
text-decoration: underline;
}
.org-org-date {
/* org-date */
color: #00ffff;
text-decoration: underline;
}
.org-org-done {
/* org-done */
color: #98fb98;
font-weight: bold;
}
.org-org-drawer {
/* org-drawer */
color: #87cefa;
}
.org-org-ellipsis {
/* org-ellipsis */
color: #eedd82;
text-decoration: underline;
}
.org-org-footnote {
/* org-footnote */
color: #00ffff;
text-decoration: underline;
}
.org-org-formula {
/* org-formula */
color: #ff7f24;
}
.org-org-headline-done {
/* org-headline-done */
color: #ffa07a;
}
.org-org-hide {
/* org-hide */
color: #000000;
}
.org-org-latex-and-export-specials {
/* org-latex-and-export-specials */
color: #deb887;
}
.org-org-level-1 {
/* org-level-1 */
color: #87cefa;
}
.org-org-level-2 {
/* org-level-2 */
color: #eedd82;
}
.org-org-level-3 {
/* org-level-3 */
color: #00ffff;
}
.org-org-level-4 {
/* org-level-4 */
color: #ff4500;
}
.org-org-level-5 {
/* org-level-5 */
color: #98fb98;
}
.org-org-level-6 {
/* org-level-6 */
color: #7fffd4;
}
.org-org-level-7 {
/* org-level-7 */
color: #b0c4de;
}
.org-org-level-8 {
/* org-level-8 */
color: #ffa07a;
}
.org-org-link {
/* org-link */
color: #00ffff;
text-decoration: underline;
}
.org-org-property-value {
}
.org-org-scheduled {
/* org-scheduled */
color: #98fb98;
}
.org-org-scheduled-previously {
/* org-scheduled-previously */
color: #ff7f24;
}
.org-org-scheduled-today {
/* org-scheduled-today */
color: #98fb98;
}
.org-org-sexp-date {
/* org-sexp-date */
color: #00ffff;
}
.org-org-special-keyword {
/* org-special-keyword */
color: #ffa07a;
}
.org-org-table {
/* org-table */
color: #87cefa;
}
.org-org-tag {
/* org-tag */
font-weight: bold;
}
.org-org-target {
/* org-target */
text-decoration: underline;
}
.org-org-time-grid {
/* org-time-grid */
color: #eedd82;
}
.org-org-todo {
/* org-todo */
color: #ffc0cb;
font-weight: bold;
}
.org-org-upcoming-deadline {
/* org-upcoming-deadline */
color: #ff7f24;
}
.org-org-verbatim {
/* org-verbatim */
color: #b3b3b3;
text-decoration: underline;
}
.org-org-warning {
/* org-warning */
color: #ffc0cb;
font-weight: bold;
}
.org-outline-1 {
/* outline-1 */
color: #87cefa;
}
.org-outline-2 {
/* outline-2 */
color: #eedd82;
}
.org-outline-3 {
/* outline-3 */
color: #00ffff;
}
.org-outline-4 {
/* outline-4 */
color: #ff4500;
}
.org-outline-5 {
/* outline-5 */
color: #98fb98;
}
.org-outline-6 {
/* outline-6 */
color: #7fffd4;
}
.org-outline-7 {
/* outline-7 */
color: #b0c4de;
}
.org-outline-8 {
/* outline-8 */
color: #ffa07a;
}
.org-preprocessor {
/* font-lock-preprocessor-face */
color: #b0c4de;
}
.org-query-replace {
/* query-replace */
color: #8b2323;
background-color: #ee799f;
}
.org-regexp-grouping-backslash {
/* font-lock-regexp-grouping-backslash */
font-weight: bold;
}
.org-regexp-grouping-construct {
/* font-lock-regexp-grouping-construct */
font-weight: bold;
}
.org-region {
/* region */
background-color: #0000ff;
}
.org-scroll-bar {
}
.org-secondary-selection {
/* secondary-selection */
background-color: #483d8b;
}
.org-sgml-namespace {
/* sgml-namespace */
color: #b0c4de;
}
.org-sh-escaped-newline {
/* sh-escaped-newline */
color: #ffa07a;
}
.org-sh-heredoc {
/* sh-heredoc */
color: #ffff00;
font-weight: bold;
}
.org-sh-quoted-exec {
/* sh-quoted-exec */
color: #fa8072;
}
.org-shadow {
/* shadow */
color: #b3b3b3;
}
.org-show-block-face1 {
/* show-block-face1 */
background-color: #1a1a1a;
}
.org-show-block-face2 {
/* show-block-face2 */
background-color: #262626;
}
.org-show-block-face3 {
/* show-block-face3 */
background-color: #333333;
}
.org-show-block-face4 {
/* show-block-face4 */
background-color: #404040;
}
.org-show-block-face5 {
/* show-block-face5 */
background-color: #4d4d4d;
}
.org-show-block-face6 {
/* show-block-face6 */
background-color: #595959;
}
.org-show-block-face7 {
/* show-block-face7 */
background-color: #666666;
}
.org-show-block-face8 {
/* show-block-face8 */
background-color: #737373;
}
.org-show-block-face9 {
/* show-block-face9 */
background-color: #7f7f7f;
}
.org-show-paren-match {
/* show-paren-match */
background-color: #40e0d0;
}
.org-show-paren-mismatch {
/* show-paren-mismatch */
color: #ffffff;
background-color: #a020f0;
}
.org-sldb-catch-tag {
}
.org-sldb-condition {
}
.org-sldb-detailed-frame-line {
}
.org-sldb-frame-label {
}
.org-sldb-frame-line {
}
.org-sldb-local-name {
}
.org-sldb-local-value {
}
.org-sldb-non-restartable-frame-line {
}
.org-sldb-reference {
/* sldb-reference-face */
text-decoration: underline;
}
.org-sldb-restart {
}
.org-sldb-restart-number {
/* sldb-restart-number-face */
font-weight: bold;
}
.org-sldb-restart-type {
/* sldb-restart-type-face */
color: #00ffff;
}
.org-sldb-restartable-frame-line {
/* sldb-restartable-frame-line-face */
color: #32cd32;
}
.org-sldb-section {
}
.org-sldb-topline {
}
.org-slime-error {
/* slime-error-face */
text-decoration: underline;
}
.org-slime-highlight {
/* slime-highlight-face */
background-color: #556b2f;
}
.org-slime-inspector-action {
/* slime-inspector-action-face */
color: #ffc0cb;
font-weight: bold;
}
.org-slime-inspector-label {
/* slime-inspector-label-face */
color: #7fffd4;
}
.org-slime-inspector-topline {
}
.org-slime-inspector-type {
/* slime-inspector-type-face */
color: #98fb98;
}
.org-slime-inspector-value {
/* slime-inspector-value-face */
color: #b0c4de;
}
.org-slime-note {
/* slime-note-face */
text-decoration: underline;
}
.org-slime-reader-conditional {
/* slime-reader-conditional-face */
color: #cd5c5c;
}
.org-slime-repl-input {
/* slime-repl-input-face */
font-weight: bold;
}
.org-slime-repl-inputed-output {
/* slime-repl-inputed-output-face */
color: #ff0000;
}
.org-slime-repl-output {
/* slime-repl-output-face */
color: #ffa07a;
}
.org-slime-repl-output-mouseover {
/* slime-repl-output-mouseover-face */
color: #ff0000;
}
.org-slime-repl-prompt {
/* slime-repl-prompt-face */
color: #00ffff;
}
.org-slime-repl-result {
}
.org-slime-style-warning {
/* slime-style-warning-face */
text-decoration: underline;
}
.org-slime-warning {
/* slime-warning-face */
text-decoration: underline;
}
.org-string {
/* font-lock-string-face */
color: #ffa07a;
}
.org-subscript {
}
.org-superscript {
}
.org-tex-math {
/* tex-math */
color: #ffa07a;
}
.org-tex-verbatim {
}
.org-tmm-inactive {
/* tmm-inactive */
color: #b3b3b3;
}
.org-tool-bar {
/* tool-bar */
color: #000000;
background-color: #bfbfbf;
}
.org-tooltip {
/* tooltip */
color: #000000;
background-color: #ffffe0;
}
.org-trailing-whitespace {
/* trailing-whitespace */
background-color: #ff0000;
}
.org-type {
/* font-lock-type-face */
color: #98fb98;
}
.org-underline {
/* underline */
text-decoration: underline;
}
.org-variable-name {
/* font-lock-variable-name-face */
color: #eedd82;
}
.org-variable-pitch {
}
.org-vertical-border {
}
.org-warning {
/* font-lock-warning-face */
color: #ffc0cb;
font-weight: bold;
}
.org-widget-button {
/* widget-button */
font-weight: bold;
}
.org-widget-button-pressed {
/* widget-button-pressed */
color: #ff0000;
}
.org-widget-documentation {
/* widget-documentation */
color: #32cd32;
}
.org-widget-field {
/* widget-field */
background-color: #696969;
}
.org-widget-inactive {
/* widget-inactive */
color: #d3d3d3;
}
.org-widget-single-line-field {
/* widget-single-line-field */
background-color: #696969;
}
a {
color: inherit;
background-color: inherit;
font: inherit;
text-decoration: inherit;
}
a:hover {
text-decoration: underline;
}
body {
font: normal normal 14px Droid Serif;
color: #d9d9d9;
background: #000000 url(http://themes.googleusercontent.com/image?id=18Yv0qxYK1UbLtMBOpx2o3N9Z0wqsOsgfdJWTmpRs4JewWLu3-HxArr4pRGA94hV2vwu4) no-repeat fixed top center /* Credit: sebastian-julian (http://www.istockphoto.com/googleimages.php?id=9907478&platform=blogger) */;
}
html body .content-outer {
min-width: 0;
max-width: 100%;
width: 100%;
}
a:link {
text-decoration: none;
color: #b9b9b9;
}
a:visited {
text-decoration: none;
color: #666666;
}
a:hover {
text-decoration: underline;
color: #ffffff;
}
.body-fauxcolumn-outer .cap-top {
position: absolute;
z-index: 1;
height: 276px;
width: 100%;
background: transparent none repeat-x scroll top left;
_background-image: none;
}
/* Columns
----------------------------------------------- */
.content-inner {
padding: 0;
}
.header-inner .section {
margin: 0 16px;
}
.tabs-inner .section {
margin: 0 16px;
}
.main-inner {
padding-top: 30px;
}
.main-inner .column-center-inner,
.main-inner .column-left-inner,
.main-inner .column-right-inner {
padding: 0 5px;
}
*+html body .main-inner .column-center-inner {
margin-top: -30px;
}
#layout .main-inner .column-center-inner {
margin-top: 0;
}
/* Header
----------------------------------------------- */
.header-outer {
margin: 0 0 0 0;
background: transparent none repeat scroll 0 0;
}
.Header h1 {
font: normal bold 40px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffffff;
text-shadow: 0 0 -1px #000000;
}
.Header h1 a {
color: #ffffff;
}
.Header .description {
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffffff;
}
.header-inner .Header .titlewrapper,
.header-inner .Header .descriptionwrapper {
padding-left: 0;
padding-right: 0;
margin-bottom: 0;
}
.header-inner .Header .titlewrapper {
padding-top: 22px;
}
/* Tabs
----------------------------------------------- */
.tabs-outer {
overflow: hidden;
position: relative;
background: #000000 none repeat scroll 0 0;
}
#layout .tabs-outer {
overflow: visible;
}
.tabs-cap-top, .tabs-cap-bottom {
position: absolute;
width: 100%;
border-top: 1px solid #000000;
}
.tabs-cap-bottom {
bottom: 0;
}
.tabs-inner .widget li a {
display: inline-block;
margin: 0;
padding: .6em 1.5em;
font: normal bold 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffffff;
border-top: 1px solid #000000;
border-bottom: 1px solid #000000;
border-left: 1px solid #000000;
}
.tabs-inner .widget li:last-child a {
border-right: 1px solid #000000;
}
.tabs-inner .widget li.selected a, .tabs-inner .widget li a:hover {
background: #000000 none repeat-x scroll 0 -100px;
color: #ffffff;
}
/* Headings
----------------------------------------------- */
h2 {
font: normal bold 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffffff;
}
/* Widgets
----------------------------------------------- */
.main-inner .section {
margin: 0 27px;
padding: 0;
}
.main-inner .column-left-outer,
.main-inner .column-right-outer {
margin-top: 0;
}
#layout .main-inner .column-left-outer,
#layout .main-inner .column-right-outer {
margin-top: 0;
}
.main-inner .column-left-inner,
.main-inner .column-right-inner {
background: transparent none repeat 0 0;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-goog-ms-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-moz-border-radius: 0;
-webkit-border-radius: 0;
-goog-ms-border-radius: 0;
border-radius: 0;
}
#layout .main-inner .column-left-inner,
#layout .main-inner .column-right-inner {
margin-top: 0;
}
.sidebar .widget {
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffffff;
}
.sidebar .widget a:link {
color: #999999;
}
.sidebar .widget a:visited {
color: #666666;
}
.sidebar .widget a:hover {
color: #b9b9b9;
}
.sidebar .widget h2 {
text-shadow: 0 0 -1px #000000;
}
.main-inner .widget {
background-color: #000000;
border: 1px solid #000000;
padding: 0 15px 15px;
margin: 20px -16px;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-goog-ms-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-moz-border-radius: 0;
-webkit-border-radius: 0;
-goog-ms-border-radius: 0;
border-radius: 0;
}
.main-inner .widget h2 {
margin: 0 -15px;
padding: .6em 15px .5em;
border-bottom: 1px solid #000000;
}
.footer-inner .widget h2 {
padding: 0 0 .4em;
border-bottom: 1px solid #000000;
}
.main-inner .widget h2 + div, .footer-inner .widget h2 + div {
border-top: 1px solid #000000;
padding-top: 8px;
}
.main-inner .widget .widget-content {
margin: 0 -15px;
padding: 7px 15px 0;
}
.main-inner .widget ul, .main-inner .widget #ArchiveList ul.flat {
margin: -8px -15px 0;
padding: 0;
list-style: none;
}
.main-inner .widget #ArchiveList {
margin: -8px 0 0;
}
.main-inner .widget ul li, .main-inner .widget #ArchiveList ul.flat li {
padding: .5em 15px;
text-indent: 0;
color: #666666;
border-top: 1px solid #000000;
border-bottom: 1px solid #000000;
}
.main-inner .widget #ArchiveList ul li {
padding-top: .25em;
padding-bottom: .25em;
}
.main-inner .widget ul li:first-child, .main-inner .widget #ArchiveList ul.flat li:first-child {
border-top: none;
}
.main-inner .widget ul li:last-child, .main-inner .widget #ArchiveList ul.flat li:last-child {
border-bottom: none;
}
.post-body {
position: relative;
text-align: justify;
}
.main-inner .widget .post-body ul {
padding: 0 2.5em;
margin: .5em 0;
list-style: disc;
}
.main-inner .widget .post-body ul li {
padding: 0.25em 0;
margin-bottom: .25em;
color: #d9d9d9;
border: none;
}
.footer-inner .widget ul {
padding: 0;
list-style: none;
}
.widget .zippy {
color: #666666;
}
/* Posts
----------------------------------------------- */
body .main-inner .Blog {
padding: 0;
margin-bottom: 1em;
background-color: transparent;
border: none;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, 0);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, 0);
-goog-ms-box-shadow: 0 0 0 rgba(0, 0, 0, 0);
box-shadow: 0 0 0 rgba(0, 0, 0, 0);
}
.main-inner .section:last-child .Blog:last-child {
padding: 0;
margin-bottom: 1em;
}
.main-inner .widget h2.date-header {
margin: 0 -15px 1px;
padding: 0 0 0 0;
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #f3f3f3;
background: transparent none no-repeat scroll top left;
border-top: 0 solid #999999;
border-bottom: 1px solid #000000;
-moz-border-radius-topleft: 0;
-moz-border-radius-topright: 0;
-webkit-border-top-left-radius: 0;
-webkit-border-top-right-radius: 0;
border-top-left-radius: 0;
border-top-right-radius: 0;
position: static;
bottom: 100%;
right: 15px;
text-shadow: 0 0 -1px #000000;
}
.main-inner .widget h2.date-header span {
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
display: block;
padding: .5em 15px;
border-left: 0 solid #999999;
border-right: 0 solid #999999;
}
.date-outer {
position: relative;
margin: 30px 0 20px;
padding: 0 15px;
background-color: #000000;
border: 1px solid #000000;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-goog-ms-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-moz-border-radius: 0;
-webkit-border-radius: 0;
-goog-ms-border-radius: 0;
border-radius: 0;
}
.date-outer:first-child {
margin-top: 0;
}
.date-outer:last-child {
margin-bottom: 20px;
-moz-border-radius-bottomleft: 0;
-moz-border-radius-bottomright: 0;
-webkit-border-bottom-left-radius: 0;
-webkit-border-bottom-right-radius: 0;
-goog-ms-border-bottom-left-radius: 0;
-goog-ms-border-bottom-right-radius: 0;
border-bottom-left-radius: 0;
border-bottom-right-radius: 0;
}
.date-posts {
margin: 0 -15px;
padding: 0 15px;
clear: both;
}
.post-outer, .inline-ad {
border-top: 1px solid #000000;
margin: 0 -15px;
padding: 15px 15px;
}
.post-outer {
padding-bottom: 10px;
}
.post-outer:first-child {
padding-top: 0;
border-top: none;
}
.post-outer:last-child, .inline-ad:last-child {
border-bottom: none;
}
.post-body {
position: relative;
}
.post-body img {
padding: 8px;
background: #000000;
border: 1px solid transparent;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-moz-border-radius: 0;
-webkit-border-radius: 0;
border-radius: 0;
}
h3.post-title, h4 {
font: normal bold 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffffff;
}
h3.post-title a {
font: normal bold 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffffff;
}
h3.post-title a:hover {
color: #ffffff;
text-decoration: underline;
}
.post-header {
margin: 0 0 1em;
}
.post-body {
line-height: 1.4;
}
.post-outer h2 {
color: #d9d9d9;
}
.post-footer {
margin: 1.5em 0 0;
}
#blog-pager {
padding: 15px;
font-size: 120%;
background-color: #000000;
border: 1px solid #000000;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-goog-ms-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-moz-border-radius: 0;
-webkit-border-radius: 0;
-goog-ms-border-radius: 0;
border-radius: 0;
-moz-border-radius-topleft: 0;
-moz-border-radius-topright: 0;
-webkit-border-top-left-radius: 0;
-webkit-border-top-right-radius: 0;
-goog-ms-border-top-left-radius: 0;
-goog-ms-border-top-right-radius: 0;
border-top-left-radius: 0;
border-top-right-radius-topright: 0;
margin-top: 1em;
}
.blog-feeds, .post-feeds {
margin: 1em 0;
text-align: center;
color: #ffffff;
}
.blog-feeds a, .post-feeds a {
color: #999999;
}
.blog-feeds a:visited, .post-feeds a:visited {
color: #666666;
}
.blog-feeds a:hover, .post-feeds a:hover {
color: #b9b9b9;
}
.post-outer .comments {
margin-top: 2em;
}
/* Footer
----------------------------------------------- */
.footer-outer {
margin: -0 0 -1px;
padding: 0 0 0;
color: #ffffff;
overflow: hidden;
}
.footer-fauxborder-left {
border-top: 1px solid #000000;
background: #000000 none repeat scroll 0 0;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-goog-ms-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
box-shadow: 0 0 0 rgba(0, 0, 0, .2);
margin: 0 -0;
}
/* Mobile
----------------------------------------------- */
*+html body.mobile .main-inner .column-center-inner {
margin-top: 0;
}
.mobile .main-inner .widget {
padding: 0 0 15px;
}
.mobile .main-inner .widget h2 + div,
.mobile .footer-inner .widget h2 + div {
border-top: none;
padding-top: 0;
}
.mobile .footer-inner .widget h2 {
padding: 0.5em 0;
border-bottom: none;
}
.mobile .main-inner .widget .widget-content {
margin: 0;
padding: 7px 0 0;
}
.mobile .main-inner .widget ul,
.mobile .main-inner .widget #ArchiveList ul.flat {
margin: 0 -15px 0;
}
.mobile .main-inner .widget h2.date-header {
right: 0;
}
.mobile .date-header span {
padding: 0.4em 0;
}
.mobile .date-outer:first-child {
margin-bottom: 0;
border: 1px solid #000000;
-moz-border-radius-topleft: 0;
-moz-border-radius-topright: 0;
-webkit-border-top-left-radius: 0;
-webkit-border-top-right-radius: 0;
-goog-ms-border-top-left-radius: 0;
-goog-ms-border-top-right-radius: 0;
border-top-left-radius: 0;
border-top-right-radius: 0;
}
.mobile .date-outer {
border-color: #000000;
border-width: 0 1px 1px;
}
.mobile .date-outer:last-child {
margin-bottom: 0;
}
.mobile .main-inner {
padding: 0 10px;
}
.mobile .header-inner .section {
margin: 0;
}
.mobile .post-outer, .mobile .inline-ad {
padding: 5px 0;
}
.mobile .tabs-inner .section {
margin: 0 10px;
}
.mobile .main-inner .widget h2 {
margin: 0;
padding: 0;
}
.mobile .main-inner .widget h2.date-header span {
padding: 0;
}
.mobile .main-inner .widget .widget-content {
margin: 0;
padding: 7px 0 0;
}
.mobile .main-inner .column-left-inner,
.mobile .main-inner .column-right-inner {
background: transparent none repeat 0 0;
-moz-box-shadow: none;
-webkit-box-shadow: none;
-goog-ms-box-shadow: none;
box-shadow: none;
}
.mobile .date-posts {
margin: 0;
padding: 0;
}
.mobile .footer-fauxborder-left {
margin: 0;
}
.mobile .main-inner .section:last-child .Blog:last-child {
margin-bottom: 0;
}
.mobile-index-contents {
color: #d9d9d9;
}
.mobile .mobile-link-button {
background: #000000 none repeat-x scroll 0 -100px;
}
.mobile-link-button a:link, .mobile-link-button a:visited {
color: #ffffff;
}

--></style>
<style id='template-skin-1' type='text/css'><!--
body {
min-width: 1050px;
}
.content-outer, .content-fauxcolumn-outer, .region-inner {
min-width: 1050px;
max-width: 1050px;
_width: 1050px;
}
.main-inner .columns {
padding-left: 0px;
padding-right: 300px;
}
.main-inner .fauxcolumn-center-outer {
left: 0px;
right: 300px;
/* IE6 does not respect left and right together */
_width: expression(this.parentNode.offsetWidth -
parseInt("0px") -
parseInt("300px") + 'px');
}
.main-inner .fauxcolumn-left-outer {
width: 0px;
}
.main-inner .fauxcolumn-right-outer {
width: 300px;
}
.main-inner .column-left-outer {
width: 0px;
right: 100%;
margin-left: -0px;
}
.main-inner .column-right-outer {
width: 300px;
margin-right: -300px;
}
#layout {
min-width: 0;
}
#layout .content-outer {
min-width: 0;
width: 800px;
}
#layout .region-inner {
min-width: 0;
width: auto;
}
--></style>
<script type="text/javascript">var a="indexOf",b="&m=1",e="(^|&)m=",f="?",g="?m=1";function h(){var c=window.location.href,d=c.split(f);switch(d.length){case 1:return c+g;case 2:return 0<=d[1].search(e)?null:c+b;default:return null}}var k=navigator.userAgent;if(-1!=k[a]("Mobile")&&-1!=k[a]("WebKit")&&-1==k[a]("iPad")||-1!=k[a]("Opera Mini")||-1!=k[a]("IEMobile")){var l=h();l&&window.location.replace(l)};
</script><script type="text/javascript">
if (window.jstiming) window.jstiming.load.tick('headEnd');
</script></head>
<body class='loading'>
<div class='navbar section' id='navbar'><div class='widget Navbar' id='Navbar1'><script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener('load',
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script>
<div id="navbar-iframe-container"></div>
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<script type="text/javascript">
        gapi.load("gapi.iframes:gapi.iframes.style.bubble", function() {
          if (gapi.iframes && gapi.iframes.getContext) {
            gapi.iframes.getContext().openChild({
                url: 'https://www.blogger.com/navbar.g?targetBlogID\0757788284466297989064\46blogName\75directed+procrastination\46publishMode\75PUBLISH_MODE_BLOGSPOT\46navbarType\75LIGHT\46layoutType\75LAYOUTS\46searchRoot\75http://directed-procrastination.blogspot.com/search\46blogLocale\75en\46v\0752\46homepageUrl\75http://directed-procrastination.blogspot.com/\46vt\758236408971308375158',
                where: document.getElementById("navbar-iframe-container"),
                id: "navbar-iframe"
            });
          }
        });
      </script><script type="text/javascript">
(function() {
var script = document.createElement('script');
script.type = 'text/javascript';
script.src = '//pagead2.googlesyndication.com/pagead/js/google_top_exp.js';
var head = document.getElementsByTagName('head')[0];
if (head) {
head.appendChild(script);
}})();
</script>
</div></div>
<div class='body-fauxcolumns'>
<div class='fauxcolumn-outer body-fauxcolumn-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</div>
<div class='content'>
<div class='content-fauxcolumns'>
<div class='fauxcolumn-outer content-fauxcolumn-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</div>
<div class='content-outer'>
<div class='content-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left content-fauxborder-left'>
<div class='fauxborder-right content-fauxborder-right'></div>
<div class='content-inner'>
<header>
<div class='header-outer'>
<div class='header-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left header-fauxborder-left'>
<div class='fauxborder-right header-fauxborder-right'></div>
<div class='region-inner header-inner'>
<div class='header section' id='header'><div class='widget Header' id='Header1'>
<div id='header-inner'>
<div class='titlewrapper'>
<h1 class='title'>
<a href='http://directed-procrastination.blogspot.com/'>directed procrastination</a>
</h1>
</div>
<div class='descriptionwrapper'>
<p class='description'><span>A blog about programming, mathematics, physics, and free software.</span></p>
</div>
</div>
</div></div>
</div>
</div>
<div class='header-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</header>
<div class='tabs-outer'>
<div class='tabs-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left tabs-fauxborder-left'>
<div class='fauxborder-right tabs-fauxborder-right'></div>
<div class='region-inner tabs-inner'>
<div class='tabs section' id='crosscol'></div>
<div class='tabs section' id='crosscol-overflow'></div>
</div>
</div>
<div class='tabs-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<div class='main-outer'>
<div class='main-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left main-fauxborder-left'>
<div class='fauxborder-right main-fauxborder-right'></div>
<div class='region-inner main-inner'>
<div class='columns fauxcolumns'>
<div class='fauxcolumn-outer fauxcolumn-center-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<div class='fauxcolumn-outer fauxcolumn-left-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<div class='fauxcolumn-outer fauxcolumn-right-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<!-- corrects IE6 width calculation -->
<div class='columns-inner'>
<div class='column-center-outer'>
<div class='column-center-inner'>
<div class='main section' id='main'><div class='widget Blog' id='Blog1'>
<div class='blog-posts hfeed'>
<!-- google_ad_section_start(name=default) -->

          <div class="date-outer">
        
<h2 class='date-header'><span>Monday, June 27, 2011</span></h2>

          <div class="date-posts">
        
<div class='post-outer'>
<div class='post hentry uncustomized-post-template' itemprop='blogPost' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'>
<meta content='7788284466297989064' itemprop='blogId'/>
<meta content='7355574089222597824' itemprop='postId'/>
<a name='7355574089222597824'></a>
<h3 class='post-title entry-title' itemprop='name'>
<a href='http://directed-procrastination.blogspot.com/2011/06/emacs-pinky.html'>Emacs Pinky</a>
</h3>
<div class='post-header'>
<div class='post-header-line-1'></div>
</div>
<div class='post-body entry-content' id='post-body-7355574089222597824' itemprop='description articleBody'>
Whelp, it has happened to me.&nbsp; After switching to Emacs 2-3 years ago, I have finally developed a repetitive stress injury due to my programming.&nbsp; I don't think this would have happened with Vim (my old editor), but I have been coding much more these days.&nbsp; Whatever.<br />
<br />
I am resistant to using Viper mode as I think it will mess with the key bindings in the 20 some odd major modes I use every day.&nbsp; So I am going to try something else.&nbsp; I am deleting the Ctrl and Shift modifier keys from the X key bindings on the left side of my keyboard and will force myself to use Shift and Ctrl on the right hand side for a while.&nbsp; Spreading the wear out over both hands should help things a bit.&nbsp; Of course things are complicated a bit by the fact that this Mac keyboard doesn't have a left control at all.&nbsp; No biggie with <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">xmodmap</span>.&nbsp; Just use <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">xev</span> to figure out what keys send what code and make a <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">xmodmap</span> input file like this.<br />
<blockquote>
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">clear control</span><br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">clear mod1</span><br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">clear mod4</span><br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">clear shift</span><br />
<br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">keycode 50 = Shift_L</span><br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">keycode 62 = Shift_R</span><br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">keycode 37 = Control_L</span><br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">keycode 108 = Control_R</span><br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">keycode 64 = Super_L</span><br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">keycode 134 = Alt_R</span><br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">keycode 133 = Alt_L</span><br />
<br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">add shift = Shift_R</span><br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">add control = Alt_R</span><br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">add mod1 = Alt_L</span><br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">add mod4 = Super_L</span></blockquote>
<i>Oh yeah, if you are using Ubuntu or probably any mainstream distribution, changes to xmodmap are often times intercepted on startup and different key mapping utility is used.  in short, make this file as xmodmap in your home space, apply it, then restart the X server.  You will probably get a dialog asking you if you want to include these key mappings or not.</i><br />
<br />
Just run <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">xmodmap &lt;input-file&gt;</span> to effect the changes.&nbsp; Also, I am going to try and mimic the key placement of the older space cadet keyboards, which were made for Emacs.&nbsp; The Wikipedia page states that a big difference was that the space cadet keyboards had modifier keys in a "thumbable" position.&nbsp; So I am leaving my left Alt as Alt and setting my right Alt as a Ctrl.&nbsp; This means that in a few weeks time I should be using thumbs for most Emacs work (and everything work, as xmodmap changes are X global).<br />
<br />
Now, the only thing I use my left pinky for is typing and Tab, which seems fair.&nbsp; I'll see if things get better.&nbsp; Maybe I will end up in Viper mode.<br />
<br />
<i>Update: Things did get better, but just barely.  I do believe that the numbness is caused primarily by just a few common Emacs commands, like C-c C-c, C-x C-s, or any command that uses the C-c or C-x prefixes.  In fact, my opinion is that the left hand is way over used in Emacs.  I had to re-enable the left shift key for the sake of my typing speed.  This has also revealed that Apple cut a few corners when it came to their keyboard hardware (everybody does).  The left and right alt keys, when pressed at the same time, will stop any keys on the "zxcv" row from even producing key codes, so that's a pain right now.  As of testing just a few minutes ago, the numbness comes back with just a few minutes of typing on a normal keyboard layout.</i><br />
<br />
<i>Update (after a few months): This has basically been resolved.&nbsp; A few thoughts: mapping to thumbs seemed like a good idea, but thumbs get worn out too.&nbsp; After a few months, my thumbs were pretty ache-y.&nbsp; In the end, the two things I found that really did make a difference were: 1. binding caps-lock as a control and 2. switching to a Dvorak layout, more specifically the <a href="http://www.kaufmann.no/roland/dvorak/">Programmers Dvorak</a> layout, which I think is pretty smart.&nbsp; I can't say how much each of these contributed individually, as I changed them simultaneously.&nbsp; I plan to write a post on Programmers Dvorak soon but suffice it to say, switching layouts isn't a decision to take lightly.&nbsp; The caps-lock thing, on the other hand, is dead simple and helps tremendously; I very much suggest it.&nbsp; I only wish I had another key right beside the caps-lock (or in the pinky position on the right hand) that I could bind to Meta/Alt.</i>
<div style='clear: both;'></div>
</div>
<div class='post-footer'>
<div class='post-footer-line post-footer-line-1'>
<span class='post-author vcard'>
Posted by
<span class='fn' itemprop='author' itemscope='itemscope' itemtype='http://schema.org/Person'>
<meta content='http://www.blogger.com/profile/18011396231251001677' itemprop='url'/>
<a class='g-profile' href='http://www.blogger.com/profile/18011396231251001677' rel='author' title='author profile'>
<span itemprop='name'>Zach</span>
</a>
</span>
</span>
<span class='post-timestamp'>
at
<meta content='http://directed-procrastination.blogspot.com/2011/06/emacs-pinky.html' itemprop='url'/>
<a class='timestamp-link' href='http://directed-procrastination.blogspot.com/2011/06/emacs-pinky.html' rel='bookmark' title='permanent link'><abbr class='published' itemprop='datePublished' title='2011-06-27T08:02:00-07:00'>8:02 AM</abbr></a>
</span>
<span class='reaction-buttons'>
</span>
<span class='star-ratings'>
</span>
<span class='post-comment-link'>
<a class='comment-link' href='http://directed-procrastination.blogspot.com/2011/06/emacs-pinky.html#comment-form' onclick=''>
2 comments:
    </a>
</span>
<span class='post-backlinks post-comment-link'>
</span>
<span class='post-icons'>
<span class='item-control blog-admin pid-2062802702'>
<a href='http://www.blogger.com/post-edit.g?blogID=7788284466297989064&postID=7355574089222597824&from=pencil' title='Edit Post'>
<img alt='' class='icon-action' height='18' src='http://img2.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/>
</a>
</span>
</span>
<div class='post-share-buttons goog-inline-block'>
</div>
</div>
<div class='post-footer-line post-footer-line-2'>
<span class='post-labels'>
Labels:
<a href='http://directed-procrastination.blogspot.com/search/label/Emacs' rel='tag'>Emacs</a>,
<a href='http://directed-procrastination.blogspot.com/search/label/programming' rel='tag'>programming</a>
</span>
</div>
<div class='post-footer-line post-footer-line-3'>
<span class='post-location'>
</span>
</div>
</div>
</div>
</div>

            </div></div>
          

          <div class="date-outer">
        
<h2 class='date-header'><span>Friday, June 24, 2011</span></h2>

          <div class="date-posts">
        
<div class='post-outer'>
<div class='post hentry uncustomized-post-template' itemprop='blogPost' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'>
<meta content='7788284466297989064' itemprop='blogId'/>
<meta content='2409822207417566518' itemprop='postId'/>
<a name='2409822207417566518'></a>
<h3 class='post-title entry-title' itemprop='name'>
<a href='http://directed-procrastination.blogspot.com/2011/06/introducting-index-mapped-arrays.html'>Introducting Index-Mapped-Arrays</a>
</h3>
<div class='post-header'>
<div class='post-header-line-1'></div>
</div>
<div class='post-body entry-content' id='post-body-2409822207417566518' itemprop='description articleBody'>
<p>I was writing a blog post regarding my release of a library I have been using for a while now but have recently cleaned up, but it got too wordy.  I will post it as well (perhaps already have), but I wanted to have a short post showing the capabilities of this library.  That way people might actually be interested enough to download the library or read the other post.  So without further ado, I present Index-Mapped-Arrays: </p><p>Index-Mapped-Arrays provides a generic interface, <code>imref</code>, to Common Lisp types. </p><pre class="src src-lisp">(imref '(a b c d e f) 2)
<span class="org-comment-delimiter">;; </span><span class="org-comment">C
</span>
(imref '(((a b) (c d)) ((e f) (g h))) 1 1 1)
<span class="org-comment-delimiter">;; </span><span class="org-comment">H
</span>
(imref '((1 2 3) (4 5 6) (7 8 9)) 1 1)
<span class="org-comment-delimiter">;; </span><span class="org-comment">5
</span>
(imref #2A((1 2 3) (4 5 6) (7 8 9)) 1 1)
<span class="org-comment-delimiter">;; </span><span class="org-comment">5
</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">As well as setting
</span>
(<span class="org-keyword">let</span> ((ima '((1 2 3) (4 5 6) (7 8 9))))
  (setf (imref ima 1 1) 'set)
  ima )
<span class="org-comment-delimiter">;; </span><span class="org-comment">((1 2 3) (4 SET 6) (7 8 9))
</span>
(<span class="org-keyword">let</span> ((ima #2A((1 2 3) (4 5 6) (7 8 9))))
  (setf (imref ima 1 1) 'set)
  ima )
<span class="org-comment-delimiter">;; </span><span class="org-comment">#2A((1 2 3) (4 SET 6) (7 8 9))
</span></pre><p>As the name implies, you can map indices.  Mapping indices allows you to do things like pull vectors out of matrices and grab sub-regions of arrays. </p><pre class="src src-lisp">(<span class="org-keyword">defparameter</span> <span class="org-variable-name">*arr*</span> '((1 2 3) (4 5 6) (7 8 9)))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Note, it returns a list
</span>(row-vector *arr* 1)
<span class="org-comment-delimiter">;; </span><span class="org-comment">(4 5 6)
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">We can't easily get a column vector, so we return an IMA object.
</span>(column-vector *arr* 1)
<span class="org-comment-delimiter">;; </span><span class="org-comment">#1D-IMA(2 5 8)
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">Print readably
</span>(<span class="org-keyword">let</span> ((*print-readably* t))
  (print (column-vector *arr* 1)) )
<span class="org-comment-delimiter">;; </span><span class="org-comment">#(2 5 8) ; Printed as a normal array
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">#1D-IMA(2 5 8)
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">Same sort of thing with a submatrix
</span>(submatrix *arr* 0 1 3 2)
<span class="org-comment-delimiter">;; </span><span class="org-comment">#2D-IMA((2 3) (5 6) (8 9))
</span>
(row-vector (submatrix *arr* 0 1 3 2) 1)
<span class="org-comment-delimiter">;; </span><span class="org-comment">#1D-IMA(5 6)
</span></pre><p>Note that IMA tries its best to give you a native data structure back, but if it can't, it gives to an instance of class <code>index-mapped-array</code> which emulates the proper mapping. </p><p>But that's not all.  Index maps are themselves setfable places. </p><pre class="src src-lisp">(setf (column-vector *arr* 0) '(a b c))
<span class="org-comment-delimiter">;; </span><span class="org-comment">(A B C)
</span>
*arr*
<span class="org-comment-delimiter">;; </span><span class="org-comment">((A 2 3) (B 5 6) (C 8 9))
</span>
(<span class="org-keyword">defparameter</span> <span class="org-variable-name">*subarr*</span> (submatrix *arr* 1 1 2 2))
<span class="org-comment-delimiter">;; </span><span class="org-comment">*SUBARR*
</span>
(setf (row-vector *subarr* 0) '(d e))
<span class="org-comment-delimiter">;; </span><span class="org-comment">(D E)
</span>
*subarr*
<span class="org-comment-delimiter">;; </span><span class="org-comment">#2D-IMA((D E) (8 9))
</span>
*arr*
<span class="org-comment-delimiter">;; </span><span class="org-comment">((A 2 3) (B D E) (C 8 9))
</span></pre><p>And to get all of this for any data structure that can be accessed via a list of integer indices, all you have to do is specialize the methods, <code>ima-dimensions</code>, <code>ima-dimension</code>, <code>imref</code>, and <code>(setf imref)</code> (or if your data structure is immutable <code>immod</code>).  Do this, and everything above just works, and it's portable so it should work everywhere the spec is obeyed (I test on SBCL, CMUCL, CCL, CLISP, ECL, and ABCL.  All but ABCL work). </p><p>And don't think that this is only useful for blocks of data.  It's a bit more flexible than that.  Observe: </p><pre class="src src-lisp">(<span class="org-keyword">defclass</span> <span class="org-type">point</span> () ((x-value <span class="org-builtin">:initarg</span> <span class="org-builtin">:x-value</span> <span class="org-builtin">:initform</span> 0 <span class="org-builtin">:accessor</span> x-of)
                    (y-value <span class="org-builtin">:initarg</span> <span class="org-builtin">:y-value</span> <span class="org-builtin">:initform</span> 0 <span class="org-builtin">:accessor</span> y-of)
                    (z-value <span class="org-builtin">:initarg</span> <span class="org-builtin">:z-value</span> <span class="org-builtin">:initform</span> 0 <span class="org-builtin">:accessor</span> z-of) ))

(<span class="org-keyword">defmethod</span> <span class="org-function-name">print-object</span> ((point point) str)
  (format str
          <span class="org-string">"#&lt;Point: x=~A y=~A z=~A&gt;"</span>
          (x-of point)
          (y-of point)
          (z-of point) ))

(make-instance 'point <span class="org-builtin">:x-value</span> 1 <span class="org-builtin">:y-value</span> 2 <span class="org-builtin">:z-value</span> 3)
<span class="org-comment-delimiter">;; </span><span class="org-comment">#&lt;Point: x=1 y=2 z=3&gt;
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">Define the IMA interface
</span>(<span class="org-keyword">defmethod</span> <span class="org-function-name">ima-dimensions</span> ((ima point))
  (list 3) )
(<span class="org-keyword">defmethod</span> <span class="org-function-name">ima-dimension</span> ((ima point) n)
  3 )

(<span class="org-keyword">defmethod</span> <span class="org-function-name">imref</span> ((point point) <span class="org-type">&amp;rest</span> i)
  (<span class="org-keyword">case</span> (first i)
    (0 (x-of point))
    (1 (y-of point))
    (2 (z-of point))
    (otherwise (<span class="org-warning">error</span> <span class="org-string">"Index ~S out of bounds"</span> i)) ))
(<span class="org-keyword">defmethod</span> (<span class="org-function-name">setf imref)</span> (new-value (point point) <span class="org-type">&amp;rest</span> i)
  (<span class="org-keyword">case</span> (first i)
    (0 (setf (x-of point) new-value))
    (1 (setf (y-of point) new-value))
    (2 (setf (z-of point) new-value))
    (otherwise (<span class="org-warning">error</span> <span class="org-string">"Index ~S out of bounds"</span> i)) )
  new-value )

(<span class="org-keyword">let</span> ((point (make-instance 'point <span class="org-builtin">:x-value</span> 1 <span class="org-builtin">:y-value</span> 2 <span class="org-builtin">:z-value</span> 3)))
  (iter (for i below 3)
    (collect (imref point i)) ))
<span class="org-comment-delimiter">;; </span><span class="org-comment">(1 2 3)
</span></pre><p>For extra functionality, and you do want it, you can use the <code>def-unmapper</code> macro and specialize the <code>make-ima-like</code> method which will tell IMA how to change other IMAs into this kind of IMA, and how to make an another IMA like this one so we can fill it with data, respectively. </p><pre class="src src-lisp">(<span class="org-keyword">defmethod</span> <span class="org-function-name">make-ima-like</span> ((point point) <span class="org-type">&amp;key</span> <span class="org-type">&amp;allow-other-keys</span>)
  (make-instance 'point) )

(def-unmapper point (ima)
  (<span class="org-keyword">when</span> (or (&lt; 1 (length (ima-dimensions ima)))
            (&lt; 3 (ima-dimension ima 0)) )
    (<span class="org-warning">error</span> <span class="org-string">"Can only map a vector with 3 or fewer elements to a point"</span>) )
  (<span class="org-keyword">let</span> ((point (make-instance 'point)))
    (setf (a-of point) (imref ima 0)
          (b-of point) (imref ima 1)
          (c-of point) (imref ima 2) )
    point ))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Or, more interestingly
</span>(<span class="org-keyword">let</span> ((point1 (make-instance 'point <span class="org-builtin">:x-value</span> 1 <span class="org-builtin">:y-value</span> 2 <span class="org-builtin">:z-value</span> 3))
      (point2 (make-instance 'point <span class="org-builtin">:x-value</span> 3 <span class="org-builtin">:y-value</span> 2 <span class="org-builtin">:z-value</span> 1)) )
  (list (v:dot point1 point2)
        (v:cross point1 point2)
        (v:+ point1 point2)
        (v:- point1 point2) ))
(10 #&lt;Point: x=-4 y=8 z=-4&gt; #&lt;Point: x=4 y=4 z=4&gt; #&lt;Point: x=-2 y=0 z=2&gt;)
</pre><p>This works because my vector arithmetic library uses IMA to access the elements of its arguments, and uses <code>make-ima-like</code> to make the structures that it returns to the caller.  The unmapper is used if you need to get some mapped data into a equivalent form but without any of the index mappings. </p><p>And if you thought that was all, I just added a new feature, a map simplifier. This means that in certain simple cases, multiple levels of mappings are reduced to a single map.  For instance, taking a transpose of a transpose will return the original array.  This means there is less to fear when it comes to using a mapping as part of long recursion or iteration. </p><pre class="src src-lisp">(<span class="org-keyword">let</span> ((ima '((1 2) (3 4))))
  (iter (for i below 1000)
    (setf ima (transpose ima)) )
  ima )
<span class="org-comment-delimiter">;; </span><span class="org-comment">((1 2) (3 4)) &lt;- the original list
</span>
(<span class="org-keyword">let</span> ((ima '((1 2) (3 4))))
  (iter (for i below 1001)
    (setf ima (transpose ima)) )
  ima )
<span class="org-comment-delimiter">;; </span><span class="org-comment">#2D-IMA((1 3) (2 4)) &lt;- Only one mapping here
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">Let's really test the simplifier
</span>(<span class="org-keyword">defun</span> <span class="org-function-name">count-items</span> (item-to-count ima)
  (<span class="org-keyword">cond</span> ((= 0 (ima-dimension ima 0))
         0 )
        ((eql item-to-count (imref ima 0))
         (+ 1 (count-items item-to-count (subvector ima 1))) )
        (t (count-items item-to-count (subvector ima 1)) )))

<span class="org-comment-delimiter">;; </span><span class="org-comment">We have to make a kind of complicated vector structure because if the vector
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">is of type list or array, there are quick, native ways of getting at the
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">subvector we need, so the simplifier isn't used at all.
</span>(<span class="org-keyword">let</span> ((ima (column-vector
            (iter (for i below 10000)
              (collect (list 1 (alexandria:random-elt '(not-it it)))) )
            1 )))
  (time (count-items 'it ima)) )
<span class="org-comment-delimiter">;; </span><span class="org-comment">Evaluation took:
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">0.192 seconds of real time
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">0.190000 seconds of total run time (0.190000 user, 0.000000 system)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">98.96% CPU
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">458,864,121 processor cycles
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">4,484,640 bytes consed
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">4900
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">Compare to without the simplifier
</span>(<span class="org-keyword">let</span> ((ima (column-vector
            (iter (for i below 10000)
              (collect (list 1 (alexandria:random-elt '(not-it it)))))
            1 ))
      <span class="org-comment-delimiter">;; </span><span class="org-comment">*simplify* controls whether IMA attempts to simplify or not.  Don't try
</span>      <span class="org-comment-delimiter">;; </span><span class="org-comment">*this at home.
</span>      (ima::*simplify* nil) )
  (time (count-items 'it ima)) )
<span class="org-comment-delimiter">;; </span><span class="org-comment">Evaluation took:
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">20.112 seconds of real time
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">20.030000 seconds of total run time (19.720000 user, 0.310000 system)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">[ Run times consist of 1.030 seconds GC time, and 19.0000 seconds non-GC time. ]
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">99.59% CPU
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">48,151,308,831 processor cycles
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">8 page faults
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">1,602,561,216 bytes consed
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">5026
</span></pre><p>Also, if you want to exploit your data structures capabilities, you can by specializing the mapping methods. But you only need bother if you want to try and eke out some extra performance for your particular case. </p><p>It's even integrated with Iterate (although more can be done here). </p><pre class="src src-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">One way to "flatten" an IMA
</span>(iter (for el in-ima '((1 2) (3 4)))
  (collect el) )
<span class="org-comment-delimiter">;; </span><span class="org-comment">(1 2 3 4)
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">These are pretty self explanatory
</span>(iter
  (for col in-column-vectors-of '((1 2 3) (4 5 6) (7 8 9)))
  (for row in-row-vectors-of '((1 2 3) (4 5 6) (7 8 9)))
  (collect (v:dot col row)) )
<span class="org-comment-delimiter">;; </span><span class="org-comment">(30 81 150)
</span></pre><p>Basically, I wanted to share this with the community.  I've been using it for a couple years and I really like it.  Maybe others out there will as well.  The code is on my <a href="https://github.com/smithzvk/index-mapped-arrays">github page</a> and is released under the Lesser Lisp GPL. </p>
<div style='clear: both;'></div>
</div>
<div class='post-footer'>
<div class='post-footer-line post-footer-line-1'>
<span class='post-author vcard'>
Posted by
<span class='fn' itemprop='author' itemscope='itemscope' itemtype='http://schema.org/Person'>
<meta content='http://www.blogger.com/profile/18011396231251001677' itemprop='url'/>
<a class='g-profile' href='http://www.blogger.com/profile/18011396231251001677' rel='author' title='author profile'>
<span itemprop='name'>Zach</span>
</a>
</span>
</span>
<span class='post-timestamp'>
at
<meta content='http://directed-procrastination.blogspot.com/2011/06/introducting-index-mapped-arrays.html' itemprop='url'/>
<a class='timestamp-link' href='http://directed-procrastination.blogspot.com/2011/06/introducting-index-mapped-arrays.html' rel='bookmark' title='permanent link'><abbr class='published' itemprop='datePublished' title='2011-06-24T20:15:00-07:00'>8:15 PM</abbr></a>
</span>
<span class='reaction-buttons'>
</span>
<span class='star-ratings'>
</span>
<span class='post-comment-link'>
<a class='comment-link' href='http://directed-procrastination.blogspot.com/2011/06/introducting-index-mapped-arrays.html#comment-form' onclick=''>
No comments:
    </a>
</span>
<span class='post-backlinks post-comment-link'>
</span>
<span class='post-icons'>
<span class='item-control blog-admin pid-2062802702'>
<a href='http://www.blogger.com/post-edit.g?blogID=7788284466297989064&postID=2409822207417566518&from=pencil' title='Edit Post'>
<img alt='' class='icon-action' height='18' src='http://img2.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/>
</a>
</span>
</span>
<div class='post-share-buttons goog-inline-block'>
</div>
</div>
<div class='post-footer-line post-footer-line-2'>
<span class='post-labels'>
Labels:
<a href='http://directed-procrastination.blogspot.com/search/label/Common%20Lisp' rel='tag'>Common Lisp</a>,
<a href='http://directed-procrastination.blogspot.com/search/label/programming' rel='tag'>programming</a>
</span>
</div>
<div class='post-footer-line post-footer-line-3'>
<span class='post-location'>
</span>
</div>
</div>
</div>
</div>

            </div></div>
          

          <div class="date-outer">
        
<h2 class='date-header'><span>Wednesday, June 15, 2011</span></h2>

          <div class="date-posts">
        
<div class='post-outer'>
<div class='post hentry uncustomized-post-template' itemprop='blogPost' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'>
<meta content='http://1.bp.blogspot.com/-RbctVryGm6U/TfjR2hli_sI/AAAAAAAAABY/-L6zxLLEk-0/s640/va-linear.png' itemprop='image_url'/>
<meta content='7788284466297989064' itemprop='blogId'/>
<meta content='5707527714320342081' itemprop='postId'/>
<a name='5707527714320342081'></a>
<h3 class='post-title entry-title' itemprop='name'>
<a href='http://directed-procrastination.blogspot.com/2011/06/versioned-arrays.html'>Versioned Arrays</a>
</h3>
<div class='post-header'>
<div class='post-header-line-1'></div>
</div>
<div class='post-body entry-content' id='post-body-5707527714320342081' itemprop='description articleBody'>
<p>I just learned of a method of creating functional data structures from mutable types called versioning.  Basically, if you have mutable data like an array, you can implement functional changes of the data structure by storing the differences between multiple references.  This is a might bit better than copying the data structure, particularly in the case of a large array.  For an array of size $N$, versioned arrays can hold two arrays with $m$ changes between them using only $O(N+m)$ space.  Further, while the access time for an element when the array is $m$ away from it's version is $O(m)$, many use cases require only accessing arrays a fixed number of changes away, making access time $O(1)$. </p><br />
<div id="outline-container-1" class="outline-3"><h3 id="sec-1">A Simple Implementation using Lists </h3><div class="outline-text-3" id="text-1"><p>This can be implemented simply enough using cons cells and lists.  Implementing in Common Lisp, accessing an element is as follows: </p><ol><li>A versioned array is list whose last element is an array<br />
</li>
<li>The values before the last element are a list of changes that need to occur<br />
    to mutate the array into the one we are interested in.<br />
</li>
<li>Access to the array involves applying all changes to the array and inverting<br />
    the changes as we a moving the array to the other side of them (I'll try to<br />
    clarify later)<br />
</li>
<li>Leaving you with a list of length one, containing an array with the desired<br />
    values in it, at which point you can access the data.<br />
</li>
</ol><p>By moving the array to the version we are currently accessing from, we are betting that more accesses will happen from this, or a similar, version.  This will mean the rest of the accesses will be faster than the first. </p><pre class="src src-lisp">(<span class="org-keyword">defpackage</span> <span class="org-type">:versioned-arrays</span>
    (<span class="org-builtin">:use</span> <span class="org-builtin">:cl</span> <span class="org-builtin">:bt</span> <span class="org-builtin">:iter</span> <span class="org-builtin">:modf</span>)
  (<span class="org-builtin">:export</span> #<span class="org-builtin">:make-versioned-array</span>
           #<span class="org-builtin">:varef</span> ))

(<span class="org-keyword">in-package</span> <span class="org-builtin">:versioned-arrays</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">make-versioned-array</span> (dimensions
                             <span class="org-type">&amp;rest</span> args
                             <span class="org-type">&amp;key</span> (element-type t)
                             initial-element initial-contents
                             adjustable fill-pointer
                             displaced-to displaced-index-offset )
  <span class="org-doc">"Make a versioned array."</span>
  (<span class="org-keyword">when</span> (or adjustable fill-pointer displaced-to displaced-index-offset)
    (<span class="org-warning">error</span> <span class="org-string">"The capabilities: adjustable, fill-pointer, displaced-to,
    displaced-index-offset are not implemented yet"</span>) )
  (list (apply #'make-array dimensions args)) )

(<span class="org-keyword">defun</span> <span class="org-function-name">varef</span> (v-arr <span class="org-type">&amp;rest</span> idx)
  (<span class="org-keyword">multiple-value-bind</span> (array changes) (get-array v-arr)
    (invert-changes (cdr v-arr) changes v-arr)
    (setf (car v-arr) array
          (cdr v-arr) nil )
    (apply #'aref (car v-arr) idx) ))

(<span class="org-keyword">defun</span> <span class="org-function-name">get-array</span> (v-arr)
  (<span class="org-keyword">if</span> (arrayp (car v-arr))
      (values (car v-arr) nil)
      (<span class="org-keyword">multiple-value-bind</span> (array changes)
          (get-array (cdr v-arr))
        (<span class="org-keyword">destructuring-bind</span> (new-val <span class="org-type">&amp;rest</span> idx) (car v-arr)
          (<span class="org-keyword">let</span> ((old-val (apply #'aref array idx)))
            (setf (apply #'aref array idx) new-val)
            (values array
                    (cons (cons old-val idx) changes) ))))))

(<span class="org-keyword">defun</span> <span class="org-function-name">invert-changes</span> (old-v-arr changes last)
  (<span class="org-keyword">cond</span> ((null changes) nil)
        (t (setf (cdr old-v-arr) last
                 (car old-v-arr) (car changes) )
         (invert-changes (cdr old-v-arr) (cdr changes) old-v-arr) )))
</pre><p>First, let's consider a simple linear version history.  This would happen if you had an array and only modified the original or the latest versions of the array. Using the standard cons cell diagrams where red is the <code>car</code> and blue is the <code>cdr</code>, our linear versioned array would look something like this: </p><div class="figure"><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/-RbctVryGm6U/TfjR2hli_sI/AAAAAAAAABY/-L6zxLLEk-0/s1600/va-linear.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="452" src="http://1.bp.blogspot.com/-RbctVryGm6U/TfjR2hli_sI/AAAAAAAAABY/-L6zxLLEk-0/s640/va-linear.png" width="640" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;">Accessing an element in a linear versioned array.  This is the way the  structure would change if the last access was via Ref 2 and the next was  via Ref 1.  Any cons cell is a valid version of this array before and  after the "rebase"</td></tr>
</tbody></table></div><p>Modification goes very similarly: </p><ol><li>Given that we want to modify the value at indices <code>idx</code> to <code>new-val</code><br />
</li>
<li>We first store the current value at <code>idx</code>.  This has the side effect of<br />
    moving our array to the current version.<br />
</li>
<li>We cons a new cell to store the array in, place the delta where the array<br />
    currently is, and modify the <code>cdr</code> of that cell to point to the new one.<br />
</li>
</ol><p>This can be simply coded using my Modf library: </p><pre class="src src-lisp">(<span class="org-keyword">define-modf-function</span> varef 1 (new-val v-arr <span class="org-type">&amp;rest</span> idx)
  (<span class="org-keyword">let</span> ((old-value
         <span class="org-comment-delimiter">;; </span><span class="org-comment">This moves the array to our version
</span>         (apply #'varef v-arr idx) ))
    (<span class="org-keyword">let</span> ((arr (car v-arr)))
      (setf (apply #'aref (car v-arr) idx) new-val)
      (setf (cdr v-arr) (list arr)
            (car v-arr) (cons old-value idx) )))
  (cdr v-arr) )
</pre><p>When looking at what is above, it is important to note that this is a mutation filled computation.  This does not involve building lists the normal way with <code>cons</code>.  Instead we are modifying lists in place.  This is necessary as we need any changes we make to be seen by any reference to the versioned array.  This is what I meant by inverting the changes.  Inverting means reversing the order of the deltas as well as swapping the values in the deltas with the values in the array.  The issue here is that we may have any given number of references to this data structure floating about.  We need to modify the values that might be referenced so that if we use those reference later, they will still work. </p><p>So things might be coming into focus, although a versioned array is a list of deltas with it's last element an array, many other versioned arrays (or versions of the array) might be sharing some structure with this array.  If they truly are versions of the same array, they at the very least share the last element in the list, which contains the array they are versioning.  In the following figures we see the structure of a more complicated array as elements are accessed and modified (edited). </p><div class="figure"><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-8zEb_5FSzgQ/TfjR1MgF04I/AAAAAAAAABM/OouqbVDvWa0/s1600/va-access.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="224" src="http://2.bp.blogspot.com/-8zEb_5FSzgQ/TfjR1MgF04I/AAAAAAAAABM/OouqbVDvWa0/s640/va-access.png" width="640" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;">Accessing an element in a versioned array.  This array has several  versions.  As demonstrated here, the version history is in general a  tree.  Upon access, the array is moved to the access point and all  deltas are adjusted to maintain the array.</td></tr>
</tbody></table></div><div class="figure"><br />
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-tby6shUh-II/TfjR1lvuFcI/AAAAAAAAABQ/qebUdROPrHc/s1600/va-access-other-branch.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="228" src="http://2.bp.blogspot.com/-tby6shUh-II/TfjR1lvuFcI/AAAAAAAAABQ/qebUdROPrHc/s640/va-access-other-branch.png" width="640" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;">Accessing an element on a different branch of the version tree.  Notice  that no version is invalidated by this operation, not even the versions  on the branch that isn't considered at all.</td></tr>
</tbody></table></div></div></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-3QJJ1XffrXs/TfjR2LZvCCI/AAAAAAAAABU/BMo-7uYkEA8/s1600/va-edit-element.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="228" src="http://3.bp.blogspot.com/-3QJJ1XffrXs/TfjR2LZvCCI/AAAAAAAAABU/BMo-7uYkEA8/s640/va-edit-element.png" width="640" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;">Editing an element in the array is much like an access except that at the end it creates another delta with the specified edit.</td></tr>
</tbody></table><br />
<div id="outline-container-2" class="outline-3"><h3 id="sec-2">Multithreading </h3><div class="outline-text-3" id="text-2"><p>The very fact that we are messing around with mutation should clue you in that we are probably going to have thread safety issues.  In fact, even reading is a mutating operation for this structure, so it isn't even safe to read from multiple threads at the same time.  Due to this, everything inside the internals of this data structure needs to be wrapped in a lock unique to the structure.  I chose to switch from a list to a structure so I could hold the lock in a straight-forward manner (and so I can have a type to specialize <code>print-object</code> on). </p><p>There is a single lock on the array.  This means that, unlike tree based implementations of functional arrays, working with one version will halt any work with another version. </p></div></div><br />
<div id="outline-container-3" class="outline-3"><h3 id="sec-3">Performance </h3><div class="outline-text-3" id="text-3"><p>Let's see how this performs on the well known N-Queens problem.  This involves backtracking, which is one of those use cases where we are only interested in array versions a constant number of deltas away from the current.  If we ignore how simple the queens problem is and explicitly build a chess board to check the other attacking squares, we would get something like what follows.  Here I have a version based on versioned arrays, and one sketched out for standard arrays. I also implemented this for a functional array based on FSet, which uses some kind of trees. </p><pre class="src src-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">place-queen</span> (board i j)
  <span class="org-doc">"This complicated bit is to test if a queen can attack another."</span>
  (<span class="org-keyword">if</span> (and (iter (for k from 0 below (va-dimension board 0))
                 (never (and (/= i k) (varef board k j))) )
           (iter (for k from 0 below (va-dimension board 1))
                 (never (and (/= j k) (varef board i k))) )
           (iter (for k1 from i downto 0)
                 (for k2 from j downto 0)
                 (never (and (/= k1 i) (/= k2 j) (varef board k1 k2))) )
           (iter (for k1 from i below (va-dimension board 0))
                 (for k2 from j below (va-dimension board 1))
                 (never (and (/= k1 i) (/= k2 j) (varef board k1 k2))) )
           (iter (for k1 from i downto 0)
                 (for k2 from j below (va-dimension board 1))
                 (never (and (/= k1 i) (/= k2 j) (varef board k1 k2))) )
           (iter (for k1 from i below (va-dimension board 0))
                 (for k2 from j downto 0)
                 (never (and (/= k1 i) (/= k2 j) (varef board k1 k2))) ))
      (modf (varef board i j) t)
      nil ))

(<span class="org-keyword">defun</span> <span class="org-function-name">n-queens</span> (board n row)
  <span class="org-doc">"Simple enough backtracking algorithm."</span>
  (<span class="org-keyword">if</span> (= row n)
      board
      (iter (for i below n)
            (<span class="org-keyword">let</span> ((result (place-queen board i row)))
              (<span class="org-keyword">when</span> result
                (thereis (n-queens result n (+ row 1))) )))))

(<span class="org-keyword">defun</span> <span class="org-function-name">place-queen*</span> (board i j)
  <span class="org-doc">"This complicated bit is to test if a queen can attack another."</span>
  (<span class="org-keyword">if</span> (and ...similar-tests...)
      t
      nil ))

(<span class="org-keyword">defun</span> <span class="org-function-name">n-queens*</span> (board n row)
  <span class="org-doc">"A bit more convoluted backtracking algorithm."</span>
  (<span class="org-keyword">if</span> (= row n)
      board
      (<span class="org-keyword">let</span> (winning-board)
        (iter (for i below n)
              (<span class="org-keyword">let</span> ((result (place-queen* board i row)))
                (<span class="org-keyword">when</span> result
                  (setf (aref board i row) t)
                  (<span class="org-keyword">let</span> ((try (n-queens* board n (+ row 1))))
                    (<span class="org-keyword">when</span> try
                      (setf winning-board try)
                      (finish) )
                  (setf (aref board i row) nil) ))
              (finally (<span class="org-keyword">return</span> winning-board)) )))))
</pre><p>Comparing the two, we naturally see that the functional form is more elegant and understandable.  The speed is another matter though&hellip; </p><table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides"><caption></caption>
<colgroup><col class="right" /><col class="right" /><col class="right" /><col class="right" /><col class="right" /><col class="right" />
</colgroup>
<thead>
<tr><th scope="col" class="right">$N$</th><th scope="col" class="right">Array</th><th scope="col" class="right">Versioned Array</th><th scope="col" class="right">FSet Array</th><th scope="col" class="right">VA/Array</th><th scope="col" class="right">FSet/Array</th></tr>
</thead>
<tbody>
<tr><td class="right">11</td><td class="right">1</td><td class="right">4</td><td class="right">4</td><td class="right">4</td><td class="right">4</td></tr>
<tr><td class="right">12</td><td class="right">2</td><td class="right">24</td><td class="right">41</td><td class="right">12</td><td class="right">20.5</td></tr>
<tr><td class="right">13</td><td class="right">1</td><td class="right">12</td><td class="right">12</td><td class="right">12</td><td class="right">12</td></tr>
<tr><td class="right">14</td><td class="right">17</td><td class="right">255</td><td class="right">277</td><td class="right">15</td><td class="right">16.294118</td></tr>
<tr><td class="right">15</td><td class="right">14</td><td class="right">207</td><td class="right">231</td><td class="right">14.785714</td><td class="right">16.5</td></tr>
<tr><td class="right">16</td><td class="right">116</td><td class="right">1726</td><td class="right">1937</td><td class="right">14.879310</td><td class="right">16.698276</td></tr>
<tr><td class="right">17</td><td class="right">68</td><td class="right">1006</td><td class="right">1167</td><td class="right">14.794118</td><td class="right">17.161765</td></tr>
<tr><td class="right">18</td><td class="right">595</td><td class="right">8775</td><td class="right">10073</td><td class="right">14.747899</td><td class="right">16.929412</td></tr>
<tr><td class="right">19</td><td class="right">40</td><td class="right">584</td><td class="right">694</td><td class="right">14.6</td><td class="right">17.35</td></tr>
</tbody>
</table><p>The functional version is easier to understand, of course, though using something like screamer would hide most if not all of the side effect annoyances.  Speed wise, though, the functional approaches seem to be around a factor of 15 slower.  The FSet method is consistently slower, but not by enough to say definitively that versioned arrays are going to be faster for this problem.  We do see a slow growth in the FSet implementation.  We are probably seeing the $O(\log N)$ access time.  There might be a completely different story to tell with proper optimization of the versioned arrays.  Particularly if someone tried to get it closer to the metal, so to speak. </p></div></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-oPLPFgmH40k/TfjcGg-k0yI/AAAAAAAAABs/5PELUAexrEU/s1600/n-queens-performance.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="300" src="http://2.bp.blogspot.com/-oPLPFgmH40k/TfjcGg-k0yI/AAAAAAAAABs/5PELUAexrEU/s400/n-queens-performance.png" width="400" /></a></div><br />
<div id="outline-container-4" class="outline-3"><h3 id="sec-4">Conclusions </h3><div class="outline-text-3" id="text-4"><p>A little side note: since starting the post, I have found out that Haskell uses something similar to this in its Diff Array library with the notable exception that the version history is forced to be linear.  This is done by forcing a copy if a version other than the most recent is changed.  This seems like it could lead to mysterious poor performance for small changes in your algorithm and certainly doesn't seem appropriate for backtracking.  Fortunately, the person who let me know about data structure in the first place is currently implementing a library for this for Haskell. </p><p>One thing to note is when this doesn't work well.  It doesn't work well when you have references to versions of an array with very different deltas.  For instance, if you saved some initial state of an array, made many changes, and used both arrays by, say, comparing them element by element, things could get pretty slow.  To curb this, several people have developed schemes to split the versioning tree if too many deltas are in between two particular arrays. Typically this is done probabilistically, randomly splitting the delta tree with probability $\frac 1 N$.  With this modification, we have an expected amortized edit time of $O(1)$ (worst case $O(N)$ which is a steep price) and an expected worst case access time to be $O(N)$.  The true worst case access time is $O(m)$ for arbitrarily bad luck on the RNG, but the expected $O(N)$ is a much needed improvement over knowing it is $O(m)$ where $m$ can be arbitrarily large.  Since all of the work is done in walking the deltas and rebasing the array, edits and accesses have the same time complexity. </p><p>This all sounds like gloom and doom, but really, there are a large class of problems that don't require access from very different arrays.  Further, much of this trouble can be resolved by breaking the abstraction and allowing the user to explicitly force a copy. </p><p>I was thinking about it, and there is nothing here limiting you to arrays.  I could, in principle, implement this kind of versioning for any mutable structure.  Instead of storing indices, the arguments of the setter function, store the function and the arguments and the setter can be inverted the same way it is in Modf.  It doesn't sound like too bad of an idea to have a generic functionality to stick any object into and get back an immutable object with reasonable asymptotic performance.  Maybe this should be a future extension for Modf. </p></div></div>
<div style='clear: both;'></div>
</div>
<div class='post-footer'>
<div class='post-footer-line post-footer-line-1'>
<span class='post-author vcard'>
Posted by
<span class='fn' itemprop='author' itemscope='itemscope' itemtype='http://schema.org/Person'>
<meta content='http://www.blogger.com/profile/18011396231251001677' itemprop='url'/>
<a class='g-profile' href='http://www.blogger.com/profile/18011396231251001677' rel='author' title='author profile'>
<span itemprop='name'>Zach</span>
</a>
</span>
</span>
<span class='post-timestamp'>
at
<meta content='http://directed-procrastination.blogspot.com/2011/06/versioned-arrays.html' itemprop='url'/>
<a class='timestamp-link' href='http://directed-procrastination.blogspot.com/2011/06/versioned-arrays.html' rel='bookmark' title='permanent link'><abbr class='published' itemprop='datePublished' title='2011-06-15T09:56:00-07:00'>9:56 AM</abbr></a>
</span>
<span class='reaction-buttons'>
</span>
<span class='star-ratings'>
</span>
<span class='post-comment-link'>
<a class='comment-link' href='http://directed-procrastination.blogspot.com/2011/06/versioned-arrays.html#comment-form' onclick=''>
No comments:
    </a>
</span>
<span class='post-backlinks post-comment-link'>
</span>
<span class='post-icons'>
<span class='item-control blog-admin pid-2062802702'>
<a href='http://www.blogger.com/post-edit.g?blogID=7788284466297989064&postID=5707527714320342081&from=pencil' title='Edit Post'>
<img alt='' class='icon-action' height='18' src='http://img2.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/>
</a>
</span>
</span>
<div class='post-share-buttons goog-inline-block'>
</div>
</div>
<div class='post-footer-line post-footer-line-2'>
<span class='post-labels'>
Labels:
<a href='http://directed-procrastination.blogspot.com/search/label/Common%20Lisp' rel='tag'>Common Lisp</a>,
<a href='http://directed-procrastination.blogspot.com/search/label/programming' rel='tag'>programming</a>
</span>
</div>
<div class='post-footer-line post-footer-line-3'>
<span class='post-location'>
</span>
</div>
</div>
</div>
</div>

            </div></div>
          

          <div class="date-outer">
        
<h2 class='date-header'><span>Friday, June 10, 2011</span></h2>

          <div class="date-posts">
        
<div class='post-outer'>
<div class='post hentry uncustomized-post-template' itemprop='blogPost' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'>
<meta content='7788284466297989064' itemprop='blogId'/>
<meta content='3055187356482138158' itemprop='postId'/>
<a name='3055187356482138158'></a>
<h3 class='post-title entry-title' itemprop='name'>
<a href='http://directed-procrastination.blogspot.com/2011/06/syncing-emacs-with-google-documents.html'>Syncing Emacs with Google Documents</a>
</h3>
<div class='post-header'>
<div class='post-header-line-1'></div>
</div>
<div class='post-body entry-content' id='post-body-3055187356482138158' itemprop='description articleBody'>
<p>Before anything, sorry for the long post.  If I had more time, I would have made it shorter.  I made a promise to myself that I would spend the time to write up things I do, mainly so I get practice doing so, and to have a record of things I've done. </p><p>Recently I had an interview with Google.  At Google they try to weed out applicants with a quick technical phone interview before they fly you out for an actual interview.  As part of this interview, a shared <a href="https://docs.google.com/">Google Document</a> is set up as a kind of virtual white-board so you can show your programming ability. Never mind that I would rather be sharing a Screen session, VNC connection, or even a live screen cast of my desktop, this is the way they decided to do it. The problem is, Google Documents are not meant to be code editor, they are meant to be a tool for writing documents.  As such, I would be left without the aid of auto-completion, argument lists, and (most importantly) the Emacs key bindings, that, by now, are etched into my spinal column.  So, a few minutes after receiving an email stating a Google Document would be used, I started coding up a program that would allow me to program in Emacs, but have my work displayed in Google Documents.  See the video for an idea of what I'm talking about. </p><object width="425" height="344"><param name="movie" value="http://www.youtube.com/v/0At3T76fSUA?hl=en&fs=1"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/0At3T76fSUA?hl=en&fs=1" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="425" height="344"></embed></object><br />
<p>I quickly found the hooks: <a href="http://www.gnu.org/s/emacs/manual/html_node/elisp/Change-Hooks.html#Change-Hooks"><code>before-change-functions</code> and <code>after-change-functions</code></a>.  Actually, they are not hooks, I believe, as Emacs has a strictly specified meaning and argument passing protocol for hooks, they are just a list of functions that are called before and after each change, respectively.  These would allow me to find what changes are being made locally so I can send them to Google Docs. </p><p>Now came one hurdle: how do I interface with Google Docs?  There is a <a href="http://1st-soft.net/gdd/">Greasemonkey and Python script</a> that allows you to download Google Documents from the command line.  Unfortunately, I could not find a script made for uploading documents, which is really the main part of this.  Further, while the script worked for downloading, it was far too slow for interactive editing.  The time from hitting return to retrieved document was on order 5-10 seconds.  I needed something that could be run extremely fast, like on the order of the time it takes to type a key. </p><p>I eventually decided that I should try to mirror the edits between the two document by sending keystrokes to the browser window.  Next hurdle: in X, as far as I know, keystrokes are only sent to the focused window.  And since I would be using Emacs, I couldn't rightly send keystrokes to Firefox at the same time.  Or can I?  I quickly decided to run a separate X server which would run an instance of Firefox which could be focused at the same time as Emacs on my normal X server.  Now there are several ways to do this (e.g. actually run a new server on a different virtual terminal, or playing around with <a href="http://www.gnu.org/s/emacs/manual/html_node/elisp/Change-Hooks.html#Change-Hooks"><code>Xnest</code></a> which runs an X server inside a window in your host X server) but in the end I decided to use the awesome programs <a href="http://code.google.com/p/partiwm/wiki/xpra"><code>xpra</code></a> and <a href="http://en.wikipedia.org/wiki/Xvfb"><code>Xvfb</code></a>.  Xpra is a program designed to be an alternative to X forwarding. </p><br />
<div id="outline-container-1" class="outline-3"><h3 id="sec-1">Xpra and Xvfb </h3><div class="outline-text-3" id="text-1"><p>As an aside, X forwarding allows you to run graphical applications on remote machines while having the graphics display locally.  This is different from VNC and RDP in that you don't have access to the entire X session, just windows associated with applications you are running.  X forwarding has become less used in the Unix world, mostly due to a lack of knowledge of its existence, I believe. This is not to say that there aren't good reasons for it not be used.  It actually has a pretty severe problem on high latency network (a.k.a high ping time) connections. </p><p>Xpra was also designed to get around X forwarding poor performance as well as to add abilities like detaching GUI programs and re-attaching from a different point on the network, just like with <a href="http://www.gnu.org/software/screen/"><code>screen</code></a>.  It truly is very neat.  All of it's neatness aside, I just wanted to use it to handle Xvfb, which is a virtual X server, like Xnest, but one that doesn't have to be displayed at all.  You can start programs under an Xvfb server and they will happily do their business thinking they are displaying windows, but no window is drawn to any screen. Xvfb sounds just like what I needed.  First I started the Xvfb server on display ":1" by using the Xpra: </p><pre class="src src-sh">xpra :1
</pre><p>I started Firefox under the Xvfb server via: </p><pre class="src src-sh"><span class="org-variable-name">DISPLAY</span>=:1 firefox -no-remote -P some-other-profile
</pre><p>This is more complicated than normal because I leave Firefox running.  The options <code>-no-remote</code> tells Firefox to not check for other, currently running instances of Firefox before starting it.  If Firefox sees a running instance of itself, it will choose to just open a new window rather than start a new instance.  The option <code>-P</code> tells Firefox to use a different profile (which you must create prior to this) for the session.  This is necessary as a different running instance of Firefox will have a lock held on your normal profile.  If you are willing to just close Firefox, you can omit both of those options. </p><p>At this point, nothing should be displayed.  If you want to attach the Firefox window to the current X server via Xpra, just use <code>xpra attach</code> and it should appear.  You can navigate this to your Google Document. </p></div></div><br />
<div id="outline-container-2" class="outline-3"><h3 id="sec-2">Sending input to the window </h3><div class="outline-text-3" id="text-2"><p>Up until now, we have not even discussed how you are going to send input to the window.  Luckily, this can be accomplished by <b>many</b> tools.  In fact, I ran into three without even looking really (<a href="http://www.gnu.org/software/xnee/">Xnee</a> which includes <code>gnee</code> and <code>cnee</code>, <code>xte</code>, and <a href="http://www.semicomplete.com/projects/xdotool/"><code>xdotool</code></a>).  I have even heard people describing directly inserting characters into the input devices in <code>/dev</code>.  I ended up using <code>xdotool</code> because (1) it seemed more powerful than <code>xte</code> and (2) <code>cnee</code> crashed my (main ":0") X server.  With <code>xdotool</code> you can send keys (with modifiers), strings, mouse motion and clicks, and manipulate windows, like bringing them into focus. </p><pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">Send an 'a', a 'B', and a 'C'
</span><span class="org-variable-name">DISPLAY</span>=:1 xdotool key a B shift+c

<span class="org-comment-delimiter"># </span><span class="org-comment">This types "hello how are you"
</span><span class="org-variable-name">DISPLAY</span>=:1 xdotool type <span class="org-string">"hello how are you"</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">This moves the mouse to 100,100 relative to the top-left corner of the window,
</span><span class="org-comment-delimiter"># </span><span class="org-comment">then right click (presses and releases the 3rd button)
</span><span class="org-variable-name">DISPLAY</span>=:1 xdotool mousemove --window 41466948 100 100 click 3

<span class="org-comment-delimiter"># </span><span class="org-comment">This brings window with id 41466948 into focus
</span><span class="org-variable-name">DISPLAY</span>=:1 xdotool focusWindow 41466948
</pre><p>This is fine and dandy, but what if we want to input large sections of text. Even if we use the <code>type</code> command, <code>xdotool</code> is still just typing every letter, albeit ~100 characters/second.  Further, due to a bug/shortcoming/whatever in <code>xdotool</code>, I couldn't figure out how to make it send text that includes a newline character (or an ampersand or question mark for that matter).  It seems worth our while to come up with other ways of interfacing with the Google Documents window.  The other way I came up with is the clipboard. </p><p>X has a clipboard (actually it has three), and that clipboard can be accessed via the command line.  Again, there are multiple tools that can do this including <code>xclip</code> and <code>xsel</code>.  While the functionality of the two programs are near identical, I chose to use <code>xsel</code> as it seemed a little more robust.  Using <code>xsel</code>, we can send large sections of text to the clipboard on display ":1" (remember, each X server has it's own clipboard), then send a "ctrl+v" using xdotool.  More interestingly, however, is that copying in the ":1" server allows us to gain some information on what is in the other file and more importantly, as it turns out, the location of the point in the Google Document. </p></div></div><br />
<div id="outline-container-3" class="outline-3"><h3 id="sec-3">Putting it together </h3><div class="outline-text-3" id="text-3"><p>Most of this involves coding in Emacs Lisp.  The point of everything here is to keep track of where the point in the Google Document while making alterations. If we ever lose track of where the point is in the document, we will corrupt the document with every edit.  In the following, I use the word "document" to refer to the Google document and "document point" to refer to the cursor location in that document.  The word "buffer" refers to things in Emacs, and "buffer point" refers to the point in the Emacs buffer, i.e. the cursor position.  I use the word function here because that's what Emacs calls them.  In reality these are all procedures called for their side effects. </p><p>We will need some basics: </p><ol><li>A function that will send a key to the window<br />
</li>
<li>A function that will send a string to the window<br />
</li>
<li>A function to properly escape strings sent through the shell<br />
</li>
<li>Functions that move left and right<br />
</li>
<li>A function that moves the point by some relative amount<br />
<pre class="src src-emacs-lisp">(<span class="org-keyword">defvar</span> <span class="org-variable-name">gd-point</span> 0 <span class="org-doc">"A variable holding the document point"</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-gdocify-string</span> (str)
  <span class="org-doc">"Escape every character.  This means that the shell shouldn't
mess with any of this."</span>
  (replace-regexp-in-string <span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">.</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> <span class="org-string">"\\\\\\1"</span> str))

<span class="org-comment-delimiter">;; </span><span class="org-comment">The parameter INSTANT is used in the buffered input optimiztion, but not
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">here.
</span>(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-send-key</span> (keys <span class="org-type">&amp;optional</span> instant)
  (shell-command (concat <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 key "</span>
                         keys )))

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-send-string</span> (string)
  (shell-command (concat <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 type "</span>
                         string )))

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-move-left</span> (n)
  <span class="org-doc">"Move the buffer N characters left, reducing GD-POINT by N.
The buffer point doesn't change."</span>
  (<span class="org-keyword">loop</span> repeat n
        do (gdmir-send-key <span class="org-string">"Left"</span>)
           (decf gd-point)) )

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-move-right</span> (n)
  <span class="org-doc">"Move the buffer N characters right, increasing GD-POINT by N.
The buffer point doesn't change."</span>
  (<span class="org-keyword">loop</span> repeat n
        do (gdmir-send-key <span class="org-string">"Right"</span>)
           (incf gd-point) ))

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-move-to-relative-point</span> (point-difference)
  <span class="org-doc">"Move the buffer point to \(+ GD-POINT POINT-DIFFERENCE).  The
buffer point doesn't change."</span>
  (<span class="org-keyword">if</span> (&lt; point-difference 0)
      (gdmir-move-left (abs point-difference))
      (gdmir-move-right (abs point-difference)) ))
</pre></li>
</ol><p>Now for the meat and potatoes: the hook functions.  We will define a function that sets the after and before change functions.  The before function, <code>gdmir-before-edit</code>, which receives the start and end point of the forthcoming edit, moves the document point to the end of the edit range, then saves the original string, and finally deletes the original text<sup><a class="footref" name="fnr.1" href="#fn.1">1</a></sup>.  The after function, <code>gdmir-after-edit</code>, sends commands required to type the new text. </p><pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">split-for-xdotool</span> (string)
  <span class="org-doc">"This function runs through the input and replaces instances of
`?', `&amp;', and newlines with symbols corresponding to these
characters.  We return a list containing strings and the special
symbols in the order they should be output.  We have to use the
special symbols due to the fact that xdotool, or bash, or
something cannot handle these symbols, even if they are quoted."</span>
  (rest
   (<span class="org-keyword">let</span> ((count 0))
     (<span class="org-keyword">loop</span> for segment in (split-string string <span class="org-string">"[\n?&amp;]"</span>)
           appending
        (list (<span class="org-keyword">when</span> (&gt; count 0)
                (<span class="org-keyword">cond</span> ((eql (aref string (- count 1)) (aref <span class="org-string">"?"</span> 0))
                       'question )
                      ((eql (aref string (- count 1)) (aref <span class="org-string">"&amp;"</span> 0)) 'amp)
                      ((eql (aref string (- count 1)) (aref <span class="org-string">"\n"</span> 0))
                       'ret )))
              segment )
           do (incf count (1+ (length segment))) ))))

(<span class="org-keyword">defvar</span> <span class="org-variable-name">*prechange-text*</span> nil <span class="org-doc">"This holds the contents of the
edited region prior to the edit.  We don't use this, but I can
think of a few reasons we might want to save it."</span> )

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-before-edit</span> (start end)
  (gdmir-move-to-relative-point (- end gd-point))
  (setf *prechange-text* (list start end (buffer-substring start end)))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Delete the string in GD before in Emacs
</span>  (<span class="org-keyword">loop</span> for i below (- end start)
        do (decf gd-point)
           (gdmir-send-key <span class="org-string">"BackSpace"</span>) ))

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-after-edit</span> (start end old-length)
  (<span class="org-keyword">when</span> (&lt; 0 (- end start))
    (<span class="org-keyword">loop</span> for line in (split-for-xdotool (buffer-substring start end))
          do (<span class="org-keyword">cond</span> ((eql line 'question)
                    (gdmir-send-key <span class="org-string">"shift+slash"</span>) )
                   ((eql line 'amp)
                    (gdmir-send-key <span class="org-string">"shift+7"</span>) )
                   ((eql line 'ret)
                    (gdmir-send-key <span class="org-string">"Return"</span>)
                    (gdmir-send-string <span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">"</span>) )
                   ((&lt; 0 (length line))
                    (gdmir-send-string (gdmir-gdocify-string line)) )))
    (incf gd-point (length (buffer-substring start end))) ))

(<span class="org-keyword">defun</span> <span class="org-function-name">insert-change-hook</span> ()
  (setf *change-hook-in-effect* t)
  (push
   'gdmir-before-edit
   before-change-functions )
  (push
   'gdmir-after-edit
   after-change-functions ))
</pre><p>We also can use a few helper functions which we will implement as key-bindings. </p><ol><li>A function that syncs the points in the buffers (C-x SPC when mirroring is on)<br />
</li>
<li>A function that turns the mirroring on and off (C-x SPC when off will turn<br />
it on, if it's on and the point is already synced, it will be turned off)<br />
</li>
<li>A set of functions that moves the point in the browser window (M-&lt;direction<br />
keys&gt;).  These are really handy for a quick reposition of the document<br />
point.<br />
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">sync-points</span> ()
  <span class="org-doc">"Set GD-POINT to the buffer point."</span>
  (setf gd-point (point)) )

(<span class="org-keyword">defvar</span> <span class="org-variable-name">*change-hook-in-effect*</span> nil <span class="org-doc">"Used to determine if our
change hooks are already doing their thing."</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">setup-mirror</span> ()
  <span class="org-doc">"Set up the mirroring environment.  This should really be a
minor mode, but since this is basically a throw away hack, I'm
not going to bother."</span>
  (setf old-after-change-functions after-change-functions
        old-before-change-functions before-change-functions )
  (local-set-key (kbd <span class="org-string">"M-&lt;left&gt;"</span>)
                 (<span class="org-keyword">lambda</span> () (interactive) (gdmir-send-key <span class="org-string">"Left"</span> t)) )
  (local-set-key (kbd <span class="org-string">"M-&lt;right&gt;"</span>)
                 (<span class="org-keyword">lambda</span> () (interactive) (gdmir-send-key <span class="org-string">"Right"</span> t)) )
  (local-set-key (kbd <span class="org-string">"M-&lt;up&gt;"</span>)
                 (<span class="org-keyword">lambda</span> () (interactive) (gdmir-send-key <span class="org-string">"Up"</span> t)) )
  (local-set-key (kbd <span class="org-string">"M-&lt;down&gt;"</span>)
                 (<span class="org-keyword">lambda</span> () (interactive) (gdmir-send-key <span class="org-string">"Down"</span> t)) )
  (local-set-key (kbd <span class="org-string">"C-x SPC"</span>)
                 (<span class="org-keyword">lambda</span> ()
                   (interactive)
                   (<span class="org-keyword">cond</span> ((and after-change-functions
                               *change-hook-in-effect*
                               (= (point) gd-point) )
                          (message <span class="org-string">"Mirroring disabled"</span>)
                          (setf *change-hook-in-effect* nil
                                after-change-functions old-after-change-functions
                                before-change-functions old-before-change-functions ))
                         ((and after-change-functions
                               *change-hook-in-effect* )
                          (message <span class="org-string">"Syncing points"</span>)
                          (sync-points) )
                         (t
                          (message <span class="org-string">"Mirroring enabled"</span>)
                          (setf *change-hook-in-effect* t)
                          (insert-change-hook)
                          (sync-points) )))))
</pre></li>
</ol></div></div><br />
<div id="outline-container-4" class="outline-3"><h3 id="sec-4">Optimizations </h3><div class="outline-text-3" id="text-4"><p>While all of this works, it works quite slowly.  Just moving from one point to another in the document can take a considerable time as it involves moving side to side perhaps thousands of times.  Here we consider two areas where there can be considerable improvements. </p></div><br />
<div id="outline-container-4_1" class="outline-4"><h4 id="sec-4_1">Incorporating other moves than side to side </h4><div class="outline-text-4" id="text-4_1"><p>The first optimization I made was to allow for motion using the up and down keys.  This is difficult as we don't know how the lines are wrapped on the Google Doc, so we don't know how far that moves in the file.  This can be attacked by noting that if we hold down shift as we move, the region will be selected.  We can copy that to the clipboard<sup><a class="footref" name="fnr.2" href="#fn.2">2</a></sup> and read it in Emacs, allowing us to find length of the string selected, and therefore the motion in the document.  This almost works.  However, it turns out that whitespace at the beginning and end of selections are often times elided when copied to the clipboard (not sure why).  Another issue, if you make a selection of only whitespace, it may not be copied to the clipboard at all, leaving what was on there before. </p><p>This means that we may lose track of our document point if we start or end on white space in a vertical move.  The way I chose to deal with this is to place a vertical bar, "|", at the beginning of each line.  To move vertically, I move the point to the beginning of the line (before the vertical bar) and then move up or down selecting the difference.  This method ensures that the selection includes no end whitespace (other than the newline at the end.  The newline at the end of the selection is deleted but it is compensated for by the vertical bar.  As long as we only move one line at a time, we can tell how far we've gone in the vertical direction. </p><p>To add this change, we must modify the <code>gdmir-move-left</code> and <code>gdmir-move-right</code> functions to take two steps when we pass a newline in order to skip over the vertical bar in the left hand column.  We must also have our change hooks check to see if we are deleting a newline (we must delete an extra character) and if we are inserting a newline (we must add a new vertical bar). </p><pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-move-left</span> (n)
  (<span class="org-keyword">save-excursion</span>
    (goto-char gd-point)
    (<span class="org-keyword">loop</span> repeat n
          do (<span class="org-keyword">when</span> (= 0 (current-column))
               (gdmir-send-key <span class="org-string">"Left"</span>) )
             (gdmir-send-key <span class="org-string">"Left"</span>)
             (decf gd-point)
             (backward-char) )))

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-move-right</span> (n)
  (<span class="org-keyword">save-excursion</span>
    (goto-char gd-point)
    (<span class="org-keyword">loop</span> repeat n
          do (gdmir-send-key <span class="org-string">"Right"</span>)
             (incf gd-point)
             (forward-char)
             (<span class="org-keyword">when</span> (= 0 (current-column))
               (gdmir-send-key <span class="org-string">"Right"</span>) ))))

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-before-edit</span> (start end)
  (gdmir-move-to-relative-point (- end gd-point))
  (setf *prechange-text* (list start end (buffer-substring start end)))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Delete the string in GD before in Emacs
</span>  (<span class="org-keyword">save-excursion</span>
    (goto-char gd-point)
    (<span class="org-keyword">loop</span> for i below (- end start)
          do (<span class="org-keyword">progn</span>
               (<span class="org-keyword">when</span> (= 0 (current-column))
                 <span class="org-comment-delimiter">;; </span><span class="org-comment">Clear out code marker
</span>                 (gdmir-send-key <span class="org-string">"BackSpace"</span>) )
               (decf gd-point)
               (gdmir-send-key <span class="org-string">"BackSpace"</span>)
               (backward-char) ))))

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-after-edit</span> (start end old-length)
  (<span class="org-keyword">when</span> (&lt; 0 (- end start))
    (<span class="org-keyword">loop</span> for line in (split-for-xdotool (buffer-substring start end))
          do (<span class="org-keyword">cond</span> ((eql line 'question)
                    (gdmir-send-key <span class="org-string">"shift+slash"</span>) )
                   ((eql line 'amp)
                    (gdmir-send-key <span class="org-string">"shift+7"</span>) )
                   ((eql line 'ret)
                    (gdmir-send-key <span class="org-string">"Return"</span>)
                    (gdmir-send-string <span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">"</span>) )
                   ((&lt; 0 (length line))
                    (gdmir-send-string (gdmir-gdocify-string line)) )))
    (incf gd-point (length (buffer-substring start end))) ))

(<span class="org-keyword">defun</span> <span class="org-function-name">insert-change-hook</span> ()
  (setf *change-hook-in-effect* t)
  (push
   'gdmir-before-edit
   before-change-functions )
  (push
   'gdmir-after-edit
   after-change-functions ))
</pre><p>Then we can introduce <code>gdmir-move-up</code>, <code>gdmir-move-down</code>, and extend <code>gdmir-move-to-relative-point</code> so it makes use of this new ability. </p><pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">*EMS-PER-LINE* will be used to guess at when a line might be wrapped.  if we
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">*over-estimate, vertical moves will be broken
</span>(<span class="org-keyword">defvar</span> <span class="org-variable-name">*ems-per-line*</span> 50
  <span class="org-doc">"A conservative estimate for how many `m's are in a line in the google document."</span> )

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-move-to-zero-column</span> ()
  (flush-commands)
  (<span class="org-keyword">save-excursion</span>
   (goto-char gd-point)
   (gdmir-move-left (max (- (current-column) (- *ems-per-line* 1)) 0))
   (goto-char (- gd-point (max (- (current-column) (- *ems-per-line* 1)) 0)))
   (<span class="org-keyword">cond</span> ((&lt; (current-column) *ems-per-line*)
          (gdmir-send-key <span class="org-string">"Home Right"</span> t)
          (setf gd-point (line-beginning-position)) )
         (t (gdmir-move-left
             (current-column) )))))

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-grab-selection</span> ()
  <span class="org-doc">"To read from the clipboard"</span>
  (gdmir-send-key <span class="org-string">"ctrl+c"</span> t)
  (shell-command-to-string <span class="org-string">"xsel --display :1 -o -b"</span>) )

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-move-up</span> ()
  (flush-commands)
  (<span class="org-keyword">save-excursion</span>
    (goto-char gd-point)
    <span class="org-comment-delimiter">;; </span><span class="org-comment">More to the left most position on the screen
</span>    (gdmir-move-to-zero-column)
    (goto-char gd-point)
    <span class="org-comment-delimiter">;; </span><span class="org-comment">Move to the left of the code delimiter
</span>    (shell-command <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 key Left"</span>)
    <span class="org-comment-delimiter">;; </span><span class="org-comment">move up selecting the differnce
</span>    (<span class="org-keyword">let</span> ((orig-line (line-number-at-pos)))
      (<span class="org-keyword">loop</span> until (/= (line-number-at-pos) orig-line)
            do (shell-command <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 key shift+Up"</span>)
               (<span class="org-keyword">let</span> ((selection (gdmir-grab-selection)))
                 (backward-char (length selection)) )
               <span class="org-comment-delimiter">;; </span><span class="org-comment">This doesn't move the point, it just moves to the left of the
</span>               <span class="org-comment-delimiter">;; </span><span class="org-comment">selection and unselects the text.
</span>            (shell-command <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 key Left"</span>) ))
    (setf gd-point (point))
    <span class="org-comment-delimiter">;; </span><span class="org-comment">Move to the right of the code delimiter
</span>    (shell-command <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 key Right"</span>) ))

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-move-down</span> ()
  (flush-commands)
  (<span class="org-keyword">save-excursion</span>
    (goto-char gd-point)
    <span class="org-comment-delimiter">;; </span><span class="org-comment">More to the left most position on the screen
</span>    (gdmir-move-to-zero-column)
    (goto-char gd-point)
    <span class="org-comment-delimiter">;; </span><span class="org-comment">Move to the left of the code delimiter
</span>    (shell-command <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 key Left"</span>)
    <span class="org-comment-delimiter">;; </span><span class="org-comment">move down selecting the differnce
</span>    (<span class="org-keyword">let</span> ((orig-line (line-number-at-pos)))
      (<span class="org-keyword">loop</span> until (/= (line-number-at-pos) orig-line)
            do (shell-command <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 key shift+Down"</span>)
               (<span class="org-keyword">let</span> ((selection (gdmir-grab-selection)))
                 (forward-char (length selection)) )
               <span class="org-comment-delimiter">;; </span><span class="org-comment">This doesn't move the point, it just moves to the left of the
</span>               <span class="org-comment-delimiter">;; </span><span class="org-comment">selection and unselects the text.
</span>            (shell-command <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 key Right"</span>) ))
    (setf gd-point (point))
    <span class="org-comment-delimiter">;; </span><span class="org-comment">Move to the right of the code delimiter
</span>    (shell-command <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 key Right"</span>) ))

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-move-to-relative-point</span> (point-difference)
  (<span class="org-keyword">let</span> ((target (+ gd-point point-difference)))
    <span class="org-comment-delimiter">;; </span><span class="org-comment">80 is a guess at how far we have to be going before moving vertically
</span>    <span class="org-comment-delimiter">;; </span><span class="org-comment">might be of benefit
</span>    (<span class="org-keyword">cond</span> ((&lt; point-difference -80)
           <span class="org-comment-delimiter">;; </span><span class="org-comment">Go until you have passed the point.
</span>           (<span class="org-keyword">while</span> (&gt; gd-point target)
             (gdmir-move-up) ))
          ((&gt; point-difference 80)
           <span class="org-comment-delimiter">;; </span><span class="org-comment">Go until you have passed the point.
</span>           (<span class="org-keyword">while</span> (&lt; gd-point target)
             (gdmir-move-down) )))
    <span class="org-comment-delimiter">;; </span><span class="org-comment">Then we will finish off with side to side movement
</span>    (<span class="org-keyword">let</span> ((point-difference (- target gd-point)))
      (<span class="org-keyword">if</span> (&lt; point-difference 0)
          (gdmir-move-left (abs point-difference))
          (gdmir-move-right (abs point-difference)) ))))
</pre><p>The motion to the beginning of the line is still annoying but as you can see we sped that up slightly by using the "home" key.  This moves the point to the beginning of the line.  You don't even have to select in this move as we can calculate the point at the beginning of the line in Emacs.  There is one problem with this, however, since lines can wrap, and pressing "home" in Google Docs brings you to the beginning of the visible line, this cannot be used if you are on a wrapped line.  I have the program move horizontally until it is within a conservative estimate of the maximum line width, then us the "home" key.  You might think it a good idea to use the "shift+home" key combo repeatedly interspersed with "left" key presses counting how far we've gone, but the same issue remains, if we happen to start on some whitespace, we may miss some characters at the end of the line. </p></div></div><br />
<div id="outline-container-4_2" class="outline-4"><h4 id="sec-4_2">Buffering Commands </h4><div class="outline-text-4" id="text-4_2"><p>Buffering the input commands speeds things up in general because it removes some overhead to the input sending process.  The way we have it set up right now is to have each keystroke start a <code>bash</code> shell and run the <code>xdotool</code> command to send input to the document.  Just starting <code>bash</code> contributes a pretty big overhead.  By buffering the commands, we can collect several commands and send them all at once, defeating the overhead.  All in all this seems to speed up input by a factor of two, or so.  This is a pretty significant improvement<sup><a class="footref" name="fnr.3" href="#fn.3">3</a></sup>.  In fact, this beats the above method of motion for all but very long yet unwrapped lines. </p><p>In order to incorporate this kind of buffering from within Emacs, we can just hold of list of pending commands that need to be sent to the document.  We will modify the <code>gdmir-send-key</code> function to push onto that list rather than actually send it to via <code>xdotool</code>.  If the buffer gets to a certain size, we flush the commands to the document.  In addition, since sending a string via <code>xdotool</code> is the last thing one can do in an invocation to <code>xdotool</code>, we also must force a flush of all stored commands before we send the string. </p><pre class="src src-emacs-lisp">(<span class="org-keyword">defvar</span> <span class="org-variable-name">*pending-keys*</span> nil)

(<span class="org-keyword">defun</span> <span class="org-function-name">flush-commands</span> (<span class="org-type">&amp;optional</span> string)
  (<span class="org-keyword">let*</span> ((cmd (<span class="org-keyword">if</span> *pending-keys*
                  (apply #'concat <span class="org-string">"key "</span> (mapcar (<span class="org-keyword">lambda</span> (x) (concat <span class="org-string">" "</span> x)) (reverse *pending-keys*)))
                  <span class="org-string">" "</span> ))
         (cmd (<span class="org-keyword">if</span> string
                  (concat cmd <span class="org-string">" type "</span> string)
                  cmd )))
    (<span class="org-keyword">when</span> (or *pending-keys* string)
      (shell-command (concat <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 "</span> cmd)) )
    (setf *pending-keys* nil)
    (setf *last-flush* (float-time)) ))

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-send-key</span> (keys <span class="org-type">&amp;optional</span> instant)
  (push keys *pending-keys*)
  (<span class="org-keyword">when</span> (or instant (&lt; 20 (length *pending-keys*)))
    (flush-commands) ))

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-send-string</span> (string)
  (flush-commands string) )
</pre><p>In addition to all of this, we will also need to alter several other functions to force flushing as some of them require synchronous execution, like anything that involves the clipboard. </p><pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-move-to-zero-column</span> ()
  (flush-commands)
  (<span class="org-keyword">save-excursion</span>
   (goto-char gd-point)
   (gdmir-move-left (max (- (current-column) (- *ems-per-line* 1)) 0))
   (goto-char (- gd-point (max (- (current-column) (- *ems-per-line* 1)) 0)))
   (<span class="org-keyword">cond</span> ((&lt; (current-column) *ems-per-line*)
          (gdmir-send-key <span class="org-string">"Home Right"</span> t)
          (setf gd-point (line-beginning-position)) )
         (t (gdmir-move-left
             (current-column) )))))

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-move-up</span> ()
  (flush-commands)
  (<span class="org-keyword">save-excursion</span>
    (goto-char gd-point)
    <span class="org-comment-delimiter">;; </span><span class="org-comment">More to the left most position on the screen
</span>    (gdmir-move-to-zero-column)
    (goto-char gd-point)
    <span class="org-comment-delimiter">;; </span><span class="org-comment">Move to the left of the code delimiter
</span>    (shell-command <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 key Left"</span>)
    <span class="org-comment-delimiter">;; </span><span class="org-comment">move up selecting the differnce
</span>    (<span class="org-keyword">let</span> ((orig-line (line-number-at-pos)))
      (<span class="org-keyword">loop</span> until (/= (line-number-at-pos) orig-line)
            do (shell-command <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 key shift+Up"</span>)
               (<span class="org-keyword">let</span> ((selection (gdmir-grab-selection)))
                 (backward-char (length selection)) )
               <span class="org-comment-delimiter">;; </span><span class="org-comment">This doesn't move the point, it just moves to the left of the
</span>               <span class="org-comment-delimiter">;; </span><span class="org-comment">selection and unselects the text.
</span>            (shell-command <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 key Left"</span>) ))
    (setf gd-point (point))
    <span class="org-comment-delimiter">;; </span><span class="org-comment">Move to the right of the code delimiter
</span>    (shell-command <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 key Right"</span>) ))

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-move-down</span> ()
  (flush-commands)
  (<span class="org-keyword">save-excursion</span>
    (goto-char gd-point)
    <span class="org-comment-delimiter">;; </span><span class="org-comment">More to the left most position on the screen
</span>    (gdmir-move-to-zero-column)
    (goto-char gd-point)
    <span class="org-comment-delimiter">;; </span><span class="org-comment">Move to the left of the code delimiter
</span>    (shell-command <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 key Left"</span>)
    <span class="org-comment-delimiter">;; </span><span class="org-comment">move down selecting the differnce
</span>    (<span class="org-keyword">let</span> ((orig-line (line-number-at-pos)))
      (<span class="org-keyword">loop</span> until (/= (line-number-at-pos) orig-line)
            do (shell-command <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 key shift+Down"</span>)
               (<span class="org-keyword">let</span> ((selection (gdmir-grab-selection)))
                 (forward-char (length selection)) )
               <span class="org-comment-delimiter">;; </span><span class="org-comment">This doesn't move the point, it just moves to the left of the
</span>               <span class="org-comment-delimiter">;; </span><span class="org-comment">selection and unselects the text.
</span>               (shell-command <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 key Right"</span>) ))
    (setf gd-point (point))
    <span class="org-comment-delimiter">;; </span><span class="org-comment">Move to the right of the code delimiter
</span>    (shell-command <span class="org-string">"DISPLAY=:1 xdotool windowFocus 4194333 key Right"</span>) ))

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-before-edit</span> (start end)
  (gdmir-move-to-relative-point (- end gd-point))
  (setf *prechange-text* (list start end (buffer-substring start end)))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Delete the string in GD before in Emacs
</span>  (<span class="org-keyword">save-excursion</span>
    (goto-char gd-point)
    (<span class="org-keyword">loop</span> for i below (- end start)
          do (<span class="org-keyword">progn</span>
               (<span class="org-keyword">when</span> (= 0 (current-column))
                 <span class="org-comment-delimiter">;; </span><span class="org-comment">Clear out code marker
</span>                 (gdmir-send-key <span class="org-string">"BackSpace"</span>) )
               (decf gd-point)
               (gdmir-send-key <span class="org-string">"BackSpace"</span>)
               (backward-char) ))))

(<span class="org-keyword">defun</span> <span class="org-function-name">gdmir-after-edit</span> (start end old-length)
  (<span class="org-keyword">when</span> (&lt; 0 (- end start))
    (<span class="org-keyword">loop</span> for line in (split-for-xdotool (buffer-substring start end))
          do (<span class="org-keyword">cond</span> ((eql line 'question)
                    (gdmir-send-key <span class="org-string">"shift+slash"</span>) )
                   ((eql line 'amp)
                    (gdmir-send-key <span class="org-string">"shift+7"</span>) )
                   ((eql line 'ret)
                    (gdmir-send-key <span class="org-string">"Return"</span>)
                    (gdmir-send-string <span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">"</span>) )
                   ((&lt; 0 (length line))
                    (gdmir-send-string (gdmir-gdocify-string line)) )))
    (incf gd-point (length (buffer-substring start end))) )
  (flush-commands) )

(<span class="org-keyword">defun</span> <span class="org-function-name">insert-change-hook</span> ()
  (setf *change-hook-in-effect* t)
  (push
   'gdmir-before-edit
   before-change-functions )
  (push
   'gdmir-after-edit
   after-change-functions ))
</pre><p>And lastly we probably want to set an idle timer to run <code>flush-commands</code> when nothing is happening.  This will make it so no changes will sit indefinitely in the key buffer.  After waiting around a few seconds (four here) and pending keys are sent to the document. </p><pre class="src src-emacs-lisp">(setf *idle-flusher*
  (run-with-idle-timer 4 t (<span class="org-keyword">lambda</span> () (flush-commands))) )
</pre><p>Two other thoughts of speeding things up come to mind, though I did not attempt this for free time reasons. </p><ol><li><b>Asynchonous Input</b>: Buffering commands is also a good idea for a completely<br />
different reason if we can buffer them outside of Emacs.  Emacs, as lovely<br />
as it is, doesn't allow for multiple threads.  This means that we have to<br />
wait as the commands are processed.  If we are able to buffer commands to a<br />
different process, we could have a concurrent execution.  We only need to<br />
have to synchronize the input with Emacs when we want to get contents of the<br />
Google Doc, i.e. when we are examining the clipboard.<br />
</li>
<li><b>Command optimization</b>: The commands can also be optimized.  For instance,<br />
when you yank to an Emacs buffer (a.k.a. paste), Emacs apparently writes it,<br />
then deletes it, then writes it again.  I'm not sure why this happens, nor<br />
did I ever notice until the mechanism of writing and deleting was slowed<br />
down by a factor of 1000 or so.  In principle, before the buffer is flushed<br />
to output, it could pass the contents through an optimizer, that would<br />
reduce this particular delete-redraw cycle to no action.<br />
</li>
</ol></div></div></div><br />
<div id="outline-container-5" class="outline-3"><h3 id="sec-5">Conclusions </h3><div class="outline-text-3" id="text-5"><p>Let me take a moment to relay a few observations I made while developing this interface with a "cloud" program.  First, this was very hard and convoluted.  I don't think that Google has any interest in stopping me from doing this, but at times I actually thought there was an antagonistic entity on the other end thwarting my attempts.  If you copy and paste from a Google Doc, whitespace might get eaten (I think this is happening due to X), or indentation might get messed up (this is almost certainly happening on the Google side).  I had weird cases where more than four spaces in a row were converted to tabs, and bizarre rules on what and how much whitespace was eaten at the beginning and end of the selection.  You saw how we dealt with this in the code (adding an vertical bar before each line), but it is just the nature of the beast that this is a fragile set up.  It would really be nice if Google made a true virtual white-board, or used an existing one (they must exist).  They could put a public API on it and anyone trying to do this would be giddy. </p><p>Second, because it's a cloud application, Google can upgrade and make incompatible changes at any time.  The compatibility doesn't matter much to humans as they are adaptable, but to a program, it really throws a wrench in the works.  For instance, I swear that when I first started developing, copying a block of text and pasting it in a Google Doc preserved the indentation.  A few days later I tried it and this was no longer the case.  It seemed like a bug that would bother people, so I wouldn't be surprised if it is fixed by now. Many people are excited by how fast an application can move when the developer decides the upgrade schedule.  I guess I often times prefer the stability of getting to decide that myself. </p><p>In the end this worked well enough to use, which is the most important thing. It is pretty basic functionality, but good enough to really help when programming in Google Docs<sup><a class="footref" name="fnr.4" href="#fn.4">4</a></sup>.  I wouldn't be surprised at all, though, if I tried this in a few weeks and found that it didn't work anymore. In the very end, however, it was ultimately unused as the phone interview consisted only of pen and paper questions.  Not to despair, however, the problem was a fun one to tackle.  It included interesting things like pushing the X windowing system further than most users ever do, really exploiting the extensibility of Emacs, and playing with the flexibility of the GNU/Linux operative system in general.  A few years ago I would have thought this too hard to actually do and over a decade ago in Windows I would have thought this impossible (this might be possible in OS X, I imagine fiddling with the clipboard and sending keys might be the hard bits).  All in all, this was a fun little project during some of the development. </p></div></div><div id="footnotes"><h2 class="footnotes">Footnotes: </h2><div id="text-footnotes"><p class="footnote"><sup><a class="footnum" name="fn.1" href="#fnr.1">1</a></sup> There is actually a bug here.  Emacs sometimes specifies that the<br />
change area before isn't the change area specified in after.  For instance,<br />
check the command <code>M-x capitalize-word</code>, which will delete the word, but only<br />
write the first letter of the word.  I'm not sure if this is my misunderstanding<br />
of the arguments Emacs sends, or if it is a bug in Emacs itself.  Luckily it<br />
seems to be very rare.<br />
</p><p class="footnote"><sup><a class="footnum" name="fn.2" href="#fnr.2">2</a></sup> Yeah, I know, if it's selected it is already on the selection clipboard.<br />
I use the ctrl+c/ctrl+v one as it gives a bit more control.<br />
</p><p class="footnote"><sup><a class="footnum" name="fn.3" href="#fnr.3">3</a></sup> To go further, one could attempt to reduce the <code>xdotool</code> delay<br />
between key presses (which defaults to 13 ms).  I didn't attempt this as I<br />
assumed that it might reduce the robustness of the method (i.e. keystrokes might<br />
be missed).<br />
</p><p class="footnote"><sup><a class="footnum" name="fn.4" href="#fnr.4">4</a></sup> I originally had visions of actually mirroring the buffers.<br />
I.e. you tell Emacs which buffers you want displayed in the document and it will<br />
grab them, insert the code marker, perhaps a simple frame marking the buffer you<br />
are in, and send it to the clipboard to be pasted on the document.  I actually<br />
had Emacs sending entire buffers at one point.  After I started hitting more and<br />
more issues with clipboards and how Google Docs messes with indentation, or<br />
whitespace, or other things, I decided that this was not worth the effort.<br />
</p></div></div>
<div style='clear: both;'></div>
</div>
<div class='post-footer'>
<div class='post-footer-line post-footer-line-1'>
<span class='post-author vcard'>
Posted by
<span class='fn' itemprop='author' itemscope='itemscope' itemtype='http://schema.org/Person'>
<meta content='http://www.blogger.com/profile/18011396231251001677' itemprop='url'/>
<a class='g-profile' href='http://www.blogger.com/profile/18011396231251001677' rel='author' title='author profile'>
<span itemprop='name'>Zach</span>
</a>
</span>
</span>
<span class='post-timestamp'>
at
<meta content='http://directed-procrastination.blogspot.com/2011/06/syncing-emacs-with-google-documents.html' itemprop='url'/>
<a class='timestamp-link' href='http://directed-procrastination.blogspot.com/2011/06/syncing-emacs-with-google-documents.html' rel='bookmark' title='permanent link'><abbr class='published' itemprop='datePublished' title='2011-06-10T21:43:00-07:00'>9:43 PM</abbr></a>
</span>
<span class='reaction-buttons'>
</span>
<span class='star-ratings'>
</span>
<span class='post-comment-link'>
<a class='comment-link' href='http://directed-procrastination.blogspot.com/2011/06/syncing-emacs-with-google-documents.html#comment-form' onclick=''>
6 comments:
    </a>
</span>
<span class='post-backlinks post-comment-link'>
</span>
<span class='post-icons'>
<span class='item-control blog-admin pid-2062802702'>
<a href='http://www.blogger.com/post-edit.g?blogID=7788284466297989064&postID=3055187356482138158&from=pencil' title='Edit Post'>
<img alt='' class='icon-action' height='18' src='http://img2.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/>
</a>
</span>
</span>
<div class='post-share-buttons goog-inline-block'>
</div>
</div>
<div class='post-footer-line post-footer-line-2'>
<span class='post-labels'>
Labels:
<a href='http://directed-procrastination.blogspot.com/search/label/Emacs' rel='tag'>Emacs</a>,
<a href='http://directed-procrastination.blogspot.com/search/label/GNU%2FLinux' rel='tag'>GNU/Linux</a>,
<a href='http://directed-procrastination.blogspot.com/search/label/programming' rel='tag'>programming</a>
</span>
</div>
<div class='post-footer-line post-footer-line-3'>
<span class='post-location'>
</span>
</div>
</div>
</div>
</div>

            </div></div>
          

          <div class="date-outer">
        
<h2 class='date-header'><span>Monday, June 6, 2011</span></h2>

          <div class="date-posts">
        
<div class='post-outer'>
<div class='post hentry uncustomized-post-template' itemprop='blogPost' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'>
<meta content='7788284466297989064' itemprop='blogId'/>
<meta content='7163794715486272537' itemprop='postId'/>
<a name='7163794715486272537'></a>
<h3 class='post-title entry-title' itemprop='name'>
<a href='http://directed-procrastination.blogspot.com/2011/06/quicklisp.html'>Quicklisp</a>
</h3>
<div class='post-header'>
<div class='post-header-line-1'></div>
</div>
<div class='post-body entry-content' id='post-body-7163794715486272537' itemprop='description articleBody'>
I just started using <a href="http://www.quicklisp.org/">Quicklisp</a>.&nbsp; I was very slow to adopt largely due to the fact that my current library situation is so fragile and difficult to maintain that I figured switching to a new one would be take more time than I had at the time.&nbsp; I was wrong, it seems.&nbsp; After encountering some issues building CL-Graph, and not wanting to get into trying to track down where the problem is, I gave Quicklisp a try.&nbsp; I have been using Quicklisp for about the last hour and have found that it will work just fine for day to day work, and should reduce my "staying current" headaches.<br />
<br />
Excluding my personal packages, Quicklisp already holds most (if not all) of the libraries that I use on a daily basis.&nbsp; This means that my method of maintaining packages, manual downloads, updates, and versioning, is basically obsolete (I had long ago ditched ASDF-Install because it was doing things I didn't want it to).&nbsp; To really sweeten the pot, Quicklisp builds several large and/or complicated to build systems that are hard to keep working.<br />
<br />
Quicklisp easily integrates with your own packages.&nbsp; It acts as a last ditch solution to loading a system.&nbsp; This means that if you have a package in your ASDF path, it will use that first.&nbsp; Only if ASDF cannot find the requested system, does it check the Quicklisp systems (either on disk or on-line).<br />
<br />
But perhaps the thing that I find most satisfying about Quicklisp is that it forces libraries into a more standard format, and that it has generated momentum to get a large number of Lisp libraries canned and dead simple to install on any operating system.<br />
<br />
Several people have noted that <a href="http://www.quicklisp.org/">Quicklisp</a> isn't the first search result for <a href="http://www.quicklisp.org/">Lisp libraries</a>, so I definitely putting a link here and strongly recommend people use it (for to manage their libraries and perhaps to publish their libraries).
<div style='clear: both;'></div>
</div>
<div class='post-footer'>
<div class='post-footer-line post-footer-line-1'>
<span class='post-author vcard'>
Posted by
<span class='fn' itemprop='author' itemscope='itemscope' itemtype='http://schema.org/Person'>
<meta content='http://www.blogger.com/profile/18011396231251001677' itemprop='url'/>
<a class='g-profile' href='http://www.blogger.com/profile/18011396231251001677' rel='author' title='author profile'>
<span itemprop='name'>Zach</span>
</a>
</span>
</span>
<span class='post-timestamp'>
at
<meta content='http://directed-procrastination.blogspot.com/2011/06/quicklisp.html' itemprop='url'/>
<a class='timestamp-link' href='http://directed-procrastination.blogspot.com/2011/06/quicklisp.html' rel='bookmark' title='permanent link'><abbr class='published' itemprop='datePublished' title='2011-06-06T21:52:00-07:00'>9:52 PM</abbr></a>
</span>
<span class='reaction-buttons'>
</span>
<span class='star-ratings'>
</span>
<span class='post-comment-link'>
<a class='comment-link' href='http://directed-procrastination.blogspot.com/2011/06/quicklisp.html#comment-form' onclick=''>
No comments:
    </a>
</span>
<span class='post-backlinks post-comment-link'>
</span>
<span class='post-icons'>
<span class='item-control blog-admin pid-2062802702'>
<a href='http://www.blogger.com/post-edit.g?blogID=7788284466297989064&postID=7163794715486272537&from=pencil' title='Edit Post'>
<img alt='' class='icon-action' height='18' src='http://img2.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/>
</a>
</span>
</span>
<div class='post-share-buttons goog-inline-block'>
</div>
</div>
<div class='post-footer-line post-footer-line-2'>
<span class='post-labels'>
Labels:
<a href='http://directed-procrastination.blogspot.com/search/label/Common%20Lisp' rel='tag'>Common Lisp</a>
</span>
</div>
<div class='post-footer-line post-footer-line-3'>
<span class='post-location'>
</span>
</div>
</div>
</div>
</div>

            </div></div>
          

          <div class="date-outer">
        
<h2 class='date-header'><span>Sunday, June 5, 2011</span></h2>

          <div class="date-posts">
        
<div class='post-outer'>
<div class='post hentry uncustomized-post-template' itemprop='blogPost' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'>
<meta content='7788284466297989064' itemprop='blogId'/>
<meta content='494912731701647136' itemprop='postId'/>
<a name='494912731701647136'></a>
<h3 class='post-title entry-title' itemprop='name'>
<a href='http://directed-procrastination.blogspot.com/2011/06/bitcoin-is-for-drug-lords-and.html'>Bitcoin is for drug lords and terrorists?</a>
</h3>
<div class='post-header'>
<div class='post-header-line-1'></div>
</div>
<div class='post-body entry-content' id='post-body-494912731701647136' itemprop='description articleBody'>
I was at a diner party this evening and, due to my social ineptitude, I ended up steering the conversation to Android phones.&nbsp; Eventually we touched on the new <a href="http://www.google.com/wallet/">Google Wallet</a>.&nbsp; I expressed my disappointment in the concept which seemed little more than a glorified attempt to shoe-horn a credit card like payment system into a phone.&nbsp; There seemed to be nothing new to me.&nbsp; Now if only Google had chosen to make payment available with other, albeit less popular, forms of payment, like the amazing <a href="http://www.bitcoin.org/">bitcoin currency</a>.<br />
<br />
For those who don't know, bitcoin is something new and old at the same time.&nbsp; It is digital cash, or as the creators might put it, digital gold.&nbsp; Instead of talking about the mathematics and technology behind it, which is very interesting, let's just discuss the properties.&nbsp; Like cash, bitcoins can be traded between individuals as payment for goods.&nbsp; Unlike cash, bitcoins can be traded over the Internet.&nbsp; Like cash, no third party needs to know who gave what currency to whom;  it's anonymous.&nbsp; Unlike cash, no third party controls the circulation, printing, and distribution of currency at all (actually the entire community is the third party).&nbsp; Like cash, bitcoins cannot be easily counterfeit.&nbsp; Unlike cash, which can and has been copied, counterfeit bitcoins are largely accepted to be a practical impossibility (although shy of a mathematical proof, it is based on the same math as strong encryption).&nbsp; Comparing to credit cards and PayPal, the main forms of payment over the Internet, bitcoins have much to offer.<br />
<br />
After describing what a bitcoin is, the first response I hear is (as verbatim as I can remember it), <br />
<blockquote><b>Hostess:</b> "Wow, it seems like that would be good for drug lords." </blockquote><blockquote><b>Me:</b> <i>(Shocked) </i>"Yeah, I guess... but I would say it's useful anytime you want to send money to people without any third party involved.&nbsp; Like if you wanted to make contributions to someone your government didn't particularly like..." </blockquote><blockquote><b>Hostess:</b> "Right, people could use it to send funds to al-Qaeda or the Taliban..." </blockquote><blockquote><b>Me:</b> <i>(Bewildered) </i>"I was thinking more like sending donations to groups rebelling in authoritarian regimes, or... do you remember that whole Wikileaks thing?" </blockquote><blockquote><b>Hostess:</b> "Yeah...?" <br />
<b></b></blockquote><blockquote><b>Me:</b> "Well there was a movement to try to get it declared as a terrorist organization back when all that hit the fan, which would of made it illegal to donate funds to them.&nbsp; Bitcoins would have made it possible to do so more safely, if you believed in what they were doing and wanted to give them money..."<br />
<b></b></blockquote><blockquote><b>Hostess:</b> "oh... <i>something, something, </i>PayPal."</blockquote><blockquote><b>Me:</b> "But that's part of my point.&nbsp; Because a third party is involved, you open yourself to all kind of possible bad things.&nbsp; Worst of all PayPal has a pretty notorious past when it comes to messing with their clients' transactions, like freezing or closing accounts at their discretion just because they don't like what you are doing."</blockquote><blockquote><i>Conversation continues about PayPal and eBay</i> </blockquote>No kidding.&nbsp; I don't know what, if anything, I did to put bitcoins in the light of, useful for drug lords, criminals, and terrorists.&nbsp; I guess it is just a case of if you aren't doing anything wrong, you should care if you have privacy or not.&nbsp; Saying bitcoins would be good for drug lords is like saying cars would be good for drug lords because you could use them to smuggle drugs.&nbsp; It's true, but kind of missing the point.
<div style='clear: both;'></div>
</div>
<div class='post-footer'>
<div class='post-footer-line post-footer-line-1'>
<span class='post-author vcard'>
Posted by
<span class='fn' itemprop='author' itemscope='itemscope' itemtype='http://schema.org/Person'>
<meta content='http://www.blogger.com/profile/18011396231251001677' itemprop='url'/>
<a class='g-profile' href='http://www.blogger.com/profile/18011396231251001677' rel='author' title='author profile'>
<span itemprop='name'>Zach</span>
</a>
</span>
</span>
<span class='post-timestamp'>
at
<meta content='http://directed-procrastination.blogspot.com/2011/06/bitcoin-is-for-drug-lords-and.html' itemprop='url'/>
<a class='timestamp-link' href='http://directed-procrastination.blogspot.com/2011/06/bitcoin-is-for-drug-lords-and.html' rel='bookmark' title='permanent link'><abbr class='published' itemprop='datePublished' title='2011-06-05T00:04:00-07:00'>12:04 AM</abbr></a>
</span>
<span class='reaction-buttons'>
</span>
<span class='star-ratings'>
</span>
<span class='post-comment-link'>
<a class='comment-link' href='http://directed-procrastination.blogspot.com/2011/06/bitcoin-is-for-drug-lords-and.html#comment-form' onclick=''>
No comments:
    </a>
</span>
<span class='post-backlinks post-comment-link'>
</span>
<span class='post-icons'>
<span class='item-control blog-admin pid-2062802702'>
<a href='http://www.blogger.com/post-edit.g?blogID=7788284466297989064&postID=494912731701647136&from=pencil' title='Edit Post'>
<img alt='' class='icon-action' height='18' src='http://img2.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/>
</a>
</span>
</span>
<div class='post-share-buttons goog-inline-block'>
</div>
</div>
<div class='post-footer-line post-footer-line-2'>
<span class='post-labels'>
</span>
</div>
<div class='post-footer-line post-footer-line-3'>
<span class='post-location'>
</span>
</div>
</div>
</div>
</div>

        </div></div>
      
<!-- google_ad_section_end -->
</div>
<div class='blog-pager' id='blog-pager'>
<span id='blog-pager-newer-link'>
<a class='blog-pager-newer-link' href='http://directed-procrastination.blogspot.com/search?updated-max=2012-06-24T13:12:00-07:00&amp;max-results=7&amp;reverse-paginate=true' id='Blog1_blog-pager-newer-link' title='Newer Posts'>Newer Posts</a>
</span>
<span id='blog-pager-older-link'>
<a class='blog-pager-older-link' href='http://directed-procrastination.blogspot.com/search?updated-max=2011-06-05T00:04:00-07:00&amp;max-results=7' id='Blog1_blog-pager-older-link' title='Older Posts'>Older Posts</a>
</span>
<a class='home-link' href='http://directed-procrastination.blogspot.com/'>Home</a>
</div>
<div class='clear'></div>
<div class='blog-feeds'>
<div class='feed-links'>
Subscribe to:
<a class='feed-link' href='http://directed-procrastination.blogspot.com/feeds/posts/default' target='_blank' type='application/atom+xml'>Posts (Atom)</a>
</div>
</div>
<script type="text/javascript">window.___gcfg = {'lang': 'en'};</script>
</div></div>
</div>
</div>
<div class='column-left-outer'>
<div class='column-left-inner'>
<aside>
</aside>
</div>
</div>
<div class='column-right-outer'>
<div class='column-right-inner'>
<aside>
<div class='sidebar section' id='sidebar-right-1'><div class='widget HTML' id='HTML3'>
<h2 class='title'>Fund this blog</h2>
<div class='widget-content'>
<script type='text/javascript' src='http://api.flattr.com/js/0.6/load.js?uid=smithzv'> </script>
<a id='main_flattr' class='FlattrButton' style='display:none;' href=''></a>
<script type='text/javascript' src='http://tools.flattr.net/blogger/flattrbutton.js?compact=true&everywhere=true'></script>
<iframe style="border: 0; margin: 0; padding: 0;"
        src="https://www.gittip.com/smithzvk/widget.html" 
        width="48pt" height="20pt"></iframe>
<br />Or send BTC to: <font size="-2">199GF79aQWsU4g7x16jMYPT7LrDPvFbosg</font>
<br /><a href="http://directed-procrastination.blogspot.com/2012/08/why-i-have-flattr-button.html">Why?</a>
</div>
<div class='clear'></div>
<span class='widget-item-control'>
<span class='item-control blog-admin'>
<a class='quickedit' href='//www.blogger.com/rearrange?blogID=7788284466297989064&widgetType=HTML&widgetId=HTML3&action=editWidget&sectionId=sidebar-right-1' onclick='return _WidgetManager._PopupConfig(document.getElementById("HTML3"));' target='configHTML3' title='Edit'>
<img alt='' height='18' src='http://img1.blogblog.com/img/icon18_wrench_allbkg.png' width='18'/>
</a>
</span>
</span>
<div class='clear'></div>
</div><div class='widget BlogArchive' id='BlogArchive1'>
<h2>Blog Archive</h2>
<div class='widget-content'>
<div id='ArchiveList'>
<div id='BlogArchive1_ArchiveList'>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/search?updated-min=2014-01-01T00:00:00-08:00&amp;updated-max=2015-01-01T00:00:00-08:00&amp;max-results=2'>2014</a>
<span class='post-count' dir='ltr'>(2)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2014_04_01_archive.html'>April</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2014_01_01_archive.html'>January</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/search?updated-min=2013-01-01T00:00:00-08:00&amp;updated-max=2014-01-01T00:00:00-08:00&amp;max-results=15'>2013</a>
<span class='post-count' dir='ltr'>(15)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2013_10_01_archive.html'>October</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2013_07_01_archive.html'>July</a>
<span class='post-count' dir='ltr'>(3)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2013_06_01_archive.html'>June</a>
<span class='post-count' dir='ltr'>(3)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2013_05_01_archive.html'>May</a>
<span class='post-count' dir='ltr'>(4)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2013_04_01_archive.html'>April</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2013_02_01_archive.html'>February</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2013_01_01_archive.html'>January</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/search?updated-min=2012-01-01T00:00:00-08:00&amp;updated-max=2013-01-01T00:00:00-08:00&amp;max-results=15'>2012</a>
<span class='post-count' dir='ltr'>(15)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2012_12_01_archive.html'>December</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2012_11_01_archive.html'>November</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2012_10_01_archive.html'>October</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2012_09_01_archive.html'>September</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2012_08_01_archive.html'>August</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2012_07_01_archive.html'>July</a>
<span class='post-count' dir='ltr'>(5)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2012_06_01_archive.html'>June</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2012_04_01_archive.html'>April</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2012_03_01_archive.html'>March</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate expanded'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy toggle-open'>&#9660;&#160;</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/search?updated-min=2011-01-01T00:00:00-08:00&amp;updated-max=2012-01-01T00:00:00-08:00&amp;max-results=19'>2011</a>
<span class='post-count' dir='ltr'>(19)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2011_11_01_archive.html'>November</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2011_10_01_archive.html'>October</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2011_08_01_archive.html'>August</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate expanded'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy toggle-open'>&#9660;&#160;</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2011_06_01_archive.html'>June</a>
<span class='post-count' dir='ltr'>(6)</span>
<ul class='posts'>
<li><a href='http://directed-procrastination.blogspot.com/2011/06/emacs-pinky.html'>Emacs Pinky</a></li>
<li><a href='http://directed-procrastination.blogspot.com/2011/06/introducting-index-mapped-arrays.html'>Introducting Index-Mapped-Arrays</a></li>
<li><a href='http://directed-procrastination.blogspot.com/2011/06/versioned-arrays.html'>Versioned Arrays</a></li>
<li><a href='http://directed-procrastination.blogspot.com/2011/06/syncing-emacs-with-google-documents.html'>Syncing Emacs with Google Documents</a></li>
<li><a href='http://directed-procrastination.blogspot.com/2011/06/quicklisp.html'>Quicklisp</a></li>
<li><a href='http://directed-procrastination.blogspot.com/2011/06/bitcoin-is-for-drug-lords-and.html'>Bitcoin is for drug lords and terrorists?</a></li>
</ul>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2011_05_01_archive.html'>May</a>
<span class='post-count' dir='ltr'>(3)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2011_04_01_archive.html'>April</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2011_02_01_archive.html'>February</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2011_01_01_archive.html'>January</a>
<span class='post-count' dir='ltr'>(3)</span>
</li>
</ul>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/search?updated-min=2010-01-01T00:00:00-08:00&amp;updated-max=2011-01-01T00:00:00-08:00&amp;max-results=5'>2010</a>
<span class='post-count' dir='ltr'>(5)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2010_12_01_archive.html'>December</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2010_10_01_archive.html'>October</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://directed-procrastination.blogspot.com/2010_09_01_archive.html'>September</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class='clear'></div>
<span class='widget-item-control'>
<span class='item-control blog-admin'>
<a class='quickedit' href='//www.blogger.com/rearrange?blogID=7788284466297989064&widgetType=BlogArchive&widgetId=BlogArchive1&action=editWidget&sectionId=sidebar-right-1' onclick='return _WidgetManager._PopupConfig(document.getElementById("BlogArchive1"));' target='configBlogArchive1' title='Edit'>
<img alt='' height='18' src='http://img1.blogblog.com/img/icon18_wrench_allbkg.png' width='18'/>
</a>
</span>
</span>
<div class='clear'></div>
</div>
</div><div class='widget Profile' id='Profile1'>
<h2>About Me</h2>
<div class='widget-content'>
<dl class='profile-datablock'>
<dt class='profile-data'>
<a class='profile-name-link g-profile' href='http://www.blogger.com/profile/18011396231251001677' rel='author' style='background-image: url(//www.blogger.com/img/logo-16.png);'>
Zach
</a>
</dt>
</dl>
<a class='profile-link' href='http://www.blogger.com/profile/18011396231251001677' rel='author'>View my complete profile</a>
<div class='clear'></div>
<span class='widget-item-control'>
<span class='item-control blog-admin'>
<a class='quickedit' href='//www.blogger.com/rearrange?blogID=7788284466297989064&widgetType=Profile&widgetId=Profile1&action=editWidget&sectionId=sidebar-right-1' onclick='return _WidgetManager._PopupConfig(document.getElementById("Profile1"));' target='configProfile1' title='Edit'>
<img alt='' height='18' src='http://img1.blogblog.com/img/icon18_wrench_allbkg.png' width='18'/>
</a>
</span>
</span>
<div class='clear'></div>
</div>
</div><div class='widget HTML' id='HTML1'>
<div class='widget-content'>
<div id="imagesBlock" style="float: left;">

<a href="http://www.fsf.org/register_form?referrer=7095"><img src="http://3.bp.blogspot.com/_BKQjDCXV_hY/TUfBlnDNnvI/AAAAAAAAABE/i9282MoLIkc/s1600/getButton.png" alt="[FSF Associate Member]" width="88" height="31" /></a>

<div style="width: 128px; height: 54px; overflow: hidden">
<a href="https://www.eff.org/join"><img width="88px" src="https://www.eff.org/sites/default/files/eff-join.png" alt="Join EFF!" border="0" /></a>
</div>

</div>

<div style="margin-top: 18px">
<a href='http://www.catb.org/hacker-emblem/'>
<img src='http://www.catb.org/hacker-emblem/glider.png' alt='hacker emblem' /></a>
</div>
</div>
<div class='clear'></div>
<span class='widget-item-control'>
<span class='item-control blog-admin'>
<a class='quickedit' href='//www.blogger.com/rearrange?blogID=7788284466297989064&widgetType=HTML&widgetId=HTML1&action=editWidget&sectionId=sidebar-right-1' onclick='return _WidgetManager._PopupConfig(document.getElementById("HTML1"));' target='configHTML1' title='Edit'>
<img alt='' height='18' src='http://img1.blogblog.com/img/icon18_wrench_allbkg.png' width='18'/>
</a>
</span>
</span>
<div class='clear'></div>
</div><div class='widget Followers' id='Followers1'>
<h2 class='title'>Followers</h2>
<div class='widget-content'>
<div id='Followers1-wrapper'>
<div style='margin-right:2px;'>
<script type="text/javascript">
        if (!window.google || !google.friendconnect) {
          document.write('<script type="text/javascript"' +
              'src="//www.google.com/friendconnect/script/friendconnect.js">' +
              '</scr' + 'ipt>');
        }
      </script>
<script type="text/javascript">
      if (!window.registeredBloggerCallbacks) {
        window.registeredBloggerCallbacks = true;

        

        
        gadgets.rpc.register('requestReload', function() {
          document.location.reload();
        });

        
        gadgets.rpc.register('requestSignOut', function(siteId) {
          
          google.friendconnect.container.openSocialSiteId = siteId;
          google.friendconnect.requestSignOut();
        });
      }
    </script>
<script type="text/javascript">
    
    function registerGetBlogUrls() {
      gadgets.rpc.register('getBlogUrls', function() {
        var holder = {};
        
          
          
          
            holder.postFeed = "http://www.blogger.com/feeds/7788284466297989064/posts/default";
          
          
          
            holder.commentFeed = "http://www.blogger.com/feeds/7788284466297989064/comments/default";
          
          holder.currentBlogUrl = "http://directed-procrastination.blogspot.com/";
          holder.currentBlogId = "7788284466297989064";
        
        return holder;
      });
    }
  </script>
<script type="text/javascript">
  if (!window.registeredCommonBloggerCallbacks) {
    window.registeredCommonBloggerCallbacks = true;

    gadgets.rpc.register('resize_iframe', function(height) {
      var el = document.getElementById(this['f']);
      if (el) {
        el.style.height = height + 'px';
      }
    });

    
    gadgets.rpc.register('set_pref', function() {});

    registerGetBlogUrls();
  }
  </script>
<div id="div-9v7hc3leidc2" style="width: 100%; "></div>
<script type="text/javascript">
    var skin = {};
    skin['FACE_SIZE'] = '32';
    skin['HEIGHT'] = "260";
    skin['TITLE'] = "Followers";
    skin['BORDER_COLOR'] = "transparent";
    skin['ENDCAP_BG_COLOR'] = "transparent";
    skin['ENDCAP_TEXT_COLOR'] = "#d9d9d9";
    skin['ENDCAP_LINK_COLOR'] = "#b9b9b9";
    skin['ALTERNATE_BG_COLOR'] = "transparent";
    
    skin['CONTENT_BG_COLOR'] = "transparent";
    skin['CONTENT_LINK_COLOR'] = "#b9b9b9";
    skin['CONTENT_TEXT_COLOR'] = "#d9d9d9";
    skin['CONTENT_SECONDARY_LINK_COLOR'] = "#b9b9b9";
    skin['CONTENT_SECONDARY_TEXT_COLOR'] = "#666666";
    skin['CONTENT_HEADLINE_COLOR'] = "#ffffff";
    skin['FONT_FACE'] = "normal normal 14px Droid Serif";
    google.friendconnect.container.setParentUrl("/");
    google.friendconnect.container["renderMembersGadget"](
    {id: "div-9v7hc3leidc2",
     height: 260,
     
     
     
     site: "02571664308028120814",
     
     locale: 'en' },
     skin);
  </script>
</div>
</div>
<div class='clear'></div>
<span class='widget-item-control'>
<span class='item-control blog-admin'>
<a class='quickedit' href='//www.blogger.com/rearrange?blogID=7788284466297989064&widgetType=Followers&widgetId=Followers1&action=editWidget&sectionId=sidebar-right-1' onclick='return _WidgetManager._PopupConfig(document.getElementById("Followers1"));' target='configFollowers1' title='Edit'>
<img alt='' height='18' src='http://img1.blogblog.com/img/icon18_wrench_allbkg.png' width='18'/>
</a>
</span>
</span>
<div class='clear'></div>
</div>
</div><div class='widget LinkList' id='LinkList1'>
<h2>Awesome Blogs</h2>
<div class='widget-content'>
<ul>
<li><a href='https://0fps.wordpress.com/'>0 FPS</a></li>
<li><a href='http://datagenetics.com/blog.html'>DataGenetics</a></li>
<li><a href='https://jeremykun.wordpress.com/'>Math and Programming</a></li>
<li><a href='http://mathlesstraveled.com/'>The Math Less Traveled</a></li>
<li><a href='http://what-if.xkcd.com/'>What If?</a></li>
</ul>
<div class='clear'></div>
<span class='widget-item-control'>
<span class='item-control blog-admin'>
<a class='quickedit' href='//www.blogger.com/rearrange?blogID=7788284466297989064&widgetType=LinkList&widgetId=LinkList1&action=editWidget&sectionId=sidebar-right-1' onclick='return _WidgetManager._PopupConfig(document.getElementById("LinkList1"));' target='configLinkList1' title='Edit'>
<img alt='' height='18' src='http://img1.blogblog.com/img/icon18_wrench_allbkg.png' width='18'/>
</a>
</span>
</span>
<div class='clear'></div>
</div>
</div></div>
</aside>
</div>
</div>
</div>
<div style='clear: both'></div>
<!-- columns -->
</div>
<!-- main -->
</div>
</div>
<div class='main-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<footer>
<div class='footer-outer'>
<div class='footer-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left footer-fauxborder-left'>
<div class='fauxborder-right footer-fauxborder-right'></div>
<div class='region-inner footer-inner'>
<div class='foot section' id='footer-1'></div>
<table border='0' cellpadding='0' cellspacing='0' class='section-columns columns-2'>
<tbody>
<tr>
<td class='first columns-cell'>
<div class='foot section' id='footer-2-1'></div>
</td>
<td class='columns-cell'>
<div class='foot section' id='footer-2-2'></div>
</td>
</tr>
</tbody>
</table>
<!-- outside of the include in order to lock Attribution widget -->
<div class='foot section' id='footer-3'><div class='widget Attribution' id='Attribution1'>
<div class='widget-content' style='text-align: center;'>
Template images by <a href='http://www.istockphoto.com/googleimages.php?id=9907478&platform=blogger&langregion=en' target='_blank'>sebastian-julian</a>. Powered by <a href='http://www.blogger.com' target='_blank'>Blogger</a>.
</div>
<div class='clear'></div>
<span class='widget-item-control'>
<span class='item-control blog-admin'>
<a class='quickedit' href='//www.blogger.com/rearrange?blogID=7788284466297989064&widgetType=Attribution&widgetId=Attribution1&action=editWidget&sectionId=footer-3' onclick='return _WidgetManager._PopupConfig(document.getElementById("Attribution1"));' target='configAttribution1' title='Edit'>
<img alt='' height='18' src='http://img1.blogblog.com/img/icon18_wrench_allbkg.png' width='18'/>
</a>
</span>
</span>
<div class='clear'></div>
</div></div>
</div>
</div>
<div class='footer-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</footer>
<!-- content -->
</div>
</div>
<div class='content-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</div>
<script type='text/javascript'>
    window.setTimeout(function() {
        document.body.className = document.body.className.replace('loading', '');
      }, 10);
  </script>
<script type="text/javascript">
if (window.jstiming) window.jstiming.load.tick('widgetJsBefore');
</script><script type="text/javascript" src="https://www.blogger.com/static/v1/widgets/2423294629-widgets.js"></script>
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<script type='text/javascript'>
if (typeof(BLOG_attachCsiOnload) != 'undefined' && BLOG_attachCsiOnload != null) { window['blogger_templates_experiment_id'] = "templatesV2";window['blogger_blog_id'] = '7788284466297989064';BLOG_attachCsiOnload('archive_'); }_WidgetManager._Init('//www.blogger.com/rearrange?blogID\x3d7788284466297989064','//directed-procrastination.blogspot.com/2011_06_01_archive.html','7788284466297989064');
_WidgetManager._SetDataContext([{'name': 'blog', 'data': {'blogId': '7788284466297989064', 'bloggerUrl': 'http://www.blogger.com', 'title': 'directed procrastination', 'pageType': 'archive', 'url': 'http://directed-procrastination.blogspot.com/2011_06_01_archive.html', 'canonicalUrl': 'http://directed-procrastination.blogspot.com/2011_06_01_archive.html', 'canonicalHomepageUrl': 'http://directed-procrastination.blogspot.com/', 'homepageUrl': 'http://directed-procrastination.blogspot.com/', 'blogspotFaviconUrl': 'http://directed-procrastination.blogspot.com/favicon.ico', 'enabledCommentProfileImages': true, 'adultContent': false, 'disableAdSenseWidget': false, 'analyticsAccountNumber': '', 'searchLabel': '', 'searchQuery': '', 'pageName': 'June 2011', 'pageTitle': 'directed procrastination: June 2011', 'encoding': 'UTF-8', 'locale': 'en', 'localeUnderscoreDelimited': 'en', 'isPrivate': false, 'isMobile': false, 'isMobileRequest': false, 'mobileClass': '', 'isPrivateBlog': false, 'languageDirection': 'ltr', 'feedLinks': '\74link rel\75\42alternate\42 type\75\42application/atom+xml\42 title\75\42directed procrastination - Atom\42 href\75\42http://directed-procrastination.blogspot.com/feeds/posts/default\42 /\76\n\74link rel\75\42alternate\42 type\75\42application/rss+xml\42 title\75\42directed procrastination - RSS\42 href\75\42http://directed-procrastination.blogspot.com/feeds/posts/default?alt\75rss\42 /\76\n\74link rel\75\42service.post\42 type\75\42application/atom+xml\42 title\75\42directed procrastination - Atom\42 href\75\42http://www.blogger.com/feeds/7788284466297989064/posts/default\42 /\76\n', 'meTag': '', 'openIdOpTag': '', 'latencyHeadScript': '\74script type\75\42text/javascript\42\76(function() { var b\75window,f\75\42chrome\42,g\75\42tick\42,k\75\42jstiming\42;(function(){function d(a){this.t\75{};this.tick\75function(a,d,c){var e\75void 0!\75c?c:(new Date).getTime();this.t[a]\75[e,d];if(void 0\75\75c)try{b.console.timeStamp(\42CSI/\42+a)}catch(h){}};this[g](\42start\42,null,a)}var a;b.performance\46\46(a\75b.performance.timing);var n\75a?new d(a.responseStart):new d;b.jstiming\75{Timer:d,load:n};if(a){var c\75a.navigationStart,h\75a.responseStart;0\74c\46\46h\76\75c\46\46(b[k].srt\75h-c)}if(a){var e\75b[k].load;0\74c\46\46h\76\75c\46\46(e[g](\42_wtsrt\42,void 0,c),e[g](\42wtsrt_\42,\42_wtsrt\42,h),e[g](\42tbsd_\42,\42wtsrt_\42))}try{a\75null,\nb[f]\46\46b[f].csi\46\46(a\75Math.floor(b[f].csi().pageT),e\46\0460\74c\46\46(e[g](\42_tbnd\42,void 0,b[f].csi().startE),e[g](\42tbnd_\42,\42_tbnd\42,c))),null\75\75a\46\46b.gtbExternal\46\46(a\75b.gtbExternal.pageT()),null\75\75a\46\46b.external\46\46(a\75b.external.pageT,e\46\0460\74c\46\46(e[g](\42_tbnd\42,void 0,b.external.startE),e[g](\42tbnd_\42,\42_tbnd\42,c))),a\46\46(b[k].pt\75a)}catch(p){}})();b.tickAboveFold\75function(d){var a\0750;if(d.offsetParent){do a+\75d.offsetTop;while(d\75d.offsetParent)}d\75a;750\76\75d\46\46b[k].load[g](\42aft\42)};var l\75!1;function m(){l||(l\75!0,b[k].load[g](\42firstScrollTime\42))}b.addEventListener?b.addEventListener(\42scroll\42,m,!1):b.attachEvent(\42onscroll\42,m);\n })();\74/script\076', 'mobileHeadScript': '', 'ieCssRetrofitLinks': '\74!--[if IE]\76\74script type\75\42text/javascript\42 src\75\42https://www.blogger.com/static/v1/jsbin/1735305980-ieretrofit.js\42\76\74/script\76\n\74![endif]--\076', 'view': '', 'dynamicViewsCommentsSrc': '//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js', 'dynamicViewsScriptSrc': '//www.blogblog.com/dynamicviews/76f25a6f2e06af76', 'plusOneApiSrc': 'https://apis.google.com/js/plusone.js', 'sf': 'n'}}, {'name': 'skin', 'data': {'vars': {'date_border_size': '0', 'description_font': 'normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'body_background_gradient_cap': 'none', 'tabs_selected_background_color': '#000000', 'footer_background_gradient': 'none', 'date_background': 'transparent none no-repeat scroll top left', 'widget_border_radius': '0', 'post_title_text_color': '#ffffff', 'widget_font': 'normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'widget_link_hover_color': '#b9b9b9', 'link_visited_color': '#666666', 'date_space': '30px', 'post_title_font': 'normal bold 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'tabs_text_color': '#ffffff', 'title_separator_border_size': '1px', 'header_background_gradient': 'none', 'widget_outer_background_gradient': 'none', 'widget_link_color': '#999999', 'widget_title_font': 'normal bold 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'widget_outer_background_color': 'transparent', 'date_last_border_radius_bottom': '0', 'widget_outer_margin_top': '0', 'shadow_spread': '0', 'title_shadow_spread': '-1px', 'body_background': '#000000 url(http://themes.googleusercontent.com/image?id\07518Yv0qxYK1UbLtMBOpx2o3N9Z0wqsOsgfdJWTmpRs4JewWLu3-HxArr4pRGA94hV2vwu4) no-repeat fixed top center /* Credit: sebastian-julian (http://www.istockphoto.com/googleimages.php?id\759907478\46platform\75blogger) */', 'outer_shadow_spread': '0', 'keycolor': '#000000', 'image_shadow_spread': '0', 'image_background_color': '#000000', 'header_font': 'normal bold 40px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'header_background_color': 'transparent', 'date_header_border_radius_top': '0', 'widget_border_bevel_color': '#000000', 'tabs_border_color': '#000000', 'widget_background_color': '#000000', 'date_position': 'static', 'post_first_padding_top': '0', 'tabs_background_gradient': 'none', 'date_border_color': '#999999', 'tabs_background_color': '#000000', 'widget_link_visited_color': '#666666', 'feed_text_color': '#ffffff', 'header_margin_top': '0', 'link_hover_color': '#ffffff', 'date_last_space_bottom': '20px', 'header_margin_bottom': '0', 'date_padding_bottom': '0', 'list_separator_border_size': '1px', 'description_text_color': '#ffffff', 'body_text_color': '#d9d9d9', 'header_padding_top': '22px', 'post_border_color': '#000000', 'footer_text_color': '#ffffff', 'post_background_color': '#000000', 'pager_space_top': '1em', 'endSide': 'right', 'startSide': 'left', 'tabs_font': 'normal bold 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'body_font': 'normal normal 14px Droid Serif', 'date_first_border_radius_top': '0', 'date_header_position': '15px', 'date_text_color': '#f3f3f3', 'widget_title_text_color': '#ffffff', 'image_border_color': 'transparent', 'separator_outdent': '15px', 'widget_text_color': '#ffffff', 'link_color': '#b9b9b9', 'widget_border_color': '#000000', 'pager_border_radius_top': '0', 'feed_link_color': '#999999', 'header_text_color': '#ffffff', 'footer_background_color': '#000000', 'widget_padding_top': '8px', 'feed_link_visited_color': '#666666', 'feed_link_hover_color': '#b9b9b9', 'date_font': 'normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'tabs_selected_text_color': '#ffffff', 'date_side': 'right', 'post_border_bevel_color': '#000000', 'widget_padding_side': '15px', 'body_background_color': '#000000', 'image_border_radius': '0', 'pager_background_color': '#000000', 'widget_alternate_text_color': '#666666'}, 'override': ''}}, {'name': 'view', 'data': {'classic': {'name': 'classic', 'url': '?view\75classic'}, 'flipcard': {'name': 'flipcard', 'url': '?view\75flipcard'}, 'magazine': {'name': 'magazine', 'url': '?view\75magazine'}, 'mosaic': {'name': 'mosaic', 'url': '?view\75mosaic'}, 'sidebar': {'name': 'sidebar', 'url': '?view\75sidebar'}, 'snapshot': {'name': 'snapshot', 'url': '?view\75snapshot'}, 'timeslide': {'name': 'timeslide', 'url': '?view\75timeslide'}}}]);
_WidgetManager._RegisterWidget('_HTMLView', new _WidgetInfo('HTML3', 'sidebar-right-1', null, document.getElementById('HTML3'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogArchiveView', new _WidgetInfo('BlogArchive1', 'sidebar-right-1', null, document.getElementById('BlogArchive1'), {'languageDirection': 'ltr'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_ProfileView', new _WidgetInfo('Profile1', 'sidebar-right-1', null, document.getElementById('Profile1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HTMLView', new _WidgetInfo('HTML1', 'sidebar-right-1', null, document.getElementById('HTML1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_FollowersView', new _WidgetInfo('Followers1', 'sidebar-right-1', null, document.getElementById('Followers1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_LinkListView', new _WidgetInfo('LinkList1', 'sidebar-right-1', null, document.getElementById('LinkList1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AttributionView', new _WidgetInfo('Attribution1', 'footer-3', null, document.getElementById('Attribution1'), {'attribution': 'Template images by \74a href\75\47http://www.istockphoto.com/googleimages.php?id\759907478\46platform\75blogger\46langregion\75en\47 target\75\47_blank\47\76sebastian-julian\74/a\76. Powered by \74a href\75\47http://www.blogger.com\47 target\75\47_blank\47\76Blogger\74/a\76.'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HeaderView', new _WidgetInfo('Header1', 'header', null, document.getElementById('Header1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_NavbarView', new _WidgetInfo('Navbar1', 'navbar', null, document.getElementById('Navbar1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogView', new _WidgetInfo('Blog1', 'main', null, document.getElementById('Blog1'), {'cmtInteractionsEnabled': false, 'lightboxEnabled': true, 'lightboxModuleUrl': 'https://www.blogger.com/static/v1/jsbin/1845872262-lbx.js', 'lightboxCssUrl': 'https://www.blogger.com/static/v1/v-css/2392111094-lightbox_bundle.css'}, 'displayModeFull'));
</script>
</body>
</html>
