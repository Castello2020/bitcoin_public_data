http://www.banquise.org/software/asterisk/asterisk-dadhi-module-not-working-when-using-xen/
HTTP/1.1 200 OK
Server: cloudflare-nginx
Date: Wed, 23 Jul 2014 16:02:29 GMT
Content-Type: text/html; charset=UTF-8
Connection: close
Set-Cookie: __cfduid=d6e4ed757899145a7a931f4614a44e9971406131347653; expires=Mon, 23-Dec-2019 23:50:00 GMT; path=/; domain=.banquise.org; HttpOnly
Set-Cookie: PHPSESSID=nmpbgo9gibnplao6os2lkv0bu6; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
Pragma: no-cache
X-CF-Powered-By: WP 1.3.14
Link: <http://www.banquise.org/?p=224>; rel=shortlink
Last-Modified: Wed, 23 Jul 2014 16:02:29 GMT
X-Powered-By: W3 Total Cache/0.9.4
Vary: Accept-Encoding
X-Pingback: http://www.banquise.org/xmlrpc.php
Strict-Transport-Security: max-age=31536000; includeSubdomains;
X-Frame-Options: SAMEORIGIN
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
CF-RAY: 14e91a3adff80f21-IAD
Content-Encoding: gzip


<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<link rel="stylesheet" type="text/css" media="all" href="http://www.banquise.org/wp-content/themes/mystique/style.css"/>
<link rel="pingback" href="http://www.banquise.org/xmlrpc.php"/>
<link rel="pingback" href="http://www.banquise.org/xmlrpc.php"/>
 
<title>Asterisk: DADHI module not working when using Xen - Luc Stepniewski&#039;s Blog</title>
<link rel="canonical" href="http://www.banquise.org/software/asterisk/asterisk-dadhi-module-not-working-when-using-xen/"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:type" content="article"/>
<meta property="og:title" content="Asterisk: DADHI module not working when using Xen - Luc Stepniewski&#039;s Blog"/>
<meta property="og:description" content="If you want to use any Asterisk module that needs a timer, like MeetMe, you have to use a module named dahdi (previously named zaptel). DAHDI has one module for each Digium supported card (B410P), and a dummy module (named dahdi_dummy) if you don&#8217;t have a hardware card, like me. The problem appears when you [...]"/>
<meta property="og:url" content="http://www.banquise.org/software/asterisk/asterisk-dadhi-module-not-working-when-using-xen/"/>
<meta property="og:site_name" content="Luc Stepniewski&#039;s Blog"/>
<meta property="article:tag" content="asterisk"/>
<meta property="article:tag" content="digium"/>
<meta property="article:tag" content="hardware card"/>
<meta property="article:tag" content="rtc"/>
<meta property="article:tag" content="timer"/>
<meta property="article:tag" content="xen"/>
<meta property="article:section" content="asterisk"/>
<meta property="article:section" content="software"/>
<meta property="article:section" content="voip"/>
<meta property="article:published_time" content="2009-03-26T12:30:54+00:00"/>
<meta property="article:modified_time" content="2012-11-16T10:53:54+00:00"/>
<meta property="og:updated_time" content="2012-11-16T10:53:54+00:00"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:site" content="@lstep"/>
<meta name="twitter:domain" content="Luc Stepniewski&#039;s Blog"/>
<meta name="twitter:creator" content="@lstep"/>
 
<link rel="alternate" type="application/rss+xml" title="Luc Stepniewski&#039;s Blog &raquo; Feed" href="http://www.banquise.org/feed/"/>
<link rel="alternate" type="application/rss+xml" title="Luc Stepniewski&#039;s Blog &raquo; Comments Feed" href="http://www.banquise.org/comments/feed/"/>
<link rel="alternate" type="application/rss+xml" title="Luc Stepniewski&#039;s Blog &raquo; Asterisk: DADHI module not working when using Xen Comments Feed" href="http://www.banquise.org/software/asterisk/asterisk-dadhi-module-not-working-when-using-xen/feed/"/>
<link rel='stylesheet' id='sweetcaptcha_Stylesheet-css' href='http://www.banquise.org/wp-content/plugins/sweetcaptcha-revolutionary-free-captcha-service/css/style.css?ver=3.0.8' type='text/css' media='all'/>
<link rel='stylesheet' id='digg-digg-css' href='http://www.banquise.org/wp-content/plugins/digg-digg/css/diggdigg-style.css?ver=5.3.6' type='text/css' media='screen'/>
<link rel='stylesheet' id='wp-syntax-css-css' href='http://www.banquise.org/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.0' type='text/css' media='all'/>
<script type="text/javascript" src="http://www.banquise.org/wp-content/plugins/yahoo-shortcuts/scripts/yfsc-core.js"></script>
<script type="text/javascript" src="http://www.banquise.org/wp-content/plugins/yahoo-shortcuts/scripts/yfsc-attribution.js"></script><script type='text/javascript' src='http://www.banquise.org/wp-includes/js/jquery/jquery.js?ver=1.11.0'></script>
<script type='text/javascript' src='http://www.banquise.org/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://www.banquise.org/wp-content/plugins/sweetcaptcha-revolutionary-free-captcha-service/js/swtcptcf.js?ver=3.0.8'></script>
<script type='text/javascript' src='http://www.banquise.org/wp-content/plugins/google-analyticator/external-tracking.min.js?ver=6.4.7.3'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.banquise.org/xmlrpc.php?rsd"/>
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.banquise.org/wp-includes/wlwmanifest.xml"/>
<meta name="generator" content="WordPress 3.9.1"/>
<link rel='shortlink' href='http://www.banquise.org/?p=224'/>
 
<link rel="stylesheet" type="text/css" href="http://www.gradstein.info/wp-content/plugins/cforms/styling/cforms.css"/>
<script type="text/javascript" src="http://www.gradstein.info/wp-content/plugins/cforms/js/cforms.js"></script>
 
<link href="http://www.banquise.org/wp-content/plugins/flickr-tag/css/flickrTag.css" type="text/css" rel="stylesheet"/>
<meta name="description" content="Luc Stepniewski\\\\\\\'s blogIf you want to use any Asterisk module that needs a timer, like MeetMe, you have to use a module named dahdi (previously named zaptel). DAHDI has one module for each Digium supported card (B410P), and a dummy module (named dahdi_dummy) if you don&#8217;t have a hardware card, like me. The problem appears when you [...]"/>
<meta name="keywords" content="luc stepniewski, luc, stepniewski, linux, python, twisted, pylons, turbogears, security, firewall, access, rubik, rubik\\\\\\\'s, cube, twistedmatrix, adelux, france, asterisk, software, voip"/><link rel="stylesheet" type="text/css" href="http://www.banquise.org/wp-content/plugins/wp-recaptcha/recaptcha.css"/><script type="text/javascript" src="http://fe.shortcuts.search.yahoo.com/script?fr=csc_wordpress"></script>
<script type="text/javascript" src="http://www.banquise.org/index.php?ysc_action=ysc_js&ysc_page=publish"></script>
<link rel="stylesheet" href="http://www.banquise.org/index.php?ysc_action=ysc_published_css" type="text/css" media="screen"/>
<style type="text/css">.recentcomments a{display:inline!important;padding:0!important;margin:0!important;}</style>
 
<script type="text/javascript">
                var analyticsFileTypes = [''];
                            var analyticsSnippet = 'enabled';
                var analyticsEventTracking = 'enabled';
            </script>
<script type="text/javascript">
	var _gaq = _gaq || [];
  
	_gaq.push(['_setAccount', 'UA-28004990-1']);
    _gaq.push(['_addDevId', 'i9k95']); // Google Analyticator App ID with Google
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
<link type="text/css" rel="stylesheet" href="http://www.banquise.org/wp-content/plugins/wp-syntax-download-extension/wp-syntax-download-extension.css"/><link rel="author" href="https://plus.google.com/116473000615463224558/"/>
</head>
<body class="single single-post postid-224 single-format-standard col-2-right fixed title-asterisk-dadhi-module-not-working-when-using-xen category-asterisk category-software category-voip tag-asterisk tag-digium tag-hardware-card tag-rtc tag-timer tag-xen author-lstep browser-unknown"><script type="text/javascript">//<![CDATA[try{(function(a){var b="http://",c="www.banquise.org",d="/cdn-cgi/cl/",e="img.gif",f=new a;f.src=[b,c,d,e].join("")})(Image)}catch(e){}//]]></script>
 
<div id="page">
<div id="page-ext">
 
<div id="header">
<div class="page-content">
<div id="site-title" class="clear-block">
<div id="logo"><a href="http://www.banquise.org">Luc <span class="alt">Stepniewski&#039;s</span> Blog</a></div> </div>
</div>
<div class="shadow-left page-content">
<div class="shadow-right nav nav-main">
<div class="menu-menu-pages-container"><ul id="menu-menu-pages" class="menu fadeThis clear-block"><li class="home "><a href="http://www.banquise.org/" title="Home Page">Home<span class="p"></span></a></li><li class="page-about"><a href="http://www.banquise.org/about/">About<span class="p"></span></a></li><li class="page-author"><a href="http://www.banquise.org/author/">Author<span class="p"></span></a><ul class='children'><li class="page-genealogy"><a href="http://www.banquise.org/author/genealogy/">Genealogy<span class="p"></span></a><ul class='children'><li class="page-family-tree-of-lior-gradstein-genealogy"><a href="http://www.banquise.org/author/genealogy/family-tree-of-lior-gradstein-genealogy/">Family tree of Lior Gradstein Genealogy<span class="p"></span></a></li></ul></li></ul></li><li class="page-privacy-policy"><a href="http://www.banquise.org/privacy-policy/">Privacy Policy<span class="p"></span></a></li></ul></div> </div>
</div>
</div>
 
 
<div id="main" class="page-content">
<div id="main-ext" class="clear-block">
 
<div id="mask-3" class="clear-block">
<div id="mask-2">
<div id="mask-1">
 
<div id="primary-content">
<div class="post-links clear-block">
<div class="alignleft">&laquo; <a href="http://www.banquise.org/python/django-how-to-find-the-urlpath-youre-into-in-a-template-loaded-by-a-generic-view/" rel="prev">Django: How to find the url/path you&#8217;re into, in a template loaded by a generic view</a></div>
<div class="alignright"><a href="http://www.banquise.org/kid/new-chess-website-for-chess-educationpromotion/" rel="next">New chess website for Chess education/promotion</a> &raquo;</div>
</div>
 
<div id="post-224" class="post-224 post type-post status-publish format-standard hentry category-asterisk category-software category-voip tag-asterisk tag-digium tag-hardware-card tag-rtc tag-timer tag-xen primary count-1 odd author-lstep first">
<h1 class="title">Asterisk: DADHI module not working when using Xen</h1>
<div class="post-content clear-block">
<script type="text/javascript"></script><a id="dd_start"></a><p>If you want to use any <a href="http://www.asterisk.org/" class="liexternal">Asterisk</a> module that needs a timer, like MeetMe, you have to use a module named dahdi (previously named zaptel). DAHDI has one module for each Digium supported card (B410P), and a dummy module (named dahdi_dummy) if you don&#8217;t have a hardware card, like me.</p>
<p>The problem appears when you have your Asterisk in a Xen environment. Xen does not allow the use of the RTC, so when using Dahdi/meetme, you get the following in you logs:</p>
<blockquote><p>res_timing_dahdi.c: Asterisk has detected a problem with your DAHDI configuration and will shutdown for your protection.</p></blockquote>
<p>So get the sources, and let&#8217;s patch it!</p>
<p><code>svn co http://svn.digium.com/svn/dahdi/linux-complete/trunk DAHDI</code></p>
<p>In dahdi_dummy.c, you&#8217;ll have to comment the two defines USE_RTC, as in a Xen, you can&#8217;t use it:</p>
<div class="wp_syntax"><table><tr><td class="code"><pre class="diff" style="font-family:monospace;"># diff -u dahdi_dummy.c.ori dahdi_dummy.c
<span style="color: #888822;">--- dahdi_dummy.c.ori	2009-03-23 09:50:36.000000000 +0000</span>
<span style="color: #888822;">+++ dahdi_dummy.c	2009-03-23 08:55:38.000000000 +0000</span>
<span style="color: #440088;">@@ -59,11 +59,11 @@</span>
 #if defined<span style="">&#40;</span>CONFIG_HIGH_RES_TIMERS<span style="">&#41;</span> &amp;&amp; LINUX_VERSION_CODE &gt;= VERSION_CODE<span style="">&#40;</span><span style="">2</span>,<span style="">6</span>,<span style="">22</span><span style="">&#41;</span>
 #define USE_HIGHRESTIMER
 #else
<span style="color: #991111;">-#define USE_RTC</span>
<span style="color: #00b000;">+//#define USE_RTC</span>
 #endif
 #else
 #if <span style="">0</span>
<span style="color: #991111;">-#define USE_RTC</span>
<span style="color: #00b000;">+//#define USE_RTC</span>
 #endif
 #endif
 #endif</pre></td></tr></table></div>
<p>Then compile the module, as usual, with :</p>
<div class="wp_syntax"><table><tr><td class="code"><pre class="shell" style="font-family:monospace;">/etc/init.d/dahdi stop
make all
make install
make config</pre></td></tr></table></div>
<p>Verify that your module has been correctly installed:</p>
<div class="wp_syntax"><table><tr><td class="code"><pre class="shell" style="font-family:monospace;">ls -al ./2.6.24-19-xen/dahdi/dahdi_dummy.ko</pre></td></tr></table></div>
<p>Comment out all the defined modules in the /etc/dahdi/modules file.</p>
<div class="wp_syntax"><table><tr><td class="code"><pre class="shell" style="font-family:monospace;">/etc/init.d/dahdi start
# dmesg
1007539.576458] dahdi: Telephony Interface Registered on major 196
[1007539.576468] dahdi: Version: SVN-trunk-r6201M
[1007540.642839] dahdi: Registered tone zone 2 (France)</pre></td></tr></table></div>
<a id="dd_end"></a><div class='dd_outer'><div class='dd_inner'><div id='dd_ajax_float'><div class='dd_button_v'><a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.banquise.org/software/asterisk/asterisk-dadhi-module-not-working-when-using-xen/" data-count="vertical" data-text="Asterisk: DADHI module not working when using Xen" data-via="lstep"></a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></div><div style='clear:left'></div><div class='dd_button_v'><a href="http://bufferapp.com/add" class="buffer-add-button" data-count="vertical" data-url="http://www.banquise.org/software/asterisk/asterisk-dadhi-module-not-working-when-using-xen/" data-via=""></a><script type="text/javascript" src="http://static.bufferapp.com/js/button.js"></script></div><div style='clear:left'></div><div class='dd_button_v'><script src="http://connect.facebook.net/en_US/all.js#xfbml=1"></script><fb:like href="http://www.banquise.org/software/asterisk/asterisk-dadhi-module-not-working-when-using-xen/" send="false" show_faces="false" layout="box_count" width="50"></fb:like></div><div style='clear:left'></div><div class='dd_button_v'><script type='text/javascript' src='https://apis.google.com/js/plusone.js'></script><g:plusone size='tall' href='http://www.banquise.org/software/asterisk/asterisk-dadhi-module-not-working-when-using-xen/'></g:plusone></div><div style='clear:left'></div><div class='dd_button_v'><script type='text/javascript' src='http://platform.linkedin.com/in.js'></script><script type='IN/share' data-url='http://www.banquise.org/software/asterisk/asterisk-dadhi-module-not-working-when-using-xen/' data-counter='top'></script></div><div style='clear:left'></div><div class='dd_button_extra_v'><script type="text/javascript">jQuery(document).load(function(){ stLight.options({publisher:'ad568e69-d063-442f-8420-ca38e8736f44'}); });</script><div class="st_email_custom"><span id='dd_email_text'>email</span></div></div><div style='clear:left'></div><div class='dd_button_extra_v'><div id='dd_print_button'><span id='dd_print_text'><a href='javascript:window:print()'>print</a></span></div></div><div style='clear:left'></div></div></div></div><script type="text/javascript">var dd_offset_from_content = 40;var dd_top_offset_from_content = 0;var dd_override_start_anchor_id = "";var dd_override_top_offset = "";</script><script type="text/javascript" src="http://www.banquise.org/wp-content/plugins/digg-digg//js/diggdigg-floating-bar.js?ver=5.3.6"></script>
<div style="font-size:0px;height:0px;line-height:0px;margin:0;padding:0;clear:both"></div><div style="clear:both;"></div><h3>Related posts:</h3><div style="clear: both"></div><div style="border: 0pt none ; margin: 0pt; padding: 0pt;"><a onmouseout="this.style.backgroundColor='#FFFFFF'" onmouseover="this.style.backgroundColor='#EEEEEF'" style="background-color: #FFFFFF; border-right: 1px solid #DDDDDD; border-bottom: medium none; margin: 0pt; padding: 6px; display: block; float: left; text-decoration: none; text-align: left; cursor: pointer;" href="http://www.banquise.org/software/asterisk/change-in-syntax-and-functionnality-in-asterisk-astdb-functions/"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; width: 150px; height: 225px;"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; background: transparent url(http://www.gradstein.info/wp-content/plugins/related-posts-thumbnails/img/default.png) no-repeat scroll 0% 0%; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; width: 150px; height: 150px;"></div><div style="border: 0pt none; margin: 3px 0pt 0pt; padding: 0pt; font-family: ; font-style: normal; font-variant: normal; font-weight: normal; font-size: 12px; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none; color: #333333;">Change in syntax and functionality in Asterisk AstDB functions</div></div></a><a onmouseout="this.style.backgroundColor='#FFFFFF'" onmouseover="this.style.backgroundColor='#EEEEEF'" style="background-color: #FFFFFF; border-right: 1px solid #DDDDDD; border-bottom: medium none; margin: 0pt; padding: 6px; display: block; float: left; text-decoration: none; text-align: left; cursor: pointer;" href="http://www.banquise.org/software/asterisk/asterisk-cirpack-problem-with-free-and-freephonienet/"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; width: 150px; height: 225px;"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; background: transparent url(http://www.gradstein.info/wp-content/plugins/related-posts-thumbnails/img/default.png) no-repeat scroll 0% 0%; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; width: 150px; height: 150px;"></div><div style="border: 0pt none; margin: 3px 0pt 0pt; padding: 0pt; font-family: ; font-style: normal; font-variant: normal; font-weight: normal; font-size: 12px; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none; color: #333333;">Asterisk cirpack problem with Free and freephonie.net</div></div></a><a onmouseout="this.style.backgroundColor='#FFFFFF'" onmouseover="this.style.backgroundColor='#EEEEEF'" style="background-color: #FFFFFF; border-right: 1px solid #DDDDDD; border-bottom: medium none; margin: 0pt; padding: 6px; display: block; float: left; text-decoration: none; text-align: left; cursor: pointer;" href="http://www.banquise.org/python/making-and-deploying-a-twisted-project-as-a-service-under-windows/"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; width: 150px; height: 225px;"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; background: transparent url(http://www.banquise.org/wp-content/uploads/2005/06/twsited_logo-150x150.png) no-repeat scroll 0% 0%; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; width: 150px; height: 150px;"></div><div style="border: 0pt none; margin: 3px 0pt 0pt; padding: 0pt; font-family: ; font-style: normal; font-variant: normal; font-weight: normal; font-size: 12px; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none; color: #333333;">Making and deploying a Twisted project as a service under Windows</div></div></a></div><div style="clear: both"></div>
Tags: <a href="http://www.banquise.org/tag/asterisk/" title="asterisk" rel="tag">asterisk</a>, <a href="http://www.banquise.org/tag/digium/" title="digium" rel="tag">digium</a>, <a href="http://www.banquise.org/tag/hardware-card/" title="hardware card" rel="tag">hardware card</a>, <a href="http://www.banquise.org/tag/rtc/" title="rtc" rel="tag">rtc</a>, <a href="http://www.banquise.org/tag/timer/" title="timer" rel="tag">timer</a>, <a href="http://www.banquise.org/tag/xen/" title="xen" rel="tag">xen</a><br/>
</div>
<div class="post-tags clear-block">
<a href="http://www.banquise.org/tag/asterisk/" rel="tag">asterisk</a> <a href="http://www.banquise.org/tag/digium/" rel="tag">digium</a> <a href="http://www.banquise.org/tag/hardware-card/" rel="tag">hardware card</a> <a href="http://www.banquise.org/tag/rtc/" rel="tag">rtc</a> <a href="http://www.banquise.org/tag/timer/" rel="tag">timer</a> <a href="http://www.banquise.org/tag/xen/" rel="tag">xen</a> </div>
<div class="post-meta">
<div class="details">
<p>
This entry was posted by <a href="http://www.banquise.org/author/lstep/" title="Posts by Lior Gradstein ">Lior Gradstein</a> on March 26, 2009 at 12:30, and is filed under <a href="http://www.banquise.org/category/software/asterisk/" title="View all posts in asterisk" rel="category tag">asterisk</a>, <a href="http://www.banquise.org/category/software/" title="View all posts in software" rel="category tag">software</a>, <a href="http://www.banquise.org/category/voip/" title="View all posts in voip" rel="category tag">voip</a>. Follow any responses to this post through <a href="http://www.banquise.org/software/asterisk/asterisk-dadhi-module-not-working-when-using-xen/feed/" title="RSS 2.0">RSS 2.0</a>.
Both comments and pings are currently closed. </p>
</div>
</div>
<div class="controls">
</div>
</div>
 
<h3 class="title">
5 comments</h3>
<ul id="comments">
 
<li>
<div id="comment-3687" class="comment even thread-even depth-1 clear-block with-avatars reader name-mark">
<div class="avatar">
<img alt='' src='http://0.gravatar.com/avatar/22555420b58622edbfa2f20cff2ff0ab?s=48&amp;d=monsterid&amp;r=G' class='avatar avatar-48 photo' height='48' width='48'/> </div>
<div class="comment-head">
<div class="ext clear-block">
<span class="a"><a href='http://www.macscr.com' rel='external' class='url'>mark</a></span> <span class="d">(5 years)</span> </div>
</div>
<div class="comment-body" id="comment-body-3687">
<div class="comment-content clear-block" id="comment-content-3687">
<div class="comment-text">
<p>So with your &#8220;patches&#8221;, asterisk is working well with in a xen environment? Im assuming your using full virtualization? What OS and asterisk version are you using? I noticed the kernel version is a bit high, so im assuming its not centos.</p>
</div>
<a id="comment-reply-3687"></a>
</div>
<div class="controls">
</div>
</div>
</div>
</li> 
 
<li>
<div id="comment-3688" class="comment byuser comment-author-admin odd alt thread-odd thread-alt depth-1 clear-block with-avatars role-administrator user-admin">
<div class="avatar">
<img alt='' src='http://0.gravatar.com/avatar/8d8005754952ee07814804722f36abe7?s=48&amp;d=monsterid&amp;r=G' class='avatar avatar-48 photo' height='48' width='48'/> </div>
<div class="comment-head">
<div class="ext clear-block">
<span class="a">admin</span> <span class="d">(5 years)</span> </div>
</div>
<div class="comment-body" id="comment-body-3688">
<div class="comment-content clear-block" id="comment-content-3688">
<div class="comment-text">
<p>It&#8217;s not really a patch, just commented lines :-). Anyway, I&#8217;m not using full virtualization, but it works fine. My configuration (Debian Lenny domU on an Ubuntu server as the dom0) is a little unconventional as the SIP conversion is not done by Asterisk but by a <a href="http://www.voipon.co.uk/patton-smartnode-4638-5-port-isdn-bri-gateway-p-495.html" class="liexternal">Patton router</a> that connects as a client on the Asterisk. In our company we haven&#8217;t any problem (lag/latency/echo, or anything like that) and we&#8217;re around 10 people (3 or 4 simultaneous calls).</p>
</div>
<a id="comment-reply-3688"></a>
</div>
<div class="controls">
</div>
</div>
</div>
</li> 
 
<li>
<div id="comment-3726" class="comment even thread-even depth-1 clear-block with-avatars reader name-willgathernomoss">
<div class="avatar">
<img alt='' src='http://0.gravatar.com/avatar/22583c66c75014d2132fa14a41b53b10?s=48&amp;d=monsterid&amp;r=G' class='avatar avatar-48 photo' height='48' width='48'/> </div>
<div class="comment-head">
<div class="ext clear-block">
<span class="a">Willgathernomoss</span> <span class="d">(5 years)</span> </div>
</div>
<div class="comment-body" id="comment-body-3726">
<div class="comment-content clear-block" id="comment-content-3726">
<div class="comment-text">
<p>Excellent post, really helped me out. Many thanks for taking the time to share this! </p>
<p>Do you mind if I cross post this in the Citrix Xen Server forums (attributed to you, of course)?</p>
<p>Thanks again.</p>
</div>
<a id="comment-reply-3726"></a>
</div>
<div class="controls">
</div>
</div>
</div>
</li> 
 
<li>
<div id="comment-3727" class="trackback odd alt thread-odd thread-alt depth-1 clear-block with-avatars reader name-obstblog">
<div class="avatar">
</div>
<div class="comment-head">
<div class="ext clear-block">
<span class="a"><a href='http://www.banane.at/blog/archives/270-Schmerzfreie-AsteriskDAHDI-Installation.html' rel='external' class='url'>Obstblog</a></span> <span class="d">(5 years)</span> </div>
</div>
<div class="comment-body" id="comment-body-3727">
<div class="comment-content clear-block" id="comment-content-3727">
<div class="comment-text">
<p><strong>Schmerzfreie Asterisk/DAHDI-Installation&#8230;</strong></p>
<p>Asterisk ab 1.4.20 oder so und die 1.6er Version sowieso wollen DAHDI anstelle von zaptel. Beide werden sowohl zum Ansteuern von Telefonie-Hardware als auch als Dummy-Timer (herst, was hab ich fÃ¼r nen Satzbau heute) fÃ¼r Telefonkonferenzen (MeetMe, zu&#8230;</p>
</div>
<a id="comment-reply-3727"></a>
</div>
<div class="controls">
</div>
</div>
</div>
</li> 
 
<li>
<div id="comment-3728" class="comment byuser comment-author-admin even thread-even depth-1 clear-block with-avatars role-administrator user-admin">
<div class="avatar">
<img alt='' src='http://0.gravatar.com/avatar/8d8005754952ee07814804722f36abe7?s=48&amp;d=monsterid&amp;r=G' class='avatar avatar-48 photo' height='48' width='48'/> </div>
<div class="comment-head">
<div class="ext clear-block">
<span class="a">admin</span> <span class="d">(5 years)</span> </div>
</div>
<div class="comment-body" id="comment-body-3728">
<div class="comment-content clear-block" id="comment-content-3728">
<div class="comment-text">
<p>@Willgathernomoss: OK, no problem.</p>
</div>
<a id="comment-reply-3728"></a>
</div>
<div class="controls">
</div>
</div>
</div>
</li> 
</ul>
</div>
 
 
<div id="sidebar">
<ul class="blocks">
<li class="block"><div class="block-content block-widget_search clear-block" id="instance-search-3">
 
<div class="search-form">
<form method="get" class="search-form clear-block" name="search-form" id="search-form" action="http://www.banquise.org/">
<a href="#" class="submit" onclick="document.getElementById('search-form').submit();">Search Website</a>
<fieldset>
<input type="text" name="s" alt="Search Website" class="text alignleft" value="" placeholder="Search"/>
<input type="hidden" value="submit"/>
</fieldset>
</form>
</div>
 </div></li>
 
<li class="block"><div class="block-content block- lambda_7375 clear-block" id="instance-adswidget1-quick-adsense">
<script type="text/javascript"><!--
google_ad_client = "pub-1583676780417366";
/* 250x250, created 8/28/10 */
google_ad_slot = "3469235084";
google_ad_width = 250;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></li><li class="block"><div class="block-content block-widget_text clear-block" id="instance-text-10"><div class="title"><h3>Bitcoin Donations</h3><div class="bl"></div><div class="br"></div></div> <div class="textwidget"><div align="center">
<script src="http://coinwidget.com/widget/coin.js"></script>
<script>
CoinWidgetCom.go({
	wallet_address: "1GdQB3i29pXci8cwWqGcSnnMBPxstSQwRU"
	, currency: "bitcoin"
	, counter: "amount"
	, alignment: "bc"
	, qrcode: true
	, auto_show: false
	, lbl_button: "Donate"
	, lbl_address: "My Bitcoin Address:"
	, lbl_count: "donations"
	, lbl_amount: "BTC"
});
</script>
</div></div>
</div></li> <li class="block"><div class="block-content block-widget_recent_entries clear-block" id="instance-recent-posts-2"> <div class="title"><h3>Recent Posts</h3><div class="bl"></div><div class="br"></div></div> <ul>
<li>
<a href="http://www.banquise.org/software/bye-bye-vim-powerline-hello-airline/">Bye bye vim powerline, hello airline</a>
</li>
<li>
<a href="http://www.banquise.org/python/combining-jquery-mobile-and-flask-wtf-may-give-you-headaches-or-why-dashes-sucks-in-python-variable-names/">Combining jQuery Mobile and Flask-WTF may give you headaches, or why dashes suck in Python variable names</a>
</li>
<li>
<a href="http://www.banquise.org/chess/book-review-tactics-time-1001-chess-tactics-from-the-games-of-everyday-chess-players/">Book Review: Tactics Time! 1001 Chess Tactics from the Games of Everyday Chess Players</a>
</li>
<li>
<a href="http://www.banquise.org/security/fail2ban-configuration-nginx-anomalies/">Fail2ban Configuration for NGINX anomalies</a>
</li>
<li>
<a href="http://www.banquise.org/python/version-chess-pgn-tex-pdf-converter/">New version of chess PGN to TeX to PDF converter</a>
</li>
</ul>
</div></li><li class="block"><div class="block-content block-widget_recent_comments clear-block" id="instance-recent-comments-2"><div class="title"><h3>Recent Comments</h3><div class="bl"></div><div class="br"></div></div><ul id="recentcomments"><li class="recentcomments">jones on <a href="http://www.banquise.org/python/how-to-dial-a-number-using-asterisk-and-python/#comment-8563">How to dial a number using Asterisk and Python</a></li><li class="recentcomments">Chris on <a href="http://www.banquise.org/security/fail2ban-configuration-nginx-anomalies/#comment-6913">Fail2ban Configuration for NGINX anomalies</a></li><li class="recentcomments"><a href='http://www.quora.com/What-is-the-best-way-to-teach-chess-to-children#ans308177' rel='external' class='url'>Quora</a> on <a href="http://www.banquise.org/python/version-chess-pgn-tex-pdf-converter/#comment-5433">New version of chess PGN to TeX to PDF converter</a></li><li class="recentcomments">admin on <a href="http://www.banquise.org/kid/easy-chess-games-for-kids-mate-in-one/#comment-4993">Easy chess games for kids (mate in one)</a></li><li class="recentcomments"><a href='http://Website' rel='external' class='url'>Kunal Shah</a> on <a href="http://www.banquise.org/kid/easy-chess-games-for-kids-mate-in-one/#comment-4871">Easy chess games for kids (mate in one)</a></li></ul></div></li><li class="block"><div class="block-content block-widget_links clear-block" id="linkcat-2"><div class="title"><h3>Blogroll</h3><div class="bl"></div><div class="br"></div></div>
<ul class='xoxo blogroll'>
<li><a href="http://www.aikido-nicolai.com/" title="Club Aïkido d&#8217;Asnières sur Seine">Aïkido Club Asnières</a></li>
<li><a href="http://www.alljapaneseallthetime.com/blog/" title="Best method to learn Japanese">All Japanese all the time</a></li>
<li><a href="http://www.aaaparis.net/Japonais/" title="Cours de Japonais" target="_blank">Cours de Japonais</a></li>
<li><a href="/author/genealogy/family-tree-of-lior-gradstein-genealogy/" title="Family Tree of Gradstein surname">Gradstein Family Tree</a></li>
<li><a href="http://www.oxyradio.net/" title="Oxyradio, la radio libre du net" target="_blank">OxyRadio, Webradio Libre</a></li>
<li><a href="http://twistedmatrix.com" title="Twisted Matrix Python Framework website">Twisted Matrix</a></li>
</ul>
</div></li>
<li class="block"><div class="block-content block-widget_flickrRSS clear-block" id="instance-flickrrss"><div class="title"><h3>Photos of Ido and Oren</h3><div class="bl"></div><div class="br"></div></div><a href="https://www.flickr.com/photos/gradstein/9126085622/" title="photo"><img src="https://farm3.staticflickr.com/2847/9126085622_d0146aec44_s.jpg" alt="photo"/></a><a href="https://www.flickr.com/photos/gradstein/6112879854/" title="Ido flashé sur les quais de Seine"><img src="https://farm7.staticflickr.com/6081/6112879854_20f1082bb0_s.jpg" alt="Ido flashé sur les quais de Seine"/></a><a href="https://www.flickr.com/photos/gradstein/6054173158/" title="Game of Walk!Woof!Wag!"><img src="https://farm7.staticflickr.com/6062/6054173158_d895c0cc0d_s.jpg" alt="Game of Walk!Woof!Wag!"/></a><a href="https://www.flickr.com/photos/gradstein/5005521107/" title="IMG_20100919_155432"><img src="https://farm5.staticflickr.com/4089/5005521107_330e7f385f_s.jpg" alt="IMG_20100919_155432"/></a><a href="https://www.flickr.com/photos/gradstein/5006132260/" title="IMG_20100919_160709"><img src="https://farm5.staticflickr.com/4147/5006132260_54fa0f62bd_s.jpg" alt="IMG_20100919_160709"/></a><a href="https://www.flickr.com/photos/gradstein/5005519349/" title="IMG_20100919_150009"><img src="https://farm5.staticflickr.com/4146/5005519349_f6ac040f87_s.jpg" alt="IMG_20100919_150009"/></a><a href="https://www.flickr.com/photos/gradstein/5005504499/" title="IMG_20100919_162319"><img src="https://farm5.staticflickr.com/4144/5005504499_c0be0d128d_s.jpg" alt="IMG_20100919_162319"/></a><a href="https://www.flickr.com/photos/gradstein/4125206986/" title="2009-11-22 14.53.56.jpg"><img src="https://farm3.staticflickr.com/2559/4125206986_fe6b5c2af2_s.jpg" alt="2009-11-22 14.53.56.jpg"/></a><a href="https://www.flickr.com/photos/gradstein/4124437283/" title="2009-11-22 14.53.40.jpg"><img src="https://farm3.staticflickr.com/2546/4124437283_e3712c1b0d_s.jpg" alt="2009-11-22 14.53.40.jpg"/></a></div></li><li class="block"><div class="block-content block-widget_text clear-block" id="instance-text-2"> <div class="textwidget"><p align="center"><a href="http://feeds2.feedburner.com/LiorGradsteinsBlog"><img src="http://feeds2.feedburner.com/~fc/LiorGradsteinsBlog?bg=99CCFF&fg=444444&anim=0" height="26" width="88" style="border:0" alt=""/></a></p>
<p align="center"><a href="http://feeds2.feedburner.com/LiorGradsteinsBlog" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a> <a href="http://feeds2.feedburner.com/LiorGradsteinsBlog" rel="alternate" type="application/rss+xml">Subscribe in a reader</a></p></div>
</div></li> 
 
<li class="block"><div class="block-content block-widget_text clear-block" id="instance-text-8"><div class="title"><h3>Chess Puzzle of the Day</h3><div class="bl"></div><div class="br"></div></div> <div class="textwidget"><div align="center"><a href="http://www.chessvideos.tv/chess-puzzle-of-the-day.php" title="Chess Puzzle of the Day"><img style="border: 0px;" src="http://www.chessvideos.tv/puzzle-image.php"></a></div></div>
</div></li> 
 
 
<li class="block"><div class="block-content block-widget_tag_cloud clear-block" id="instance-tag_cloud-3"><div class="title"><h3>Tag Cloud</h3><div class="bl"></div><div class="br"></div></div><div class="tagcloud"><a href='http://www.banquise.org/tag/asterisk/' class='tag-link-22' title='4 topics' style='font-size: 19.666666666667pt;'>asterisk</a>
<a href='http://www.banquise.org/tag/automatic/' class='tag-link-33' title='2 topics' style='font-size: 13.25pt;'>automatic</a>
<a href='http://www.banquise.org/tag/bot/' class='tag-link-74' title='1 topic' style='font-size: 8pt;'>bot</a>
<a href='http://www.banquise.org/tag/chess/' class='tag-link-68' title='5 topics' style='font-size: 22pt;'>chess</a>
<a href='http://www.banquise.org/tag/children/' class='tag-link-76' title='3 topics' style='font-size: 16.75pt;'>children</a>
<a href='http://www.banquise.org/tag/cluster/' class='tag-link-45' title='1 topic' style='font-size: 8pt;'>cluster</a>
<a href='http://www.banquise.org/tag/deployment/' class='tag-link-181' title='2 topics' style='font-size: 13.25pt;'>deployment</a>
<a href='http://www.banquise.org/tag/dial/' class='tag-link-49' title='1 topic' style='font-size: 8pt;'>dial</a>
<a href='http://www.banquise.org/tag/download/' class='tag-link-39' title='1 topic' style='font-size: 8pt;'>download</a>
<a href='http://www.banquise.org/tag/free/' class='tag-link-58' title='1 topic' style='font-size: 8pt;'>free</a>
<a href='http://www.banquise.org/tag/hardware/' class='tag-link-24' title='1 topic' style='font-size: 8pt;'>hardware</a>
<a href='http://www.banquise.org/tag/hook/' class='tag-link-55' title='1 topic' style='font-size: 8pt;'>hook</a>
<a href='http://www.banquise.org/tag/hotplug/' class='tag-link-41' title='1 topic' style='font-size: 8pt;'>hotplug</a>
<a href='http://www.banquise.org/tag/kid/' class='tag-link-66' title='2 topics' style='font-size: 13.25pt;'>kid</a>
<a href='http://www.banquise.org/tag/kindergarten/' class='tag-link-77' title='1 topic' style='font-size: 8pt;'>kindergarten</a>
<a href='http://www.banquise.org/tag/latex/' class='tag-link-183' title='2 topics' style='font-size: 13.25pt;'>latex</a>
<a href='http://www.banquise.org/tag/learn/' class='tag-link-69' title='1 topic' style='font-size: 8pt;'>learn</a>
<a href='http://www.banquise.org/tag/learning/' class='tag-link-115' title='2 topics' style='font-size: 13.25pt;'>learning</a>
<a href='http://www.banquise.org/tag/linux/' class='tag-link-31' title='1 topic' style='font-size: 8pt;'>linux</a>
<a href='http://www.banquise.org/tag/login/' class='tag-link-54' title='1 topic' style='font-size: 8pt;'>login</a>
<a href='http://www.banquise.org/tag/management/' class='tag-link-43' title='1 topic' style='font-size: 8pt;'>management</a>
<a href='http://www.banquise.org/tag/mate/' class='tag-link-82' title='2 topics' style='font-size: 13.25pt;'>mate</a>
<a href='http://www.banquise.org/tag/mate-in-one/' class='tag-link-81' title='3 topics' style='font-size: 16.75pt;'>mate in one</a>
<a href='http://www.banquise.org/tag/mediawiki/' class='tag-link-51' title='2 topics' style='font-size: 13.25pt;'>mediawiki</a>
<a href='http://www.banquise.org/tag/mount/' class='tag-link-34' title='1 topic' style='font-size: 8pt;'>mount</a>
<a href='http://www.banquise.org/tag/pdf/' class='tag-link-86' title='2 topics' style='font-size: 13.25pt;'>pdf</a>
<a href='http://www.banquise.org/tag/pgn/' class='tag-link-84' title='2 topics' style='font-size: 13.25pt;'>pgn</a>
<a href='http://www.banquise.org/tag/photos/' class='tag-link-38' title='1 topic' style='font-size: 8pt;'>photos</a>
<a href='http://www.banquise.org/tag/program/' class='tag-link-37' title='1 topic' style='font-size: 8pt;'>program</a>
<a href='http://www.banquise.org/tag/puppet/' class='tag-link-42' title='2 topics' style='font-size: 13.25pt;'>puppet</a>
<a href='http://www.banquise.org/tag/python/' class='tag-link-3' title='4 topics' style='font-size: 19.666666666667pt;'>python</a>
<a href='http://www.banquise.org/tag/rc/' class='tag-link-72' title='1 topic' style='font-size: 8pt;'>rc</a>
<a href='http://www.banquise.org/tag/recent-changes/' class='tag-link-73' title='1 topic' style='font-size: 8pt;'>recent changes</a>
<a href='http://www.banquise.org/tag/redirect/' class='tag-link-53' title='1 topic' style='font-size: 8pt;'>redirect</a>
<a href='http://www.banquise.org/tag/reductivelabs/' class='tag-link-46' title='1 topic' style='font-size: 8pt;'>reductivelabs</a>
<a href='http://www.banquise.org/tag/ruby/' class='tag-link-19' title='2 topics' style='font-size: 13.25pt;'>ruby</a>
<a href='http://www.banquise.org/tag/run/' class='tag-link-36' title='1 topic' style='font-size: 8pt;'>run</a>
<a href='http://www.banquise.org/tag/script/' class='tag-link-35' title='2 topics' style='font-size: 13.25pt;'>script</a>
<a href='http://www.banquise.org/tag/teaching/' class='tag-link-75' title='1 topic' style='font-size: 8pt;'>teaching</a>
<a href='http://www.banquise.org/tag/ubuntu/' class='tag-link-32' title='1 topic' style='font-size: 8pt;'>ubuntu</a>
<a href='http://www.banquise.org/tag/udev/' class='tag-link-40' title='1 topic' style='font-size: 8pt;'>udev</a>
<a href='http://www.banquise.org/tag/url/' class='tag-link-52' title='1 topic' style='font-size: 8pt;'>url</a>
<a href='http://www.banquise.org/tag/usb/' class='tag-link-30' title='1 topic' style='font-size: 8pt;'>usb</a>
<a href='http://www.banquise.org/tag/voip/' class='tag-link-48' title='3 topics' style='font-size: 16.75pt;'>voip</a>
<a href='http://www.banquise.org/tag/wikipedia/' class='tag-link-71' title='1 topic' style='font-size: 8pt;'>wikipedia</a></div>
</div></li> 
 
 
<li class="block"><div class="block-content block-widget_archive clear-block" id="instance-archives-4"><div class="title"><h3>Archives</h3><div class="bl"></div><div class="br"></div></div> <ul>
<li><a href='http://www.banquise.org/2014/02/'>February 2014</a></li>
<li><a href='http://www.banquise.org/2013/02/'>February 2013</a></li>
<li><a href='http://www.banquise.org/2012/12/'>December 2012</a></li>
<li><a href='http://www.banquise.org/2011/12/'>December 2011</a></li>
<li><a href='http://www.banquise.org/2010/12/'>December 2010</a></li>
<li><a href='http://www.banquise.org/2010/09/'>September 2010</a></li>
<li><a href='http://www.banquise.org/2010/08/'>August 2010</a></li>
<li><a href='http://www.banquise.org/2010/01/'>January 2010</a></li>
<li><a href='http://www.banquise.org/2009/12/'>December 2009</a></li>
<li><a href='http://www.banquise.org/2009/03/'>March 2009</a></li>
<li><a href='http://www.banquise.org/2009/02/'>February 2009</a></li>
<li><a href='http://www.banquise.org/2009/01/'>January 2009</a></li>
<li><a href='http://www.banquise.org/2008/12/'>December 2008</a></li>
<li><a href='http://www.banquise.org/2008/09/'>September 2008</a></li>
<li><a href='http://www.banquise.org/2008/04/'>April 2008</a></li>
<li><a href='http://www.banquise.org/2007/06/'>June 2007</a></li>
<li><a href='http://www.banquise.org/2007/05/'>May 2007</a></li>
<li><a href='http://www.banquise.org/2007/04/'>April 2007</a></li>
<li><a href='http://www.banquise.org/2007/03/'>March 2007</a></li>
<li><a href='http://www.banquise.org/2007/02/'>February 2007</a></li>
<li><a href='http://www.banquise.org/2006/09/'>September 2006</a></li>
<li><a href='http://www.banquise.org/2005/06/'>June 2005</a></li>
<li><a href='http://www.banquise.org/2004/02/'>February 2004</a></li>
<li><a href='http://www.banquise.org/2003/12/'>December 2003</a></li>
<li><a href='http://www.banquise.org/2003/11/'>November 2003</a></li>
</ul>
</div></li> 
 
 
<li class="block"><div class="block-content block-widget_text clear-block" id="instance-text-9"> <div class="textwidget"><a rel="author" href="https://plus.google.com/+LucStepniewski">
<img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
</a></div>
</div></li> 
</ul>
</div>
 
</div>
</div>
</div>
 
</div>
</div>
 
 
<div class="shadow-left page-content">
<div class="shadow-right">
<div id="footer">
<div id="copyright">
<a href="http://www.banquise.org/" title="Luc Stepniewski&#039;s Blog" rel="home"><strong>Luc Stepniewski&#039;s Blog</strong></a>
&copy; 2009 |
Powered by <a href="http://wordpress.org/">WordPress</a> and Mystique theme by <a href="http://digitalnature.eu/themes/mystique/">digitalnature</a>
<br/>
104 queries in 2.16 seconds
(10.32M)
</div>
</div>
</div>
</div>
 
<a class="go-top" href="#page">Go to Top</a>
</div>
 
</div>
 
 
<script type="text/javascript">
	try {
		var FlickrSC = new YFSC;
			FlickrSC.base_path = "http://www.banquise.org";
			FlickrSC.path = "http://www.banquise.org/wp-content/plugins";
			FlickrSC.attribution = new YFSC_Attribution(FlickrSC);
			FlickrSC.attribution.tagImages("content", "publish", false);
	}catch(e) {
	}
</script> <script type='text/javascript' src='http://w.sharethis.com/button/buttons.js?ver=3.9.1'></script>
<script type='text/javascript' src='//www.sweetcaptcha.com/api/v2/apps/csrf/35351?ver=3.0.8'></script>
</body>
</html>
 
