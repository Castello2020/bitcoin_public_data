http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/
HTTP/1.1 200 OK
Server: nginx
Date: Wed, 23 Jul 2014 09:51:13 GMT
Content-Type: text/html; charset=UTF-8
Connection: close
Vary: Accept-Encoding
Vary: Cookie
X-hacker: If you're reading this, you should visit automattic.com/jobs and apply to join the fun, mention this header.
X-Pingback: http://giannigar.wordpress.com/xmlrpc.php
Link: <http://wp.me/pCGH1-c>; rel=shortlink
Last-Modified: Wed, 23 Jul 2014 09:51:13 GMT
Cache-Control: max-age=300, must-revalidate
X-nananana: Batcache
Content-Encoding: gzip

<!DOCTYPE html>
<!--[if IE 7]>
<html id="ie7" lang="en">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en">
<![endif]-->
<!--[if (!IE)]><!-->
<html lang="en">
<!--<![endif]-->
<!--
	generated in 1.031 seconds
	199663 bytes batcached for 300 seconds
-->
<head>
<meta charset="UTF-8" />
<title>Mapping a many-to-many join table with extra column using JPA | Giannigar&#039;s Blog</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="http://giannigar.wordpress.com/xmlrpc.php" />
<link rel="alternate" type="application/rss+xml" title="Giannigar&#039;s Blog &raquo; Feed" href="http://giannigar.wordpress.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Giannigar&#039;s Blog &raquo; Comments Feed" href="http://giannigar.wordpress.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Giannigar&#039;s Blog &raquo; Mapping a many-to-many join table with extra column using&nbsp;JPA Comments Feed" href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/feed/" />
<script type="text/javascript">
/* <![CDATA[ */
function addLoadEvent(func){var oldonload=window.onload;if(typeof window.onload!='function'){window.onload=func;}else{window.onload=function(){oldonload();func();}}}
/* ]]> */
</script>
<link rel='stylesheet' id='all-css-0' href='http://s1.wp.com/_static/??-eJyNUu1OAyEQfCERjZfG/jA+Cx9bjnZhkQWbvr3Q82JrK/EXM5eZ/bhZeUzCUCwQiwxVJKzOR5YcPMIpZdqDKdfs0TA/yPs29AdguYeSlDmIM7uRayT3YyDnwFItYkeIdJRHbx0Me2RAVcCKRFx+sZHNUIb2PSRVuiKA9QoQQpONbCFtVleHc9vrtk2ZWx2WqWoZTlz8RwXJ5YTwL6UhpMzLI1wGiKOBuGo22afiqbHlr430M31CFrpqja3xxVReRire9CorGNVxQALJqN73iogdKp/HifXMG3SyqS7oyNQDXUpLnlXu5u93PGWEvCx1F/4VyDxJh6QVjoovt8nnJRbc4vJWqGjbrfPwjlZvX52FX8/9mv63uSOyGZQ9r/Me3p6np+n1ZTNtt/svFWFxXQ==' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-0' href='http://s0.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1387483371g' type='text/css' media='print' />
<script type='text/javascript'>
/* <![CDATA[ */
var LoggedOutFollow = {"invalid_email":"Your subscription did not succeed, please try again with a valid email address."};
/* ]]> */
</script>
<script type='text/javascript' src='http://s2.wp.com/_static/??-eJyFkMtSwzAMRX8I1TzaRRcM3xI7iqvgF5ZEpnw9TtMyJWXoyrJ9ru6VzFTA5SSYxIxsYrYUEJSxdr69AaUhb0Z+MI2j5IL2yDM4fijW4/m4C0AkXzvBTaR0ga9cS2aJyNws//j9bUXpk3C6i40opXPvUJHp66arDdlDCeopsWm1xz6rwJBDyJOZqPcoa03UH0XF0IbpYc69uq1VcsA2mSlqTTyyUEs3hx00OaGcbvgrF1bLrlI5cWbJ9g++pD7tfinBaixw3tZbfH3aPm73L7v97nn8BkKdvV0='></script>
<link rel='stylesheet' id='all-css-0' href='http://s2.wp.com/wp-content/mu-plugins/highlander-comments/style.css?m=1377793621g' type='text/css' media='all' />
<!--[if lt IE 8]>
<link rel='stylesheet' id='highlander-comments-ie7-css'  href='http://s2.wp.com/wp-content/mu-plugins/highlander-comments/style-ie7.css?m=1351637563g&#038;ver=20110606' type='text/css' media='all' />
<![endif]-->
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://giannigar.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://giannigar.wordpress.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='I gotta feeling' href='http://giannigar.wordpress.com/2009/08/30/i-gotta-feeling/' />
<link rel='next' title='Meaning of load average of the top Linux&nbsp;command' href='http://giannigar.wordpress.com/2010/12/09/mapping-a-many-to-many-join-table-with-extra-column-using-jpa-2/' />
<meta name="generator" content="WordPress.com" />
<link rel='canonical' href='http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/' />
<link rel='shortlink' href='http://wp.me/pCGH1-c' />
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/1.0/?format=json&amp;url=http%3A%2F%2Fgiannigar.wordpress.com%2F2009%2F09%2F04%2Fmapping-a-many-to-many-join-table-with-extra-column-using-jpa%2F&amp;for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/1.0/?format=xml&amp;url=http%3A%2F%2Fgiannigar.wordpress.com%2F2009%2F09%2F04%2Fmapping-a-many-to-many-join-table-with-extra-column-using-jpa%2F&amp;for=wpcom-auto-discovery" />
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Mapping a many-to-many join table with extra column using JPA" />
<meta property="og:url" content="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/" />
<meta property="og:description" content="Intro It is not straightforward to realise a many-to-many association with JPA when in the join table there is at least an extra column. In this small tutorial I’m going to show how to design entit..." />
<meta property="article:published_time" content="2009-09-04T01:43:57+00:00" />
<meta property="article:modified_time" content="2013-12-01T17:03:16+00:00" />
<meta property="article:author" content="http://giannigar.wordpress.com/author/sieze/" />
<meta property="og:site_name" content="Giannigar&#039;s Blog" />
<meta property="og:image" content="http://cex.io/informer/nemo83/f7fa0c8f296e960599f6be05f8faa495/" />
<meta name="twitter:site" content="@wordpressdotcom" />
<meta name="twitter:image" content="http://cex.io/informer/nemo83/f7fa0c8f296e960599f6be05f8faa495/?w=240" />
<meta name="twitter:card" content="summary" />
<meta property="fb:app_id" content="249643311490" />
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom" />
<link rel="shortcut icon" type="image/x-icon" href="http://s2.wp.com/i/favicon.ico?m=1405977958g" sizes="16x16 24x24 32x32 48x48" />
<link rel="icon" type="image/x-icon" href="http://s2.wp.com/i/favicon.ico?m=1405977958g" sizes="16x16 24x24 32x32 48x48" />
<link rel="apple-touch-icon-precomposed" href="http://s0.wp.com/i/webclip.png?m=1391188133g" />
<link rel='openid.server' href='http://giannigar.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='http://giannigar.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="http://giannigar.wordpress.com/osd.xml" title="Giannigar&#039;s Blog" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wordpress.com/opensearch.xml" title="WordPress.com" />
<style type="text/css">
.widget_twitter li {
	word-wrap: break-word;
}
</style>
<meta name="application-name" content="Giannigar&#039;s Blog" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="Yet another Java blog" /><meta name="msapplication-task" content="name=Subscribe;action-uri=http://giannigar.wordpress.com/feed/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="title" content="Mapping a many-to-many join table with extra column using&nbsp;JPA | Giannigar&#039;s Blog on WordPress.com" />
<meta name="description" content="Intro It is not straightforward to realise a many-to-many association with JPA when in the join table there is at least an extra column. In this small tutorial I’m going to show how to design entity objects that will handle the many-to-many relation and which annotations are needed in order to fix a redundancy that&hellip;" />

<script type='text/javascript' src='//partner.googleadservices.com/gampad/google_service.js'>
</script>
<script type='text/javascript'>
if ( typeof GS_googleAddAdSenseService == 'function' ) { GS_googleAddAdSenseService("ca-pub-3443918307802676"); }
if ( typeof GS_googleEnableAllServices == 'function' ) { GS_googleEnableAllServices() };
</script>
<script type="text/javascript" src="//c.amazon-adsystem.com/aax2/amzn_ads.js"></script>
<script type="text/javascript">
try { amznads.getAds("3033","300x250"); } catch(e) { /* ignore */ }
</script>
<script type="text/javascript">
var amznKeys = amznads.getKeys();
if (typeof amznKeys != "undefined" && amznKeys != "") { for (var i =0; i < amznKeys.length; i++) { var key = amznKeys[i]; GA_googleAddAttr("amzn", key);} }
document.close();
</script>
<script type='text/javascript'>
if ( typeof GA_googleAddSlot == 'function' ) { GA_googleAddSlot("ca-pub-3443918307802676", "wpcom_below_post"); }
</script>
<script type='text/javascript'>
if ( typeof GA_googleFetchAds == 'function' ) { GA_googleFetchAds(); }
</script>

<script type="text/javascript">
var wpcom_ads = { bid: 9220579, pt: 'permalink', wa: 0, as: 0, domain: 'giannigar.wordpress.com', url: 'http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/', gid: '', };
</script>
<style type="text/css" id="syntaxhighlighteranchor"></style>
<script type="text/javascript">
	window.google_analytics_uacct = "UA-52447-2";
</script>

<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-52447-2']);
	_gaq.push(['_setDomainName', 'wordpress.com']);
	_gaq.push(['_initData']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
	})();
</script>
</head>

<body class="single single-post postid-12 single-format-standard mp6 content-sidebar highlander-enabled highlander-light">
<div id="page">

	<div id="container">

		<ul class="skip">
			<li><a href="#access">Skip to navigation</a></li>
			<li><a href="#main">Skip to main content</a></li>
			<li><a href="#sidebar">Skip to primary sidebar</a></li>
			<li><a href="#sidebar2">Skip to secondary sidebar</a></li>
			<li><a href="#footer">Skip to footer</a></li>
		</ul>

		<div id="header">
			<div id="branding" class="clear-block">
				<a class="home-link" href="http://giannigar.wordpress.com/" title="Giannigar&#039;s Blog" rel="home">
					<h1 id="logo">Giannigar&#039;s Blog</h1>
					<h2 id="site-description">Yet another Java blog</h2>
				</a>
			</div><!-- #branding-->

			<div id="access" class="clear-block" role="navigation">
				<div class="menu"><ul><li ><a href="http://giannigar.wordpress.com/">Home</a></li></ul></div>

				<div class="social-icons">

					
					
					
					
					
				</div><!-- .social-icons -->

			</div><!-- #access -->

							
			</div><!-- #header-->

			<div id="main">

 			<div id="content-container">
	 			<div id="content">
					
						<div class="post-navigation nav-above">
							<div class="nav-previous">
								<a href="http://giannigar.wordpress.com/2009/08/30/i-gotta-feeling/" rel="prev">&larr; I gotta feeling</a>							</div>
							<div class="nav-next">
								<a href="http://giannigar.wordpress.com/2010/12/09/mapping-a-many-to-many-join-table-with-extra-column-using-jpa-2/" rel="next">Meaning of load average of the top Linux&nbsp;command &rarr;</a>							</div>
						</div><!-- .post-navigation -->

						<div class="post-12 post type-post status-publish format-standard hentry category-java category-jpa category-programming tag-column tag-extra tag-hibernate tag-join tag-jpa tag-many-to-many tag-table post-wrapper clear-block">

	
			<h1 class="single-title">Mapping a many-to-many join table with extra column using&nbsp;JPA</h1>	
	<div class="post-date">
		<p class="day"><a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/" rel="bookmark" title="Permanent Link to Mapping a many-to-many join table with extra column using&nbsp;JPA">Sep 4</a></p>
	</div><!-- .post-date -->

	<div class="post-info clear-block">
		<p class="author alignleft">Posted by <a href="http://giannigar.wordpress.com/author/sieze/" title="Posts by giannigar" rel="author">giannigar</a></p>
	</div><!-- .post-info clear-block" -->

	<div class="entry clear-block">
		<div class="pd-rating" id="pd_rating_holder_3395936_post_12"></div><br/><h3>Intro</h3>
<p>It is not straightforward to realise a many-to-many association with JPA when in the join table there is at least an extra column. In this small tutorial I’m going to show how to design entity objects that will handle the many-to-many relation and which annotations are needed in order to fix a redundancy that we will see in the solution adopted in the following wiki.</p>
<p>This tutorial is a mix up of different sources. The first solution I’m going to show is the one suggested in a wiki.</p>
<h3>Mapping a Join Table with Additional Columns (in a JPA pure style)</h3>
<p>Source: <a href="http://en.wikibooks.org/wiki/Java_Persistence/ManyToMany#Additional_columns_in_join_table.">en.wikibooks.org</a></p>
<blockquote><p>A frequent problem is that two classes have a ManyToMany relationship, but the relational join table has additional data. For example if Employee has a ManyToMany with Project but the PROJ_EMP join table also has an IS_TEAM_LEAD column. In this case the best solution is to create a class that models the join table. So an ProjectAssociation class would be created. It would have a ManyToOne to Employee and Project, and attributes for the additional data. Employee and Project would have a OneToMany to the ProjectAssociation. Some JPA providers also provide additional support for mapping to join tables with additional data.</p>
<p>Unfortunately mapping this type of model becomes more complicated in JPA because it requires a composite primary key. The association object&#8217;s Id is composed of the Employee and Project ids. The JPA spec does not allow an Id to be used on a ManyToOne so the association class must have two duplicate attributes to also store the ids, and use an IdClass, these duplicate attributes must be kept in synch with the ManyToOne attributes. Some JPA providers may allow a ManyToOne to be part of an Id, so this may be simpler with some JPA providers. To make your life simpler, I would recommend adding a generated Id attribute to the association class. This will give the object a simpler Id and not require duplicating the Employee and Project ids.</p>
<p>This same pattern can be used no matter what the additional data in the join table is. Another usage is if you have a Map relationship between two objects, with a third unrelated object or data representing the Map key. The JPA spec requires that the Map key be an attribute of the Map value, so the association object pattern can be used to model the relationship.</p>
<p>If the additional data in the join table is only required on the database and not used in Java, such as auditing information, it may also be possible to use database triggers to automatically set the data.</p></blockquote>
<h4>Example join table association object annotations</h4>
<p><script src="https://gist.github.com/nemo83/5276311.js"></script></p>
<p><script src="https://gist.github.com/nemo83/5276313.js"></script></p>
<p><script src="https://gist.github.com/nemo83/5276318.js"></script></p>
<p><script src="https://gist.github.com/nemo83/5276321.js"></script></p>
<p>As you can see in this solution the ProjectAssociation class contains twice the information related to Employee and Project. As explained above, this is due to JPA specification. Googling I found another solution to this problem that allowed me to avoid the redundancy.</p>
<h3>Hibernate annotations: The many-to-many association with composite key (in a pure JPA style without redundancy)</h3>
<p>Source: <a href="http://boris.kirzner.info/blog/archives/2008/07/19/hibernate-annotations-the-many-to-many-association-with-composite-key/">boris.kirzner.info</a></p>
<p>This post contains an evolution of another solution realized in 2006. Since things changed a bit in the meanwhile, the original solution was not the best.</p>
<p>Basically what the author is trying to do is to hold a relation between three item: Produc, Item and ProductItem.</p>
<p>Here is the last part of the post in which the author introduce the solution:</p>
<blockquote><p>The database part is the same: we have three tables (item, product and product_item), two POJO classes, and two classes for a many-to-many association and its primary key. The main difference from Marsel’s solution is that I’m not using any kind of “fake” properties on ProductItem in order to reference Item and Product, but just a plain transient properties delegating to ProductItemPk.</p></blockquote>
<p>Here is the source:</p>
<p><script src="https://gist.github.com/nemo83/5276328.js"></script></p>
<p><script src="https://gist.github.com/nemo83/5276329.js"></script></p>
<p><script src="https://gist.github.com/nemo83/5276330.js"></script></p>
<p><script src="https://gist.github.com/nemo83/5276334.js"></script></p>
<p>This solution is perfect from a model point of view. I used this solution in my project and together with Spring, Hibernate and Maven I’ve been able to generate the schema in an automatic fashion (hbm2dll plugin). The schema produced is exactly what you would expect. Unfortunately JPA doesn’t allow developer to use this configuration to work with inserts and updates. For instance if you have an Item object with few ProductItem and you perform an insert on the Item, ProductItem object contained in the list will not be inserted in the database. Same stuff happens for a Product and its ProductItem list. JPA in this case won’t help us anymore. The only way to make inserts and updates to work in cascade, we must recur to provider’s specific annotation. The source code below is the final evolution of the previous example. The JPA provider I used is Hibernate. Here is the code for the Product class, use the same annotation for the Item class as well and Hibernate will take care to insert/update ProductItem (if any) as well. </p>
<p><script src="https://gist.github.com/nemo83/5276363.js"></script></p>
<p>Since I only have experience with Hibernate I invite all the reader that have expertise with other JPA provider to reply to this post with the solution offered by other framework such as iBatis.</p>
<p>Thanks for have reading this tutorial and feel free to reply with comments.</p>
<p>-Sieze</p>
<p>If you think this article was usefull to you, please donate a few mBTC to 1D4Li5ckG81JLbBt3Kb2UT1wQqHZddVqEL <span class='wp-smiley emoji emoji-smile' title=':)'>:)</span></p>
<p><a title="CEX.io - Bitcoin Commodity Exchange" href="https://cex.io/r/0/nemo83/0/" target="_blank"><img alt="" src="http://cex.io/informer/nemo83/f7fa0c8f296e960599f6be05f8faa495/" width="500" height="35" border="0" /></a></p>

<div class="wpa" style="position: relative; width:300px; text-align: center; padding: 0; margin: 10px auto; overflow: hidden; clear: both;">
<a style="position: absolute; text-align: left; display: block; font: 9px/1 sans-serif; text-decoration: underline;" href="http://en.wordpress.com/about-these-ads/" rel="nofollow">About these ads</a>
<script type="text/javascript">
		var wpcom_adclk_hovering = false;
		var wpcom_adclk_recorded = false;
		var wpcom_adclk_theme = "Mystique";
		var wpcom_adclk_slot = "wpcom_below_post";
		var wpcom_adclk_network = ( typeof wpcom_adclk_network === "undefined" ) ? "" : wpcom_adclk_network ;

		jQuery(document).ready( function() {
			function wpcom_adclk_hover_yes() { wpcom_adclk_hovering = true; }
			function wpcom_adclk_hover_no() { wpcom_adclk_hovering = false; }
			jQuery(".wpa").click(wpcom_adclk_click);
			jQuery(".wpa iframe").hover( wpcom_adclk_hover_yes, wpcom_adclk_hover_no );
			jQuery(".wpa object").hover( wpcom_adclk_hover_yes, wpcom_adclk_hover_no );

			jQuery(window).blur( function() {
				if ( wpcom_adclk_hovering ) { wpcom_adclk_click(); }
			});
		});

		function wpcom_adclk_impression() {
			var stat_gif = document.location.protocol + "//pixel.wp.com/g.gif?v=wpcom-no-pv";
			stat_gif += "&x_ads_imp_theme=" + wpcom_adclk_theme;
			stat_gif += "&x_ads_imp_placement="+wpcom_adclk_slot;
			stat_gif += "&x_ads_imp_network=" + wpcom_adclk_network;
			stat_gif += "&x_ads_imp_theme_network="+wpcom_adclk_theme+"_"+wpcom_adclk_network;
			new Image().src = stat_gif + "&baba=" + Math.random();
			return true;
		}

		function wpcom_adclk_click() {
			if (wpcom_adclk_recorded) { return true; } // no double counting
			var stat_gif = document.location.protocol + "//pixel.wp.com/g.gif?v=wpcom-no-pv";
			stat_gif += "&x_ads_click_theme=" + wpcom_adclk_theme;
			stat_gif += "&x_ads_click_placement="+wpcom_adclk_slot;
			stat_gif += "&x_ads_click_network=" + wpcom_adclk_network;
			stat_gif += "&x_ads_click_theme_network="+wpcom_adclk_theme+"_"+wpcom_adclk_network;

			new Image().src = stat_gif + "&baba=" + Math.random();
			wpcom_adclk_recorded = true;
			var now=new Date(); var end=now.getTime()+250;
			while(true){now=new Date();if(now.getTime()>end){break;}}
			return true;
		}
	
if ( typeof GA_googleAddAttr == 'function' ) {
GA_googleAddAttr("AdOpt", "1");
GA_googleAddAttr("Origin", "other");
GA_googleAddAttr("LangId", "1");
GA_googleAddAttr("Domain", "giannigar.wordpress.com");
GA_googleAddAttr("BlogId", "9220579");
GA_googleAddAttr("PageURL", "http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/");
GA_googleAddAttr("Autotag", "technology");
GA_googleAddAttr("Tag", "java");
GA_googleAddAttr("Tag", "jpa");
GA_googleAddAttr("Tag", "programming");
GA_googleAddAttr("Tag", "column");
GA_googleAddAttr("Tag", "extra");
GA_googleAddAttr("Tag", "hibernate");
GA_googleAddAttr("Tag", "join");
GA_googleAddAttr("Tag", "jpa");
GA_googleAddAttr("Tag", "many-to-many");
GA_googleAddAttr("Tag", "table");
GA_googleAddAttr("theme_bg", "ffffff");
GA_googleAddAttr("theme_border", "bcb7b4");
GA_googleAddAttr("theme_text", "4e4e4e");
GA_googleAddAttr("theme_link", "0071bb");
GA_googleAddAttr("theme_url", "b9de20");
GA_googleAddAdSensePageAttr("google_page_url", "http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/");
GA_googleFillSlot("wpcom_below_post");
}
</script>
</div>
<style type="text/css">
div.wpa>div { margin-top: 1em; } #google_ads_div_wpcom_below_post_adsafe_ad_container { display: block !important; }
</style>
<script type="text/javascript">
jQuery( window ).load( function() {
    if ( jQuery(".wpa script[src*='virool.com']").length > 0 || jQuery(".wpa script[src*='shareth.ru']").length > 0 || jQuery(".wpa iframe[src*='boomvideo.tv']").length > 0 || jQuery(".wpa iframe[src*='viewablemedia.net']").length > 0 || jQuery(".wpa .sharethrough-placement").length > 0 ) {
        jQuery( '.wpa' ).css( 'width', '400px' );
    }
setTimeout(function(){if(typeof GS_googleAddAdSenseService !== 'function'){new Image().src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom-no-pv&x_noads=adblock&baba="+Math.random()}},100);
} );
</script>
<div id="jp-post-flair" class="sharedaddy sd-rating-enabled sd-like-enabled sd-sharing-enabled"><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-official sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-twitter"><div class="twitter_button"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url=http%3A%2F%2Fwp.me%2FpCGH1-c&#038;counturl=http%3A%2F%2Fgiannigar.wordpress.com%2F2009%2F09%2F04%2Fmapping-a-many-to-many-join-table-with-extra-column-using-jpa%2F&#038;count=horizontal&#038;text=Mapping%20a%20many-to-many%20join%20table%20with%20extra%20column%20using%20JPA%3A&#038;via=wordpressdotcom&#038;related=wordpressdotcom" style="width:101px; height:20px;"></iframe></div></li><li class="share-facebook"><div class="like_button"><iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fgiannigar.wordpress.com%2F2009%2F09%2F04%2Fmapping-a-many-to-many-join-table-with-extra-column-using-jpa%2F&amp;layout=button_count&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;height=21&amp;locale=en_US&amp;width=90" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:96px; height:21px;" allowTransparency="true"></iframe></div></li><li class="share-linkedin"><div class="linkedin_button"><script type="in/share" data-url="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/" data-counter="right"></script></div></li><li class="share-print"><a rel="nofollow" class="share-print sd-button" href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#print" target="_blank" title="Click to print"><span>Print</span></a></li><li class="share-email"><a rel="nofollow" class="share-email sd-button" href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?share=email" target="_blank" title="Click to email this to a friend"><span>Email</span></a></li><li class="share-end"></li></ul></div></div></div><div class='sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded' id='like-post-wrapper-9220579-12-53cf8590a87f2' data-src='//widgets.wp.com/likes/#blog_id=9220579&amp;post_id=12&amp;origin=giannigar.wordpress.com&amp;obj_id=9220579-12-53cf8590a87f2' data-name='like-post-frame-9220579-12-53cf8590a87f2'><h3 class='sd-title'>Like this:</h3><div class='likes-widget-placeholder post-likes-widget-placeholder' style='height:55px'><span class='button'><span>Like</span></span> <span class="loading">Loading...</span></div><span class='sd-text-color'></span><a class='sd-link-color'></a></div>
<div id='jp-relatedposts' class='jp-relatedposts' >
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div></div>			</div><!-- .entry -->

	
			<div id="author-info-box">
			<div id="author-avatar">
				<img alt='' src='http://0.gravatar.com/avatar/0666eadbf6ec6fa8938ca73c0cee93d4?s=60&#038;d=identicon&#038;r=G' class='avatar avatar-60' height='60' width='60' />			</div><!-- #author-avatar -->
			<div id="author-description">
				<h2 id="author-info-title">About giannigar</h2>
				Senior Software Engineer - Groupon - Dublin, Ireland			</div><!-- #author-description -->
			<div id="author-link">
				<a href="http://giannigar.wordpress.com/author/sieze/">
					View all posts by giannigar <span class="meta-nav">&raquo;</span>				</a>
			</div><!-- #author-link -->
		</div><!-- # author-info-box -->
	
</div><!-- .post-wrapper -->
						<div class="post-utility">
							<p class="details">
								Posted on September 4, 2009, in <a href="http://giannigar.wordpress.com/category/java/" rel="category tag">Java</a>, <a href="http://giannigar.wordpress.com/category/jpa/" rel="category tag">JPA</a>, <a href="http://giannigar.wordpress.com/category/programming/" rel="category tag">Programming</a> and tagged <a href="http://giannigar.wordpress.com/tag/column/" rel="tag">column</a>, <a href="http://giannigar.wordpress.com/tag/extra/" rel="tag">extra</a>, <a href="http://giannigar.wordpress.com/tag/hibernate/" rel="tag">hibernate</a>, <a href="http://giannigar.wordpress.com/tag/join/" rel="tag">join</a>, <a href="http://giannigar.wordpress.com/tag/jpa/" rel="tag">JPA</a>, <a href="http://giannigar.wordpress.com/tag/many-to-many/" rel="tag">many-to-many</a>, <a href="http://giannigar.wordpress.com/tag/table/" rel="tag">table</a>. Bookmark the <a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/" title="Permalink to Mapping a many-to-many join table with extra column using&nbsp;JPA" rel="bookmark">permalink</a>.								<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comments" title="Comment on Mapping a many-to-many join table with extra column using&nbsp;JPA">46 Comments</a>.															</p>
						</div><!-- .post-utility -->

						<div class="post-navigation nav-below">
							<div class="nav-previous">
								<a href="http://giannigar.wordpress.com/2009/08/30/i-gotta-feeling/" rel="prev">&larr; I gotta feeling</a>							</div>
							<div class="nav-next">
								<a href="http://giannigar.wordpress.com/2010/12/09/mapping-a-many-to-many-join-table-with-extra-column-using-jpa-2/" rel="next">Meaning of load average of the top Linux&nbsp;command &rarr;</a>							</div>
						</div><!-- .post-navigation -->

					
<div id="post-extra-content" class="clear-block">
	
		<div id="secondary-tabs">
		<ul class="comment-tabs">
						<li class="leave-a-comment">
				<h3 class="comment-tab-title">
					<a href="#respond" title="Leave a comment"> Leave a comment</a>
				</h3>
			</li>
												<li>
				<h3 class="comment-tab-title">
					<a href="#comments">Comments 46</a>
				</h3>
			</li>
					</ul><!-- .comment-tabs -->
	</div><!-- #secondary-tabs -->


	
	
		

		<div id="commentlist">

			<ol id="comments">
								<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-2">
		<div id="comment-2" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/f87b76e997206e9bdd0f6f972b5bd5db?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Krishna</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-2">
				October 15, 2009 at 4:05 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_2"></div><p>I am getting the exception mappedBy reference an unknown target entity property</p>
<p>Are you familiar with this?</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=2#respond' onclick='return addComment.moveForm("comment-2", "2", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
<ul class="children">
	<li class="comment byuser comment-author-sieze bypostauthor odd alt depth-2 highlander-comment" id="li-comment-3">
		<div id="comment-3" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/0666eadbf6ec6fa8938ca73c0cee93d4?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">sieze</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-3">
				October 15, 2009 at 6:51 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_3"></div><p>Maybe I know what the problem is. In your Item class the following method needs to have its annotation mappedBy value set as below</p>
<p>@OneToMany(fetch = FetchType.LAZY, <strong>mappedBy = &#8220;pk.item&#8221;</strong>)<br />
public List getProductItems() {</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=3#respond' onclick='return addComment.moveForm("comment-3", "3", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1 highlander-comment" id="li-comment-4">
		<div id="comment-4" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/f87b76e997206e9bdd0f6f972b5bd5db?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Krishna</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-4">
				October 15, 2009 at 8:10 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_4"></div><p>Thanks for the response.<br />
I think i got that resolved.<br />
I had an additional @Id in my association entity.<br />
When i removed that, the exception went away.</p>
<p>Does any of you know how to persist these multi values into the Product entity productItems list?</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=4#respond' onclick='return addComment.moveForm("comment-4", "4", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
<ul class="children">
	<li class="comment byuser comment-author-sieze bypostauthor odd alt depth-2 highlander-comment" id="li-comment-5">
		<div id="comment-5" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/0666eadbf6ec6fa8938ca73c0cee93d4?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">sieze</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-5">
				October 15, 2009 at 8:12 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_5"></div><p>if you use the annotation<br />
 @Cascade({org.hibernate.annotations.CascadeType.SAVE_UPDATE,<br />
    org.hibernate.annotations.CascadeType.DELETE_ORPHAN})</p>
<p>upon the &#8220;getProductItems&#8221; it should work straight away</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=5#respond' onclick='return addComment.moveForm("comment-5", "5", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-6">
		<div id="comment-6" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/f87b76e997206e9bdd0f6f972b5bd5db?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Krishna</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-6">
				October 15, 2009 at 8:24 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_6"></div><p>i have this in my xhtml</p>
<p>    ROC</p>
<p>The user has a list of userRoc association entity list (userRocList)<br />
But the display list above has to display ROC list.</p>
<p>With above code, if i try to save, its giving the following exception</p>
<p>aused by: org.hibernate.PropertyAccessException: IllegalArgumentException occurred calling getter of com.cox.waps.model.WapsUserRoc.id<br />
Caused by: java.lang.IllegalArgumentException: object is not an instance of declaring class</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=6#respond' onclick='return addComment.moveForm("comment-6", "6", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
<ul class="children">
	<li class="comment odd alt depth-2 highlander-comment" id="li-comment-52">
		<div id="comment-52" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/c69986b56ceaac6c62fd21fa0c51159f?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">rmamila</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-52">
				November 21, 2011 at 6:54 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_52"></div><p>I too get the same error. Mine is one-to-many mapping using bag.<br />
Did you get your error resolved? If so can you post your solution so that other can benefit from that.</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=52#respond' onclick='return addComment.moveForm("comment-52", "52", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1 highlander-comment" id="li-comment-7">
		<div id="comment-7" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/f87b76e997206e9bdd0f6f972b5bd5db?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Krishna</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-7">
				October 15, 2009 at 8:25 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_7"></div><p>    ROC</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=7#respond' onclick='return addComment.moveForm("comment-7", "7", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1 highlander-comment" id="li-comment-8">
		<div id="comment-8" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/f87b76e997206e9bdd0f6f972b5bd5db?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Krishna</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-8">
				October 15, 2009 at 8:26 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_8"></div><p>&#8221;<br />
    ROC</p>
<p>&#8220;</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=8#respond' onclick='return addComment.moveForm("comment-8", "8", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1 highlander-comment" id="li-comment-9">
		<div id="comment-9" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/670eadc85baa7390fe4119d4dc6901f4?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn"><a href='http://sieze.wordpress.co' rel='external nofollow' class='url'>Sumana</a></cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-9">
				October 29, 2009 at 7:47 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_9"></div><p>It would be very helpful if you can post some example of insert,update and select with this association.</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=9#respond' onclick='return addComment.moveForm("comment-9", "9", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
<ul class="children">
	<li class="comment odd alt depth-2 highlander-comment" id="li-comment-54">
		<div id="comment-54" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/880d3c1d6adc46f4672a973696629b4a?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn"><a href='http://none' rel='external nofollow' class='url'>Pim</a></cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-54">
				December 30, 2011 at 1:55 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_54"></div><p>I agree, I followed the example but as with all other examples on solving this hibernate issue, I failed to get it working properly.<br />
In this case I have seen tons of exceptions, like for one not being able to insert ProductItem (SQL expects id&#8217;s while Hibernate provided the entity)</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=54#respond' onclick='return addComment.moveForm("comment-54", "54", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-23">
		<div id="comment-23" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/042d4b1d3f45bc60c686c127f0d94bc8?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Lks</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-23">
				December 9, 2010 at 5:17 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_23"></div><p>Hello, buddy!<br />
Users hibernate3-maven-plugin: If you declare &#8220;getPk&#8221; and &#8220;setPk&#8221; as &#8220;private&#8221; hibernate3-maven-plugin will generate DDL script incorrectly.<br />
I had to declare as &#8220;public&#8221; both of them to correct this. Being:<br />
&#8220;public getPk ProductItemPk()&#8221; and<br />
&#8220;public void setPk (ProductItemPk pk)&#8221;</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=23#respond' onclick='return addComment.moveForm("comment-23", "23", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-35">
		<div id="comment-35" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/59f0488550b7b24fa564e0a25d6c8f6d?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Alec</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-35">
				March 17, 2011 at 4:01 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_35"></div><p>I get the following exception when deleting Product:<br />
org.hibernate.ObjectDeletedException: deleted object would be re-saved by cascade (remove deleted object from associations): [ProductItem#ProductItemPk@0]</p>
<p>What is the right way to delete Product or Item and have the deletion cascade to ProductItem?</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=35#respond' onclick='return addComment.moveForm("comment-35", "35", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-36">
		<div id="comment-36" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/44fc7b3e9e776eefda0a707bfe4c958e?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">amit rane</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-36">
				March 17, 2011 at 10:15 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_36"></div><p>Amazing Article. Possibly one of the few ones, which target this issue. Thanks a million !</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=36#respond' onclick='return addComment.moveForm("comment-36", "36", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-37">
		<div id="comment-37" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/b8ebbd33478dd452af2f6cd063e2bf25?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">You</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-37">
				April 20, 2011 at 5:01 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_37"></div><p>I have a problem when i save the product with cascading, they tell to me that : </p>
<p>java.lang.NullPointerException<br />
	at org.hibernate.type.AbstractType.getHashCode(AbstractType.java:136)<br />
	at org.hibernate.type.AbstractType.getHashCode(AbstractType.java:144)<br />
	at org.hibernate.type.EntityType.getHashCode(EntityType.java:312)<br />
	at org.hibernate.type.ComponentType.getHashCode(ComponentType.java:212)<br />
	at org.hibernate.engine.EntityKey.generateHashCode(EntityKey.java:126)<br />
	at org.hibernate.engine.EntityKey.(EntityKey.java:70)<br />
	at org.hibernate.engine.StatefulPersistenceContext.getDatabaseSnapshot(StatefulPersistenceContext.java:263)<br />
	at org.hibernate.engine.ForeignKeys.isTransient(ForeignKeys.java:212)<br />
	at org.hibernate.event.def.AbstractSaveEventListener.getEntityState(AbstractSaveEventListener.java:535)<br />
	at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.performSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:103)<br />
	at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:93)<br />
	at org.hibernate.impl.SessionImpl.fireSaveOrUpdate(SessionImpl.java:534)<br />
	at org.hibernate.impl.SessionImpl.saveOrUpdate(SessionImpl.java:526)<br />
	at org.hibernate.engine.CascadingAction$5.cascade(CascadingAction.java:241)<br />
	at org.hibernate.engine.Cascade.cascadeToOne(Cascade.java:291)<br />
	at org.hibernate.engine.Cascade.cascadeAssociation(Cascade.java:239)<br />
	at org.hibernate.engine.Cascade.cascadeProperty(Cascade.java:192)<br />
	at org.hibernate.engine.Cascade.cascadeCollectionElements(Cascade.java:319)<br />
	at org.hibernate.engine.Cascade.cascadeCollection(Cascade.java:265)<br />
	at org.hibernate.engine.Cascade.cascadeAssociation(Cascade.java:242)<br />
	at org.hibernate.engine.Cascade.cascadeProperty(Cascade.java:192)<br />
	at org.hibernate.engine.Cascade.cascade(Cascade.java:153)<br />
	at org.hibernate.event.def.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:479)<br />
	at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:357)<br />
	at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:204)<br />
	at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:130)<br />
	at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:210)<br />
	at org.hibernate.event.def.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:56)<br />
	at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:195)<br />
	at org.hibernate.event.def.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:50)<br />
	at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:93)<br />
	at org.hibernate.impl.SessionImpl.fireSave(SessionImpl.java:562)<br />
	at org.hibernate.impl.SessionImpl.save(SessionImpl.java:550)<br />
	at org.hibernate.impl.SessionImpl.save(SessionImpl.java:546)<br />
	at stroupa.service.ManyToManyDaoImpl.saveProduct(ManyToManyDaoImpl.java:28)<br />
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br />
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)<br />
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)<br />
	at java.lang.reflect.Method.invoke(Unknown Source)<br />
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)<br />
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)<br />
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)<br />
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:107)<br />
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)<br />
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)<br />
	at $Proxy28.saveProduct(Unknown Source)<br />
	at stroupa.service.ManyToManyDaoTest.testSaveProduct(ManyToManyDaoTest.java:72)<br />
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br />
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)<br />
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)<br />
	at java.lang.reflect.Method.invoke(Unknown Source)<br />
	at org.junit.internal.runners.TestMethodRunner.executeMethodBody(TestMethodRunner.java:99)<br />
	at org.junit.internal.runners.TestMethodRunner.runUnprotected(TestMethodRunner.java:81)<br />
	at org.junit.internal.runners.BeforeAndAfterRunner.runProtected(BeforeAndAfterRunner.java:34)<br />
	at org.junit.internal.runners.TestMethodRunner.runMethod(TestMethodRunner.java:75)<br />
	at org.junit.internal.runners.TestMethodRunner.run(TestMethodRunner.java:45)<br />
	at org.junit.internal.runners.TestClassMethodsRunner.invokeTestMethod(TestClassMethodsRunner.java:66)<br />
	at org.junit.internal.runners.TestClassMethodsRunner.run(TestClassMethodsRunner.java:35)<br />
	at org.junit.internal.runners.TestClassRunner$1.runUnprotected(TestClassRunner.java:42)<br />
	at org.junit.internal.runners.BeforeAndAfterRunner.runProtected(BeforeAndAfterRunner.java:34)<br />
	at org.junit.internal.runners.TestClassRunner.run(TestClassRunner.java:52)<br />
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:49)<br />
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)<br />
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)<br />
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)<br />
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)<br />
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)</p>
<p>can u help me plz ??</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=37#respond' onclick='return addComment.moveForm("comment-37", "37", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-39">
		<div id="comment-39" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/c666deb8197d293c56635dd99c05d405?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Marco</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-39">
				May 9, 2011 at 7:30 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_39"></div><p>Ciao,</p>
<p>Vedo che usi mssql, non ho chiaro il motivo dell&#8217;errore, ma verifica che gli attributo che compongono la chiave oltre ad avere i vincoli di PK contengano anche il &#8220;not null&#8221;.</p>
<p>Ho fatto questo post un po&#8217; di anni fa e non ricordo bene come funzionano le cose qui <span class='wp-smiley emoji emoji-smile' title=':)'>:)</span></p>
<p>Vedo che lavori a roma&#8230; io ci son stato per un paio di anni li&#8230; con chi sei?</p>
<p>Regards,<br />
Gio</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=39#respond' onclick='return addComment.moveForm("comment-39", "39", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
<ul class="children">
	<li class="comment odd alt depth-2 highlander-comment" id="li-comment-40">
		<div id="comment-40" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/c666deb8197d293c56635dd99c05d405?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Marco</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-40">
				May 9, 2011 at 11:41 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_40"></div><p>Ciao!</p>
<p>Non pensavo fossi/sapessi l&#8217;italiano!</p>
<p>In realtà sono in provincia di Bergamo.. <span class='wp-smiley emoji emoji-smile' title=':)'>:)</span> Non so come mai ti sia uscito Roma! Adesso provo..! </p>
<p>Grazie della risposta e buona giornata!</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=40#respond' onclick='return addComment.moveForm("comment-40", "40", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1 highlander-comment" id="li-comment-41">
		<div id="comment-41" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/43442fc12c6fefef1174aa0465429091?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn"><a href='http://www.nouveauxterritoires.fr' rel='external nofollow' class='url'>Julien Redondo</a></cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-41">
				June 3, 2011 at 3:04 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_41"></div><p>Hello,</p>
<p>Good article, very interresting.</p>
<p>But i have a little problem.</p>
<p>I create a Item and a Product. Hibernate cascades correctly the object into the productitem.</p>
<p>But if i update a product and save, the JVM quit immediatly.<br />
Invalid access of stack red zone 0x10c673ff8 rip=0x1010c6e81</p>
<p>./catalina.sh: line 315: 25963 Bus error </p>
<p>Why ?</p>
<p>Thanks for your response</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=41#respond' onclick='return addComment.moveForm("comment-41", "41", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
<ul class="children">
	<li class="comment byuser comment-author-sieze bypostauthor odd alt depth-2 highlander-comment" id="li-comment-42">
		<div id="comment-42" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/0666eadbf6ec6fa8938ca73c0cee93d4?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">sieze</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-42">
				June 6, 2011 at 4:30 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_42"></div><p>Hi,</p>
<p>apparently this is not a code issue, try to upgrade your jvm, or to run the code on another machine, is very unusual that whichever error might cause a JVM to quit.</p>
<p>Try to mess a little bit around and let me know how it goes. Best of luck!</p>
<p>-Sieze</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=42#respond' onclick='return addComment.moveForm("comment-42", "42", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-43">
		<div id="comment-43" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/5f19d6c6f155c353d2aeb819b555d0ec?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Frank zhang</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-43">
				June 22, 2011 at 12:22 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_43"></div><p>I prefer adding generated Id attribute to resolve this.</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=43#respond' onclick='return addComment.moveForm("comment-43", "43", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-44">
		<div id="comment-44" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/39c99eab9e1e59f5d9b870ba53c2f765?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">jem</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-44">
				June 28, 2011 at 4:08 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_44"></div><p>Please help me. If I have Table A, B, and C. And I want them to have joined table A_B_C. having many to many relationship for all tables. How should I do that? Thank you in advance.</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=44#respond' onclick='return addComment.moveForm("comment-44", "44", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-45">
		<div id="comment-45" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/fa714634339ad36363313f5b6a3068d1?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn"><a href='http://gravatar.com/prasetiautama' rel='external nofollow' class='url'>prasetiautama</a></cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-45">
				July 17, 2011 at 3:23 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_45"></div><p>Hello i have error</p>
<p>run:<br />
Exception in thread &#8220;main&#8221; java.lang.ExceptionInInitializerError<br />
        at testjpa.Main.main(Main.java:22)<br />
Caused by: Exception [EclipseLink-30005] (Eclipse Persistence Services &#8211; 2.0.2.v20100323-r6872): org.eclipse.persistence.exceptions.PersistenceUnitLoadingException<br />
Exception Description: An exception was thrown while searching for persistence archives with ClassLoader: sun.misc.Launcher$AppClassLoader@1a16869<br />
Internal Exception: javax.persistence.PersistenceException: Exception [EclipseLink-28018] (Eclipse Persistence Services &#8211; 2.0.2.v20100323-r6872): org.eclipse.persistence.exceptions.EntityManagerSetupException<br />
Exception Description: Predeployment of PersistenceUnit [testJPAPU] failed.<br />
Internal Exception: Exception [EclipseLink-7298] (Eclipse Persistence Services &#8211; 2.0.2.v20100323-r6872): org.eclipse.persistence.exceptions.ValidationException<br />
Exception Description: The mapping [product] from the embedded ID class [class model.ProductItemPk] is an invalid mapping for this class. An embeddable class that is used with an embedded ID specification (attribute [pk] from the source [class model.ProductItem]) can only contain basic mappings. Either remove the non basic mapping or change the embedded ID specification on the source to be embedded.<br />
        at org.eclipse.persistence.exceptions.PersistenceUnitLoadingException.exceptionSearchingForPersistenceResources(PersistenceUnitLoadingException.java:126)<br />
        at org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:133)<br />
        at org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:65)<br />
        at javax.persistence.Persistence.createEntityManagerFactory(Unknown Source)<br />
        at javax.persistence.Persistence.createEntityManagerFactory(Unknown Source)<br />
        at utils.PersistanceUtilities.(PersistanceUtilities.java:23)<br />
        &#8230; 1 more<br />
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-28018] (Eclipse Persistence Services &#8211; 2.0.2.v20100323-r6872): org.eclipse.persistence.exceptions.EntityManagerSetupException<br />
Exception Description: Predeployment of PersistenceUnit [testJPAPU] failed.<br />
Internal Exception: Exception [EclipseLink-7298] (Eclipse Persistence Services &#8211; 2.0.2.v20100323-r6872): org.eclipse.persistence.exceptions.ValidationException<br />
Exception Description: The mapping [product] from the embedded ID class [class model.ProductItemPk] is an invalid mapping for this class. An embeddable class that is used with an embedded ID specification (attribute [pk] from the source [class model.ProductItem]) can only contain basic mappings. Either remove the non basic mapping or change the embedded ID specification on the source to be embedded.<br />
        at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.predeploy(EntityManagerSetupImpl.java:991)<br />
        at org.eclipse.persistence.internal.jpa.deployment.JPAInitializer.callPredeploy(JPAInitializer.java:88)<br />
        at org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:124)<br />
        &#8230; 5 more<br />
Caused by: Exception [EclipseLink-28018] (Eclipse Persistence Services &#8211; 2.0.2.v20100323-r6872): org.eclipse.persistence.exceptions.EntityManagerSetupException<br />
Exception Description: Predeployment of PersistenceUnit [testJPAPU] failed.<br />
Internal Exception: Exception [EclipseLink-7298] (Eclipse Persistence Services &#8211; 2.0.2.v20100323-r6872): org.eclipse.persistence.exceptions.ValidationException<br />
Exception Description: The mapping [product] from the embedded ID class [class model.ProductItemPk] is an invalid mapping for this class. An embeddable class that is used with an embedded ID specification (attribute [pk] from the source [class model.ProductItem]) can only contain basic mappings. Either remove the non basic mapping or change the embedded ID specification on the source to be embedded.<br />
        at org.eclipse.persistence.exceptions.EntityManagerSetupException.predeployFailed(EntityManagerSetupException.java:210)<br />
        &#8230; 8 more<br />
Caused by: Exception [EclipseLink-7298] (Eclipse Persistence Services &#8211; 2.0.2.v20100323-r6872): org.eclipse.persistence.exceptions.ValidationException<br />
Exception Description: The mapping [product] from the embedded ID class [class model.ProductItemPk] is an invalid mapping for this class. An embeddable class that is used with an embedded ID specification (attribute [pk] from the source [class model.ProductItem]) can only contain basic mappings. Either remove the non basic mapping or change the embedded ID specification on the source to be embedded.<br />
        at org.eclipse.persistence.exceptions.ValidationException.invalidMappingForEmbeddedId(ValidationException.java:1249)<br />
        at org.eclipse.persistence.internal.jpa.metadata.accessors.mappings.EmbeddedIdAccessor.process(EmbeddedIdAccessor.java:141)<br />
        at org.eclipse.persistence.internal.jpa.metadata.MetadataDescriptor.processAccessors(MetadataDescriptor.java:1269)<br />
        at org.eclipse.persistence.internal.jpa.metadata.accessors.classes.ClassAccessor.processAccessors(ClassAccessor.java:825)<br />
        at org.eclipse.persistence.internal.jpa.metadata.accessors.classes.EntityAccessor.processAccessors(EntityAccessor.java:847)<br />
        at org.eclipse.persistence.internal.jpa.metadata.accessors.classes.EntityAccessor.process(EntityAccessor.java:708)<br />
        at org.eclipse.persistence.internal.jpa.metadata.MetadataProject.processStage2(MetadataProject.java:1333)<br />
        at org.eclipse.persistence.internal.jpa.metadata.MetadataProcessor.processORMMetadata(MetadataProcessor.java:461)<br />
        at org.eclipse.persistence.internal.jpa.deployment.PersistenceUnitProcessor.processORMetadata(PersistenceUnitProcessor.java:390)<br />
        at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.predeploy(EntityManagerSetupImpl.java:945)<br />
        &#8230; 7 more<br />
Java Result: 1<br />
BUILD SUCCESSFUL (total time: 0 seconds)</p>
<p>please help me</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=45#respond' onclick='return addComment.moveForm("comment-45", "45", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-46">
		<div id="comment-46" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/3d5c41e931654a866e6e1401e6fa2f34?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">M.</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-46">
				July 19, 2011 at 7:55 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_46"></div><p>Hi, </p>
<p>thanks a lot for this very good article, it&#8217;s work well.<br />
I have just one little problem : how fill list of ProductItem in Product entity?<br />
I thought that<br />
      product.getProductItems()<br />
must be enougth thanks to FetchType.LAZY, but it doesn&#8217;t work : my list is still empty&#8230;<br />
Is there some trick to do that?</p>
<p>Thanks again<br />
M.</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=46#respond' onclick='return addComment.moveForm("comment-46", "46", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
<ul class="children">
	<li class="comment even depth-2 highlander-comment" id="li-comment-107">
		<div id="comment-107" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/4563ca338443c689ca967072b1ce91b5?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Sushanta</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-107">
				July 10, 2012 at 4:27 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_107"></div><p>hi, i am also getting the same issue. product.getProductItems() returning 0 size list<br />
please help me out</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=107#respond' onclick='return addComment.moveForm("comment-107", "107", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
<ul class="children">
	<li class="comment odd alt depth-3 highlander-comment" id="li-comment-108">
		<div id="comment-108" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/638a15539632fc2caaf2a94975683f13?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn"><a href='http://gravatar.com/jbcazaux' rel='external nofollow' class='url'>jbcazauxjb</a></cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-108">
				July 30, 2012 at 7:54 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_108"></div><p>i wrote a blog entry about it with code and unit tests on github. The explanations are in french but code is in java <span class='wp-smiley emoji emoji-smile' title=':)'>:)</span> <a href="http://blog.valtech.fr/2012/05/25/hibernate-jpa-manytomany-with-extra-column/" rel="nofollow">http://blog.valtech.fr/2012/05/25/hibernate-jpa-manytomany-with-extra-column/</a></p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		</span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-47">
		<div id="comment-47" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/4c54e70bf590bbc3e012d750cce196ed?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Kosmos</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-47">
				July 22, 2011 at 12:32 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_47"></div><p>Thanks for this example. I have errors on<br />
@AssociationOverride(name = &#8220;pk.item&#8221;, joinColumns = @JoinColumn(name = &#8220;item_id&#8221;)),<br />
@AssociationOverride(name = &#8220;pk.product&#8221;, joinColumns = @JoinColumn(name = &#8220;product_id&#8221;))</p>
<p>Errors are :<br />
- Persistent type of override attribute pk.item cannot be resolved<br />
- Persistent type of override attribute pk.product cannot be resolved</p>
<p>Any idea about this problem ?<br />
Thanks for your help</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=47#respond' onclick='return addComment.moveForm("comment-47", "47", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-48">
		<div id="comment-48" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/64a3a665dbb97b0bdb1de7fdce2594c5?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Mauro</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-48">
				July 29, 2011 at 11:58 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_48"></div><p>Hello,<br />
I&#8217;ve tryed the example and it works but it is impossible for me having 3 JOIN.<br />
I mean&#8230;.i can make the JOIN between Product and ProductItem but not between Product, ProductItem and Item.<br />
Can anybody tell me why?<br />
I&#8217;m trying different solutions but with not success&#8230;&#8230;.</p>
<p>For Example:<br />
- If i try to make the query from ProductItem, no JOIN happen at all <span class='wp-smiley emoji emoji-sad' title=':('>:(</span><br />
- Also if i put FetchType.EAGER it doesn&#8217;t JOIN from the ProductItem table<br />
&#8230;&#8230;</p>
<p>I&#8217;m using Criteria to make the query.</p>
<p>Waiting for suggestions</p>
<p>Thanks in advance.<br />
Mauro.</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=48#respond' onclick='return addComment.moveForm("comment-48", "48", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
<ul class="children">
	<li class="comment even depth-2 highlander-comment" id="li-comment-171">
		<div id="comment-171" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/3bea4b1e5f6b962d38f16c7b18382ff4?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">vachoh</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-171">
				December 9, 2013 at 2:57 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_171"></div><p>did you solve this? I&#8217;m having the same issue here</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=171#respond' onclick='return addComment.moveForm("comment-171", "171", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1 highlander-comment" id="li-comment-49">
		<div id="comment-49" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/5bd83986562411c6569f8156790d088d?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Morris</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-49">
				August 1, 2011 at 10:39 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_49"></div><p>Hi guys,</p>
<p>I hope my problem can be solved easly.</p>
<p>The situation is this:<br />
I&#8217;m trying to make a query that no matter from which Java class i start, i need to filter the result during the query via the name attribute of both Product and Item entity.</p>
<p>E.G.<br />
I want to make a select that takes all the rows that match with the value &#8220;product1&#8243; for the table Product and the value &#8220;item1&#8243; for the table Item.</p>
<p>If i make the query without Restrictions everything works but i obtain all the rows.<br />
Criteria criteria = session.createCriteria(ProductItem.class);</p>
<p>So the 3 tables Join without problem.</p>
<p>I want to take just few of them filtering the result during the query.<br />
Does anybody have an idea of how to get what i want?</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=49#respond' onclick='return addComment.moveForm("comment-49", "49", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1 highlander-comment" id="li-comment-51">
		<div id="comment-51" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/0a4cbb2df0e0a69e0f8e42bba5e237c8?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Ragu</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-51">
				November 17, 2011 at 7:44 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_51"></div><p>I kinda used the Wiki model and mixed the suggestion of cascade and it worked..<br />
org.hibernate.annotations.CascadeType.DELETE_ORPHAN is deprecated and i have used oprphanRemoval=true</p>
<p>@OneToMany(fetch = FetchType.LAZY, mappedBy = &#8220;employee&#8221;,orphanRemoval=true, cascade =<br />
    {CascadeType.PERSIST, CascadeType.MERGE})<br />
    @Cascade({org.hibernate.annotations.CascadeType.SAVE_UPDATE<br />
    })</p>
<p>Thanks!</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=51#respond' onclick='return addComment.moveForm("comment-51", "51", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1 highlander-comment" id="li-comment-53">
		<div id="comment-53" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/3214a23a410aca394680452d92ab28ab?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn"><a href='http://www.buscafreela.com.br' rel='external nofollow' class='url'>Marc</a></cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-53">
				December 21, 2011 at 11:53 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_53"></div><p>I&#8217;m not sure but it would seem that the first example would allow you to have a Set relation from Project to a ProjectAssociation that doesn&#8217;t require you to load the Association in order to ensure uniqueness. In the second example, that seems impossible. Is that true?</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=53#respond' onclick='return addComment.moveForm("comment-53", "53", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1 highlander-comment" id="li-comment-55">
		<div id="comment-55" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/880d3c1d6adc46f4672a973696629b4a?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn"><a href='http://none' rel='external nofollow' class='url'>Pim</a></cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-55">
				December 30, 2011 at 3:55 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_55"></div><p>Ok, did anyone get a NonUniqueObjectException on ProductItem because it already exists?<br />
I also noticed that Hibernate doesn&#8217;t call the ProductItem.equals, nor the ProductItemPk.equals.</p>
<p>Why is this Many-To-Many core-feature implementation so crappy for so long?!?<br />
All solutions found in forums eventually fail.<br />
It took me days now to solve this without success, basically meaning that the framework isn&#8217;t not helping, instead it&#8217;s creating more work to do the job.<br />
Hibernate should be ashamed!</p>
<p>My exception:<br />
[2011-12-30 16:48:18,534 AccessController] ERROR Failed to create new Product<br />
org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session<br />
I suppose object here if referring to an instance of ProductItem&#8230;</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=55#respond' onclick='return addComment.moveForm("comment-55", "55", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1 highlander-comment" id="li-comment-56">
		<div id="comment-56" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/841f952580ea9ea8696683e4f432e2b1?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Dr H</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-56">
				March 12, 2012 at 1:10 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_56"></div><p>Hi, I have three entities: employee, qualification, institute. There is a ManyToMany between qualification and institute (each qualification can be obtained at multiple institutes while each institute provides many qualifications), so there is a qualification_institute. However I need to store for each employee which of his/her qualification has been obtained from which institute, hence the qualification_institute join table has a simple primary key (besides the two foreign keys) and I created a fifth table to join employee with qualification_institute. I don&#8217;t want to work with EmployeeQualificationInstitute classes, instead I&#8217;d like to have these relations stored inside Employee class as a Map field. How should I annotate that field?</p>
<p>Thank you and regards.</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=56#respond' onclick='return addComment.moveForm("comment-56", "56", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
<ul class="children">
	<li class="comment byuser comment-author-sieze bypostauthor even depth-2 highlander-comment" id="li-comment-57">
		<div id="comment-57" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/0666eadbf6ec6fa8938ca73c0cee93d4?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">sieze</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-57">
				March 12, 2012 at 10:41 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_57"></div><p>Hi,</p>
<p>I haven&#8217;t been working with hibernate for a while&#8230; but it looks like you need a one-to-many relation between employee and qualification_institute.</p>
<p>Would not an attribute of the type Set in your Employee  entity object marked as one-to-many address your needs?</p>
<p>Hope this is of any help</p>
<p>Regards,<br />
Gio</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=57#respond' onclick='return addComment.moveForm("comment-57", "57", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
<ul class="children">
	<li class="comment odd alt depth-3 highlander-comment" id="li-comment-58">
		<div id="comment-58" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/841f952580ea9ea8696683e4f432e2b1?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Dr H</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-58">
				March 13, 2012 at 8:27 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_58"></div><p>I do have a Set at the moment in the Employee class, however I would like to replace it to a Map so I wouldn&#8217;t need to keep a separate EmployeeQualificationInstitute class. I already managed to get rid of QualificationInstitute class, I just don&#8217;t want to keep entity classes for the join tables. And yes, it&#8217;s only two class files, but in the long run it&#8217;s 2 out of 5, meaning 40% less code in that layer.</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		</span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment byuser comment-author-sieze bypostauthor even depth-3 highlander-comment" id="li-comment-59">
		<div id="comment-59" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/0666eadbf6ec6fa8938ca73c0cee93d4?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">sieze</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-59">
				March 13, 2012 at 10:32 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_59"></div><p>Hi, </p>
<p>Sorry I don&#8217;t understand what should be the key in the map. Would you mind to provide the snippet of the Set of actual code, and what should be the signature of the Map you desire? </p>
<p>Cheers, Gio </p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		</span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-60">
		<div id="comment-60" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/841f952580ea9ea8696683e4f432e2b1?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Dr H</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-60">
				March 13, 2012 at 10:43 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_60"></div><p>Hi Gio,</p>
<p>Sorry, my bad; the Map signature containing the classes got truncated. So to make it clear:<br />
- a qualification can be obtained from multiple institutes, so class Qualification already contains a Set Institute<br />
- an institute can provide multiple qualifications, so class Institute already contains a Set Qualification<br />
- as an employee can get each qualification from one particular institute, instead of a Set QualificationInstitute I&#8217;d like to have a Map Qualification, Institute : the Qualification would be the key, and the held value of type Institute would tell where the employee got that qualification from.</p>
<p>I hope I&#8217;m not talking gibberish here <span class='wp-smiley emoji emoji-smile' title=':)'>:)</span></p>
<p>Regards,<br />
    Dr H</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=60#respond' onclick='return addComment.moveForm("comment-60", "60", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-61">
		<div id="comment-61" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/74908ae3ad5b662184aeee158a61faaf?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Kawu</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-61">
				March 17, 2012 at 11:20 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_61"></div><p>Is there any specific reason why in ProjectAssociation the @ManyToOne relationships were modeled as read-only, that is @JoinColumn(&#8230; , insertable = false, updatable = false) which is the same as @PrimaryKeyJoinColumn? After all, shouldn&#8217;t link entities be insertable and updatable by default, if not at all times?</p>
<p>Kawu</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=61#respond' onclick='return addComment.moveForm("comment-61", "61", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-62">
		<div id="comment-62" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/7d7c979a3c9191357c90025b863b0887?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Ben</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-62">
				April 5, 2012 at 6:24 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_62"></div><p>Thanks for the article.  I feel like I&#8217;m close but I&#8217;m still having problems.  I coped the classes from Boris&#8217; article and wrote a test case to try the following:<br />
Create a product and two items, persist them to the DB<br />
create ProductItems for the single product and each of the two items, add them to product and merge.</p>
<p>Then I check that the ProductItems are present in the DB.<br />
Next, I want to remove one of the ProductItems, and to do so from the Product (as though it was done in another layer of the application). </p>
<p>Here is my test case code:</p>
<p>  @Test<br />
  public void testProductItemManyToMany() {<br />
    EntityManager manager = factory.createEntityManager();</p>
<p>    Product product = new Product();<br />
    product.setName(&#8220;product&#8221;);</p>
<p>    Item item1 = new Item();<br />
    item1.setName(&#8220;item1&#8243;);</p>
<p>    Item item2 = new Item();<br />
    item2.setName(&#8220;item1&#8243;);</p>
<p>    product = merge(manager, product);<br />
    item1 = merge(manager, item1);<br />
    item2 = merge(manager, item2);</p>
<p>    manager.close();</p>
<p>    Product productCopy = new Product();<br />
    productCopy.setId(product.getId());<br />
    productCopy.setName(product.getName());</p>
<p>    ProductItem pi1 = new ProductItem();<br />
    pi1.setProduct(product);<br />
    pi1.setItem(item1);</p>
<p>    ProductItem pi2 = new ProductItem();<br />
    pi2.setProduct(product);<br />
    pi2.setItem(item2);</p>
<p>    productCopy.setProductItems(ImmutableList.of(pi1, pi2));</p>
<p>    manager = factory.createEntityManager();<br />
    merge(manager, productCopy);<br />
    ExtraAsserts.assertContentsAnyOrder(manager.createQuery(&#8220;from ProductItem&#8221;).getResultList(), pi1, pi2);<br />
    manager.close();</p>
<p>    productCopy = new Product();<br />
    productCopy.setId(product.getId());<br />
    productCopy.setName(product.getName());<br />
    productCopy.setProductItems(ImmutableList.of(pi1));</p>
<p>    manager = factory.createEntityManager();<br />
    merge(manager, productCopy);<br />
    manager.flush();</p>
<p>    ExtraAsserts.assertContentsAnyOrder(manager.createQuery(&#8220;from ProductItem&#8221;).getResultList(), pi1);<br />
    manager.close();<br />
  }</p>
<p>  private  T merge(EntityManager manager, T entity) {<br />
    EntityTransaction tx = manager.getTransaction();<br />
    tx.begin();<br />
    entity = manager.merge(entity);<br />
    tx.commit();<br />
    return entity;<br />
  }</p>
<p>With the original code from Boris&#8217; article, the ProductItems were not inserted, I tried adding different Cascade values, finally trying the ones you suggested, a mix of javax.persistance and org.hibernate annotations.  In all cases with the cascade on, the last merge causes the query:</p>
<p>Hibernate: select product0_.product_id as product1_24_1_, product0_.name as name24_1_, productite1_.product_id as product2_3_, productite1_.item_id as item1_3_, productite1_.item_id as item1_25_0_, productite1_.product_id as product2_25_0_ from product product0_ left outer join product_item productite1_ on product0_.product_id=productite1_.product_id where product0_.product_id=?</p>
<p>to repeat until the stack overflows.</p>
<p>Due to restrictions on the server framework, I&#8217;m limited to JPA 1.0 and thus to Hibernate 3.3.x (with EntityManager 3.4.0 and Annotations 3.4.0).</p>
<p>Please advise.</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=62#respond' onclick='return addComment.moveForm("comment-62", "62", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
<ul class="children">
	<li class="comment even depth-2 highlander-comment" id="li-comment-105">
		<div id="comment-105" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/638a15539632fc2caaf2a94975683f13?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">jbcazaux</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-105">
				May 20, 2012 at 10:07 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_105"></div><p>same error: stack overflow (always the same select) jpa2, hibernate4</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=105#respond' onclick='return addComment.moveForm("comment-105", "105", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment byuser comment-author-jbcazaux odd alt depth-2 highlander-comment" id="li-comment-106">
		<div id="comment-106" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/638a15539632fc2caaf2a94975683f13?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">jbcazaux</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-106">
				May 20, 2012 at 1:06 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_106"></div><p>to avoid the stackoverflow i had to add a fetchtype lazy in the mapping of join entity :<br />
i have recipe  recipeIngredient  ingredient.<br />
I dont use the PK entity, seems to work with 2 @id annotions</p>
<p>@Entity<br />
@Table(name = &#8220;recipe_ingredient&#8221;)<br />
@EqualsAndHashCode(of = { &#8220;recipe&#8221;, &#8220;ingredient&#8221;, &#8220;amount&#8221; }, callSuper = false)<br />
public class RecipeIngredient implements Serializable {</p>
<p>    @Getter<br />
    @Setter<br />
    @NotEmpty<br />
    @Column(nullable = false)<br />
    private String amount; //my extra column</p>
<p>    @Id<br />
    @Getter<br />
    @Setter<br />
    @NotNull<br />
    @ManyToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)<br />
    @JoinColumn(name = &#8220;ingredient_id&#8221;)<br />
    private Ingredient ingredient;</p>
<p>    @Id<br />
    @Getter<br />
    @Setter<br />
    @NotNull<br />
    @ManyToOne(fetch = FetchType.LAZY) //the fix !<br />
    @JoinColumn(name = &#8220;recipe_id&#8221;)<br />
    private Recipe recipe;</p>
<p>    public RecipeIngredient() {<br />
    }</p>
<p>    public RecipeIngredient(Ingredient ingredient, String amount) {<br />
        setIngredient(ingredient);<br />
        this.amount = amount;<br />
    }</p>
<p>hopes this help !</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=106#respond' onclick='return addComment.moveForm("comment-106", "106", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-82">
		<div id="comment-82" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/307b2a6b573c7c195058ac2366872f21?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Abdellatif</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-82">
				April 21, 2012 at 5:31 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_82"></div><p>Hello,</p>
<p>I&#8217;d like to thank you so much for this very usefull show case, I&#8217;ve just try it with my own example business and it works fine.<br />
unfortunately, I don&#8217;t use an other ORM and JPA provider.<br />
Good luck;</p>
<p>BR<br />
Abdellatif</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=82#respond' onclick='return addComment.moveForm("comment-82", "82", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-119">
		<div id="comment-119" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/f9ad74499d9f1c9f663e63b90b3b3f13?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">KDV</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-119">
				January 17, 2013 at 11:12 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_119"></div><p>Thanks for a solution. This is useful way to mass dissociate the many-to-many linked records. E.g:</p>
<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;- ItemsGroupEntity.java &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;</p>
<p>@Entity<br />
public class ItemsGroupEntity {</p>
<p>    @ManyToMany(targetEntity = ItemEntity.class, mappedBy = &#8220;groups&#8221;, cascade = {CascadeType.PERSIST})<br />
    protected Set items;<br />
}</p>
<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;- ItemEntity.java &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;</p>
<p>@Entity<br />
public class ItemEntity {</p>
<p>    @ManyToMany(targetEntity = ItemsGroupEntity.class, cascade = {CascadeType.PERSIST})<br />
    @JoinTable(name = &#8220;Group2Item&#8221;, joinColumns = {<br />
        @JoinColumn(name = &#8220;item_id&#8221;)<br />
    }, inverseJoinColumns = {<br />
        @JoinColumn(name = &#8220;group_id&#8221;)<br />
    })<br />
    protected Set groups;<br />
}</p>
<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; ItemGroupAssociation.java &#8212;&#8212;&#8212;&#8212;&#8212;-</p>
<p>@Entity<br />
@Table(name=&#8221;Group2Item&#8221;)<br />
public class ItemGroupAssociation {</p>
<p>	@EmbeddedId<br />
	protected CompositeKey compositeKey;</p>
<p>	@Embeddable<br />
	public static class CompositeKey implements Serializable {<br />
		@ManyToOne<br />
		@JoinColumn(name = &#8220;item_id&#8221;)<br />
		protected ItemEntity item;</p>
<p>		@ManyToOne()<br />
		@JoinColumn(name = &#8220;group_id&#8221;)<br />
		protected ItemsGroupEntity group;<br />
	}<br />
}</p>
<p>&#8212;&#8212;&#8212;&#8212;&#8212; hibernate.cfg.xml &#8212;&#8212;&#8212;&#8212;&#8212;&#8211;</p>
<p>This mapping allows to exec HQL queries(now Hibernate knows the &#8220;Group2Item&#8221; table as entity of ItemGroupAssociation type):</p>
<p>org.hibernate.Session session;</p>
<p>session.createQuery(&#8220;delete from &#8221; + ItemGroupAssociation.class.getSimpleName() + &#8221; where compositeKey.item.id IN (:ids)&#8221;).setParameterList(&#8220;ids&#8221;, new Long[]{1L, 2L, 3L, &#8230;}).executeUpdate();</p>
<p>session.createQuery(&#8220;delete from &#8221; + ItemGroupAssociation.class.getSimpleName() + &#8221; where compositeKey.group.id IN (:ids)&#8221;).setParameterList(&#8220;ids&#8221;, this.model.targets).executeUpdate();</p>
<p>&#8230; instead of dissociating entities one after another inside loop.</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=119#respond' onclick='return addComment.moveForm("comment-119", "119", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
<ul class="children">
	<li class="comment even depth-2 highlander-comment" id="li-comment-120">
		<div id="comment-120" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/f9ad74499d9f1c9f663e63b90b3b3f13?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">KDV</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-120">
				January 17, 2013 at 11:16 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_120"></div><p>Woops, the hibernate.cfg.xml text is eaten by forum engine&#8230; Well, it&#8217;s most interesting part is:</p>
<p>        &lt;mapping class=&#8221;entity.ItemEntity&#8221;/&gt;<br />
        &lt;mapping class=&#8221;entity.ItemsGroupEntity&#8221;/&gt;<br />
        &lt;mapping class=&#8221;entity.ItemGroupAssociation&#8221;/&gt;<br />
        &lt;mapping class=&#8221;entity.ItemGroupAssociation$CompositeKey&#8221;/&gt;</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=120#respond' onclick='return addComment.moveForm("comment-120", "120", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1 highlander-comment" id="li-comment-156">
		<div id="comment-156" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/5564e1126e5c93d551e36f3a822f4135?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn"><a href='http://zeevm.com' rel='external nofollow' class='url'>michael addison</a></cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-156">
				June 29, 2013 at 10:36 pm</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_156"></div><p>I must thank you for the efforts you have put in writing this site.<br />
I am hoping to view the same high-grade blog posts<br />
by you in the future as well. In truth, your creative writing abilities has inspired me to get my<br />
very own site now <span class='wp-smiley emoji emoji-wink' title=';)'>;)</span></p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=156#respond' onclick='return addComment.moveForm("comment-156", "156", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1 highlander-comment" id="li-comment-161">
		<div id="comment-161" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/e7015df90f9bc160f0c28cdc850430da?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn">Siddhant Sahu</cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-161">
				September 6, 2013 at 11:22 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_161"></div><p>Hi, I m getting Error</p>
<p>Exception in thread &#8220;main&#8221; java.lang.NullPointerException<br />
	at SampleJavaProject.Entity.PersonBankAssociation.setPerson(PersonBankAssociation.java:97)<br />
	at SampleJavaProject.HibernateTransaction.PersonBankApp.main(PersonBankApp.java:57)</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=161#respond' onclick='return addComment.moveForm("comment-161", "161", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1 highlander-comment" id="li-comment-180">
		<div id="comment-180" class="tiptrigger">
		<div class="comment-head comment-author vcard">
			<img alt='' src='http://i2.wp.com/graph.facebook.com/100005089539183/picture?q=type%3Dlarge%26_md5%3D31acb3f33b2e724997297d2a52da357d&#038;resize=48%2C48' class='avatar avatar-48' height='48' width='48' />
			<cite class="fn"><a href='https://www.facebook.com/alexander.seidl.357' rel='external nofollow' class='url'>Alexander Seidl</a></cite>

			<span class="comment-meta commentmetadata">
				|
				<a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#comment-180">
				February 20, 2014 at 11:23 am</a>
								</span><!-- .comment-meta .commentmetadata -->
		</div><!-- .comment-head .comment-author .vcard -->
		
		<div class="comment-body">
			<div class="pd-rating" id="pd_rating_holder_3395940_comm_180"></div><p>Hi, this works for me. Thanks for your effort!<br />
But now when i try to build a Criteria Query like:</p>
<p>			List queried_accounts = HibernateUtils.criteriaList(<br />
					session.createCriteria(Account.class).<br />
						createCriteria(&#8220;accountAttribute&#8221;).<br />
							createCriteria(&#8220;aa_pk.attribut&#8221;).<br />
								add(Restrictions.isNotNull(&#8220;name&#8221;))<br />
			);<br />
&#8230; i get an exception:<br />
org.hibernate.exception.SQLGrammarException: could not extract ResultSet</p>
<p>Entity<br />
@Table(name = &#8220;account&#8221;)<br />
public class Account {</p>
<p>	private Long accountId;<br />
	private List accountAttribute = new LinkedList();<br />
	private Person person;<br />
	private Zielsystem zielsystem;</p>
<p>	public Account() {<br />
	}<br />
         // &#8230;.<br />
}</p>
<p>@Entity<br />
@Table(name=&#8221;account_attribut&#8221;)<br />
@AssociationOverrides({<br />
	@AssociationOverride(name=&#8221;aa_pk.account&#8221;, joinColumns = @JoinColumn(name=&#8221;account_id&#8221;)),<br />
	@AssociationOverride(name=&#8221;aa_pk.attribut&#8221;, joinColumns = @JoinColumn(name=&#8221;attribut_id&#8221;))<br />
})<br />
public class AccountAttribut {<br />
   //&#8230;<br />
}</p>
<p>it seems, that i cant use the defined &#8220;aa_pk.attribut&#8221; property name in the query. What im doing wrong?</p>
		</div><!-- .comment-body -->

		 <div class="act tip">
				 		<a class='comment-reply-link' href='/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/?replytocom=180#respond' onclick='return addComment.moveForm("comment-180", "180", "respond", "12")'>Reply</a></span>
								 </div><!-- .act .tip -->

	</div><!-- #comment-## -->
</li><!-- #comment-## -->
						</ol><!-- #comments -->

			
			
		</div><!-- #comment-list -->

	
									<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://giannigar.wordpress.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																										


												<input type="hidden" id="highlander_comment_nonce" name="highlander_comment_nonce" value="64ee7e0744" /><input type="hidden" name="_wp_http_referer" value="/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/" />
<input type="hidden" name="hc_post_as" id="hc_post_as" value="guest" />

<div class="comment-form-field comment-textarea">
	<label for="comment">Enter your comment here...</label>
	<div id="comment-form-comment"><textarea id="comment" name="comment" title="Enter your comment here..."></textarea></div>
</div>

<div id="comment-form-identity">

	<div id="comment-form-nascar">
		<p>Fill in your details below or click an icon to log in:</p>
		<ul>
			<li class="selected" style="display:none;">
				<a href="#comment-form-guest" id="postas-guest" title="Guest">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:WordPress.com" id="postas-wordpress" title="WordPress.com">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Twitter" id="postas-twitter" title="Twitter">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Facebook" id="postas-facebook" title="Facebook">
					<span></span>
				</a>
			</li>
			<li>
			<iframe id="googleplus-sign-in" name="googleplus-sign-in" src="https://public-api.wordpress.com/connect/?googleplus-sign-in=http%3A%2F%2Fgiannigar.wordpress.com" width="24" height="24" scrolling="no" allowtransparency="true" seamless="seamless" frameborder="0"></iframe>
			</li>
		</ul>
	</div>

	<div id="comment-form-guest" class="comment-form-service selected">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
<a href="https://gravatar.com/site/signup/" target="_blank">				<img src="http://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Gravatar" width="25" class="no-grav" />
</a>			</div>

				<div class="comment-form-fields">
				<div class="comment-form-field comment-form-email">
					<label for="email">Email <span class="required">(required)</span> <span class="nopublish">(Address never made public)</span></label>
					<div class="comment-form-input"><input id="email" name="email" type="email" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-author">
					<label for="author">Name <span class="required">(required)</span></label>
					<div class="comment-form-input"><input id="author" name="author" type="text" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-url">
					<label for="url">Website</label>
					<div class="comment-form-input"><input id="url" name="url" type="text" value="" /></div>
				</div>
			</div>
	
		</div>
	</div>

	<div id="comment-form-wordpress" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://s2.wp.com/wp-content/mu-plugins/highlander-comments/images/wplogo.png?m=1391188133g" alt="WordPress.com Logo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="wp_avatar" id="wordpress-avatar" class="comment-meta-wordpress" value="" />
				<input type="hidden" name="wp_user_id" id="wordpress-user_id" class="comment-meta-wordpress" value="" />
				<input type="hidden" name="wp_access_token" id="wordpress-access_token" class="comment-meta-wordpress" value="" />
				<p class="comment-form-posting-as pa-wordpress"><strong></strong> You are commenting using your WordPress.com account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'wordpress' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-twitter" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Twitter picture" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="twitter_avatar" id="twitter-avatar" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_user_id" id="twitter-user_id" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_access_token" id="twitter-access_token" class="comment-meta-twitter" value="" />
				<p class="comment-form-posting-as pa-twitter"><strong></strong> You are commenting using your Twitter account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'twitter' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-facebook" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Facebook photo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="fb_avatar" id="facebook-avatar" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_user_id" id="facebook-user_id" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_access_token" id="facebook-access_token" class="comment-meta-facebook" value="" />
				<p class="comment-form-posting-as pa-facebook"><strong></strong> You are commenting using your Facebook account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'facebook' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-googleplus" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Google+ photo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="googleplus_avatar" id="googleplus-avatar" class="comment-meta-googleplus" value="" />
				<input type="hidden" name="googleplus_user_id" id="googleplus-user_id" class="comment-meta-googleplus" value="" />
				<input type="hidden" name="googleplus_access_token" id="googleplus-access_token" class="comment-meta-googleplus" value="" />
				<p class="comment-form-posting-as pa-googleplus"><strong></strong> You are commenting using your Google+ account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'googleplus' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>


	<div id="comment-form-load-service" class="comment-form-service">
		<div class="comment-form-posting-as-cancel"><a href="javascript:HighlanderComments.cancelExternalWindow();">Cancel</a></div>
		<p>Connecting to %s</p>
	</div>

	
</div>

<script type="text/javascript">
var highlander_expando_javascript = function(){
	var input = document.createElement( 'input' ),
	    comment = jQuery( '#comment' );

	if ( 'placeholder' in input ) {
		comment.attr( 'placeholder', jQuery( '.comment-textarea label' ).remove().text() );
	}

	// Expando Mode: start small, then auto-resize on first click + text length
	jQuery( '#comment-form-identity' ).hide();
	jQuery( '#comment-form-subscribe' ).hide();
	jQuery( '#commentform .form-submit' ).hide();

	comment.css( { 'height':'10px' } ).one( 'focus', function() {
		var timer = setInterval( HighlanderComments.resizeCallback, 10 )
		jQuery( this ).animate( { 'height': HighlanderComments.initialHeight } ).delay( 100 ).queue( function(n) { clearInterval( timer ); HighlanderComments.resizeCallback(); n(); } );
		jQuery( '#comment-form-identity' ).slideDown();
		jQuery( '#comment-form-subscribe' ).slideDown();
		jQuery( '#commentform .form-submit' ).slideDown();
	});
}
jQuery(document).ready( highlander_expando_javascript );
</script>

<div id="comment-form-subscribe">
	<p class="comment-subscription-form"><input type="checkbox" name="subscribe" id="subscribe" value="subscribe" style="width: auto;" tabindex="6"/> <label class="subscribe-label" id="subscribe-label" for="subscribe" style="display: inline;">Notify me of follow-up comments via email.</label></p></div>

												<p class="form-submit">
							<input name="submit" type="submit" id="comment-submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='12' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="993771a078" /></p>
<input type="hidden" name="genseq" value="1406109072" />
<p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="14"/></p>					</form>
							</div><!-- #respond -->
			<div style="clear: both"></div>
</div><!-- #post-extra-content -->
									</div><!-- #content -->
			</div><!-- #content-container -->


	<div id="sidebar" class="widget-area" role="complementary">
				<ul class="xoxo">

		<li id="gravatar-3" class="widget widget_gravatar"><h3 class="widget-title"><span>Author</span></h3><p><a href="http://www.linkedin.com/in/giovannigargiulo"><img alt='' src='http://0.gravatar.com/avatar/0666eadbf6ec6fa8938ca73c0cee93d4?s=128&#038;d=identicon&#038;r=G' class='avatar avatar-128 grav-widget-none' height='128' width='128' /></a></p>
<p>Senior Software Engineer<br />
Groupon<br />
Dublin, Ireland</p>
<p>If you've found usefull information, please consider donating to my bitcoin wallet:<br />
1D4Li5ckG81JLbBt3Kb2UT1wQqHZddVqEL</p>
</li><li id="categories-2" class="widget widget_categories"><h3 class="widget-title"><span>Categories</span></h3>		<ul>
	<li class="cat-item cat-item-57460264"><a href="http://giannigar.wordpress.com/category/bitcoin-2/" >Bitcoin</a>
</li>
	<li class="cat-item cat-item-1017"><a href="http://giannigar.wordpress.com/category/java/" >Java</a>
</li>
	<li class="cat-item cat-item-307053"><a href="http://giannigar.wordpress.com/category/jpa/" >JPA</a>
</li>
	<li class="cat-item cat-item-610"><a href="http://giannigar.wordpress.com/category/linux/" >Linux</a>
</li>
	<li class="cat-item cat-item-196"><a href="http://giannigar.wordpress.com/category/programming/" >Programming</a>
<ul class='children'>
	<li class="cat-item cat-item-11287"><a href="http://giannigar.wordpress.com/category/programming/agile/" >Agile</a>
	<ul class='children'>
	<li class="cat-item cat-item-1136966"><a href="http://giannigar.wordpress.com/category/programming/agile/kanban/" >Kanban</a>
</li>
	</ul>
</li>
</ul>
</li>
	<li class="cat-item cat-item-255"><a href="http://giannigar.wordpress.com/category/ubuntu/" >Ubuntu</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://giannigar.wordpress.com/category/uncategorized/" >Uncategorized</a>
</li>
		</ul>
</li><li id="wp_tag_cloud-2" class="widget wp_widget_tag_cloud"><h3 class="widget-title"><span>giannigar&#8217;s cloud</span></h3><div style="overflow:hidden"><a href='http://giannigar.wordpress.com/tag/agile-2/' class='tag-link-35000742' title='3 topics' style='font-size: 18.5pt;'>agile</a>
<a href='http://giannigar.wordpress.com/tag/agile-methodologies/' class='tag-link-2471892' title='1 topic' style='font-size: 8pt;'>agile methodologies</a>
<a href='http://giannigar.wordpress.com/tag/api-version/' class='tag-link-49919961' title='1 topic' style='font-size: 8pt;'>api version</a>
<a href='http://giannigar.wordpress.com/tag/atdd/' class='tag-link-30534574' title='2 topics' style='font-size: 14.3pt;'>atdd</a>
<a href='http://giannigar.wordpress.com/tag/average/' class='tag-link-91207' title='1 topic' style='font-size: 8pt;'>average</a>
<a href='http://giannigar.wordpress.com/tag/bdd/' class='tag-link-75400' title='2 topics' style='font-size: 14.3pt;'>bdd</a>
<a href='http://giannigar.wordpress.com/tag/blog/' class='tag-link-273' title='1 topic' style='font-size: 8pt;'>blog</a>
<a href='http://giannigar.wordpress.com/tag/code-snippet/' class='tag-link-45396' title='1 topic' style='font-size: 8pt;'>code snippet</a>
<a href='http://giannigar.wordpress.com/tag/code-snippets/' class='tag-link-6572' title='1 topic' style='font-size: 8pt;'>code snippets</a>
<a href='http://giannigar.wordpress.com/tag/column/' class='tag-link-25515' title='1 topic' style='font-size: 8pt;'>column</a>
<a href='http://giannigar.wordpress.com/tag/command/' class='tag-link-14292' title='1 topic' style='font-size: 8pt;'>command</a>
<a href='http://giannigar.wordpress.com/tag/compression/' class='tag-link-174250' title='1 topic' style='font-size: 8pt;'>compression</a>
<a href='http://giannigar.wordpress.com/tag/connection/' class='tag-link-40112' title='1 topic' style='font-size: 8pt;'>connection</a>
<a href='http://giannigar.wordpress.com/tag/copy-to-clipboard/' class='tag-link-4065820' title='1 topic' style='font-size: 8pt;'>copy to clipboard</a>
<a href='http://giannigar.wordpress.com/tag/dev/' class='tag-link-6504' title='1 topic' style='font-size: 8pt;'>dev</a>
<a href='http://giannigar.wordpress.com/tag/drive/' class='tag-link-17209' title='1 topic' style='font-size: 8pt;'>drive</a>
<a href='http://giannigar.wordpress.com/tag/err/' class='tag-link-63380' title='1 topic' style='font-size: 8pt;'>err</a>
<a href='http://giannigar.wordpress.com/tag/example/' class='tag-link-114180' title='2 topics' style='font-size: 14.3pt;'>example</a>
<a href='http://giannigar.wordpress.com/tag/extra/' class='tag-link-8699' title='1 topic' style='font-size: 8pt;'>extra</a>
<a href='http://giannigar.wordpress.com/tag/feedbacks/' class='tag-link-164638' title='1 topic' style='font-size: 8pt;'>feedbacks</a>
<a href='http://giannigar.wordpress.com/tag/folder/' class='tag-link-6598' title='1 topic' style='font-size: 8pt;'>folder</a>
<a href='http://giannigar.wordpress.com/tag/formatted/' class='tag-link-2819438' title='1 topic' style='font-size: 8pt;'>formatted</a>
<a href='http://giannigar.wordpress.com/tag/formatted-code/' class='tag-link-83834372' title='1 topic' style='font-size: 8pt;'>formatted code</a>
<a href='http://giannigar.wordpress.com/tag/fragile/' class='tag-link-357799' title='1 topic' style='font-size: 8pt;'>fragile</a>
<a href='http://giannigar.wordpress.com/tag/fstab/' class='tag-link-241611' title='1 topic' style='font-size: 8pt;'>fstab</a>
<a href='http://giannigar.wordpress.com/tag/gist/' class='tag-link-1314806' title='1 topic' style='font-size: 8pt;'>gist</a>
<a href='http://giannigar.wordpress.com/tag/grep/' class='tag-link-320746' title='1 topic' style='font-size: 8pt;'>grep</a>
<a href='http://giannigar.wordpress.com/tag/grep4j/' class='tag-link-155960845' title='1 topic' style='font-size: 8pt;'>grep4j</a>
<a href='http://giannigar.wordpress.com/tag/gzip/' class='tag-link-308646' title='1 topic' style='font-size: 8pt;'>gzip</a>
<a href='http://giannigar.wordpress.com/tag/hibernate/' class='tag-link-17907' title='2 topics' style='font-size: 14.3pt;'>hibernate</a>
<a href='http://giannigar.wordpress.com/tag/how/' class='tag-link-548' title='1 topic' style='font-size: 8pt;'>how</a>
<a href='http://giannigar.wordpress.com/tag/how-to/' class='tag-link-2708' title='2 topics' style='font-size: 14.3pt;'>how to</a>
<a href='http://giannigar.wordpress.com/tag/hsqldb/' class='tag-link-488658' title='1 topic' style='font-size: 8pt;'>hsqldb</a>
<a href='http://giannigar.wordpress.com/tag/java/' class='tag-link-1017' title='3 topics' style='font-size: 18.5pt;'>Java</a>
<a href='http://giannigar.wordpress.com/tag/jersey/' class='tag-link-195154' title='1 topic' style='font-size: 8pt;'>jersey</a>
<a href='http://giannigar.wordpress.com/tag/join/' class='tag-link-313803' title='1 topic' style='font-size: 8pt;'>join</a>
<a href='http://giannigar.wordpress.com/tag/jpa/' class='tag-link-307053' title='2 topics' style='font-size: 14.3pt;'>JPA</a>
<a href='http://giannigar.wordpress.com/tag/keyboard/' class='tag-link-105984' title='1 topic' style='font-size: 8pt;'>keyboard</a>
<a href='http://giannigar.wordpress.com/tag/language-specific/' class='tag-link-2921201' title='1 topic' style='font-size: 8pt;'>language specific</a>
<a href='http://giannigar.wordpress.com/tag/legacy/' class='tag-link-91209' title='1 topic' style='font-size: 8pt;'>legacy</a>
<a href='http://giannigar.wordpress.com/tag/linux-2/' class='tag-link-34922710' title='1 topic' style='font-size: 8pt;'>linux</a>
<a href='http://giannigar.wordpress.com/tag/load/' class='tag-link-188920' title='1 topic' style='font-size: 8pt;'>load</a>
<a href='http://giannigar.wordpress.com/tag/many-to-many/' class='tag-link-1336880' title='1 topic' style='font-size: 8pt;'>many-to-many</a>
<a href='http://giannigar.wordpress.com/tag/misunderstanding/' class='tag-link-222526' title='1 topic' style='font-size: 8pt;'>misunderstanding</a>
<a href='http://giannigar.wordpress.com/tag/mount/' class='tag-link-196088' title='1 topic' style='font-size: 8pt;'>mount</a>
<a href='http://giannigar.wordpress.com/tag/mouse/' class='tag-link-2786' title='1 topic' style='font-size: 8pt;'>mouse</a>
<a href='http://giannigar.wordpress.com/tag/nohup/' class='tag-link-885642' title='1 topic' style='font-size: 8pt;'>nohup</a>
<a href='http://giannigar.wordpress.com/tag/null/' class='tag-link-53983' title='1 topic' style='font-size: 8pt;'>null</a>
<a href='http://giannigar.wordpress.com/tag/out/' class='tag-link-98840' title='1 topic' style='font-size: 8pt;'>out</a>
<a href='http://giannigar.wordpress.com/tag/password/' class='tag-link-37471' title='1 topic' style='font-size: 8pt;'>password</a>
<a href='http://giannigar.wordpress.com/tag/poc/' class='tag-link-83702' title='1 topic' style='font-size: 8pt;'>poc</a>
<a href='http://giannigar.wordpress.com/tag/protocol-buffer/' class='tag-link-8748276' title='1 topic' style='font-size: 8pt;'>protocol buffer</a>
<a href='http://giannigar.wordpress.com/tag/readability/' class='tag-link-71229' title='1 topic' style='font-size: 8pt;'>readability</a>
<a href='http://giannigar.wordpress.com/tag/reboot/' class='tag-link-15836' title='1 topic' style='font-size: 8pt;'>reboot</a>
<a href='http://giannigar.wordpress.com/tag/rest/' class='tag-link-15314' title='1 topic' style='font-size: 8pt;'>rest</a>
<a href='http://giannigar.wordpress.com/tag/scrum/' class='tag-link-46805' title='1 topic' style='font-size: 8pt;'>scrum</a>
<a href='http://giannigar.wordpress.com/tag/share/' class='tag-link-1015' title='1 topic' style='font-size: 8pt;'>share</a>
<a href='http://giannigar.wordpress.com/tag/shared/' class='tag-link-30285' title='1 topic' style='font-size: 8pt;'>shared</a>
<a href='http://giannigar.wordpress.com/tag/shortcut/' class='tag-link-120382' title='1 topic' style='font-size: 8pt;'>shortcut</a>
<a href='http://giannigar.wordpress.com/tag/space/' class='tag-link-174' title='1 topic' style='font-size: 8pt;'>space</a>
<a href='http://giannigar.wordpress.com/tag/ssh/' class='tag-link-49320' title='1 topic' style='font-size: 8pt;'>ssh</a>
<a href='http://giannigar.wordpress.com/tag/std/' class='tag-link-217132' title='1 topic' style='font-size: 8pt;'>std</a>
<a href='http://giannigar.wordpress.com/tag/stop/' class='tag-link-145146' title='1 topic' style='font-size: 8pt;'>stop</a>
<a href='http://giannigar.wordpress.com/tag/table/' class='tag-link-159841' title='1 topic' style='font-size: 8pt;'>table</a>
<a href='http://giannigar.wordpress.com/tag/technology/' class='tag-link-6' title='1 topic' style='font-size: 8pt;'>technology</a>
<a href='http://giannigar.wordpress.com/tag/terminate/' class='tag-link-2380508' title='1 topic' style='font-size: 8pt;'>terminate</a>
<a href='http://giannigar.wordpress.com/tag/testing/' class='tag-link-12' title='1 topic' style='font-size: 8pt;'>testing</a>
<a href='http://giannigar.wordpress.com/tag/to/' class='tag-link-298244' title='1 topic' style='font-size: 8pt;'>to</a>
<a href='http://giannigar.wordpress.com/tag/top/' class='tag-link-25910' title='1 topic' style='font-size: 8pt;'>top</a>
<a href='http://giannigar.wordpress.com/tag/tutorial/' class='tag-link-2932' title='1 topic' style='font-size: 8pt;'>tutorial</a>
<a href='http://giannigar.wordpress.com/tag/ubuntu-2/' class='tag-link-34920936' title='4 topics' style='font-size: 22pt;'>ubuntu</a>
<a href='http://giannigar.wordpress.com/tag/virtualbox/' class='tag-link-989685' title='1 topic' style='font-size: 8pt;'>virtualbox</a>
<a href='http://giannigar.wordpress.com/tag/windows/' class='tag-link-800' title='1 topic' style='font-size: 8pt;'>windows</a>
<a href='http://giannigar.wordpress.com/tag/wordpress/' class='tag-link-33' title='1 topic' style='font-size: 8pt;'>wordpress</a>
<a href='http://giannigar.wordpress.com/tag/working/' class='tag-link-30025' title='1 topic' style='font-size: 8pt;'>working</a></div></li><li id="jp_blogs_i_follow-2" class="widget widget_jp_blogs_i_follow"><h3 class="widget-title"><span>Blogs I Follow</span></h3><ol><li><a href="http://rlogiacco.blogspot.co.uk" class="bump-view" data-bump-view="bif">rlogiacco.blogspot.co.uk</a></li><li><a href="http://mysoftwarequality.wordpress.com" class="bump-view" data-bump-view="bif">mysoftwarequality</a></li><li><a href="http://rdafbn.blogspot.com/" class="bump-view" data-bump-view="bif">Remove duplications and fix bad names</a></li><li><a href="http://jessicaminghinelli.wordpress.com" class="bump-view" data-bump-view="bif">Jess &amp; the City</a></li></ol></li><li id="twitter-3" class="widget widget_twitter"><h3 class="widget-title"><span><a href='http://twitter.com/giannigar'>giannigar&#8217;s twitter</a></span></h3><ul class='tweets'>
			<li>
				RT @<a href='http://twitter.com/reverentgeek'>reverentgeek</a>: OH: We’re thinking about changing to 15 minute sprints. That’s how fast our priorities change at my company. 				<a href="http://twitter.com/giannigar/statuses/487639809536839681" class="timesince">1&nbsp;week&nbsp;ago</a>
			</li>

			
			<li>
				Raspberry Pi MongoDB Installation - The working guide! <a href="http://c-mobberley.com/wordpress/2013/10/14/raspberry-pi-mongodb-installation-the-working-guide/"> c-mobberley.com/wordpress/2013…</a> 				<a href="http://twitter.com/giannigar/statuses/481928895516536832" class="timesince">3&nbsp;weeks&nbsp;ago</a>
			</li>

			
			<li>
				<a href='http://twitter.com/search?q=%23Balotelli'>#Balotelli</a> fuori subito <a href='http://twitter.com/search?q=%23italiacostarica'>#italiacostarica</a> 				<a href="http://twitter.com/giannigar/statuses/480025541521989632" class="timesince">1&nbsp;month&nbsp;ago</a>
			</li>

			
			<li>
				RT @<a href='http://twitter.com/javacodegeeks'>javacodegeeks</a>: Question: Why did the multithreaded chicken cross the road?
Answer: other to side. To the get. <a href="http://buff.ly/1nwufKf"> buff.ly/1nwufKf</a> ht… 				<a href="http://twitter.com/giannigar/statuses/476750515356041216" class="timesince">1&nbsp;month&nbsp;ago</a>
			</li>

			
			<li>
				RT @<a href='http://twitter.com/javacodegeeks'>javacodegeeks</a>: &quot;In order to understand recursion, one must first understand recursion.&quot; <a href='http://twitter.com/search?q=%23programming'>#programming</a> <a href='http://twitter.com/search?q=%23BeAGeek'>#BeAGeek</a> <a href="http://buff.ly/1tVm1fn"> buff.ly/1tVm1fn</a> ht… 				<a href="http://twitter.com/giannigar/statuses/475629965749538816" class="timesince">1&nbsp;month&nbsp;ago</a>
			</li>

			</ul><a href="http://twitter.com/giannigar"  class='twitter-follow-button' data-show-count='false' data-link-color='#0071bb' data-text-color='#4e4e4e'>Follow @giannigar</a></li><li id="wpcom-goodreads-2" class="widget widget_goodreads"><h3 class="widget-title"><span>Goodreads</span></h3><div class="gr_custom_widget" id="gr_custom_widget_2"></div><script src="https://www.goodreads.com/review/custom_widget/8659093.Goodreads:%20currently-reading?cover_position=&#038;cover_size=small&#038;num_books=5&#038;order=d&#038;shelf=currently-reading&#038;sort=date_added&#038;widget_bg_transparent=&#038;widget_id=2"></script></li><li id="blog_subscription-3" class="widget widget_blog_subscription"><h3 class="widget-title"><span><label for="subscribe-field">Follow Blog via Email</label></span></h3>
				<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="subscribe-blog">
											<p>Enter your email address to follow this blog and receive notifications of new posts by email.</p>
<p>Join 74 other followers</p>
						<p><input type="text" name="email" style="width: 95%; padding: 1px 2px" placeholder="Enter your email address" value="" id="subscribe-field"/></p>
					
					<p>
						<input type="hidden" name="action" value="subscribe"/>
						<input type="hidden" name="blog_id" value="9220579"/>
						<input type="hidden" name="source" value="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/"/>
						<input type="hidden" name="sub-type" value="widget"/>
						<input type="hidden" name="redirect_fragment" value="blog_subscription-3" />
						<input type="hidden" id="_wpnonce" name="_wpnonce" value="d76cbec3ba" />						<input type="submit" value="Follow" />
					</p>
				</form>
			
</li>
		</ul>
	</div><!-- #sidebar .widget-area -->

	
</div><!-- #main -->

		<div id="footer" role="contentinfo">
			
				<div id="copyright">
					<p>
	 					<a href="http://wordpress.com/?ref=footer_website">Create a free website or blog at WordPress.com</a>.
						<a href="http://theme.wordpress.com/themes/mystique/" title="Learn more about this theme">The Mystique Theme</a>.					</p>
				</div><!-- #copyright -->
			</div><!-- #footer -->
	</div><!-- #container -->
</div><!-- #page -->

<div id="wpcom-follow-bubbles-jp_blogs_i_follow-2" class="wpcom-follow-bubbles"><div id="wpcom-bubble-jp_blogs_i_follow-2-1" class="wpcom-bubble wpcom-follow-bubble"><div class="bubble-txt"><a href="http://" class="bump-view" data-bump-view="bif"></a><p><small>Yet another Java blog</small></p></div></div><div id="wpcom-bubble-jp_blogs_i_follow-2-2" class="wpcom-bubble wpcom-follow-bubble"><div class="bubble-txt"><a href="http://mysoftwarequality.wordpress.com" class="bump-view" data-bump-view="bif">mysoftwarequality</a><p><small>Breaking people&#039;s balls since February 1970</small></p></div></div><div id="wpcom-bubble-jp_blogs_i_follow-2-3" class="wpcom-bubble wpcom-follow-bubble"><div class="bubble-txt"><a href="http://rdafbn.blogspot.com/" class="bump-view" data-bump-view="bif">Remove duplications and fix bad names</a><p><small>Yet another Java blog</small></p></div></div><div id="wpcom-bubble-jp_blogs_i_follow-2-4" class="wpcom-bubble wpcom-follow-bubble"><div class="bubble-txt"><a href="http://jessicaminghinelli.wordpress.com" class="bump-view" data-bump-view="bif">Jess &amp; the City</a><p><small>Cynical ramblings of a 30ish-year-old Latin girl living in Dublin</small></p></div></div></div><script type='text/javascript' src='//0.gravatar.com/js/gprofiles.js?ver=201430x'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://s2.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781g'></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {
			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	<div class="grofile-hash-map-0666eadbf6ec6fa8938ca73c0cee93d4">
	</div>
	<div class="grofile-hash-map-f87b76e997206e9bdd0f6f972b5bd5db">
	</div>
	<div class="grofile-hash-map-0666eadbf6ec6fa8938ca73c0cee93d4">
	</div>
	<div class="grofile-hash-map-c69986b56ceaac6c62fd21fa0c51159f">
	</div>
	<div class="grofile-hash-map-670eadc85baa7390fe4119d4dc6901f4">
	</div>
	<div class="grofile-hash-map-880d3c1d6adc46f4672a973696629b4a">
	</div>
	<div class="grofile-hash-map-042d4b1d3f45bc60c686c127f0d94bc8">
	</div>
	<div class="grofile-hash-map-59f0488550b7b24fa564e0a25d6c8f6d">
	</div>
	<div class="grofile-hash-map-44fc7b3e9e776eefda0a707bfe4c958e">
	</div>
	<div class="grofile-hash-map-b8ebbd33478dd452af2f6cd063e2bf25">
	</div>
	<div class="grofile-hash-map-c666deb8197d293c56635dd99c05d405">
	</div>
	<div class="grofile-hash-map-43442fc12c6fefef1174aa0465429091">
	</div>
	<div class="grofile-hash-map-5f19d6c6f155c353d2aeb819b555d0ec">
	</div>
	<div class="grofile-hash-map-39c99eab9e1e59f5d9b870ba53c2f765">
	</div>
	<div class="grofile-hash-map-fa714634339ad36363313f5b6a3068d1">
	</div>
	<div class="grofile-hash-map-3d5c41e931654a866e6e1401e6fa2f34">
	</div>
	<div class="grofile-hash-map-4563ca338443c689ca967072b1ce91b5">
	</div>
	<div class="grofile-hash-map-638a15539632fc2caaf2a94975683f13">
	</div>
	<div class="grofile-hash-map-4c54e70bf590bbc3e012d750cce196ed">
	</div>
	<div class="grofile-hash-map-64a3a665dbb97b0bdb1de7fdce2594c5">
	</div>
	<div class="grofile-hash-map-3bea4b1e5f6b962d38f16c7b18382ff4">
	</div>
	<div class="grofile-hash-map-5bd83986562411c6569f8156790d088d">
	</div>
	<div class="grofile-hash-map-0a4cbb2df0e0a69e0f8e42bba5e237c8">
	</div>
	<div class="grofile-hash-map-3214a23a410aca394680452d92ab28ab">
	</div>
	<div class="grofile-hash-map-841f952580ea9ea8696683e4f432e2b1">
	</div>
	<div class="grofile-hash-map-74908ae3ad5b662184aeee158a61faaf">
	</div>
	<div class="grofile-hash-map-7d7c979a3c9191357c90025b863b0887">
	</div>
	<div class="grofile-hash-map-638a15539632fc2caaf2a94975683f13">
	</div>
	<div class="grofile-hash-map-307b2a6b573c7c195058ac2366872f21">
	</div>
	<div class="grofile-hash-map-f9ad74499d9f1c9f663e63b90b3b3f13">
	</div>
	<div class="grofile-hash-map-5564e1126e5c93d551e36f3a822f4135">
	</div>
	<div class="grofile-hash-map-e7015df90f9bc160f0c28cdc850430da">
	</div>
	<div class="grofile-hash-map-9978c08ff7ddcdc4f6c723d5a978c815">
	</div>
	</div>
<script type='text/javascript'>
/* <![CDATA[ */
var HighlanderComments = {"loggingInText":"Logging In\u2026","submittingText":"Posting Comment\u2026","postCommentText":"Post Comment","connectingToText":"Connecting to %s","commentingAsText":"%1$s: You are commenting using your %2$s account.","logoutText":"Log Out","loginText":"Log In","connectURL":"http:\/\/giannigar.wordpress.com\/public.api\/connect\/?action=request","logoutURL":"https:\/\/giannigar.wordpress.com\/wp-login.php?action=logout&_wpnonce=e3cedce1e1","homeURL":"http:\/\/giannigar.wordpress.com\/","postID":"12","gravDefault":"identicon","enterACommentError":"Please enter a comment","enterEmailError":"Please enter your email address here","invalidEmailError":"Invalid email address","enterAuthorError":"Please enter your name here","gravatarFromEmail":"This picture will show whenever you leave a comment. Click to customize it.","logInToExternalAccount":"Log in to use details from one of these accounts.","change":"Change","changeAccount":"Change Account","comment_registration":"0","userIsLoggedIn":"","isJetpack":"0"};
/* ]]> */
</script>
<script type='text/javascript' src='http://s1.wp.com/_static/??/wp-content/js/jquery/jquery.autoresize.js,/wp-content/mu-plugins/highlander-comments/script.js?m=1403644162j'></script>

	<div id="bit" class="loggedout-follow-normal">
		<a class="bsub" href="javascript:void(0)"><span id='bsub-text'>Follow</span></a>
		<div id="bitsubscribe">

					<h3><label for="loggedout-follow-field">Follow &ldquo;Giannigar&#039;s Blog&rdquo;</label></h3>

			<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="loggedout-follow">
			<p>Get every new post delivered to your Inbox.</p>

			<p id="loggedout-follow-error" style="display: none;"></p>

						<p class="bit-follow-count">Join 74 other followers</p>
			<p><input type="email" name="email" value="Enter your email address" onfocus='this.value=(this.value=="Enter your email address") ? "" : this.value;' onblur='this.value=(this.value=="") ? "Enter email address" : this.value;'  id="loggedout-follow-field"/></p>

			<input type="hidden" name="action" value="subscribe"/>
			<input type="hidden" name="blog_id" value="9220579"/>
			<input type="hidden" name="source" value="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/"/>
			<input type="hidden" name="sub-type" value="loggedout-follow"/>

			<input type="hidden" id="_wpnonce" name="_wpnonce" value="d76cbec3ba" /><input type="hidden" name="_wp_http_referer" value="/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/" />
			<p id='bsub-subscribe-button'><input type="submit" value="Sign me up" /></p>
			</form>
					<div id='bsub-credit'><a href="http://wordpress.com/signup/?ref=lof">Powered by WordPress.com</a></div>
		</div><!-- #bitsubscribe -->
	</div><!-- #bit -->
<script type='text/javascript' charset='UTF-8' id='polldaddyRatings'><!--//--><![CDATA[//><!--
PDRTJS_settings_3395936_post_12={"id":3395936,"unique_id":"wp-post-12","title":"Mapping%20a%20many-to-many%20join%20table%20with%20extra%20column%20using%26nbsp%3BJPA","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/","item_id":"_post_12"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395936_post_12 == 'undefined' ){PDRTJS_3395936_post_12 = new PDRTJS_RATING( PDRTJS_settings_3395936_post_12 );}}PDRTJS_settings_3395940_comm_2={"id":3395940,"unique_id":"wp-comment-2","title":"I%20am%20getting%20the%20exception%20mappedBy%20reference%20an%20unknown%20target%20entity%20propertyAre%20you%20familiar%20with%20this%3F...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-2","item_id":"_comm_2"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_2 == 'undefined' ){PDRTJS_3395940_comm_2 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_2 );}}PDRTJS_settings_3395940_comm_3={"id":3395940,"unique_id":"wp-comment-3","title":"Maybe%20I%20know%20what%20the%20problem%20is.%20In%20your%20Item%20class%20the%20following%20method%20needs%20to%20have%20its%20annotation%20mappedBy%20value%20set%20as%20below%40OneToMany%28fetch%20%3D%20FetchType.LAZY%2C%20%26lt%3Bstrong%26gt%3BmappedBy%20%3D%20%26quot%3Bpk.item%26quot%3B%26lt%3B%2F...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-3","item_id":"_comm_3"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_3 == 'undefined' ){PDRTJS_3395940_comm_3 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_3 );}}PDRTJS_settings_3395940_comm_4={"id":3395940,"unique_id":"wp-comment-4","title":"Thanks%20for%20the%20response.I%20think%20i%20got%20that%20resolved.I%20had%20an%20additional%20%40Id%20in%20my%20association%20entity.When%20i%20removed%20that%2C%20the%20exception%20went%20away.Does%20any%20of%20you%20know%20how%20to%20persist%20these%20multi%20v...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-4","item_id":"_comm_4"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_4 == 'undefined' ){PDRTJS_3395940_comm_4 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_4 );}}PDRTJS_settings_3395940_comm_5={"id":3395940,"unique_id":"wp-comment-5","title":"if%20you%20use%20the%20annotation%20%40Cascade%28%7Borg.hibernate.annotations.CascadeType.SAVE_UPDATE%2C%20%20%20%20org.hibernate.annotations.CascadeType.DELETE_ORPHAN%7D%29upon%20the%20%26quot%3BgetProductItems%26quot%3B%20it%20should%20work%20straight%20a...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-5","item_id":"_comm_5"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_5 == 'undefined' ){PDRTJS_3395940_comm_5 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_5 );}}PDRTJS_settings_3395940_comm_6={"id":3395940,"unique_id":"wp-comment-6","title":"i%20have%20this%20in%20my%20xhtml%20%20%20%20ROC%20%20%20%20%20%20%20%20The%20user%20has%20a%20list%20of%20userRoc%20association%20entity%20list%20%28userRocList%29But%20the%20display%20list%20above%20has%20to%20display%20ROC%20list.With%20above%20code%2C%20if%20i%20try%20to%20save%2C%20its...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-6","item_id":"_comm_6"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_6 == 'undefined' ){PDRTJS_3395940_comm_6 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_6 );}}PDRTJS_settings_3395940_comm_52={"id":3395940,"unique_id":"wp-comment-52","title":"I%20too%20get%20the%20same%20error.%20Mine%20is%20one-to-many%20mapping%20using%20bag.Did%20you%20get%20your%20error%20resolved%3F%20If%20so%20can%20you%20post%20your%20solution%20so%20that%20other%20can%20benefit%20from%20that....","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-52","item_id":"_comm_52"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_52 == 'undefined' ){PDRTJS_3395940_comm_52 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_52 );}}PDRTJS_settings_3395940_comm_7={"id":3395940,"unique_id":"wp-comment-7","title":"ROC%20%20%20%20%20%20%20%20...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-7","item_id":"_comm_7"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_7 == 'undefined' ){PDRTJS_3395940_comm_7 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_7 );}}PDRTJS_settings_3395940_comm_8={"id":3395940,"unique_id":"wp-comment-8","title":"%26quot%3B%20%20%20%20ROC%20%20%20%20%20%20%20%20%26quot%3B...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-8","item_id":"_comm_8"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_8 == 'undefined' ){PDRTJS_3395940_comm_8 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_8 );}}PDRTJS_settings_3395940_comm_9={"id":3395940,"unique_id":"wp-comment-9","title":"It%20would%20be%20very%20helpful%20if%20you%20can%20post%20some%20example%20of%20insert%2Cupdate%20and%20select%20with%20this%20association....","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-9","item_id":"_comm_9"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_9 == 'undefined' ){PDRTJS_3395940_comm_9 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_9 );}}PDRTJS_settings_3395940_comm_54={"id":3395940,"unique_id":"wp-comment-54","title":"I%20agree%2C%20I%20followed%20the%20example%20but%20as%20with%20all%20other%20examples%20on%20solving%20this%20hibernate%20issue%2C%20I%20failed%20to%20get%20it%20working%20properly.In%20this%20case%20I%20have%20seen%20tons%20of%20exceptions%2C%20like%20for%20one%20not%20b...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-54","item_id":"_comm_54"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_54 == 'undefined' ){PDRTJS_3395940_comm_54 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_54 );}}PDRTJS_settings_3395940_comm_23={"id":3395940,"unique_id":"wp-comment-23","title":"Hello%2C%20buddy%21Users%20hibernate3-maven-plugin%3A%20If%20you%20declare%20%26quot%3BgetPk%26quot%3B%20and%20%26quot%3BsetPk%26quot%3B%20as%20%26quot%3Bprivate%26quot%3B%20hibernate3-maven-plugin%20will%20generate%20DDL%20script%20incorrectly.I%20had%20to%20declare%20as%20%26quot%3Bpublic%26quot%3B%20both%20of%20them%20...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-23","item_id":"_comm_23"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_23 == 'undefined' ){PDRTJS_3395940_comm_23 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_23 );}}PDRTJS_settings_3395940_comm_35={"id":3395940,"unique_id":"wp-comment-35","title":"I%20get%20the%20following%20exception%20when%20deleting%20Product%3Aorg.hibernate.ObjectDeletedException%3A%20deleted%20object%20would%20be%20re-saved%20by%20cascade%20%28remove%20deleted%20object%20from%20associations%29%3A%20%26%23091%3BProductItem%23Produ...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-35","item_id":"_comm_35"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_35 == 'undefined' ){PDRTJS_3395940_comm_35 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_35 );}}PDRTJS_settings_3395940_comm_36={"id":3395940,"unique_id":"wp-comment-36","title":"Amazing%20Article.%20Possibly%20one%20of%20the%20few%20ones%2C%20which%20target%20this%20issue.%20Thanks%20a%20million%20%21...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-36","item_id":"_comm_36"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_36 == 'undefined' ){PDRTJS_3395940_comm_36 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_36 );}}PDRTJS_settings_3395940_comm_37={"id":3395940,"unique_id":"wp-comment-37","title":"I%20have%20a%20problem%20when%20i%20save%20the%20product%20with%20cascading%2C%20they%20tell%20to%20me%20that%20%3A%20java.lang.NullPointerExceptionat%20org.hibernate.type.AbstractType.getHashCode%28AbstractType.java%3A136%29at%20org.hibernate...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-37","item_id":"_comm_37"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_37 == 'undefined' ){PDRTJS_3395940_comm_37 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_37 );}}PDRTJS_settings_3395940_comm_39={"id":3395940,"unique_id":"wp-comment-39","title":"Ciao%2CVedo%20che%20usi%20mssql%2C%20non%20ho%20chiaro%20il%20motivo%20dell%26%23039%3Berrore%2C%20ma%20verifica%20che%20gli%20attributo%20che%20compongono%20la%20chiave%20oltre%20ad%20avere%20i%20vincoli%20di%20PK%20contengano%20anche%20il%20%26quot%3Bnot%20null%26quot%3B.Ho%20fatto%20questo%20...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-39","item_id":"_comm_39"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_39 == 'undefined' ){PDRTJS_3395940_comm_39 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_39 );}}PDRTJS_settings_3395940_comm_40={"id":3395940,"unique_id":"wp-comment-40","title":"Ciao%21Non%20pensavo%20fossi%2Fsapessi%20l%26%23039%3Bitaliano%21In%20realt%20sono%20in%20provincia%20di%20Bergamo..%20%3A%29%20Non%20so%20come%20mai%20ti%20sia%20uscito%20Roma%21%20Adesso%20provo..%21%20Grazie%20della%20risposta%20e%20buona%20giornata%21...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-40","item_id":"_comm_40"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_40 == 'undefined' ){PDRTJS_3395940_comm_40 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_40 );}}PDRTJS_settings_3395940_comm_41={"id":3395940,"unique_id":"wp-comment-41","title":"Hello%2CGood%20article%2C%20very%20interresting.But%20i%20have%20a%20little%20problem.I%20create%20a%20Item%20and%20a%20Product.%20Hibernate%20cascades%20correctly%20the%20object%20into%20the%20productitem.But%20if%20i%20update%20a%20product%20and%20save%2C%20t...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-41","item_id":"_comm_41"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_41 == 'undefined' ){PDRTJS_3395940_comm_41 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_41 );}}PDRTJS_settings_3395940_comm_42={"id":3395940,"unique_id":"wp-comment-42","title":"Hi%2Capparently%20this%20is%20not%20a%20code%20issue%2C%20try%20to%20upgrade%20your%20jvm%2C%20or%20to%20run%20the%20code%20on%20another%20machine%2C%20is%20very%20unusual%20that%20whichever%20error%20might%20cause%20a%20JVM%20to%20quit.Try%20to%20mess%20a%20little%20bit%20aro...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-42","item_id":"_comm_42"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_42 == 'undefined' ){PDRTJS_3395940_comm_42 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_42 );}}PDRTJS_settings_3395940_comm_43={"id":3395940,"unique_id":"wp-comment-43","title":"I%20prefer%20adding%20generated%20Id%20attribute%20to%20resolve%20this....","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-43","item_id":"_comm_43"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_43 == 'undefined' ){PDRTJS_3395940_comm_43 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_43 );}}PDRTJS_settings_3395940_comm_44={"id":3395940,"unique_id":"wp-comment-44","title":"Please%20help%20me.%20If%20I%20have%20Table%20A%2C%20B%2C%20and%20C.%20And%20I%20want%20them%20to%20have%20joined%20table%20A_B_C.%20having%20many%20to%20many%20relationship%20for%20all%20tables.%20How%20should%20I%20do%20that%3F%20Thank%20you%20in%20advance....","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-44","item_id":"_comm_44"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_44 == 'undefined' ){PDRTJS_3395940_comm_44 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_44 );}}PDRTJS_settings_3395940_comm_45={"id":3395940,"unique_id":"wp-comment-45","title":"Hello%20i%20have%20errorrun%3AException%20in%20thread%20%26quot%3Bmain%26quot%3B%20java.lang.ExceptionInInitializerError%20%20%20%20%20%20%20%20at%20testjpa.Main.main%28Main.java%3A22%29Caused%20by%3A%20Exception%20%26%23091%3BEclipseLink-30005%26%23093%3B%20%28Eclipse%20Persistence%20Servi...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-45","item_id":"_comm_45"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_45 == 'undefined' ){PDRTJS_3395940_comm_45 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_45 );}}PDRTJS_settings_3395940_comm_46={"id":3395940,"unique_id":"wp-comment-46","title":"Hi%2C%20thanks%20a%20lot%20for%20this%20very%20good%20article%2C%20it%26%23039%3Bs%20work%20well.I%20have%20just%20one%20little%20problem%20%3A%20how%20fill%20list%20of%20ProductItem%20in%20Product%20entity%3FI%20thought%20that%20%20%20%20%20%20product.getProductItems%28%29must%20be%20en...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-46","item_id":"_comm_46"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_46 == 'undefined' ){PDRTJS_3395940_comm_46 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_46 );}}PDRTJS_settings_3395940_comm_107={"id":3395940,"unique_id":"wp-comment-107","title":"hi%2C%20i%20am%20also%20getting%20the%20same%20issue.%20product.getProductItems%28%29%20returning%200%20size%20listplease%20help%20me%20out...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-107","item_id":"_comm_107"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_107 == 'undefined' ){PDRTJS_3395940_comm_107 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_107 );}}PDRTJS_settings_3395940_comm_108={"id":3395940,"unique_id":"wp-comment-108","title":"i%20wrote%20a%20blog%20entry%20about%20it%20with%20code%20and%20unit%20tests%20on%20github.%20The%20explanations%20are%20in%20french%20but%20code%20is%20in%20java%20%3A%29%20http%3A%2F%2Fblog.valtech.fr%2F2012%2F05%2F25%2Fhibernate-jpa-manytomany-with-extra-colum...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-108","item_id":"_comm_108"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_108 == 'undefined' ){PDRTJS_3395940_comm_108 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_108 );}}PDRTJS_settings_3395940_comm_47={"id":3395940,"unique_id":"wp-comment-47","title":"Thanks%20for%20this%20example.%20I%20have%20errors%20on%40AssociationOverride%28name%20%3D%20%26quot%3Bpk.item%26quot%3B%2C%20joinColumns%20%3D%20%40JoinColumn%28name%20%3D%20%26quot%3Bitem_id%26quot%3B%29%29%2C%40AssociationOverride%28name%20%3D%20%26quot%3Bpk.product%26quot%3B%2C%20joinColumns%20%3D%20%40JoinColumn%28na...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-47","item_id":"_comm_47"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_47 == 'undefined' ){PDRTJS_3395940_comm_47 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_47 );}}PDRTJS_settings_3395940_comm_48={"id":3395940,"unique_id":"wp-comment-48","title":"Hello%2CI%26%23039%3Bve%20tryed%20the%20example%20and%20it%20works%20but%20it%20is%20impossible%20for%20me%20having%203%20JOIN.I%20mean....i%20can%20make%20the%20JOIN%20between%20Product%20and%20ProductItem%20but%20not%20between%20Product%2C%20ProductItem%20and%20Item.Can...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-48","item_id":"_comm_48"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_48 == 'undefined' ){PDRTJS_3395940_comm_48 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_48 );}}PDRTJS_settings_3395940_comm_171={"id":3395940,"unique_id":"wp-comment-171","title":"did%20you%20solve%20this%3F%20I%26%23039%3Bm%20having%20the%20same%20issue%20here...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-171","item_id":"_comm_171"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_171 == 'undefined' ){PDRTJS_3395940_comm_171 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_171 );}}PDRTJS_settings_3395940_comm_49={"id":3395940,"unique_id":"wp-comment-49","title":"Hi%20guys%2CI%20hope%20my%20problem%20can%20be%20solved%20easly.The%20situation%20is%20this%3AI%26%23039%3Bm%20trying%20to%20make%20a%20query%20that%20no%20matter%20from%20which%20Java%20class%20i%20start%2C%20i%20need%20to%20filter%20the%20result%20during%20the%20query%20via%20the%20n...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-49","item_id":"_comm_49"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_49 == 'undefined' ){PDRTJS_3395940_comm_49 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_49 );}}PDRTJS_settings_3395940_comm_51={"id":3395940,"unique_id":"wp-comment-51","title":"I%20kinda%20used%20the%20Wiki%20model%20and%20mixed%20the%20suggestion%20of%20cascade%20and%20it%20worked..org.hibernate.annotations.CascadeType.DELETE_ORPHAN%20is%20deprecated%20and%20i%20have%20used%20oprphanRemoval%3Dtrue%40OneToMany%28fetc...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-51","item_id":"_comm_51"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_51 == 'undefined' ){PDRTJS_3395940_comm_51 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_51 );}}PDRTJS_settings_3395940_comm_53={"id":3395940,"unique_id":"wp-comment-53","title":"I%26%23039%3Bm%20not%20sure%20but%20it%20would%20seem%20that%20the%20first%20example%20would%20allow%20you%20to%20have%20a%20Set%20relation%20from%20Project%20to%20a%20ProjectAssociation%20that%20doesn%26%23039%3Bt%20require%20you%20to%20load%20the%20Association%20in%20order%20to%20ensu...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-53","item_id":"_comm_53"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_53 == 'undefined' ){PDRTJS_3395940_comm_53 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_53 );}}PDRTJS_settings_3395940_comm_55={"id":3395940,"unique_id":"wp-comment-55","title":"Ok%2C%20did%20anyone%20get%20a%20NonUniqueObjectException%20on%20ProductItem%20because%20it%20already%20exists%3FI%20also%20noticed%20that%20Hibernate%20doesn%26%23039%3Bt%20call%20the%20ProductItem.equals%2C%20nor%20the%20ProductItemPk.equals.Why%20is%20this%20...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-55","item_id":"_comm_55"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_55 == 'undefined' ){PDRTJS_3395940_comm_55 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_55 );}}PDRTJS_settings_3395940_comm_56={"id":3395940,"unique_id":"wp-comment-56","title":"Hi%2C%20I%20have%20three%20entities%3A%20employee%2C%20qualification%2C%20institute.%20There%20is%20a%20ManyToMany%20between%20qualification%20and%20institute%20%28each%20qualification%20can%20be%20obtained%20at%20multiple%20institutes%20while%20each%20inst...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-56","item_id":"_comm_56"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_56 == 'undefined' ){PDRTJS_3395940_comm_56 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_56 );}}PDRTJS_settings_3395940_comm_57={"id":3395940,"unique_id":"wp-comment-57","title":"Hi%2CI%20haven%26%23039%3Bt%20been%20working%20with%20hibernate%20for%20a%20while...%20but%20it%20looks%20like%20you%20need%20a%20one-to-many%20relation%20between%20employee%20and%20qualification_institute.Would%20not%20an%20attribute%20of%20the%20type%20Set%20in%20yo...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-57","item_id":"_comm_57"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_57 == 'undefined' ){PDRTJS_3395940_comm_57 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_57 );}}PDRTJS_settings_3395940_comm_58={"id":3395940,"unique_id":"wp-comment-58","title":"I%20do%20have%20a%20Set%20at%20the%20moment%20in%20the%20Employee%20class%2C%20however%20I%20would%20like%20to%20replace%20it%20to%20a%20Map%20so%20I%20wouldn%26%23039%3Bt%20need%20to%20keep%20a%20separate%20EmployeeQualificationInstitute%20class.%20I%20already%20managed%20to%20g...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-58","item_id":"_comm_58"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_58 == 'undefined' ){PDRTJS_3395940_comm_58 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_58 );}}PDRTJS_settings_3395940_comm_59={"id":3395940,"unique_id":"wp-comment-59","title":"Hi%2C%20Sorry%20I%20don%26%23039%3Bt%20understand%20what%20should%20be%20the%20key%20in%20the%20map.%20Would%20you%20mind%20to%20provide%20the%20snippet%20of%20the%20Set%20of%20actual%20code%2C%20and%20what%20should%20be%20the%20signature%20of%20the%20Map%20you%20desire%3F%20Cheers%2C%20Gi...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-59","item_id":"_comm_59"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_59 == 'undefined' ){PDRTJS_3395940_comm_59 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_59 );}}PDRTJS_settings_3395940_comm_60={"id":3395940,"unique_id":"wp-comment-60","title":"Hi%20Gio%2CSorry%2C%20my%20bad%3B%20the%20Map%20signature%20containing%20the%20classes%20got%20truncated.%20So%20to%20make%20it%20clear%3A-%20a%20qualification%20can%20be%20obtained%20from%20multiple%20institutes%2C%20so%20class%20Qualification%20already%20contai...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-60","item_id":"_comm_60"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_60 == 'undefined' ){PDRTJS_3395940_comm_60 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_60 );}}PDRTJS_settings_3395940_comm_61={"id":3395940,"unique_id":"wp-comment-61","title":"Is%20there%20any%20specific%20reason%20why%20in%20ProjectAssociation%20the%20%40ManyToOne%20relationships%20were%20modeled%20as%20read-only%2C%20that%20is%20%40JoinColumn%28...%20%2C%20insertable%20%3D%20false%2C%20updatable%20%3D%20false%29%20which%20is%20the%20same%20a...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-61","item_id":"_comm_61"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_61 == 'undefined' ){PDRTJS_3395940_comm_61 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_61 );}}PDRTJS_settings_3395940_comm_62={"id":3395940,"unique_id":"wp-comment-62","title":"Thanks%20for%20the%20article.%20%20I%20feel%20like%20I%26%23039%3Bm%20close%20but%20I%26%23039%3Bm%20still%20having%20problems.%20%20I%20coped%20the%20classes%20from%20Boris%26%23039%3B%20article%20and%20wrote%20a%20test%20case%20to%20try%20the%20following%3ACreate%20a%20product%20and%20two%20items%2C%20p...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-62","item_id":"_comm_62"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_62 == 'undefined' ){PDRTJS_3395940_comm_62 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_62 );}}PDRTJS_settings_3395940_comm_105={"id":3395940,"unique_id":"wp-comment-105","title":"same%20error%3A%20stack%20overflow%20%28always%20the%20same%20select%29%20jpa2%2C%20hibernate4...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-105","item_id":"_comm_105"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_105 == 'undefined' ){PDRTJS_3395940_comm_105 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_105 );}}PDRTJS_settings_3395940_comm_106={"id":3395940,"unique_id":"wp-comment-106","title":"to%20avoid%20the%20stackoverflow%20i%20had%20to%20add%20a%20fetchtype%20lazy%20in%20the%20mapping%20of%20join%20entity%20%3Ai%20have%20recipe%20%20recipeIngredient%20%20ingredient.I%20dont%20use%20the%20PK%20entity%2C%20seems%20to%20work%20with%202%20%40id%20annotions%40En...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-106","item_id":"_comm_106"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_106 == 'undefined' ){PDRTJS_3395940_comm_106 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_106 );}}PDRTJS_settings_3395940_comm_82={"id":3395940,"unique_id":"wp-comment-82","title":"Hello%2CI%26%23039%3Bd%20like%20to%20thank%20you%20so%20much%20for%20this%20very%20usefull%20show%20case%2C%20I%26%23039%3Bve%20just%20try%20it%20with%20my%20own%20example%20business%20and%20it%20works%20fine.unfortunately%2C%20I%20don%26%23039%3Bt%20use%20an%20other%20ORM%20and%20JPA%20provider.Good%20...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-82","item_id":"_comm_82"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_82 == 'undefined' ){PDRTJS_3395940_comm_82 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_82 );}}PDRTJS_settings_3395940_comm_119={"id":3395940,"unique_id":"wp-comment-119","title":"Thanks%20for%20a%20solution.%20This%20is%20useful%20way%20to%20mass%20dissociate%20the%20many-to-many%20linked%20records.%20E.g%3A-------------------%20ItemsGroupEntity.java%20--------------------%40Entitypublic%20class%20ItemsGroupEntit...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-119","item_id":"_comm_119"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_119 == 'undefined' ){PDRTJS_3395940_comm_119 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_119 );}}PDRTJS_settings_3395940_comm_120={"id":3395940,"unique_id":"wp-comment-120","title":"Woops%2C%20the%20hibernate.cfg.xml%20text%20is%20eaten%20by%20forum%20engine...%20Well%2C%20it%26%23039%3Bs%20most%20interesting%20part%20is%3A%20%20%20%20%20%20%20%20%26lt%3Bmapping%20class%3D%26quot%3Bentity.ItemEntity%26quot%3B%2F%26gt%3B%20%20%20%20%20%20%20%20%26lt%3Bmapping%20class%3D%26quot%3Bentity.ItemsGroupEnt...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-120","item_id":"_comm_120"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_120 == 'undefined' ){PDRTJS_3395940_comm_120 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_120 );}}PDRTJS_settings_3395940_comm_156={"id":3395940,"unique_id":"wp-comment-156","title":"I%20must%20thank%20you%20for%20the%20efforts%20you%20have%20put%20in%20writing%20this%20site.I%20am%20hoping%20to%20view%20the%20same%20high-grade%20blog%20posts%20by%20you%20in%20the%20future%20as%20well.%20In%20truth%2C%20your%20creative%20writing%20abilities%20has%20i...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-156","item_id":"_comm_156"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_156 == 'undefined' ){PDRTJS_3395940_comm_156 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_156 );}}PDRTJS_settings_3395940_comm_161={"id":3395940,"unique_id":"wp-comment-161","title":"Hi%2C%20I%20m%20getting%20ErrorException%20in%20thread%20%26quot%3Bmain%26quot%3B%20java.lang.NullPointerExceptionat%20SampleJavaProject.Entity.PersonBankAssociation.setPerson%28PersonBankAssociation.java%3A97%29at%20SampleJavaProject.Hibern...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-161","item_id":"_comm_161"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_161 == 'undefined' ){PDRTJS_3395940_comm_161 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_161 );}}PDRTJS_settings_3395940_comm_180={"id":3395940,"unique_id":"wp-comment-180","title":"Hi%2C%20this%20works%20for%20me.%20Thanks%20for%20your%20effort%21But%20now%20when%20i%20try%20to%20build%20a%20Criteria%20Query%20like%3AList%20queried_accounts%20%3D%20HibernateUtils.criteriaList%28session.createCriteria%28Account.class%29.createCri...","permalink":"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/#comment-180","item_id":"_comm_180"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_3395940_comm_180 == 'undefined' ){PDRTJS_3395940_comm_180 = new PDRTJS_RATING( PDRTJS_settings_3395940_comm_180 );}}
//--><!]]></script><script type='text/javascript' charset='UTF-8' src='http://i0.poll.fm/js/rating/rating.js'></script>
	<script type="text/javascript">
		WPCOM_sharing_counts = {"http:\/\/giannigar.wordpress.com\/2009\/09\/04\/mapping-a-many-to-many-join-table-with-extra-column-using-jpa\/":12}	</script>
		<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-twitter' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-facebook' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
		});
		</script>
		<script type="text/javascript">
			jQuery( document ).ready( function() {
			    jQuery.getScript( '//platform.linkedin.com/in.js?async=true', function success() {
			        IN.init();
			    });
			});
			jQuery( document.body ).on( 'post-load', function() {
				if ( typeof IN != 'undefined' )
					IN.parse();
			});
			</script>	<div id="sharing_email" style="display: none;">
		<form action="/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/" method="post">
			<label for="target_email">Send to Email Address</label>
			<input type="email" name="target_email" id="target_email" value="" />

			
				<label for="source_name">Your Name</label>
				<input type="text" name="source_name" id="source_name" value="" />

				<label for="source_email">Your Email Address</label>
				<input type="email" name="source_email" id="source_email" value="" />

			
			<div class="recaptcha" id="sharing_recaptcha"></div><input type="hidden" name="recaptcha_public_key" id="recaptcha_public_key" value="6LcYW8MSAAAAADBAuEH9yaPcF7lWh11Iq62ZKtoo" />
			<img style="float: right; display: none" class="loading" src="http://s2.wp.com/wp-content/mu-plugins/post-flair/sharing/images/loading.gif?m=1315610318g" alt="loading" width="16" height="16" />
			<input type="submit" value="Send Email" class="sharing_send" />
			<a href="#cancel" class="sharing_cancel">Cancel</a>

			<div class="errors errors-1" style="display: none;">
				Post was not sent - check your email addresses!			</div>

			<div class="errors errors-2" style="display: none;">
				Email check failed, please try again			</div>

			<div class="errors errors-3" style="display: none;">
				Sorry, your blog cannot share posts by email.			</div>
		</form>
	</div>
		<iframe src='http://widgets.wp.com/likes/master.html?ver=20140528#ver=20140528&amp;mp6=1' scrolling='no' id='likes-master' name='likes-master' style='display:none;'></iframe>
		<div id='likes-other-gravatars'><div class="likes-text"><span>%d</span> bloggers like this:</div><ul class="wpl-avatars sd-like-gravatars"></ul></div>
		<script type="text/javascript">
		//<![CDATA[
			var jetpackLikesWidgetQueue = [];
			var jetpackLikesWidgetBatch = [];
			var jetpackLikesMasterReady = false;

			function JetpackLikespostMessage( message, target ) {
				if ( "string" === typeof message ){
					try{
						message = JSON.parse( message );
					}
					catch(e) {
						return;
					}
				}

				pm( {
					target: target,
					type: 'likesMessage',
					data: message,
					origin: '*'
				} );
			}

			function JetpackLikesBatchHandler() {
				var requests = [];
				jQuery( 'div.jetpack-likes-widget-unloaded' ).each( function( i ) {
					if ( jetpackLikesWidgetBatch.indexOf( this.id ) > -1 )
						return;
					jetpackLikesWidgetBatch.push( this.id );
					var regex = /like-(post|comment)-wrapper-(\d+)-(\d+)-(\w+)/;
					var match = regex.exec( this.id );
					if ( ! match || match.length != 5 )
						return;

					var info = {
						blog_id: match[2],
						width:   this.width
					};

					if ( 'post' == match[1] ) {
						info.post_id = match[3];
					} else if ( 'comment' == match[1] ) {
						info.comment_id = match[3];
					}

					info.obj_id = match[4];

					requests.push( info );
				});

				if ( requests.length > 0 ) {
					JetpackLikespostMessage( { event: 'initialBatch', requests: requests }, window.frames['likes-master'] );
				}
			}

			function JetpackLikesMessageListener( event ) {
				if ( "undefined" == typeof event.event )
					return;

				if ( 'masterReady' == event.event ) {
					jQuery( document ).ready( function() {
						jetpackLikesMasterReady = true;

						var stylesData = {
								event: 'injectStyles'
						};

						if ( jQuery( 'iframe.admin-bar-likes-widget' ).length > 0 ) {
							JetpackLikespostMessage( { event: 'adminBarEnabled' }, window.frames[ 'likes-master' ] );

							stylesData.adminBarStyles = {
								background: jQuery( '#wpadminbar .quicklinks li#wp-admin-bar-wpl-like > a' ).css( 'background' ),
								isRtl: ( 'rtl' == jQuery( '#wpadminbar' ).css( 'direction' ) )
							};
						}

						if ( !window.addEventListener )
							jQuery( '#wp-admin-bar-admin-bar-likes-widget' ).hide();

						stylesData.textStyles = {
							color: jQuery( '.sd-text-color').css( 'color' ),
							fontFamily: jQuery( '.sd-text-color' ).css( 'font-family' ),
							fontSize: jQuery( '.sd-text-color' ).css( 'font-size' ),
							direction: jQuery( '.sd-text-color' ).css( 'direction' ),
							fontWeight: jQuery( '.sd-text-color' ).css( 'font-weight' ),
							fontStyle: jQuery( '.sd-text-color' ).css( 'font-style' ),
							textDecoration: jQuery( '.sd-text-color' ).css('text-decoration')
						};

						stylesData.linkStyles = {
							color: jQuery( '.sd-link-color' ).css('color'),
							fontFamily: jQuery( '.sd-link-color' ).css('font-family'),
							fontSize: jQuery( '.sd-link-color' ).css('font-size'),
							textDecoration: jQuery( '.sd-link-color' ).css('text-decoration'),
							fontWeight: jQuery( '.sd-link-color' ).css( 'font-weight' ),
							fontStyle: jQuery( '.sd-link-color' ).css( 'font-style' )
						};

						JetpackLikespostMessage( stylesData, window.frames[ 'likes-master' ] );

						JetpackLikesBatchHandler();

						jQuery( document ).on( 'inview', 'div.jetpack-likes-widget-unloaded', function() {
							jetpackLikesWidgetQueue.push( this.id );
						});
					});
				}

				if ( 'showLikeWidget' == event.event ) {
					jQuery( '#' + event.id + ' .post-likes-widget-placeholder'  ).fadeOut( 'fast', function() {
						jQuery( '#' + event.id + ' .post-likes-widget' ).fadeIn( 'fast', function() {
							JetpackLikespostMessage( { event: 'likeWidgetDisplayed', blog_id: event.blog_id, post_id: event.post_id, obj_id: event.obj_id }, window.frames['likes-master'] );
						});
					});
				}

				if ( 'clickReblogFlair' == event.event ) {
					wpcom_reblog.toggle_reblog_box_flair( event.obj_id );
				}

				if ( 'showOtherGravatars' == event.event ) {
					var $container = jQuery( '#likes-other-gravatars' );
					var $list = $container.find( 'ul' );

					$container.hide();
					$list.html( '' );

					$container.find( '.likes-text span' ).text( event.total );

					jQuery.each( event.likers, function( i, liker ) {
						$list.append( '<li class="' + liker.css_class + '"><a href="' + liker.profile_URL + '" class="wpl-liker" rel="nofollow" target="_parent"><img src="' + liker.avatar_URL + '" alt="' + liker.name + '" width="30" height="30" style="padding-right: 3px;" /></a></li>');
					} );

					var offset = jQuery( "[name='" + event.parent + "']" ).offset();

					$container.css( 'left', offset.left + event.position.left - 10 + 'px' );
					$container.css( 'top', offset.top + event.position.top - 33 + 'px' );

					var rowLength = Math.floor( event.width / 37 );
					var height = ( Math.ceil( event.likers.length / rowLength ) * 37 ) + 13;
					if ( height > 204 ) {
						height = 204;
					}

					$container.css( 'height', height + 'px' );
					$container.css( 'width', rowLength * 37 - 7 + 'px' );

					$list.css( 'width', rowLength * 37 + 'px' );

					$container.fadeIn( 'slow' );

					var scrollbarWidth = $list[0].offsetWidth - $list[0].clientWidth;
					if ( scrollbarWidth > 0 ) {
						$container.width( $container.width() + scrollbarWidth );
						$list.width( $list.width() + scrollbarWidth );
					}
				}
			}

			pm.bind( 'likesMessage', function(e) { JetpackLikesMessageListener(e); } );

			jQuery( document ).click( function( e ) {
				var $container = jQuery( '#likes-other-gravatars' );

				if ( $container.has( e.target ).length === 0 ) {
					$container.fadeOut( 'slow' );
				}
			});

			function JetpackLikesWidgetQueueHandler() {
				var wrapperID;
				if ( ! jetpackLikesMasterReady ) {
					setTimeout( JetpackLikesWidgetQueueHandler, 500 );
					return;
				}

				if ( jetpackLikesWidgetQueue.length > 0 ) {
					// We may have a widget that needs creating now
					var found = false;
					while( jetpackLikesWidgetQueue.length > 0 ) {
						// Grab the first member of the queue that isn't already loading.
						wrapperID = jetpackLikesWidgetQueue.splice( 0, 1 )[0];
						if ( jQuery( '#' + wrapperID ).hasClass( 'jetpack-likes-widget-unloaded' ) ) {
							found = true;
							break;
						}
					}
					if ( ! found ) {
						setTimeout( JetpackLikesWidgetQueueHandler, 500 );
						return;
					}
				} else if ( jQuery( 'div.jetpack-likes-widget-unloaded' ).length > 0 ) {
					// Grab any unloaded widgets for a batch request
					JetpackLikesBatchHandler();

					// Get the next unloaded widget
					wrapperID = jQuery( 'div.jetpack-likes-widget-unloaded' ).first()[0].id;
					if ( ! wrapperID ) {
						// Everything is currently loaded
						setTimeout( JetpackLikesWidgetQueueHandler, 500 );
						return;
					}
				}

				if ( 'undefined' === typeof wrapperID ) {
					setTimeout( JetpackLikesWidgetQueueHandler, 500 );
					return;
				}

				var $wrapper = jQuery( '#' + wrapperID );
				$wrapper.find( 'iframe' ).remove();

				if ( $wrapper.hasClass( 'slim-likes-widget' ) ) {
					$wrapper.find( '.post-likes-widget-placeholder' ).after( "<iframe class='post-likes-widget jetpack-likes-widget' name='" + $wrapper.data( 'name' ) + "' height='22px' width='68px' frameBorder='0' scrolling='no' src='" + $wrapper.data( 'src' ) + "'></iframe>" );
				} else {
					$wrapper.find( '.post-likes-widget-placeholder' ).after( "<iframe class='post-likes-widget jetpack-likes-widget' name='" + $wrapper.data( 'name' ) + "' height='55px' width='100%' frameBorder='0' src='" + $wrapper.data( 'src' ) + "'></iframe>" );
				}

				$wrapper.removeClass( 'jetpack-likes-widget-unloaded' ).addClass( 'jetpack-likes-widget-loading' );

				$wrapper.find( 'iframe' ).load( function( e ) {
					var $iframe = jQuery( e.target );
					$wrapper.removeClass( 'jetpack-likes-widget-loading' ).addClass( 'jetpack-likes-widget-loaded' );

					JetpackLikespostMessage( { event: 'loadLikeWidget', name: $iframe.attr( 'name' ), width: $iframe.width() }, window.frames[ 'likes-master' ] );

					if ( $wrapper.hasClass( 'slim-likes-widget' ) ) {
						$wrapper.find( 'iframe' ).Jetpack( 'resizeable' );
					}
				});
				setTimeout( JetpackLikesWidgetQueueHandler, 250 );
			}
			JetpackLikesWidgetQueueHandler();
		//]]>
		</script>
<script type='text/javascript' src='http://s1.wp.com/wp-content/mu-plugins/akismet-3.0/_inc/form.js?m=1404442431g'></script>
<script type='text/javascript' src='http://platform.twitter.com/widgets.js?ver=20111117'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var recaptcha_options = {"lang":"en"};
/* ]]> */
</script>
<script type='text/javascript' src='http://s1.wp.com/_static/??-eJx9i0sOAiEQBS8k005MjCyMZxmhB5s0n9AgentxwcaFq5eXqoKelUmxYqzgBSw+yWB+LV4OMBBFw82ifJlJIQxNFcz8XgLFKc0+NJW5OYoCnazDKnDn5ESR2hNz6j/3T5+TVLXzRgXksRWKbu6IbuG6nrTWqz6eL/4DqR5HPw=='></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script>	<script type="text/javascript">
	var skimlinks_pub_id = "725X584219"
	var skimlinks_sitename = "giannigar.wordpress.com";
	</script>
	<script type="text/javascript" src="http://s.skimresources.com/js/725X1342.skimlinks.js"></script><script src="//stats.wp.com/w.js?22" type="text/javascript"></script>
<script type="text/javascript">
st_go({'blog':'9220579','v':'wpcom','tz':'0','user_id':'0','post':'12','subd':'giannigar'});
ex_go({'crypt':'UE5XaGUuOTlwaD85flAmcm1mcmZsaDhkV11YdWFnNncxc1tjZG9XVXhRVz1bVXJlWWRQcV1nMDRBQ2QzQVc0VTFGbzZzdSwsYTRlSUNNU3NJWWViM1NVRDNGdGxqVVRrTD1IJlN8bU14ZVl0RWVrekwxPTQlLFkudXFtbHpJZkE4P3BBX09pP2o2LjRONj1GVXFHeXpafGRoVW40NWVKa2VUYnRTeTh2S351fCwrSzNTWX5NPU8/S3k/QjFSXTNGW3ZNRU1LXUhObzFdNz1XJWZCbEFvYSU2UnB8TFFaUXZCJlg1P2Q3NXwvdlM1YVova0w4NGtfYjZReHhWMy1LOFVsVFtwZFo2VHNnMXklNHBmTVJOSUtBTkJdWUZpL0l2RkVFLVtaWXlNN29iUWNMYnM4aF9DT2QmNXotaVpLXU5CMCxoZF1RZHdWU2F2OH4='});
addLoadEvent(function(){linktracker_init('9220579',12);});
	</script>
<noscript><img src="http://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script>
</body>
</html>
