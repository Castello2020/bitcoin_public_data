http://www.gubatron.com/blog/2010/11/14/mercurial-for-subversion-expats-merging-remote-changes-abort-push-creates-new-remote-heads/
HTTP/1.0 200 OK
Access-Control-Allow-Origin: *
X-Powered-By: PHP/5.5.3-1ubuntu2.3
X-Pingback: http://www.gubatron.com/blog/xmlrpc.php
Content-Type: text/html; charset=UTF-8
Link: <http://www.gubatron.com/blog/?p=2087>; rel=shortlink
Connection: close
Date: Thu, 24 Jul 2014 02:08:18 GMT
Server: lighttpd/1.4.31

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<meta property="twitter:account_id" content="802225" />
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>  Mercurial for Subversion Expats: Merging remote changes. &#8220;abort: push creates new remote heads!&#8221; - Gubatron.com</title>

<meta name="generator" content="WordPress 3.9.1" /> <!-- leave this for stats -->
<meta name="verify-v1" content="EpgZECmpkjevUtQqa3GsUiEbikJ+BDO6A84HBt4w8QI=" />
<link rel="stylesheet" href="http://www.gubatron.com/blog/wp-content/themes/gubatron_wp_theme/style.css" type="text/css" media="screen" />
<link rel="alternate" type="application/rss+xml" title="Gubatron.com RSS Feed" href="http://www.gubatron.com/blog/feed/" />
<link rel="pingback" href="http://www.gubatron.com/blog/xmlrpc.php" />
<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
<script type="text/javascript" src="https://blockchain.info//Resources/wallet/pay-now-button.js"></script>
<style type="text/css" media="screen">

	#page { background: url("http://www.gubatron.com/blog/wp-content/themes/gubatron_wp_theme/images/kubrickbgwide.jpg") repeat-y top; border: none; } 
        #headerimg { background:url("http://www.gubatron.com/blog/wp-content/themes/gubatron_wp_theme/images/personalheader.jpg")}
</style>
</head>

<link rel="alternate" type="application/rss+xml" title="Gubatron.com &raquo; Mercurial for Subversion Expats: Merging remote changes. &#8220;abort: push creates new remote heads!&#8221; Comments Feed" href="http://www.gubatron.com/blog/2010/11/14/mercurial-for-subversion-expats-merging-remote-changes-abort-push-creates-new-remote-heads/feed/" />
<link rel='stylesheet' id='shCore-css'  href='http://www.gubatron.com/blog/wp-content/plugins/syntax-highlighter/3.0.83/css/shCore.css?ver=3.0.83' type='text/css' media='all' />
<link rel='stylesheet' id='shCoreDefault-css'  href='http://www.gubatron.com/blog/wp-content/plugins/syntax-highlighter/3.0.83/css/shCoreDefault.css?ver=3.0.83' type='text/css' media='all' />
<link rel='stylesheet' id='shThemeDefault-css'  href='http://www.gubatron.com/blog/wp-content/plugins/syntax-highlighter/3.0.83/css/shThemeDefault.css?ver=3.0.83' type='text/css' media='all' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.gubatron.com/blog/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.gubatron.com/blog/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Ubuntu: WiCD Network Manager &#8220;Connection Failed: Bad Password&#8221; [SOLVED]' href='http://www.gubatron.com/blog/2010/10/29/ubuntu-wicd-network-manager-connection-failed-bad-password-issue-solved/' />
<link rel='next' title='Discussion: Water as a medium of Intercontinental High Speeds Data Transfer' href='http://www.gubatron.com/blog/2010/11/21/water-as-a-medium-of-intercontinental-data-transfer/' />
<meta name="generator" content="WordPress 3.9.1" />
<link rel='canonical' href='http://www.gubatron.com/blog/2010/11/14/mercurial-for-subversion-expats-merging-remote-changes-abort-push-creates-new-remote-heads/' />
<link rel='shortlink' href='http://www.gubatron.com/blog/?p=2087' />

<body>

<center>
<script type="text/javascript"><!--
google_ad_client = "pub-4974286288685153";
/* 728x90, created 1/27/10 */
google_ad_slot = "6932531894";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>

<div id="page">

<div id="header">
        <a href="http://www.gubatron.com">
	<div id="headerimg"></div>
        <div style="position:relative; top:-136px; left:300px; color:white; font-color:bold; width:420px"><a style="color:#fa0" href="http://twitter.com/gubatron" target="_blank">Petition to the Whitehouse: Regulate Javascript interpreters</a></div>
	</a>
</div>

<!-- Begin TranslateThis Button -->

<div style=""><form method="get" id="searchform" action="http://www.gubatron.com/blog/">
<input type="text" value2="" name="s" id="s" />
<input type="submit" id="searchsubmit" value="Search" />
</form>
</div>

<!--<div id="translate-this" style="float:right; margin-top:10px; margin-right:40px; margin-bottom:10px;"><a href="http://translateth.is/" class="translate-this-button">Translate</a></div>-->

<!--
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type="text/javascript" src="http://x.translateth.is/translate-this.js"></script>
<script type="text/javascript">
TranslateThis();
</script>
-->

<!-- End TranslateThis Button -->

<div id="content" class="widecolumn">

  
		<div class="navigation">
			<div class="alignleft">&laquo; <a href="http://www.gubatron.com/blog/2010/10/29/ubuntu-wicd-network-manager-connection-failed-bad-password-issue-solved/" rel="prev">Ubuntu: WiCD Network Manager &#8220;Connection Failed: Bad Password&#8221; [SOLVED]</a></div>
			<div class="alignright"><a href="http://www.gubatron.com/blog/2010/11/21/water-as-a-medium-of-intercontinental-data-transfer/" rel="next">Discussion: Water as a medium of Intercontinental High Speeds Data Transfer</a> &raquo;</div>
		</div>
<br clear="all"/>

		<div class="post" id="post-2087">
			<h2><a href="http://www.gubatron.com/blog/2010/11/14/mercurial-for-subversion-expats-merging-remote-changes-abort-push-creates-new-remote-heads/" rel="bookmark" title="Permanent Link: Mercurial for Subversion Expats: Merging remote changes. &#8220;abort: push creates new remote heads!&#8221;">Mercurial for Subversion Expats: Merging remote changes. &#8220;abort: push creates new remote heads!&#8221;</a></h2>
			<small>November 14th, 2010 <span style="float:right">3 minutes reading time.</small></span>
<br/><br/><a href="http://twitter.com/share" class="twitter-share-button"
      data-url="http://www.gubatron.com/blog/2010/11/14/mercurial-for-subversion-expats-merging-remote-changes-abort-push-creates-new-remote-heads/"
      data-via="gubatron"
      data-text="Mercurial for Subversion Expats: Merging remote changes. &#8220;abort: push creates new remote heads!&#8221;"
      data-related="gubatron:Founder of FrostWire"
      data-count="vertical">Tweet</a>
<br/>

			<div class="entrytext">
				<p><img src="http://farm5.static.flickr.com/4090/5172698880_71f475cda8.jpg"/><br />
Commit anywhere/anytime with Mercurial</p>
<p>So you have been using subversion for the past few years and now your team has decided to move on to Mercurial for all the benefits. Two or more people are working on the same branch and they&#8217;re pushing code to the main copy of the repository before you&#8217;re done with your changes.</p>
<p>In the Subversion world, if you tried to commit in this same situation you&#8217;d get an error saying that your repository checkout is not up to date, so you&#8217;d fix this by doing:</p>
<pre class="brush: bash; auto-links: false;">
$ svn up #gets the latest changes from the repo and it tries to merge all remote changes
$ # ... solve any conflicts if they arise.
$ svn ci -m &quot;my commit message&quot; #push your latest changes to the main repo.
</pre>
<p>In Mercurial it&#8217;s a little bit longer</p>
<pre class="brush: bash; auto-links: false;">
$ hg ci -m &quot;my local changes&quot;
$ hg pull #this brings the latest version of the repo, but doesn't change the state of your files.
$ hg merge #when you're ready, you merge the changes
</pre>
<p><strong>If at this point you try to push</strong>, you will get the following error</p>
<pre class="brush: bash; auto-links: false;">
$ hg push
pushing to https://user@server.com/company/project
searching for changes
abort: push creates new remote heads!
(did you forget to merge? use push -f to force)
</pre>
<p>first, ignore the &#8220;push -f to force&#8221;, they should remove that message and put something like</p>
<pre class="brush: bash; auto-links: false;">
(did you forget to merge and commit?)
</pre>
<p>After a lot of thinking I was doing something wrong with the merge, I realized that before pushing you have to commit your merge locally as well, makes sense, so the whole sequence should be like this instead:</p>
<pre class="brush: bash; auto-links: false;">
$ hg ci -m &quot;my local changes&quot; #same as 'hg commit'
$ hg pull #this brings the latest version of the repo, but doesn't change the state of your files.
$ hg merge #when you're ready, you merge the changes
$ hg ci -m &quot;merging latest changes from repository&quot;
$ hg push
pushing to https://user@server.com/company/project
searching for changes
http authorization required
realm: Bitbucket.org HTTP
user: gubatron
password: 
adding changesets
adding manifests
adding file changes
added 2 changesets with 1 changes to 1 files
bb/acl: gubatron is allowed. accepted payload.
</pre>
<p>So, yes, its a little more work to merge and commit, but remember that you&#8217;re working now on a distributed fashion and you have to think a little bit differently, you gotta merge locally, fix any conflicts if they arise, commit the changes and push them. In exchange you don&#8217;t get to deal with lots of .svn folders, no single point of failure (one remote repo that could go down and leave all developers without version control until it&#8217;s back up), and super easy branching on a single folder, no need to checkout branches and be writing down revision numbers.</p>
<p>Just remember that pulls don&#8217;t change your local changes unless you explicitly ask to do so by invoking <strong>hg merge; hg commit</strong>, which would be the equivalent (at least I see it like this) to <strong>svn up</strong></p>


<center><div style="font-size:16px;margin:0 auto;width:300px" class="blockchain-btn"
     data-address="1JN3tP7XR5xTPA4nZc1BHwGWhTWaYJ7evi"
     data-shared="false">
    <div class="blockchain stage-begin">
        <img src="https://blockchain.info//Resources/buttons/donate_64.png"/>
    </div>
    <div class="blockchain stage-loading" style="text-align:center">
        <img src="https://blockchain.info//Resources/loading-large.gif"/>
    </div>
    <div class="blockchain stage-ready">
         <p align="center">Please Donate To Bitcoin Address: <b>[[address]]</b></p>
         <p align="center" class="qr-code"></p>
    </div>
    <div class="blockchain stage-paid">
         Donation of <b>[[value]] BTC</b> Received. Thank You.
    </div>
    <div class="blockchain stage-error">
        <font color="red">[[error]]</font>
    </div>
</div></center>

<center>
<div class="navigation" >
			<div class="alignleft">&laquo; <a href="http://www.gubatron.com/blog/2010/10/29/ubuntu-wicd-network-manager-connection-failed-bad-password-issue-solved/" rel="prev">Ubuntu: WiCD Network Manager &#8220;Connection Failed: Bad Password&#8221; [SOLVED]</a></div>
			<div class="alignright"><a href="http://www.gubatron.com/blog/2010/11/21/water-as-a-medium-of-intercontinental-data-transfer/" rel="next">Discussion: Water as a medium of Intercontinental High Speeds Data Transfer</a> &raquo;</div>
<br clear="all/><br clear="all"/>
		</div>

<script type="text/javascript"><!--
google_ad_client = "pub-4974286288685153";
/* gubatron 336x280, created 11/9/09 */
google_ad_slot = "2359188765";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>

				
				<p class="postmetadata alt">
					<small>
						This entry was posted
						 
						on Sunday, November 14th, 2010 at 4:54 am						and is filed under <a href="http://www.gubatron.com/blog/category/code/" title="View all posts in Code" rel="category tag">Code</a>.
						You can follow any responses to this entry through the <a href='http://www.gubatron.com/blog/2010/11/14/mercurial-for-subversion-expats-merging-remote-changes-abort-push-creates-new-remote-heads/feed/'>RSS 2.0</a> feed. 

													You can <a href="#respond">leave a response</a>, or <a href="http://www.gubatron.com/blog/2010/11/14/mercurial-for-subversion-expats-merging-remote-changes-abort-push-creates-new-remote-heads/trackback/" rel="trackback">trackback</a> from your own site.

						
					</small>
				</p>

			</div>
		</div>


	
<!-- You can start editing here. -->

	<h3 id="comments">4 Responses to &#8220;Mercurial for Subversion Expats: Merging remote changes. &#8220;abort: push creates new remote heads!&#8221;&#8221;</h3> 

	<ol class="commentlist">

	
		<li class="alt" id="comment-946">
			<cite>asdf</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-946" title="">November 14th, 2010 at 4:26 pm</a> </small>

			<p>Just use &#8220;hg fetch&#8221; to automate away the pull/merge/commit sequence</p>

		</li>

	
	
		<li class="" id="comment-947">
			<cite><a href='http://www.gubatron.com' rel='external nofollow' class='url'>gubatron</a></cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-947" title="">November 21st, 2010 at 11:18 am</a> </small>

			<p>[bash]<br />
gubatrons-macbook-pro-2:$ hg fetch<br />
hg: unknown command &#8216;fetch&#8217;<br />
[/bash]</p>
<p>I suppose it must be some extension.<br />
I had already implemented a command of my own to automate the sequence. Thanks!</p>

		</li>

	
	
		<li class="alt" id="comment-948">
			<cite><a href='http://www.gubatron.com' rel='external nofollow' class='url'>gubatron</a></cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-948" title="">November 21st, 2010 at 1:06 pm</a> </small>

			<p>Ok, &#8220;hg fetch&#8221; is indeed an extension, and it&#8217;s just an alias for &#8220;hg pull -u&#8221;</p>
<p>You enable it by adding the following in the [extensions] section of your .hgrc file</p>
<p>[bash]<br />
[extensions]<br />
hgext.fetch=<br />
[/bash]</p>
<p><a href="http://mercurial.selenic.com/wiki/FetchExtension" rel="nofollow">http://mercurial.selenic.com/wiki/FetchExtension</a></p>

		</li>

	
	
		<li class="" id="comment-949">
			<cite>robinsonc494</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-949" title="">December 1st, 2010 at 5:38 am</a> </small>

			<p>Nothing related to this post but I followed a link from stackoverflow.com on what I believe was your profile.<br />
I&#8217;m the user you replied to on the WordPress nosql fork. I&#8217;m pasting below what I said over there in the hopes that you&#8217;re notified.<br />
I couldn&#8217;t find a link to contact u, I&#8217;m using my mobile so I may have missed it.</p>
<p>Ive only been poking around at the source code. with no interest from anyone to help I was going to leave most of it until next summer when I have more time to do it on my own but certainly if I&#8217;m getting any help then I&#8217;d be willing to kick up the pace right away. I&#8217;m also very familiar with Apache cassandra,writing a book on it in fact. So if you&#8217;re team has no ties to mongodb then even better. Although I should be able to easily learn the ons and outs of mongodb. Please let me know if this can go on, I&#8217;d be very interested in being a part of it.</p>
<p>I&#8217;ve included my correct email above. Drop me a line.</p>

		</li>

	
	
	</ol>

 


<h3 id="respond">Leave a Reply</h3>


<form action="http://www.gubatron.com/blog/wp-comments-post.php" method="post" id="commentform">


<p><input type="text" name="author" id="author" value="" size="22" tabindex="1" />
<label for="author"><small>Name (required)</small></label></p>

<p><input type="text" name="email" id="email" value="" size="22" tabindex="2" />
<label for="email"><small>Mail (will not be published) (required)</small></label></p>

<p><input type="text" name="url" id="url" value="" size="22" tabindex="3" />
<label for="url"><small>Website</small></label></p>


<!--<p><small><strong>XHTML:</strong> You can use these tags: &lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </small></p>-->

<p><textarea name="comment" id="comment" cols="100%" rows="10" tabindex="4"></textarea></p>

<p><input name="submit" type="submit" id="submit" tabindex="5" value="Submit Comment" />
<input type="hidden" name="comment_post_ID" value="2087" />
</p>
<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="e64da1ba57" /></p><script type='text/javascript' src='http://www.gubatron.com/blog/wp-includes/js/jquery/jquery.js?ver=1.11.0'></script>
<script type='text/javascript' src='http://www.gubatron.com/blog/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://www.gubatron.com/blog/wp-content/plugins/akismet/_inc/form.js?ver=3.0.0'></script>
<p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="184"/></p>
</form>



	
	</div>



<hr />
<div id="footer">
<!-- If you'd like to support WordPress, having the "powered by" link someone on your blog is the best way, it's our only promotion or advertising. -->
	<p>
	Follow me at <a href="http://twitter.com/gubatron">http://twitter.com/gubatron</a>
	</p>
</div>
</div>

<!-- Gorgeous design by Michael Heilemann - http://binarybonsai.com/kubrick/ -->

		<script type="text/javascript" src="http://www.gubatron.com/blog/wp-content/plugins/syntax-highlighter/3.0.83/js/shCore.js?ver=3.0.83"></script>
<script type="text/javascript" src="http://www.gubatron.com/blog/wp-content/plugins/syntax-highlighter/3.0.83/js/shBrushBash.js?ver=3.0.83"></script>
<script type="text/javascript">//<![CDATA[
SyntaxHighlighter.all();
//]]></script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-264950-3");
pageTracker._trackPageview();
} catch(err) {}</script>
</body>
</html>
